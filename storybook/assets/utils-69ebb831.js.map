{"version":3,"file":"utils-69ebb831.js","sources":["../../node_modules/.pnpm/proxy-compare@2.5.1/node_modules/proxy-compare/dist/index.modern.js","../../node_modules/.pnpm/valtio@1.11.2_@types+react@18.2.20_react@18.2.0/node_modules/valtio/esm/vanilla.mjs","../../node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../../node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/shim/index.js","../../node_modules/.pnpm/valtio@1.11.2_@types+react@18.2.20_react@18.2.0/node_modules/valtio/esm/react.mjs","../../src/standaloneUtils.ts","../../node_modules/.pnpm/ua-parser-js@1.0.37/node_modules/ua-parser-js/src/ua-parser.js","../../node_modules/.pnpm/valtio@1.11.2_@types+react@18.2.20_react@18.2.0/node_modules/valtio/esm/vanilla/utils.mjs","../../src/optionsStorage.ts","../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js","../../src/basicSounds.ts","../../src/react/Button.tsx","../../src/react/Screen.tsx","../../src/react/AppStatusProvider.tsx","../../src/react/NotificationProvider.tsx","../../src/utils.ts","../../src/globalState.ts","../../src/react/utils.ts"],"sourcesContent":["const e=Symbol(),t=Symbol(),r=\"a\",n=\"w\";let o=(e,t)=>new Proxy(e,t);const s=Object.getPrototypeOf,c=new WeakMap,l=e=>e&&(c.has(e)?c.get(e):s(e)===Object.prototype||s(e)===Array.prototype),f=e=>\"object\"==typeof e&&null!==e,i=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(e=>{e.configurable=!0}),Object.create(s(e),t)},u=e=>e[t]||e,a=(s,c,f,p)=>{if(!l(s))return s;let g=p&&p.get(s);if(!g){const e=u(s);g=(e=>Object.values(Object.getOwnPropertyDescriptors(e)).some(e=>!e.configurable&&!e.writable))(e)?[e,i(e)]:[e],null==p||p.set(s,g)}const[y,h]=g;let w=f&&f.get(y);return w&&w[1].f===!!h||(w=((o,s)=>{const c={f:s};let l=!1;const f=(e,t)=>{if(!l){let s=c[r].get(o);if(s||(s={},c[r].set(o,s)),e===n)s[n]=!0;else{let r=s[e];r||(r=new Set,s[e]=r),r.add(t)}}},i={get:(e,n)=>n===t?o:(f(\"k\",n),a(Reflect.get(e,n),c[r],c.c,c.t)),has:(t,n)=>n===e?(l=!0,c[r].delete(o),!0):(f(\"h\",n),Reflect.has(t,n)),getOwnPropertyDescriptor:(e,t)=>(f(\"o\",t),Reflect.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(f(n),Reflect.ownKeys(e))};return s&&(i.set=i.deleteProperty=()=>!1),[i,c]})(y,!!h),w[1].p=o(h||y,w[0]),f&&f.set(y,w)),w[1][r]=c,w[1].c=f,w[1].t=p,w[1].p},p=(e,t,r,o)=>{if(Object.is(e,t))return!1;if(!f(e)||!f(t))return!0;const s=r.get(u(e));if(!s)return!0;if(o){const r=o.get(e);if(r&&r.n===t)return r.g;o.set(e,{n:t,g:!1})}let c=null;try{for(const r of s.h||[])if(c=Reflect.has(e,r)!==Reflect.has(t,r),c)return c;if(!0===s[n]){if(c=((e,t)=>{const r=Reflect.ownKeys(e),n=Reflect.ownKeys(t);return r.length!==n.length||r.some((e,t)=>e!==n[t])})(e,t),c)return c}else for(const r of s.o||[])if(c=!!Reflect.getOwnPropertyDescriptor(e,r)!=!!Reflect.getOwnPropertyDescriptor(t,r),c)return c;for(const n of s.k||[])if(c=p(e[n],t[n],r,o),c)return c;return null===c&&(c=!0),c}finally{o&&o.set(e,{n:t,g:c})}},g=t=>!!l(t)&&e in t,y=e=>l(e)&&e[t]||null,h=(e,t=!0)=>{c.set(e,t)},w=(e,t,r)=>{const o=[],s=new WeakSet,c=(e,l)=>{if(s.has(e))return;f(e)&&s.add(e);const i=f(e)&&t.get(u(e));if(i){var a,p;if(null==(a=i.h)||a.forEach(e=>{const t=`:has(${String(e)})`;o.push(l?[...l,t]:[t])}),!0===i[n]){const e=\":ownKeys\";o.push(l?[...l,e]:[e])}else{var g;null==(g=i.o)||g.forEach(e=>{const t=`:hasOwn(${String(e)})`;o.push(l?[...l,t]:[t])})}null==(p=i.k)||p.forEach(t=>{r&&!(\"value\"in(Object.getOwnPropertyDescriptor(e,t)||{}))||c(e[t],l?[...l,t]:[t])})}else l&&o.push(l)};return c(e),o},O=e=>{o=e};export{w as affectedToPathList,a as createProxy,y as getUntracked,p as isChanged,h as markToTrack,O as replaceNewProxy,g as trackMemo};\n//# sourceMappingURL=index.modern.mjs.map\n","import { markToTrack, getUntracked } from 'proxy-compare';\n\nconst isObject = (x) => typeof x === \"object\" && x !== null;\nconst proxyStateMap = /* @__PURE__ */ new WeakMap();\nconst refSet = /* @__PURE__ */ new WeakSet();\nconst buildProxyFunction = (objectIs = Object.is, newProxy = (target, handler) => new Proxy(target, handler), canProxy = (x) => isObject(x) && !refSet.has(x) && (Array.isArray(x) || !(Symbol.iterator in x)) && !(x instanceof WeakMap) && !(x instanceof WeakSet) && !(x instanceof Error) && !(x instanceof Number) && !(x instanceof Date) && !(x instanceof String) && !(x instanceof RegExp) && !(x instanceof ArrayBuffer), defaultHandlePromise = (promise) => {\n  switch (promise.status) {\n    case \"fulfilled\":\n      return promise.value;\n    case \"rejected\":\n      throw promise.reason;\n    default:\n      throw promise;\n  }\n}, snapCache = /* @__PURE__ */ new WeakMap(), createSnapshot = (target, version, handlePromise = defaultHandlePromise) => {\n  const cache = snapCache.get(target);\n  if ((cache == null ? void 0 : cache[0]) === version) {\n    return cache[1];\n  }\n  const snap = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target));\n  markToTrack(snap, true);\n  snapCache.set(target, [version, snap]);\n  Reflect.ownKeys(target).forEach((key) => {\n    if (Object.getOwnPropertyDescriptor(snap, key)) {\n      return;\n    }\n    const value = Reflect.get(target, key);\n    const desc = {\n      value,\n      enumerable: true,\n      // This is intentional to avoid copying with proxy-compare.\n      // It's still non-writable, so it avoids assigning a value.\n      configurable: true\n    };\n    if (refSet.has(value)) {\n      markToTrack(value, false);\n    } else if (value instanceof Promise) {\n      delete desc.value;\n      desc.get = () => handlePromise(value);\n    } else if (proxyStateMap.has(value)) {\n      const [target2, ensureVersion] = proxyStateMap.get(\n        value\n      );\n      desc.value = createSnapshot(\n        target2,\n        ensureVersion(),\n        handlePromise\n      );\n    }\n    Object.defineProperty(snap, key, desc);\n  });\n  return Object.preventExtensions(snap);\n}, proxyCache = /* @__PURE__ */ new WeakMap(), versionHolder = [1, 1], proxyFunction = (initialObject) => {\n  if (!isObject(initialObject)) {\n    throw new Error(\"object required\");\n  }\n  const found = proxyCache.get(initialObject);\n  if (found) {\n    return found;\n  }\n  let version = versionHolder[0];\n  const listeners = /* @__PURE__ */ new Set();\n  const notifyUpdate = (op, nextVersion = ++versionHolder[0]) => {\n    if (version !== nextVersion) {\n      version = nextVersion;\n      listeners.forEach((listener) => listener(op, nextVersion));\n    }\n  };\n  let checkVersion = versionHolder[1];\n  const ensureVersion = (nextCheckVersion = ++versionHolder[1]) => {\n    if (checkVersion !== nextCheckVersion && !listeners.size) {\n      checkVersion = nextCheckVersion;\n      propProxyStates.forEach(([propProxyState]) => {\n        const propVersion = propProxyState[1](nextCheckVersion);\n        if (propVersion > version) {\n          version = propVersion;\n        }\n      });\n    }\n    return version;\n  };\n  const createPropListener = (prop) => (op, nextVersion) => {\n    const newOp = [...op];\n    newOp[1] = [prop, ...newOp[1]];\n    notifyUpdate(newOp, nextVersion);\n  };\n  const propProxyStates = /* @__PURE__ */ new Map();\n  const addPropListener = (prop, propProxyState) => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && propProxyStates.has(prop)) {\n      throw new Error(\"prop listener already exists\");\n    }\n    if (listeners.size) {\n      const remove = propProxyState[3](createPropListener(prop));\n      propProxyStates.set(prop, [propProxyState, remove]);\n    } else {\n      propProxyStates.set(prop, [propProxyState]);\n    }\n  };\n  const removePropListener = (prop) => {\n    var _a;\n    const entry = propProxyStates.get(prop);\n    if (entry) {\n      propProxyStates.delete(prop);\n      (_a = entry[1]) == null ? void 0 : _a.call(entry);\n    }\n  };\n  const addListener = (listener) => {\n    listeners.add(listener);\n    if (listeners.size === 1) {\n      propProxyStates.forEach(([propProxyState, prevRemove], prop) => {\n        if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && prevRemove) {\n          throw new Error(\"remove already exists\");\n        }\n        const remove = propProxyState[3](createPropListener(prop));\n        propProxyStates.set(prop, [propProxyState, remove]);\n      });\n    }\n    const removeListener = () => {\n      listeners.delete(listener);\n      if (listeners.size === 0) {\n        propProxyStates.forEach(([propProxyState, remove], prop) => {\n          if (remove) {\n            remove();\n            propProxyStates.set(prop, [propProxyState]);\n          }\n        });\n      }\n    };\n    return removeListener;\n  };\n  const baseObject = Array.isArray(initialObject) ? [] : Object.create(Object.getPrototypeOf(initialObject));\n  const handler = {\n    deleteProperty(target, prop) {\n      const prevValue = Reflect.get(target, prop);\n      removePropListener(prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n      if (deleted) {\n        notifyUpdate([\"delete\", [prop], prevValue]);\n      }\n      return deleted;\n    },\n    set(target, prop, value, receiver) {\n      const hasPrevValue = Reflect.has(target, prop);\n      const prevValue = Reflect.get(target, prop, receiver);\n      if (hasPrevValue && (objectIs(prevValue, value) || proxyCache.has(value) && objectIs(prevValue, proxyCache.get(value)))) {\n        return true;\n      }\n      removePropListener(prop);\n      if (isObject(value)) {\n        value = getUntracked(value) || value;\n      }\n      let nextValue = value;\n      if (value instanceof Promise) {\n        value.then((v) => {\n          value.status = \"fulfilled\";\n          value.value = v;\n          notifyUpdate([\"resolve\", [prop], v]);\n        }).catch((e) => {\n          value.status = \"rejected\";\n          value.reason = e;\n          notifyUpdate([\"reject\", [prop], e]);\n        });\n      } else {\n        if (!proxyStateMap.has(value) && canProxy(value)) {\n          nextValue = proxyFunction(value);\n        }\n        const childProxyState = !refSet.has(nextValue) && proxyStateMap.get(nextValue);\n        if (childProxyState) {\n          addPropListener(prop, childProxyState);\n        }\n      }\n      Reflect.set(target, prop, nextValue, receiver);\n      notifyUpdate([\"set\", [prop], value, prevValue]);\n      return true;\n    }\n  };\n  const proxyObject = newProxy(baseObject, handler);\n  proxyCache.set(initialObject, proxyObject);\n  const proxyState = [\n    baseObject,\n    ensureVersion,\n    createSnapshot,\n    addListener\n  ];\n  proxyStateMap.set(proxyObject, proxyState);\n  Reflect.ownKeys(initialObject).forEach((key) => {\n    const desc = Object.getOwnPropertyDescriptor(\n      initialObject,\n      key\n    );\n    if (\"value\" in desc) {\n      proxyObject[key] = initialObject[key];\n      delete desc.value;\n      delete desc.writable;\n    }\n    Object.defineProperty(baseObject, key, desc);\n  });\n  return proxyObject;\n}) => [\n  // public functions\n  proxyFunction,\n  // shared state\n  proxyStateMap,\n  refSet,\n  // internal things\n  objectIs,\n  newProxy,\n  canProxy,\n  defaultHandlePromise,\n  snapCache,\n  createSnapshot,\n  proxyCache,\n  versionHolder\n];\nconst [defaultProxyFunction] = buildProxyFunction();\nfunction proxy(initialObject = {}) {\n  return defaultProxyFunction(initialObject);\n}\nfunction getVersion(proxyObject) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  return proxyState == null ? void 0 : proxyState[1]();\n}\nfunction subscribe(proxyObject, callback, notifyInSync) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  let promise;\n  const ops = [];\n  const addListener = proxyState[3];\n  let isListenerActive = false;\n  const listener = (op) => {\n    ops.push(op);\n    if (notifyInSync) {\n      callback(ops.splice(0));\n      return;\n    }\n    if (!promise) {\n      promise = Promise.resolve().then(() => {\n        promise = void 0;\n        if (isListenerActive) {\n          callback(ops.splice(0));\n        }\n      });\n    }\n  };\n  const removeListener = addListener(listener);\n  isListenerActive = true;\n  return () => {\n    isListenerActive = false;\n    removeListener();\n  };\n}\nfunction snapshot(proxyObject, handlePromise) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  const [target, ensureVersion, createSnapshot] = proxyState;\n  return createSnapshot(target, ensureVersion(), handlePromise);\n}\nfunction ref(obj) {\n  refSet.add(obj);\n  return obj;\n}\nconst unstable_buildProxyFunction = buildProxyFunction;\n\nexport { getVersion, proxy, ref, snapshot, subscribe, unstable_buildProxyFunction };\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","import ReactExports, { useRef, useCallback, useEffect, useMemo, useDebugValue } from 'react';\nimport { isChanged, createProxy, affectedToPathList } from 'proxy-compare';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/index.js';\nimport { subscribe, snapshot } from 'valtio/vanilla';\n\nconst { use } = ReactExports;\nconst { useSyncExternalStore } = useSyncExternalStoreExports;\nconst useAffectedDebugValue = (state, affected) => {\n  const pathList = useRef();\n  useEffect(() => {\n    pathList.current = affectedToPathList(state, affected, true);\n  });\n  useDebugValue(pathList.current);\n};\nconst targetCache = /* @__PURE__ */ new WeakMap();\nfunction useSnapshot(proxyObject, options) {\n  const notifyInSync = options == null ? void 0 : options.sync;\n  const lastSnapshot = useRef();\n  const lastAffected = useRef();\n  let inRender = true;\n  const currSnapshot = useSyncExternalStore(\n    useCallback(\n      (callback) => {\n        const unsub = subscribe(proxyObject, callback, notifyInSync);\n        callback();\n        return unsub;\n      },\n      [proxyObject, notifyInSync]\n    ),\n    () => {\n      const nextSnapshot = snapshot(proxyObject, use);\n      try {\n        if (!inRender && lastSnapshot.current && lastAffected.current && !isChanged(\n          lastSnapshot.current,\n          nextSnapshot,\n          lastAffected.current,\n          /* @__PURE__ */ new WeakMap()\n        )) {\n          return lastSnapshot.current;\n        }\n      } catch (e) {\n      }\n      return nextSnapshot;\n    },\n    () => snapshot(proxyObject, use)\n  );\n  inRender = false;\n  const currAffected = /* @__PURE__ */ new WeakMap();\n  useEffect(() => {\n    lastSnapshot.current = currSnapshot;\n    lastAffected.current = currAffected;\n  });\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    useAffectedDebugValue(currSnapshot, currAffected);\n  }\n  const proxyCache = useMemo(() => /* @__PURE__ */ new WeakMap(), []);\n  return createProxy(\n    currSnapshot,\n    currAffected,\n    proxyCache,\n    targetCache\n  );\n}\n\nexport { useSnapshot };\n","export const isCypress = () => {\n  return localStorage.cypress === 'true'\n}\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.37\n   Copyright Â© 2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.37',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 500;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK    = 'Facebook',\n        CHROMIUM_OS = 'Chromium OS',\n        MAC_OS  = 'Mac OS';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\/ ]?([\\w\\.]+)/i            // Baidu\n            ], [VERSION, [NAME, 'Baidu']], [\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant|iemobile|slim)\\s?(?:browser)?[\\/ ]?([\\w\\.]*)/i,             // Avant/IEMobile/SlimBrowser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(heytap|ovi)browser\\/([\\d\\.]+)/i,                                  // Heytap/Ovi\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i,\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /slbrowser\\/([\\w\\.]+)/i                                             // Smart Lenovo Browser\n            ], [VERSION, [NAME, 'Smart Lenovo '+BROWSER]], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 ' + BROWSER]], [\n            /(oculus|sailfish|huawei|vivo)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 ' + BROWSER], VERSION], [                    // Oculus/Sailfish/HuaweiBrowser/VivoBrowser\n            /samsungbrowser\\/([\\w\\.]+)/i                                        // Samsung Internet\n            ], [VERSION, [NAME, SAMSUNG + ' Internet']], [\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /metasr[\\/ ]?([\\d\\.]+)/i                                            // Sogou Explorer\n            ], [VERSION, [NAME, 'Sogou Explorer']], [\n            /(sogou)mo\\w+\\/([\\d\\.]+)/i                                          // Sogou Mobile\n            ], [[NAME, 'Sogou Mobile'], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|2345Explorer)[\\/ ]?([\\w\\.]+)/i                        // QQBrowser/2345 Browser\n            ], [NAME, VERSION], [\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /(Klarna)\\/([\\w\\.]+)/i,                                             // Klarna Shopping Browser for iOS & Android\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(alipay)client\\/([\\w\\.]+)/i,                                       // Alipay\n            /(chromium|instagram|snapchat)[\\/ ]([-\\w\\.]+)/i                     // Chromium/Instagram/Snapchat\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i,                                             // Links\n            /panasonic;(viera)/i                                                // Panasonic Viera\n            ], [NAME, VERSION], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,                  // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /oid[^\\)]+; (m?[12][0-389][01]\\w{3,6}[c-y])( bui|; wv|\\))/i,        // Xiaomi Redmi 'numeric' models\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /oid[^\\)]+; (2\\d{4}(283|rpbf)[cgl])( bui|\\))/i,                     // Redmi Pad\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[1-3]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,                             // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n                \n            // Ulefone\n            /; ((?:power )?armor(?:[\\w ]{0,8}))(?: bui|\\))/i\n            ], [MODEL, [VENDOR, 'Ulefone'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w+)( bui|\\))/i                                         // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( 2| pro)?)/i                                                // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|; wv\\)|\\) applew).+? mobile safari/i    // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i             // Windows Phone\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /windows nt 6\\.2; (arm)/i,                                        // Windows RT\n            /windows[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i,\n            /(?:win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[VERSION, strMapper, windowsVersionMap], [NAME, 'Windows']], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, CHROMIUM_OS], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;\n        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);\n        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n        var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser[MAJOR] = majorize(_browser[VERSION]);\n            // Brave-specific detection\n            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n                _browser[NAME] = 'Brave';\n            }\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n                _device[TYPE] = MOBILE;\n            }\n            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n                _device[MODEL] = 'iPad';\n                _device[TYPE] = TABLET;\n            }\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform != 'Unknown') {\n                _os[NAME] = _uach.platform  \n                                    .replace(/chrome os/i, CHROMIUM_OS)\n                                    .replace(/macos/i, MAC_OS);           // backward compatibility\n            }\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","import { subscribe, snapshot, proxy, getVersion, ref, unstable_buildProxyFunction } from 'valtio/vanilla';\n\nfunction subscribeKey(proxyObject, key, callback, notifyInSync) {\n  let prevValue = proxyObject[key];\n  return subscribe(\n    proxyObject,\n    () => {\n      const nextValue = proxyObject[key];\n      if (!Object.is(prevValue, nextValue)) {\n        callback(prevValue = nextValue);\n      }\n    },\n    notifyInSync\n  );\n}\n\nlet currentCleanups;\nfunction watch(callback, options) {\n  let alive = true;\n  const cleanups = /* @__PURE__ */ new Set();\n  const subscriptions = /* @__PURE__ */ new Map();\n  const cleanup = () => {\n    if (alive) {\n      alive = false;\n      cleanups.forEach((clean) => clean());\n      cleanups.clear();\n      subscriptions.forEach((unsubscribe) => unsubscribe());\n      subscriptions.clear();\n    }\n  };\n  const revalidate = () => {\n    if (!alive) {\n      return;\n    }\n    cleanups.forEach((clean) => clean());\n    cleanups.clear();\n    const proxiesToSubscribe = /* @__PURE__ */ new Set();\n    const parent = currentCleanups;\n    currentCleanups = cleanups;\n    try {\n      const cleanupReturn = callback((proxyObject) => {\n        proxiesToSubscribe.add(proxyObject);\n        return proxyObject;\n      });\n      if (cleanupReturn) {\n        cleanups.add(cleanupReturn);\n      }\n    } finally {\n      currentCleanups = parent;\n    }\n    subscriptions.forEach((unsubscribe, proxyObject) => {\n      if (proxiesToSubscribe.has(proxyObject)) {\n        proxiesToSubscribe.delete(proxyObject);\n      } else {\n        subscriptions.delete(proxyObject);\n        unsubscribe();\n      }\n    });\n    proxiesToSubscribe.forEach((proxyObject) => {\n      const unsubscribe = subscribe(proxyObject, revalidate, options == null ? void 0 : options.sync);\n      subscriptions.set(proxyObject, unsubscribe);\n    });\n  };\n  if (currentCleanups) {\n    currentCleanups.add(cleanup);\n  }\n  revalidate();\n  return cleanup;\n}\n\nconst DEVTOOLS = Symbol();\nfunction devtools(proxyObject, options) {\n  if (typeof options === \"string\") {\n    console.warn(\n      \"string name option is deprecated, use { name }. https://github.com/pmndrs/valtio/pull/400\"\n    );\n    options = { name: options };\n  }\n  const { enabled, name = \"\", ...rest } = options || {};\n  let extension;\n  try {\n    extension = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch {\n  }\n  if (!extension) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\"[Warning] Please install/enable Redux devtools extension\");\n    }\n    return;\n  }\n  let isTimeTraveling = false;\n  const devtools2 = extension.connect({ name, ...rest });\n  const unsub1 = subscribe(proxyObject, (ops) => {\n    const action = ops.filter(([_, path]) => path[0] !== DEVTOOLS).map(([op, path]) => `${op}:${path.map(String).join(\".\")}`).join(\", \");\n    if (!action) {\n      return;\n    }\n    if (isTimeTraveling) {\n      isTimeTraveling = false;\n    } else {\n      const snapWithoutDevtools = Object.assign({}, snapshot(proxyObject));\n      delete snapWithoutDevtools[DEVTOOLS];\n      devtools2.send(\n        {\n          type: action,\n          updatedAt: (/* @__PURE__ */ new Date()).toLocaleString()\n        },\n        snapWithoutDevtools\n      );\n    }\n  });\n  const unsub2 = devtools2.subscribe((message) => {\n    var _a, _b, _c, _d, _e, _f;\n    if (message.type === \"ACTION\" && message.payload) {\n      try {\n        Object.assign(proxyObject, JSON.parse(message.payload));\n      } catch (e) {\n        console.error(\n          \"please dispatch a serializable value that JSON.parse() and proxy() support\\n\",\n          e\n        );\n      }\n    }\n    if (message.type === \"DISPATCH\" && message.state) {\n      if (((_a = message.payload) == null ? void 0 : _a.type) === \"JUMP_TO_ACTION\" || ((_b = message.payload) == null ? void 0 : _b.type) === \"JUMP_TO_STATE\") {\n        isTimeTraveling = true;\n        const state = JSON.parse(message.state);\n        Object.assign(proxyObject, state);\n      }\n      proxyObject[DEVTOOLS] = message;\n    } else if (message.type === \"DISPATCH\" && ((_c = message.payload) == null ? void 0 : _c.type) === \"COMMIT\") {\n      devtools2.init(snapshot(proxyObject));\n    } else if (message.type === \"DISPATCH\" && ((_d = message.payload) == null ? void 0 : _d.type) === \"IMPORT_STATE\") {\n      const actions = (_e = message.payload.nextLiftedState) == null ? void 0 : _e.actionsById;\n      const computedStates = ((_f = message.payload.nextLiftedState) == null ? void 0 : _f.computedStates) || [];\n      isTimeTraveling = true;\n      computedStates.forEach(({ state }, index) => {\n        const action = actions[index] || \"No action found\";\n        Object.assign(proxyObject, state);\n        if (index === 0) {\n          devtools2.init(snapshot(proxyObject));\n        } else {\n          devtools2.send(action, snapshot(proxyObject));\n        }\n      });\n    }\n  });\n  devtools2.init(snapshot(proxyObject));\n  return () => {\n    unsub1();\n    unsub2 == null ? void 0 : unsub2();\n  };\n}\n\nconst sourceObjectMap = /* @__PURE__ */ new WeakMap();\nconst derivedObjectMap = /* @__PURE__ */ new WeakMap();\nconst markPending = (sourceObject, callback) => {\n  const sourceObjectEntry = sourceObjectMap.get(sourceObject);\n  if (sourceObjectEntry) {\n    sourceObjectEntry[0].forEach((subscription) => {\n      const { d: derivedObject } = subscription;\n      if (sourceObject !== derivedObject) {\n        markPending(derivedObject);\n      }\n    });\n    ++sourceObjectEntry[2];\n    if (callback) {\n      sourceObjectEntry[3].add(callback);\n    }\n  }\n};\nconst checkPending = (sourceObject, callback) => {\n  const sourceObjectEntry = sourceObjectMap.get(sourceObject);\n  if (sourceObjectEntry == null ? void 0 : sourceObjectEntry[2]) {\n    sourceObjectEntry[3].add(callback);\n    return true;\n  }\n  return false;\n};\nconst unmarkPending = (sourceObject) => {\n  const sourceObjectEntry = sourceObjectMap.get(sourceObject);\n  if (sourceObjectEntry) {\n    --sourceObjectEntry[2];\n    if (!sourceObjectEntry[2]) {\n      sourceObjectEntry[3].forEach((callback) => callback());\n      sourceObjectEntry[3].clear();\n    }\n    sourceObjectEntry[0].forEach((subscription) => {\n      const { d: derivedObject } = subscription;\n      if (sourceObject !== derivedObject) {\n        unmarkPending(derivedObject);\n      }\n    });\n  }\n};\nconst addSubscription = (subscription) => {\n  const { s: sourceObject, d: derivedObject } = subscription;\n  let derivedObjectEntry = derivedObjectMap.get(derivedObject);\n  if (!derivedObjectEntry) {\n    derivedObjectEntry = [/* @__PURE__ */ new Set()];\n    derivedObjectMap.set(subscription.d, derivedObjectEntry);\n  }\n  derivedObjectEntry[0].add(subscription);\n  let sourceObjectEntry = sourceObjectMap.get(sourceObject);\n  if (!sourceObjectEntry) {\n    const subscriptions = /* @__PURE__ */ new Set();\n    const unsubscribe = subscribe(\n      sourceObject,\n      (ops) => {\n        subscriptions.forEach((subscription2) => {\n          const {\n            d: derivedObject2,\n            c: callback,\n            n: notifyInSync,\n            i: ignoreKeys\n          } = subscription2;\n          if (sourceObject === derivedObject2 && ops.every(\n            (op) => op[1].length === 1 && ignoreKeys.includes(op[1][0])\n          )) {\n            return;\n          }\n          if (subscription2.p) {\n            return;\n          }\n          markPending(sourceObject, callback);\n          if (notifyInSync) {\n            unmarkPending(sourceObject);\n          } else {\n            subscription2.p = Promise.resolve().then(() => {\n              delete subscription2.p;\n              unmarkPending(sourceObject);\n            });\n          }\n        });\n      },\n      true\n    );\n    sourceObjectEntry = [subscriptions, unsubscribe, 0, /* @__PURE__ */ new Set()];\n    sourceObjectMap.set(sourceObject, sourceObjectEntry);\n  }\n  sourceObjectEntry[0].add(subscription);\n};\nconst removeSubscription = (subscription) => {\n  const { s: sourceObject, d: derivedObject } = subscription;\n  const derivedObjectEntry = derivedObjectMap.get(derivedObject);\n  derivedObjectEntry == null ? void 0 : derivedObjectEntry[0].delete(subscription);\n  if ((derivedObjectEntry == null ? void 0 : derivedObjectEntry[0].size) === 0) {\n    derivedObjectMap.delete(derivedObject);\n  }\n  const sourceObjectEntry = sourceObjectMap.get(sourceObject);\n  if (sourceObjectEntry) {\n    const [subscriptions, unsubscribe] = sourceObjectEntry;\n    subscriptions.delete(subscription);\n    if (!subscriptions.size) {\n      unsubscribe();\n      sourceObjectMap.delete(sourceObject);\n    }\n  }\n};\nconst listSubscriptions = (derivedObject) => {\n  const derivedObjectEntry = derivedObjectMap.get(derivedObject);\n  if (derivedObjectEntry) {\n    return Array.from(derivedObjectEntry[0]);\n  }\n  return [];\n};\nconst unstable_deriveSubscriptions = {\n  add: addSubscription,\n  remove: removeSubscription,\n  list: listSubscriptions\n};\nfunction derive(derivedFns, options) {\n  const proxyObject = (options == null ? void 0 : options.proxy) || proxy({});\n  const notifyInSync = !!(options == null ? void 0 : options.sync);\n  const derivedKeys = Object.keys(derivedFns);\n  derivedKeys.forEach((key) => {\n    if (Object.getOwnPropertyDescriptor(proxyObject, key)) {\n      throw new Error(\"object property already defined\");\n    }\n    const fn = derivedFns[key];\n    let lastDependencies = null;\n    const evaluate = () => {\n      if (lastDependencies) {\n        if (Array.from(lastDependencies).map(([p]) => checkPending(p, evaluate)).some((isPending) => isPending)) {\n          return;\n        }\n        if (Array.from(lastDependencies).every(\n          ([p, entry]) => getVersion(p) === entry.v\n        )) {\n          return;\n        }\n      }\n      const dependencies = /* @__PURE__ */ new Map();\n      const get = (p) => {\n        dependencies.set(p, { v: getVersion(p) });\n        return p;\n      };\n      const value = fn(get);\n      const subscribeToDependencies = () => {\n        dependencies.forEach((entry, p) => {\n          var _a;\n          const lastSubscription = (_a = lastDependencies == null ? void 0 : lastDependencies.get(p)) == null ? void 0 : _a.s;\n          if (lastSubscription) {\n            entry.s = lastSubscription;\n          } else {\n            const subscription = {\n              s: p,\n              // sourceObject\n              d: proxyObject,\n              // derivedObject\n              k: key,\n              // derived key\n              c: evaluate,\n              // callback\n              n: notifyInSync,\n              i: derivedKeys\n              // ignoringKeys\n            };\n            addSubscription(subscription);\n            entry.s = subscription;\n          }\n        });\n        lastDependencies == null ? void 0 : lastDependencies.forEach((entry, p) => {\n          if (!dependencies.has(p) && entry.s) {\n            removeSubscription(entry.s);\n          }\n        });\n        lastDependencies = dependencies;\n      };\n      if (value instanceof Promise) {\n        value.finally(subscribeToDependencies);\n      } else {\n        subscribeToDependencies();\n      }\n      proxyObject[key] = value;\n    };\n    evaluate();\n  });\n  return proxyObject;\n}\nfunction underive(proxyObject, options) {\n  const keysToDelete = (options == null ? void 0 : options.delete) ? /* @__PURE__ */ new Set() : null;\n  listSubscriptions(proxyObject).forEach((subscription) => {\n    const { k: key } = subscription;\n    if (!(options == null ? void 0 : options.keys) || options.keys.includes(key)) {\n      removeSubscription(subscription);\n      if (keysToDelete) {\n        keysToDelete.add(key);\n      }\n    }\n  });\n  if (keysToDelete) {\n    keysToDelete.forEach((key) => {\n      delete proxyObject[key];\n    });\n  }\n}\n\nfunction addComputed_DEPRECATED(proxyObject, computedFns_FAKE, targetObject = proxyObject) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"addComputed is deprecated. Please consider using `derive`. Falling back to emulation with derive. https://github.com/pmndrs/valtio/pull/201\"\n    );\n  }\n  const derivedFns = {};\n  Object.keys(computedFns_FAKE).forEach((key) => {\n    derivedFns[key] = (get) => computedFns_FAKE[key](get(proxyObject));\n  });\n  return derive(derivedFns, { proxy: targetObject });\n}\n\nfunction proxyWithComputed_DEPRECATED(initialObject, computedFns) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      'proxyWithComputed is deprecated. Please follow \"Computed Properties\" guide in docs.'\n    );\n  }\n  Object.keys(computedFns).forEach((key) => {\n    if (Object.getOwnPropertyDescriptor(initialObject, key)) {\n      throw new Error(\"object property already defined\");\n    }\n    const computedFn = computedFns[key];\n    const { get, set } = typeof computedFn === \"function\" ? { get: computedFn } : computedFn;\n    const desc = {};\n    desc.get = () => get(snapshot(proxyObject));\n    if (set) {\n      desc.set = (newValue) => set(proxyObject, newValue);\n    }\n    Object.defineProperty(initialObject, key, desc);\n  });\n  const proxyObject = proxy(initialObject);\n  return proxyObject;\n}\n\nconst isObject = (x) => typeof x === \"object\" && x !== null;\nlet refSet;\nconst deepClone = (obj) => {\n  if (!refSet) {\n    refSet = unstable_buildProxyFunction()[2];\n  }\n  if (!isObject(obj) || refSet.has(obj)) {\n    return obj;\n  }\n  const baseObject = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n  Reflect.ownKeys(obj).forEach((key) => {\n    baseObject[key] = deepClone(obj[key]);\n  });\n  return baseObject;\n};\nfunction proxyWithHistory(initialValue, skipSubscribe = false) {\n  const proxyObject = proxy({\n    value: initialValue,\n    history: ref({\n      wip: void 0,\n      // to avoid infinite loop\n      snapshots: [],\n      index: -1\n    }),\n    clone: deepClone,\n    canUndo: () => proxyObject.history.index > 0,\n    undo: () => {\n      if (proxyObject.canUndo()) {\n        proxyObject.value = proxyObject.history.wip = proxyObject.clone(\n          proxyObject.history.snapshots[--proxyObject.history.index]\n        );\n      }\n    },\n    canRedo: () => proxyObject.history.index < proxyObject.history.snapshots.length - 1,\n    redo: () => {\n      if (proxyObject.canRedo()) {\n        proxyObject.value = proxyObject.history.wip = proxyObject.clone(\n          proxyObject.history.snapshots[++proxyObject.history.index]\n        );\n      }\n    },\n    saveHistory: () => {\n      proxyObject.history.snapshots.splice(proxyObject.history.index + 1);\n      proxyObject.history.snapshots.push(snapshot(proxyObject).value);\n      ++proxyObject.history.index;\n    },\n    subscribe: () => subscribe(proxyObject, (ops) => {\n      if (ops.every(\n        (op) => op[1][0] === \"value\" && (op[0] !== \"set\" || op[2] !== proxyObject.history.wip)\n      )) {\n        proxyObject.saveHistory();\n      }\n    })\n  });\n  proxyObject.saveHistory();\n  if (!skipSubscribe) {\n    proxyObject.subscribe();\n  }\n  return proxyObject;\n}\n\nfunction proxySet(initialValues) {\n  const set = proxy({\n    data: Array.from(new Set(initialValues)),\n    has(value) {\n      return this.data.indexOf(value) !== -1;\n    },\n    add(value) {\n      let hasProxy = false;\n      if (typeof value === \"object\" && value !== null) {\n        hasProxy = this.data.indexOf(proxy(value)) !== -1;\n      }\n      if (this.data.indexOf(value) === -1 && !hasProxy) {\n        this.data.push(value);\n      }\n      return this;\n    },\n    delete(value) {\n      const index = this.data.indexOf(value);\n      if (index === -1) {\n        return false;\n      }\n      this.data.splice(index, 1);\n      return true;\n    },\n    clear() {\n      this.data.splice(0);\n    },\n    get size() {\n      return this.data.length;\n    },\n    forEach(cb) {\n      this.data.forEach((value) => {\n        cb(value, value, this);\n      });\n    },\n    get [Symbol.toStringTag]() {\n      return \"Set\";\n    },\n    toJSON() {\n      return new Set(this.data);\n    },\n    [Symbol.iterator]() {\n      return this.data[Symbol.iterator]();\n    },\n    values() {\n      return this.data.values();\n    },\n    keys() {\n      return this.data.values();\n    },\n    entries() {\n      return new Set(this.data).entries();\n    }\n  });\n  Object.defineProperties(set, {\n    data: {\n      enumerable: false\n    },\n    size: {\n      enumerable: false\n    },\n    toJSON: {\n      enumerable: false\n    }\n  });\n  Object.seal(set);\n  return set;\n}\n\nfunction proxyMap(entries) {\n  const map = proxy({\n    data: Array.from(entries || []),\n    has(key) {\n      return this.data.some((p) => p[0] === key);\n    },\n    set(key, value) {\n      const record = this.data.find((p) => p[0] === key);\n      if (record) {\n        record[1] = value;\n      } else {\n        this.data.push([key, value]);\n      }\n      return this;\n    },\n    get(key) {\n      var _a;\n      return (_a = this.data.find((p) => p[0] === key)) == null ? void 0 : _a[1];\n    },\n    delete(key) {\n      const index = this.data.findIndex((p) => p[0] === key);\n      if (index === -1) {\n        return false;\n      }\n      this.data.splice(index, 1);\n      return true;\n    },\n    clear() {\n      this.data.splice(0);\n    },\n    get size() {\n      return this.data.length;\n    },\n    toJSON() {\n      return new Map(this.data);\n    },\n    forEach(cb) {\n      this.data.forEach((p) => {\n        cb(p[1], p[0], this);\n      });\n    },\n    keys() {\n      return this.data.map((p) => p[0]).values();\n    },\n    values() {\n      return this.data.map((p) => p[1]).values();\n    },\n    entries() {\n      return new Map(this.data).entries();\n    },\n    get [Symbol.toStringTag]() {\n      return \"Map\";\n    },\n    [Symbol.iterator]() {\n      return this.entries();\n    }\n  });\n  Object.defineProperties(map, {\n    data: {\n      enumerable: false\n    },\n    size: {\n      enumerable: false\n    },\n    toJSON: {\n      enumerable: false\n    }\n  });\n  Object.seal(map);\n  return map;\n}\n\nexport { addComputed_DEPRECATED as addComputed, derive, devtools, proxyMap, proxySet, proxyWithComputed_DEPRECATED as proxyWithComputed, proxyWithHistory, subscribeKey, underive, unstable_deriveSubscriptions, watch };\n","// todo implement async options storage\n\nimport { proxy, subscribe } from 'valtio/vanilla'\n// weird webpack configuration bug: it cant import valtio/utils in this file\nimport { subscribeKey } from 'valtio/utils'\n\nconst defaultOptions = {\n  renderDistance: 2,\n  multiplayerRenderDistance: 2,\n  closeConfirmation: true,\n  autoFullScreen: false,\n  mouseRawInput: false,\n  autoExitFullscreen: false,\n  localUsername: 'wanderer',\n  mouseSensX: 50,\n  mouseSensY: -1,\n  // mouseInvertX: false,\n  chatWidth: 320,\n  chatHeight: 180,\n  chatScale: 100,\n  chatOpacity: 100,\n  chatOpacityOpened: 100,\n  messagesLimit: 200,\n  volume: 50,\n  // fov: 70,\n  fov: 75,\n  guiScale: 3,\n  autoRequestCompletions: true,\n  touchButtonsSize: 40,\n  touchButtonsOpacity: 80,\n  touchButtonsPosition: 12,\n  touchControlsPositions: {\n    action: [\n      90,\n      70\n    ],\n    sneak: [\n      90,\n      90\n    ],\n    break: [\n      70,\n      70\n    ]\n  } as Record<string, [number, number]>,\n  touchControlsType: 'classic' as 'classic' | 'joystick-buttons',\n  gpuPreference: 'default' as 'default' | 'high-performance' | 'low-power',\n  /** @unstable */\n  disableAssets: false,\n  /** @unstable */\n  debugLogNotFrequentPackets: false,\n  unimplementedContainers: false,\n  dayCycleAndLighting: true,\n  loadPlayerSkins: true,\n  antiAliasing: false,\n\n  showChunkBorders: false, // todo rename option\n  frameLimit: false as number | false,\n  alwaysBackupWorldBeforeLoading: undefined as boolean | undefined | null,\n  alwaysShowMobileControls: false,\n  excludeCommunicationDebugEvents: [],\n  preventDevReloadWhilePlaying: false,\n  numWorkers: 4,\n  localServerOptions: {} as any,\n  preferLoadReadonly: false,\n  disableLoadPrompts: false,\n  guestUsername: 'guest',\n  askGuestName: true,\n  /** Actually might be useful */\n  showCursorBlockInSpectator: false,\n  renderEntities: true,\n  chatSelect: false,\n\n  // advanced bot options\n  autoRespawn: false,\n  mutedSounds: [] as string[],\n  plugins: [] as Array<{ enabled: boolean, name: string, description: string, script: string }>,\n  /** Wether to popup sign editor on server action */\n  autoSignEditor: true,\n  wysiwygSignEditor: 'auto' as 'auto' | 'always' | 'never',\n}\n\nconst migrateOptions = (options: Partial<AppOptions & Record<string, any>>) => {\n  if (options.highPerformanceGpu) {\n    options.gpuPreference = 'high-performance'\n    delete options.highPerformanceGpu\n  }\n  if (Object.keys(options.touchControlsPositions ?? {}).length === 0) {\n    options.touchControlsPositions = defaultOptions.touchControlsPositions\n  }\n\n  return options\n}\n\nexport type AppOptions = typeof defaultOptions\n\nexport const options: AppOptions = proxy({\n  ...defaultOptions,\n  ...migrateOptions(JSON.parse(localStorage.options || '{}'))\n})\n\nwindow.options = window.settings = options\n\nexport const resetOptions = () => {\n  Object.assign(options, defaultOptions)\n}\n\nObject.defineProperty(window, 'debugChangedOptions', {\n  get () {\n    return Object.fromEntries(Object.entries(options).filter(([key, v]) => defaultOptions[key] !== v))\n  },\n})\n\nsubscribe(options, () => {\n  localStorage.options = JSON.stringify(options)\n})\n\ntype WatchValue = <T extends Record<string, any>>(proxy: T, callback: (p: T) => void) => void\n\nexport const watchValue: WatchValue = (proxy, callback) => {\n  const watchedProps = new Set<string>()\n  callback(new Proxy(proxy, {\n    get (target, p, receiver) {\n      watchedProps.add(p.toString())\n      return Reflect.get(target, p, receiver)\n    },\n  }))\n  for (const prop of watchedProps) {\n    subscribeKey(proxy, prop, () => {\n      callback(proxy)\n    })\n  }\n}\n\nwatchValue(options, o => {\n  globalThis.excludeCommunicationDebugEvents = o.excludeCommunicationDebugEvents\n})\n\nwatchValue(options, o => {\n  document.body.classList.toggle('disable-assets', o.disableAssets)\n})\nwatchValue(options, o => {\n  document.body.style.setProperty('--touch-movement-buttons-opacity', (o.touchButtonsOpacity / 100).toString())\n})\nwatchValue(options, o => {\n  document.body.style.setProperty('--touch-movement-buttons-position', (o.touchButtonsPosition * 2) + 'px')\n})\n\nexport const useOptionValue = (setting, valueCallback) => {\n  valueCallback(setting)\n  subscribe(setting, valueCallback)\n}\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import { options } from './optionsStorage'\nimport { isCypress } from './standaloneUtils'\nimport { reportWarningOnce } from './utils'\n\nlet audioContext: AudioContext\nconst sounds: Record<string, any> = {}\n\n// load as many resources on page load as possible instead on demand as user can disable internet connection after he thinks the page is loaded\nconst loadingSounds = [] as string[]\nconst convertedSounds = [] as string[]\nexport async function loadSound (path: string) {\n  if (loadingSounds.includes(path)) return true\n  loadingSounds.push(path)\n  const res = await window.fetch(path)\n  if (!res.ok) {\n    const error = `Failed to load sound ${path}`\n    if (isCypress()) throw new Error(error)\n    else console.warn(error)\n    return\n  }\n  const data = await res.arrayBuffer()\n\n  sounds[path] = data\n  loadingSounds.splice(loadingSounds.indexOf(path), 1)\n}\n\nexport const loadOrPlaySound = async (url, soundVolume = 1) => {\n  const soundBuffer = sounds[url]\n  if (!soundBuffer) {\n    const start = Date.now()\n    const cancelled = await loadSound(url)\n    if (cancelled || Date.now() - start > 500) return\n  }\n\n  await playSound(url)\n}\n\nexport async function playSound (url, soundVolume = 1) {\n  const volume = soundVolume * (options.volume / 100)\n\n  if (!volume) return\n\n  try {\n    audioContext ??= new window.AudioContext()\n  } catch (err) {\n    reportWarningOnce('audioContext', 'Failed to create audio context. Some sounds will not play')\n    return\n  }\n\n  for (const [soundName, sound] of Object.entries(sounds)) {\n    if (convertedSounds.includes(soundName)) continue\n    sounds[soundName] = await audioContext.decodeAudioData(sound)\n    convertedSounds.push(soundName)\n  }\n\n  const soundBuffer = sounds[url]\n  if (!soundBuffer) {\n    console.warn(`Sound ${url} not loaded yet`)\n    return\n  }\n\n  const gainNode = audioContext.createGain()\n  const source = audioContext.createBufferSource()\n  source.buffer = soundBuffer\n  source.connect(gainNode)\n  gainNode.connect(audioContext.destination)\n  gainNode.gain.value = volume\n  source.start(0)\n}\n","import classNames from 'classnames'\nimport { FC, Ref } from 'react'\nimport { loadSound, playSound } from '../basicSounds'\nimport buttonCss from './button.module.css'\n\n// testing in storybook from deathscreen\n\ninterface Props extends React.ComponentProps<'button'> {\n  label?: string\n  icon?: string\n  children?: React.ReactNode\n  inScreen?: boolean\n  rootRef?: Ref<HTMLButtonElement>\n}\n\nvoid loadSound('button_click.mp3')\n\nexport default (({ label, icon, children, inScreen, rootRef, ...args }) => {\n  const onClick = (e) => {\n    void playSound('button_click.mp3')\n    args.onClick?.(e)\n  }\n  if (inScreen) {\n    args.style ??= {}\n    args.style.width = 150\n  }\n  if (icon) {\n    args.style ??= {}\n    args.style.width = 20\n  }\n\n  return <button ref={rootRef} {...args} className={classNames(buttonCss.button, args.className)} onClick={onClick}>\n    {icon && <iconify-icon class={buttonCss.icon} icon={icon}></iconify-icon>}\n    {label}\n    {children}\n  </button>\n}) satisfies FC<Props>\n","interface Props {\n  title: JSX.Element | string\n  children: React.ReactNode\n  backdrop?: boolean | 'dirt'\n}\n\nexport default ({ title, children, backdrop = true }: Props) => {\n  return (\n    <>\n      {backdrop === 'dirt' ? <div className='dirt-bg'></div> : backdrop ? <div className=\"backdrop\"></div> : null}\n      <div className='fullscreen' style={{ overflow: 'auto' }}>\n        <div className=\"screen-content\">\n          <div className=\"screen-title\">{title}</div>\n          {children}\n        </div>\n      </div>\n    </>\n  )\n}\n","import { proxy, useSnapshot } from 'valtio'\nimport { useEffect } from 'react'\nimport { activeModalStack, activeModalStacks, hideModal, insertActiveModalStack, miscUiState } from '../globalState'\nimport { resetLocalStorageWorld } from '../browserfs'\nimport { fsState } from '../loadSave'\nimport { guessProblem } from '../guessProblem'\nimport AppStatus from './AppStatus'\nimport DiveTransition from './DiveTransition'\nimport { useDidUpdateEffect, useIsModalActive } from './utils'\nimport Button from './Button'\n\nconst initialState = {\n  status: '',\n  lastStatus: '',\n  maybeRecoverable: true,\n  descriptionHint: '',\n  isError: false,\n  hideDots: false,\n}\nexport const appStatusState = proxy(initialState)\nconst resetState = () => {\n  Object.assign(appStatusState, initialState)\n}\n\nexport const lastConnectOptions = {\n  value: null as any | null\n}\n\nexport default () => {\n  const { isError, lastStatus, maybeRecoverable, status, hideDots, descriptionHint } = useSnapshot(appStatusState)\n\n  const isOpen = useIsModalActive('app-status')\n\n  useDidUpdateEffect(() => {\n    // todo play effect only when world successfully loaded\n    if (!isOpen) {\n      const divingElem: HTMLElement = document.querySelector('#viewer-canvas')!\n      divingElem.style.animationName = 'dive-animation'\n      divingElem.parentElement!.style.perspective = '1200px'\n      divingElem.onanimationend = () => {\n        divingElem.parentElement!.style.perspective = ''\n        divingElem.onanimationend = null\n      }\n    }\n  }, [isOpen])\n\n  useEffect(() => {\n    const controller = new AbortController()\n    window.addEventListener('keyup', (e) => {\n      if (activeModalStack.at(-1)?.reactType !== 'app-status') return\n      if (e.code !== 'KeyR' || !lastConnectOptions.value) return\n      resetState()\n      window.dispatchEvent(new window.CustomEvent('connect', {\n        detail: lastConnectOptions.value\n      }))\n    }, {\n      signal: controller.signal\n    })\n    return () => controller.abort()\n  }, [])\n\n  return <DiveTransition open={isOpen}>\n    <AppStatus\n      status={status}\n      isError={isError || appStatusState.status === ''} // display back button if status is empty as probably our app is errored\n      hideDots={hideDots}\n      lastStatus={lastStatus}\n      description={(isError ? guessProblem(status) : '') || descriptionHint}\n      backAction={maybeRecoverable ? () => {\n        resetState()\n        miscUiState.gameLoaded = false\n        miscUiState.loadedDataVersion = null\n        window.loadedData = undefined\n        if (activeModalStacks['main-menu']) {\n          insertActiveModalStack('main-menu')\n          if (activeModalStack.at(-1)?.reactType === 'app-status') {\n            hideModal(undefined, undefined, { force: true }) // workaround: hide loader that was shown on world loading\n          }\n        } else {\n          hideModal(undefined, undefined, { force: true })\n        }\n      } : undefined}\n    // actionsSlot={\n    //   <Button hidden={!(miscUiState.singleplayer && fsState.inMemorySave)} label=\"Reset world\" onClick={() => {\n    //     if (window.confirm('Are you sure you want to delete all local world content?')) {\n    //       resetLocalStorageWorld()\n    //       window.location.reload()\n    //     }\n    //   }} />\n    // }\n    />\n  </DiveTransition>\n}\n","import React, { useEffect } from 'react'\nimport { proxy, useSnapshot } from 'valtio'\nimport Notification from './Notification'\n\ntype NotificationType = React.ComponentProps<typeof Notification> & {\n  autoHide: boolean\n  id: string\n}\n\n// todo stacking\nexport const notificationProxy = proxy({\n  message: '',\n  open: false,\n  type: 'message',\n  subMessage: '',\n  icon: '',\n  autoHide: true,\n  id: '',\n} satisfies NotificationType as NotificationType)\n\nexport const showNotification = (\n  message: string,\n  subMessage = '',\n  isError = false,\n  icon = '',\n  action = undefined as (() => void) | undefined,\n  autoHide = true\n) => {\n  notificationProxy.message = message\n  notificationProxy.subMessage = subMessage\n  notificationProxy.type = isError ? 'error' : 'message'\n  notificationProxy.icon = icon\n  notificationProxy.open = true\n  notificationProxy.autoHide = autoHide\n  notificationProxy.action = action\n}\nexport const hideNotification = () => {\n  // openNotification('') // reset\n  notificationProxy.open = false\n}\n\nexport default () => {\n  const { autoHide, message, open, icon, type, subMessage, action } = useSnapshot(notificationProxy)\n\n  useEffect(() => {\n    if (autoHide && open) {\n      setTimeout(() => {\n        hideNotification()\n      }, 7000)\n    }\n  }, [autoHide, open])\n\n  // test\n  // useEffect(() => {\n  //   setTimeout(() => {\n  //     openNotification('test', 'test', false, 'message')\n  //   }, 1000)\n  // }, [])\n\n  return <Notification\n    action={action}\n    type={type}\n    message={message}\n    subMessage={subMessage}\n    open={open}\n    icon={icon}\n  />\n}\n","import { hideModal, isGameActive, miscUiState, showModal } from './globalState'\nimport { options } from './optionsStorage'\nimport { appStatusState } from './react/AppStatusProvider'\nimport { notificationProxy, showNotification } from './react/NotificationProvider'\n\nexport const goFullscreen = async (doToggle = false) => {\n  if (!document.fullscreenElement) {\n    // todo display a message or repeat?\n    await document.documentElement.requestFullscreen().catch(() => { })\n    // request full keyboard access\n    //@ts-expect-error\n    navigator.keyboard?.lock?.(['Escape', 'KeyW'])\n  } else if (doToggle) {\n    await document.exitFullscreen().catch(() => { })\n  }\n}\n\nexport const toNumber = (val) => {\n  const num = Number(val)\n  return isNaN(num) ? undefined : num\n}\n\nexport const pointerLock = {\n  get hasPointerLock () {\n    return document.pointerLockElement\n  },\n  justHitEscape: false,\n  async requestPointerLock () {\n    if (!isGameActive(true) || !document.documentElement.requestPointerLock || miscUiState.currentTouch) {\n      return\n    }\n    if (options.autoFullScreen) {\n      void goFullscreen()\n    }\n    const displayBrowserProblem = () => {\n      showNotification('Browser Delay Limitation', navigator['keyboard'] ? 'Click on screen, enable Auto Fullscreen or F11' : 'Click on screen or use fullscreen in Chrome')\n      notificationProxy.id = 'pointerlockchange'\n    }\n    if (!(document.fullscreenElement && navigator['keyboard']) && this.justHitEscape) {\n      displayBrowserProblem()\n    } else {\n      //@ts-expect-error\n      const promise: any = document.documentElement.requestPointerLock({\n        unadjustedMovement: options.mouseRawInput\n      })\n      promise?.catch((error) => {\n        if (error.name === 'NotSupportedError') {\n          // Some platforms may not support unadjusted movement, request again a regular pointer lock.\n          document.documentElement.requestPointerLock()\n        } else if (error.name === 'SecurityError') {\n          // cause: https://discourse.threejs.org/t/how-to-avoid-pointerlockcontrols-error/33017/4\n          displayBrowserProblem()\n        } else {\n          console.error(error)\n        }\n      })\n    }\n    this.justHitEscape = false\n  }\n}\n\nwindow.getScreenRefreshRate = getScreenRefreshRate\n\n/**\n * Allows to obtain the estimated Hz of the primary monitor in the system.\n */\nexport async function getScreenRefreshRate (): Promise<number> {\n  let requestId = null as number | null\n  let callbackTriggered = false\n  let resolve\n\n  const DOMHighResTimeStampCollection = [] as number[]\n\n  const triggerAnimation = (DOMHighResTimeStamp) => {\n    DOMHighResTimeStampCollection.unshift(DOMHighResTimeStamp)\n\n    if (DOMHighResTimeStampCollection.length > 10) {\n      const t0 = DOMHighResTimeStampCollection.pop()!\n      const fps = Math.floor(1000 * 10 / (DOMHighResTimeStamp - t0))\n\n      if (!callbackTriggered || fps > 1000) {\n        resolve(Math.min(fps, 1000)/* , DOMHighResTimeStampCollection */)\n      }\n\n      callbackTriggered = true\n    }\n\n    requestId = window.requestAnimationFrame(triggerAnimation)\n  }\n\n  window.requestAnimationFrame(triggerAnimation)\n\n  window.setTimeout(() => {\n    window.cancelAnimationFrame(requestId!)\n    requestId = null\n  }, 500)\n\n  return new Promise(_resolve => {\n    resolve = _resolve\n  })\n}\n\nexport const getGamemodeNumber = (bot) => {\n  switch (bot.game.gameMode) {\n    case 'survival': return 0\n    case 'creative': return 1\n    case 'adventure': return 2\n    case 'spectator': return 3\n    default: return -1\n  }\n}\n\nexport const isMajorVersionGreater = (ver1: string, ver2: string) => {\n  const [a1, b1] = ver1.split('.')\n  const [a2, b2] = ver2.split('.')\n  return +a1 > +a2 || (+a1 === +a2 && +b1 > +b2)\n}\n\nlet ourLastStatus: string | undefined = ''\nexport const setLoadingScreenStatus = function (status: string | undefined | null, isError = false, hideDots = false, fromFlyingSquid = false) {\n  // null can come from flying squid, should restore our last status\n  if (status === null) {\n    status = ourLastStatus\n  } else if (!fromFlyingSquid) {\n    ourLastStatus = status\n  }\n  fromFlyingSquid = false\n\n  if (status === undefined) {\n    appStatusState.status = ''\n\n    hideModal({ reactType: 'app-status' }, {}, { force: true })\n    return\n  }\n\n  // todo update in component instead\n  showModal({ reactType: 'app-status' })\n  if (appStatusState.isError) {\n    miscUiState.gameLoaded = false\n    return\n  }\n  appStatusState.hideDots = hideDots\n  appStatusState.isError = isError\n  appStatusState.lastStatus = isError ? appStatusState.status : ''\n  appStatusState.status = status\n}\n\n// doesn't support snapshots\nexport const toMajorVersion = (version) => {\n  const [a, b] = (String(version)).split('.')\n  return `${a}.${b}`\n}\n\nlet prevRenderDistance = options.renderDistance\nexport const setRenderDistance = () => {\n  assertDefined(worldView)\n  const { renderDistance: singleplayerRenderDistance, multiplayerRenderDistance } = options\n  const renderDistance = miscUiState.singleplayer ? singleplayerRenderDistance : multiplayerRenderDistance\n  bot.setSettings({\n    viewDistance: renderDistance\n  })\n  worldView.viewDistance = renderDistance\n  prevRenderDistance = renderDistance\n}\nexport const reloadChunks = async () => {\n  if (!worldView) return\n  setRenderDistance()\n  await worldView.updatePosition(bot.entity.position, true)\n}\n\nexport const openGithub = () => {\n  window.open(process.env.GITHUB_URL, '_blank')\n}\n\nexport const resolveTimeout = async (promise, timeout = 10_000) => {\n  return new Promise((resolve, reject) => {\n    promise.then(resolve, reject)\n    setTimeout(() => {\n      reject(new Error('timeout'))\n    }, timeout)\n  })\n}\n\nexport function assertDefined<T> (x: T | undefined): asserts x is T {\n  if (!x) throw new Error('Assertion failed. Something is not available')\n}\n\nexport const haveDirectoryPicker = () => {\n  return !!window.showDirectoryPicker\n}\n\nconst reportedWarnings = new Set<string>()\n\nexport const reportWarningOnce = (id: string, message: string) => {\n  if (reportedWarnings.has(id)) return\n  reportedWarnings.add(id)\n  console.warn(message)\n}\n","//@ts-check\n\nimport { proxy, ref, subscribe } from 'valtio'\nimport { pointerLock } from './utils'\nimport type { OptionsGroupType } from './optionsGuiScheme'\n\n// todo: refactor structure with support of hideNext=false\n\nconst notHideableModalsWithoutForce = new Set(['app-status'])\n\ntype Modal = ({ elem?: HTMLElement & Record<string, any> } & { reactType?: string })\n\ntype ContextMenuItem = { callback; label }\n\nexport const activeModalStack: Modal[] = proxy([])\n\nexport const insertActiveModalStack = (name: string, newModalStack = activeModalStacks[name]) => {\n  hideModal(undefined, undefined, { restorePrevious: false, force: true })\n  activeModalStack.splice(0, activeModalStack.length, ...newModalStack)\n  const last = activeModalStack.at(-1)\n  if (last) showModalInner(last)\n}\n\nexport const activeModalStacks: Record<string, Modal[]> = {}\n\nwindow.activeModalStack = activeModalStack\n\nsubscribe(activeModalStack, () => {\n  if (activeModalStack.length === 0) {\n    if (isGameActive(false)) {\n      void pointerLock.requestPointerLock()\n    }\n  } else {\n    document.exitPointerLock?.()\n  }\n})\n\nexport const customDisplayManageKeyword = 'custom'\n\nconst defaultModalActions = {\n  show (modal: Modal) {\n    if (modal.elem) modal.elem.style.display = 'block'\n  },\n  hide (modal: Modal) {\n    if (modal.elem) modal.elem.style.display = 'none'\n  }\n}\n\n/**\n * @returns true if operation was successful\n */\nconst showModalInner = (modal: Modal) => {\n  const cancel = modal.elem?.show?.()\n  if (cancel && cancel !== customDisplayManageKeyword) return false\n  if (cancel !== 'custom') defaultModalActions.show(modal)\n  return true\n}\n\nexport const showModal = (elem: (HTMLElement & Record<string, any>) | { reactType: string }) => {\n  const resolved = elem instanceof HTMLElement ? { elem: ref(elem) } : elem\n  const curModal = activeModalStack.at(-1)\n  if (elem === curModal?.elem || (elem.reactType && elem.reactType === curModal?.reactType) || !showModalInner(resolved)) return\n  if (curModal) defaultModalActions.hide(curModal)\n  activeModalStack.push(resolved)\n}\n\n/**\n *\n * @returns true if previous modal was restored\n */\nexport const hideModal = (modal = activeModalStack.at(-1), data: any = undefined, options: { force?: boolean; restorePrevious?: boolean } = {}) => {\n  const { force = false, restorePrevious = true } = options\n  if (!modal) return\n  let cancel\n  if (modal.elem) {\n    cancel = modal.elem.hide?.(data)\n  } else if (modal.reactType) {\n    cancel = notHideableModalsWithoutForce.has(modal.reactType) ? !force : undefined\n  }\n  if (force && cancel !== customDisplayManageKeyword) {\n    cancel = undefined\n  }\n\n  if (!cancel || cancel === customDisplayManageKeyword) {\n    if (cancel !== customDisplayManageKeyword) defaultModalActions.hide(modal)\n    activeModalStack.pop()\n    const newModal = activeModalStack.at(-1)\n    if (newModal && restorePrevious) {\n      // would be great to ignore cancel I guess?\n      showModalInner(newModal)\n    }\n    return true\n  }\n}\n\nexport const hideCurrentModal = (_data?, onHide?: () => void) => {\n  if (hideModal(undefined, undefined)) {\n    onHide?.()\n  }\n}\n\nexport const openOptionsMenu = (group: OptionsGroupType) => {\n  showModal({ reactType: `options-${group}` })\n}\n\n// ---\n\nexport const currentContextMenu = proxy({ items: [] as ContextMenuItem[] | null, x: 0, y: 0 })\n\nexport const showContextmenu = (items: ContextMenuItem[], { clientX, clientY }) => {\n  Object.assign(currentContextMenu, {\n    items,\n    x: clientX,\n    y: clientY,\n  })\n}\n\n// ---\n\nexport type AppConfig = {\n  defaultHost?: string\n  defaultHostSave?: string\n  defaultProxy?: string\n  defaultProxySave?: string\n  defaultVersion?: string\n  mapsProvider?: string\n}\n\nexport const miscUiState = proxy({\n  currentDisplayQr: null as string | null,\n  currentTouch: null as boolean | null,\n  singleplayer: false,\n  flyingSquid: false,\n  wanOpened: false,\n  /** wether game hud is shown (in playing state) */\n  gameLoaded: false,\n  /** currently trying to load or loaded mc version, after all data is loaded */\n  loadedDataVersion: null as string | null,\n  appLoaded: false,\n  usingGamepadInput: false,\n  appConfig: null as AppConfig | null,\n  displaySearchInput: false,\n})\n\nexport const isGameActive = (foregroundCheck: boolean) => {\n  if (foregroundCheck && activeModalStack.length) return false\n  return miscUiState.gameLoaded\n}\n\nwindow.miscUiState = miscUiState\n\n// state that is not possible to get via bot and in-game specific\nexport const gameAdditionalState = proxy({\n  isFlying: false,\n  isSprinting: false,\n  isSneaking: false,\n})\n\nwindow.gameAdditionalState = gameAdditionalState\n\n// todo restore auto-save on interval for player data! (or implement it in flying squid since there is already auto-save for world)\n","import { useSnapshot } from 'valtio'\nimport { useEffect, useRef } from 'react'\nimport { UAParser } from 'ua-parser-js'\nimport { activeModalStack, miscUiState } from '../globalState'\n\nexport const useIsModalActive = (modal: string, useIncludes = false) => {\n  const allStack = useSnapshot(activeModalStack)\n  return useIncludes ? allStack.some(x => x.reactType === modal) : allStack.at(-1)?.reactType === modal\n}\n\nexport const useIsWidgetActive = (name: string) => {\n  return useIsModalActive(`widget-${name}`)\n}\n\nexport function useDidUpdateEffect (fn, inputs) {\n  const isMountingRef = useRef(false)\n\n  useEffect(() => {\n    isMountingRef.current = true\n  }, [])\n\n  useEffect(() => {\n    if (isMountingRef.current) {\n      isMountingRef.current = false\n    } else {\n      return fn()\n    }\n  }, inputs)\n}\n\nexport const useUsingTouch = () => {\n  return useSnapshot(miscUiState).currentTouch\n}\n\nexport const ua = new UAParser(navigator.userAgent)\n\nexport const isIos = ua.getOS().name === 'iOS'\n"],"names":["e","t","r","n","o","s","c","l","f","i","u","a","p","g","y","h","w","isObject","x","proxyStateMap","refSet","buildProxyFunction","objectIs","newProxy","target","handler","canProxy","defaultHandlePromise","promise","snapCache","createSnapshot","version","handlePromise","cache","snap","markToTrack","key","value","desc","target2","ensureVersion","proxyCache","versionHolder","proxyFunction","initialObject","found","listeners","notifyUpdate","op","nextVersion","listener","checkVersion","nextCheckVersion","propProxyStates","propProxyState","propVersion","createPropListener","prop","newOp","addPropListener","remove","removePropListener","_a","entry","addListener","prevRemove","baseObject","proxyObject","prevValue","deleted","receiver","hasPrevValue","getUntracked","nextValue","v","childProxyState","proxyState","defaultProxyFunction","proxy","subscribe","callback","notifyInSync","ops","isListenerActive","removeListener","snapshot","require$$0","b","k","m","q","d","useSyncExternalStoreShim_production_min","shimModule","use","ReactExports","useSyncExternalStore","useSyncExternalStoreExports","targetCache","useSnapshot","options","lastSnapshot","useRef","lastAffected","inRender","currSnapshot","useCallback","unsub","nextSnapshot","isChanged","currAffected","useEffect","useMemo","createProxy","isCypress","window","undefined","LIBVERSION","EMPTY","UNKNOWN","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","VERSION","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","UA_MAX_LENGTH","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","EDGE","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SHARP","SONY","XIAOMI","ZEBRA","FACEBOOK","CHROMIUM_OS","MAC_OS","extend","regexes","extensions","mergedRegexes","enumerize","arr","enums","has","str1","str2","lowerize","str","majorize","trim","len","rgxMapper","ua","arrays","j","matches","match","regex","props","strMapper","map","oldSafariMap","windowsVersionMap","UAParser","_navigator","_ua","_uach","_rgxmap","_isSelfNav","_browser","_cpu","_device","_engine","_os","module","exports","$","parser","result","this","subscribeKey","defaultOptions","migrateOptions","watchValue","watchedProps","hasOwn","classNames","classes","arg","argType","inner","audioContext","sounds","loadingSounds","convertedSounds","loadSound","path","res","error","data","playSound","url","soundVolume","volume","reportWarningOnce","soundName","sound","soundBuffer","gainNode","source","Button$1","label","icon","children","inScreen","rootRef","args","onClick","jsxs","buttonCss","jsx","Screen$1","title","backdrop","Fragment","initialState","notificationProxy","showNotification","message","subMessage","isError","action","autoHide","goFullscreen","doToggle","_b","pointerLock","isGameActive","miscUiState","displayBrowserProblem","getScreenRefreshRate","requestId","callbackTriggered","resolve","DOMHighResTimeStampCollection","triggerAnimation","DOMHighResTimeStamp","t0","fps","_resolve","reportedWarnings","id","activeModalStack","foregroundCheck","gameAdditionalState","useUsingTouch","isIos"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,6,7,9]}