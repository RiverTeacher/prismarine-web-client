globalThis.global = globalThis;globalThis.includedVersions = ["1.10","1.11","1.12","1.13","1.14","1.15","1.16","1.17","1.18","1.19","1.20","1.7","1.8","1.9"];
(()=>{var Bse=Object.create;var Xm=Object.defineProperty;var Fse=Object.getOwnPropertyDescriptor;var Use=Object.getOwnPropertyNames;var zse=Object.getPrototypeOf,Dse=Object.prototype.hasOwnProperty;var l=(i,e)=>Xm(i,"name",{value:e,configurable:!0}),$a=(i=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(i,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):i)(function(i){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')});var Gt=(i,e)=>()=>(i&&(e=i(i=0)),e);var qe=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),Xa=(i,e)=>{for(var t in e)Xm(i,t,{get:e[t],enumerable:!0})},F8=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Use(e))!Dse.call(i,r)&&r!==t&&Xm(i,r,{get:()=>e[r],enumerable:!(n=Fse(e,r))||n.enumerable});return i};var Mn=(i,e,t)=>(t=i!=null?Bse(zse(i)):{},F8(e||!i||!i.__esModule?Xm(t,"default",{value:i,enumerable:!0}):t,i)),Zr=i=>F8(Xm({},"__esModule",{value:!0}),i);var __dirname,ne=Gt(()=>{__dirname="/"});var process={};Xa(process,{_debugEnd:()=>MO,_debugProcess:()=>EO,_events:()=>VO,_eventsCount:()=>qO,_exiting:()=>aO,_fatalExceptions:()=>vO,_getActiveHandles:()=>cO,_getActiveRequests:()=>lO,_kill:()=>hO,_linkedBinding:()=>nO,_maxListeners:()=>DO,_preload_modules:()=>FO,_rawDebug:()=>tO,_startProfilerIdleNotifier:()=>AO,_stopProfilerIdleNotifier:()=>TO,_tickCallback:()=>SO,abort:()=>IO,addListener:()=>HO,allowedNodeEnvironmentFlags:()=>gO,arch:()=>q8,argv:()=>W8,argv0:()=>BO,assert:()=>bO,binding:()=>Z8,chdir:()=>Q8,config:()=>sO,cpuUsage:()=>gb,cwd:()=>K8,debugPort:()=>OO,default:()=>KO,dlopen:()=>oO,domain:()=>rO,emit:()=>XO,emitWarning:()=>Y8,env:()=>G8,execArgv:()=>j8,execPath:()=>NO,exit:()=>mO,features:()=>yO,hasUncaughtExceptionCaptureCallback:()=>xO,hrtime:()=>_b,kill:()=>pO,listeners:()=>JO,memoryUsage:()=>dO,moduleLoadList:()=>iO,nextTick:()=>z8,off:()=>WO,on:()=>Uo,once:()=>GO,openStdin:()=>_O,pid:()=>CO,platform:()=>H8,ppid:()=>LO,prependListener:()=>YO,prependOnceListener:()=>ZO,reallyExit:()=>uO,release:()=>eO,removeAllListeners:()=>$O,removeListener:()=>jO,resourceUsage:()=>fO,setSourceMapsEnabled:()=>UO,setUncaughtExceptionCaptureCallback:()=>wO,stderr:()=>RO,stdin:()=>PO,stdout:()=>kO,title:()=>V8,umask:()=>J8,uptime:()=>zO,version:()=>$8,versions:()=>X8});function mA(i){throw new Error("Node.js process "+i+" is not supported by JSPM core outside of Node.js")}function Vse(){!ed||!Nu||(ed=!1,Nu.length?Fo=Nu.concat(Fo):mb=-1,Fo.length&&U8())}function U8(){if(!ed){var i=setTimeout(Vse,0);ed=!0;for(var e=Fo.length;e;){for(Nu=Fo,Fo=[];++mb<e;)Nu&&Nu[mb].run();mb=-1,e=Fo.length}Nu=null,ed=!1,clearTimeout(i)}}function z8(i){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Fo.push(new D8(i,e)),Fo.length===1&&!ed&&setTimeout(U8,0)}function D8(i,e){this.fun=i,this.array=e}function mr(){}function nO(i){mA("_linkedBinding")}function oO(i){mA("dlopen")}function lO(){return[]}function cO(){return[]}function bO(i,e){if(!i)throw new Error(e||"assertion error")}function xO(){return!1}function zO(){return ac.now()/1e3}function _b(i){var e=Math.floor((Date.now()-ac.now())*.001),t=ac.now()*.001,n=Math.floor(t)+e,r=Math.floor(t%1*1e9);return i&&(n=n-i[0],r=r-i[1],r<0&&(n--,r+=pA)),[n,r]}function Uo(){return KO}function JO(i){return[]}var Fo,ed,Nu,mb,V8,q8,H8,G8,W8,j8,$8,X8,Y8,Z8,J8,K8,Q8,eO,tO,iO,rO,aO,sO,uO,hO,gb,fO,dO,pO,mO,_O,gO,yO,vO,wO,SO,EO,MO,AO,TO,kO,RO,PO,IO,CO,LO,NO,OO,BO,FO,UO,ac,dA,pA,DO,VO,qO,HO,GO,WO,jO,$O,XO,YO,ZO,KO,QO=Gt(()=>{ne();ae();re();l(mA,"unimplemented");Fo=[],ed=!1,mb=-1;l(Vse,"cleanUpNextTick");l(U8,"drainQueue");l(z8,"nextTick");l(D8,"Item");D8.prototype.run=function(){this.fun.apply(null,this.array)};V8="browser",q8="x64",H8="browser",G8={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},W8=["/usr/bin/node"],j8=[],$8="v16.8.0",X8={},Y8=l(function(i,e){console.warn((e?e+": ":"")+i)},"emitWarning"),Z8=l(function(i){mA("binding")},"binding"),J8=l(function(i){return 0},"umask"),K8=l(function(){return"/"},"cwd"),Q8=l(function(i){},"chdir"),eO={name:"node",sourceUrl:"",headersUrl:"",libUrl:""};l(mr,"noop");tO=mr,iO=[];l(nO,"_linkedBinding");rO={},aO=!1,sO={};l(oO,"dlopen");l(lO,"_getActiveRequests");l(cO,"_getActiveHandles");uO=mr,hO=mr,gb=l(function(){return{}},"cpuUsage"),fO=gb,dO=gb,pO=mr,mO=mr,_O=mr,gO={};l(bO,"assert");yO={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},vO=mr,wO=mr;l(xO,"hasUncaughtExceptionCaptureCallback");SO=mr,EO=mr,MO=mr,AO=mr,TO=mr,kO=void 0,RO=void 0,PO=void 0,IO=mr,CO=2,LO=1,NO="/bin/usr/node",OO=9229,BO="node",FO=[],UO=mr,ac={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0};ac.now===void 0&&(dA=Date.now(),ac.timing&&ac.timing.navigationStart&&(dA=ac.timing.navigationStart),ac.now=()=>Date.now()-dA);l(zO,"uptime");pA=1e9;l(_b,"hrtime");_b.bigint=function(i){var e=_b(i);return typeof BigInt>"u"?e[0]*pA+e[1]:BigInt(e[0]*pA)+BigInt(e[1])};DO=10,VO={},qO=0;l(Uo,"on");HO=Uo,GO=Uo,WO=Uo,jO=Uo,$O=Uo,XO=mr,YO=Uo,ZO=Uo;l(JO,"listeners");KO={version:$8,versions:X8,arch:q8,platform:H8,release:eO,_rawDebug:tO,moduleLoadList:iO,binding:Z8,_linkedBinding:nO,_events:VO,_eventsCount:qO,_maxListeners:DO,on:Uo,addListener:HO,once:GO,off:WO,removeListener:jO,removeAllListeners:$O,emit:XO,prependListener:YO,prependOnceListener:ZO,listeners:JO,domain:rO,_exiting:aO,config:sO,dlopen:oO,uptime:zO,_getActiveRequests:lO,_getActiveHandles:cO,reallyExit:uO,_kill:hO,cpuUsage:gb,resourceUsage:fO,memoryUsage:dO,kill:pO,exit:mO,openStdin:_O,allowedNodeEnvironmentFlags:gO,assert:bO,features:yO,_fatalExceptions:vO,setUncaughtExceptionCaptureCallback:wO,hasUncaughtExceptionCaptureCallback:xO,emitWarning:Y8,nextTick:z8,_tickCallback:SO,_debugProcess:EO,_debugEnd:MO,_startProfilerIdleNotifier:AO,_stopProfilerIdleNotifier:TO,stdout:kO,stdin:PO,stderr:RO,abort:IO,umask:J8,chdir:Q8,cwd:K8,env:G8,title:V8,argv:W8,execArgv:j8,pid:CO,ppid:LO,execPath:NO,debugPort:OO,hrtime:_b,argv0:BO,_preload_modules:FO,setSourceMapsEnabled:UO}});var re=Gt(()=>{QO()});var iB=qe(bb=>{"use strict";ne();ae();re();bb.byteLength=Hse;bb.toByteArray=Wse;bb.fromByteArray=Xse;var Ys=[],Ya=[],qse=typeof Uint8Array<"u"?Uint8Array:Array,_A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Ou=0,eB=_A.length;Ou<eB;++Ou)Ys[Ou]=_A[Ou],Ya[_A.charCodeAt(Ou)]=Ou;var Ou,eB;Ya["-".charCodeAt(0)]=62;Ya["_".charCodeAt(0)]=63;function tB(i){var e=i.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=i.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}l(tB,"getLens");function Hse(i){var e=tB(i),t=e[0],n=e[1];return(t+n)*3/4-n}l(Hse,"byteLength");function Gse(i,e,t){return(e+t)*3/4-t}l(Gse,"_byteLength");function Wse(i){var e,t=tB(i),n=t[0],r=t[1],a=new qse(Gse(i,n,r)),s=0,o=r>0?n-4:n,c;for(c=0;c<o;c+=4)e=Ya[i.charCodeAt(c)]<<18|Ya[i.charCodeAt(c+1)]<<12|Ya[i.charCodeAt(c+2)]<<6|Ya[i.charCodeAt(c+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return r===2&&(e=Ya[i.charCodeAt(c)]<<2|Ya[i.charCodeAt(c+1)]>>4,a[s++]=e&255),r===1&&(e=Ya[i.charCodeAt(c)]<<10|Ya[i.charCodeAt(c+1)]<<4|Ya[i.charCodeAt(c+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}l(Wse,"toByteArray");function jse(i){return Ys[i>>18&63]+Ys[i>>12&63]+Ys[i>>6&63]+Ys[i&63]}l(jse,"tripletToBase64");function $se(i,e,t){for(var n,r=[],a=e;a<t;a+=3)n=(i[a]<<16&16711680)+(i[a+1]<<8&65280)+(i[a+2]&255),r.push(jse(n));return r.join("")}l($se,"encodeChunk");function Xse(i){for(var e,t=i.length,n=t%3,r=[],a=16383,s=0,o=t-n;s<o;s+=a)r.push($se(i,s,s+a>o?o:s+a));return n===1?(e=i[t-1],r.push(Ys[e>>2]+Ys[e<<4&63]+"==")):n===2&&(e=(i[t-2]<<8)+i[t-1],r.push(Ys[e>>10]+Ys[e>>4&63]+Ys[e<<2&63]+"=")),r.join("")}l(Xse,"fromByteArray")});var nB=qe(gA=>{ne();ae();re();gA.read=function(i,e,t,n,r){var a,s,o=r*8-n-1,c=(1<<o)-1,u=c>>1,h=-7,f=t?r-1:0,p=t?-1:1,d=i[e+f];for(f+=p,a=d&(1<<-h)-1,d>>=-h,h+=o;h>0;a=a*256+i[e+f],f+=p,h-=8);for(s=a&(1<<-h)-1,a>>=-h,h+=n;h>0;s=s*256+i[e+f],f+=p,h-=8);if(a===0)a=1-u;else{if(a===c)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-u}return(d?-1:1)*s*Math.pow(2,a-n)};gA.write=function(i,e,t,n,r,a){var s,o,c,u=a*8-r-1,h=(1<<u)-1,f=h>>1,p=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,m=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+f>=1?e+=p/c:e+=p*Math.pow(2,1-f),e*c>=2&&(s++,c/=2),s+f>=h?(o=0,s=h):s+f>=1?(o=(e*c-1)*Math.pow(2,r),s=s+f):(o=e*Math.pow(2,f-1)*Math.pow(2,r),s=0));r>=8;i[t+d]=o&255,d+=m,o/=256,r-=8);for(s=s<<r|o,u+=r;u>0;i[t+d]=s&255,d+=m,s/=256,u-=8);i[t+d-m]|=y*128}});var Fu=qe(rd=>{"use strict";ne();ae();re();var bA=iB(),id=nB(),rB=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;rd.Buffer=lt;rd.SlowBuffer=eoe;rd.INSPECT_MAX_BYTES=50;var yb=2147483647;rd.kMaxLength=yb;lt.TYPED_ARRAY_SUPPORT=Yse();!lt.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Yse(){try{let i=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(i,e),i.foo()===42}catch{return!1}}l(Yse,"typedArraySupport");Object.defineProperty(lt.prototype,"parent",{enumerable:!0,get:function(){if(lt.isBuffer(this))return this.buffer}});Object.defineProperty(lt.prototype,"offset",{enumerable:!0,get:function(){if(lt.isBuffer(this))return this.byteOffset}});function zo(i){if(i>yb)throw new RangeError('The value "'+i+'" is invalid for option "size"');let e=new Uint8Array(i);return Object.setPrototypeOf(e,lt.prototype),e}l(zo,"createBuffer");function lt(i,e,t){if(typeof i=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return xA(i)}return lB(i,e,t)}l(lt,"Buffer");lt.poolSize=8192;function lB(i,e,t){if(typeof i=="string")return Jse(i,e);if(ArrayBuffer.isView(i))return Kse(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(Zs(i,ArrayBuffer)||i&&Zs(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Zs(i,SharedArrayBuffer)||i&&Zs(i.buffer,SharedArrayBuffer)))return vA(i,e,t);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=i.valueOf&&i.valueOf();if(n!=null&&n!==i)return lt.from(n,e,t);let r=Qse(i);if(r)return r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return lt.from(i[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}l(lB,"from");lt.from=function(i,e,t){return lB(i,e,t)};Object.setPrototypeOf(lt.prototype,Uint8Array.prototype);Object.setPrototypeOf(lt,Uint8Array);function cB(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}l(cB,"assertSize");function Zse(i,e,t){return cB(i),i<=0?zo(i):e!==void 0?typeof t=="string"?zo(i).fill(e,t):zo(i).fill(e):zo(i)}l(Zse,"alloc");lt.alloc=function(i,e,t){return Zse(i,e,t)};function xA(i){return cB(i),zo(i<0?0:SA(i)|0)}l(xA,"allocUnsafe");lt.allocUnsafe=function(i){return xA(i)};lt.allocUnsafeSlow=function(i){return xA(i)};function Jse(i,e){if((typeof e!="string"||e==="")&&(e="utf8"),!lt.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=uB(i,e)|0,n=zo(t),r=n.write(i,e);return r!==t&&(n=n.slice(0,r)),n}l(Jse,"fromString");function yA(i){let e=i.length<0?0:SA(i.length)|0,t=zo(e);for(let n=0;n<e;n+=1)t[n]=i[n]&255;return t}l(yA,"fromArrayLike");function Kse(i){if(Zs(i,Uint8Array)){let e=new Uint8Array(i);return vA(e.buffer,e.byteOffset,e.byteLength)}return yA(i)}l(Kse,"fromArrayView");function vA(i,e,t){if(e<0||i.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(i):t===void 0?n=new Uint8Array(i,e):n=new Uint8Array(i,e,t),Object.setPrototypeOf(n,lt.prototype),n}l(vA,"fromArrayBuffer");function Qse(i){if(lt.isBuffer(i)){let e=SA(i.length)|0,t=zo(e);return t.length===0||i.copy(t,0,0,e),t}if(i.length!==void 0)return typeof i.length!="number"||MA(i.length)?zo(0):yA(i);if(i.type==="Buffer"&&Array.isArray(i.data))return yA(i.data)}l(Qse,"fromObject");function SA(i){if(i>=yb)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+yb.toString(16)+" bytes");return i|0}l(SA,"checked");function eoe(i){return+i!=i&&(i=0),lt.alloc(+i)}l(eoe,"SlowBuffer");lt.isBuffer=l(function(e){return e!=null&&e._isBuffer===!0&&e!==lt.prototype},"isBuffer");lt.compare=l(function(e,t){if(Zs(e,Uint8Array)&&(e=lt.from(e,e.offset,e.byteLength)),Zs(t,Uint8Array)&&(t=lt.from(t,t.offset,t.byteLength)),!lt.isBuffer(e)||!lt.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let a=0,s=Math.min(n,r);a<s;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},"compare");lt.isEncoding=l(function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding");lt.concat=l(function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return lt.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let r=lt.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){let s=e[n];if(Zs(s,Uint8Array))a+s.length>r.length?(lt.isBuffer(s)||(s=lt.from(s)),s.copy(r,a)):Uint8Array.prototype.set.call(r,s,a);else if(lt.isBuffer(s))s.copy(r,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=s.length}return r},"concat");function uB(i,e){if(lt.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||Zs(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);let t=i.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let r=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return wA(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return yB(i).length;default:if(r)return n?-1:wA(i).length;e=(""+e).toLowerCase(),r=!0}}l(uB,"byteLength");lt.byteLength=uB;function toe(i,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(i||(i="utf8");;)switch(i){case"hex":return hoe(this,e,t);case"utf8":case"utf-8":return fB(this,e,t);case"ascii":return coe(this,e,t);case"latin1":case"binary":return uoe(this,e,t);case"base64":return ooe(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return foe(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),n=!0}}l(toe,"slowToString");lt.prototype._isBuffer=!0;function Bu(i,e,t){let n=i[e];i[e]=i[t],i[t]=n}l(Bu,"swap");lt.prototype.swap16=l(function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Bu(this,t,t+1);return this},"swap16");lt.prototype.swap32=l(function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Bu(this,t,t+3),Bu(this,t+1,t+2);return this},"swap32");lt.prototype.swap64=l(function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Bu(this,t,t+7),Bu(this,t+1,t+6),Bu(this,t+2,t+5),Bu(this,t+3,t+4);return this},"swap64");lt.prototype.toString=l(function(){let e=this.length;return e===0?"":arguments.length===0?fB(this,0,e):toe.apply(this,arguments)},"toString");lt.prototype.toLocaleString=lt.prototype.toString;lt.prototype.equals=l(function(e){if(!lt.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:lt.compare(this,e)===0},"equals");lt.prototype.inspect=l(function(){let e="",t=rd.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},"inspect");rB&&(lt.prototype[rB]=lt.prototype.inspect);lt.prototype.compare=l(function(e,t,n,r,a){if(Zs(e,Uint8Array)&&(e=lt.from(e,e.offset,e.byteLength)),!lt.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),r===void 0&&(r=0),a===void 0&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,a>>>=0,this===e)return 0;let s=a-r,o=n-t,c=Math.min(s,o),u=this.slice(r,a),h=e.slice(t,n);for(let f=0;f<c;++f)if(u[f]!==h[f]){s=u[f],o=h[f];break}return s<o?-1:o<s?1:0},"compare");function hB(i,e,t,n,r){if(i.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,MA(t)&&(t=r?0:i.length-1),t<0&&(t=i.length+t),t>=i.length){if(r)return-1;t=i.length-1}else if(t<0)if(r)t=0;else return-1;if(typeof e=="string"&&(e=lt.from(e,n)),lt.isBuffer(e))return e.length===0?-1:aB(i,e,t,n,r);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?r?Uint8Array.prototype.indexOf.call(i,e,t):Uint8Array.prototype.lastIndexOf.call(i,e,t):aB(i,[e],t,n,r);throw new TypeError("val must be string, number or Buffer")}l(hB,"bidirectionalIndexOf");function aB(i,e,t,n,r){let a=1,s=i.length,o=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(i.length<2||e.length<2)return-1;a=2,s/=2,o/=2,t/=2}function c(h,f){return a===1?h[f]:h.readUInt16BE(f*a)}l(c,"read");let u;if(r){let h=-1;for(u=t;u<s;u++)if(c(i,u)===c(e,h===-1?0:u-h)){if(h===-1&&(h=u),u-h+1===o)return h*a}else h!==-1&&(u-=u-h),h=-1}else for(t+o>s&&(t=s-o),u=t;u>=0;u--){let h=!0;for(let f=0;f<o;f++)if(c(i,u+f)!==c(e,f)){h=!1;break}if(h)return u}return-1}l(aB,"arrayIndexOf");lt.prototype.includes=l(function(e,t,n){return this.indexOf(e,t,n)!==-1},"includes");lt.prototype.indexOf=l(function(e,t,n){return hB(this,e,t,n,!0)},"indexOf");lt.prototype.lastIndexOf=l(function(e,t,n){return hB(this,e,t,n,!1)},"lastIndexOf");function ioe(i,e,t,n){t=Number(t)||0;let r=i.length-t;n?(n=Number(n),n>r&&(n=r)):n=r;let a=e.length;n>a/2&&(n=a/2);let s;for(s=0;s<n;++s){let o=parseInt(e.substr(s*2,2),16);if(MA(o))return s;i[t+s]=o}return s}l(ioe,"hexWrite");function noe(i,e,t,n){return vb(wA(e,i.length-t),i,t,n)}l(noe,"utf8Write");function roe(i,e,t,n){return vb(_oe(e),i,t,n)}l(roe,"asciiWrite");function aoe(i,e,t,n){return vb(yB(e),i,t,n)}l(aoe,"base64Write");function soe(i,e,t,n){return vb(goe(e,i.length-t),i,t,n)}l(soe,"ucs2Write");lt.prototype.write=l(function(e,t,n,r){if(t===void 0)r="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")r=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,r===void 0&&(r="utf8")):(r=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-t;if((n===void 0||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return ioe(this,e,t,n);case"utf8":case"utf-8":return noe(this,e,t,n);case"ascii":case"latin1":case"binary":return roe(this,e,t,n);case"base64":return aoe(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return soe(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},"write");lt.prototype.toJSON=l(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function ooe(i,e,t){return e===0&&t===i.length?bA.fromByteArray(i):bA.fromByteArray(i.slice(e,t))}l(ooe,"base64Slice");function fB(i,e,t){t=Math.min(i.length,t);let n=[],r=e;for(;r<t;){let a=i[r],s=null,o=a>239?4:a>223?3:a>191?2:1;if(r+o<=t){let c,u,h,f;switch(o){case 1:a<128&&(s=a);break;case 2:c=i[r+1],(c&192)===128&&(f=(a&31)<<6|c&63,f>127&&(s=f));break;case 3:c=i[r+1],u=i[r+2],(c&192)===128&&(u&192)===128&&(f=(a&15)<<12|(c&63)<<6|u&63,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:c=i[r+1],u=i[r+2],h=i[r+3],(c&192)===128&&(u&192)===128&&(h&192)===128&&(f=(a&15)<<18|(c&63)<<12|(u&63)<<6|h&63,f>65535&&f<1114112&&(s=f))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),r+=o}return loe(n)}l(fB,"utf8Slice");var sB=4096;function loe(i){let e=i.length;if(e<=sB)return String.fromCharCode.apply(String,i);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,i.slice(n,n+=sB));return t}l(loe,"decodeCodePointsArray");function coe(i,e,t){let n="";t=Math.min(i.length,t);for(let r=e;r<t;++r)n+=String.fromCharCode(i[r]&127);return n}l(coe,"asciiSlice");function uoe(i,e,t){let n="";t=Math.min(i.length,t);for(let r=e;r<t;++r)n+=String.fromCharCode(i[r]);return n}l(uoe,"latin1Slice");function hoe(i,e,t){let n=i.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let r="";for(let a=e;a<t;++a)r+=boe[i[a]];return r}l(hoe,"hexSlice");function foe(i,e,t){let n=i.slice(e,t),r="";for(let a=0;a<n.length-1;a+=2)r+=String.fromCharCode(n[a]+n[a+1]*256);return r}l(foe,"utf16leSlice");lt.prototype.slice=l(function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,lt.prototype),r},"slice");function Qn(i,e,t){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+e>t)throw new RangeError("Trying to access beyond buffer length")}l(Qn,"checkOffset");lt.prototype.readUintLE=lt.prototype.readUIntLE=l(function(e,t,n){e=e>>>0,t=t>>>0,n||Qn(e,t,this.length);let r=this[e],a=1,s=0;for(;++s<t&&(a*=256);)r+=this[e+s]*a;return r},"readUIntLE");lt.prototype.readUintBE=lt.prototype.readUIntBE=l(function(e,t,n){e=e>>>0,t=t>>>0,n||Qn(e,t,this.length);let r=this[e+--t],a=1;for(;t>0&&(a*=256);)r+=this[e+--t]*a;return r},"readUIntBE");lt.prototype.readUint8=lt.prototype.readUInt8=l(function(e,t){return e=e>>>0,t||Qn(e,1,this.length),this[e]},"readUInt8");lt.prototype.readUint16LE=lt.prototype.readUInt16LE=l(function(e,t){return e=e>>>0,t||Qn(e,2,this.length),this[e]|this[e+1]<<8},"readUInt16LE");lt.prototype.readUint16BE=lt.prototype.readUInt16BE=l(function(e,t){return e=e>>>0,t||Qn(e,2,this.length),this[e]<<8|this[e+1]},"readUInt16BE");lt.prototype.readUint32LE=lt.prototype.readUInt32LE=l(function(e,t){return e=e>>>0,t||Qn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},"readUInt32LE");lt.prototype.readUint32BE=lt.prototype.readUInt32BE=l(function(e,t){return e=e>>>0,t||Qn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},"readUInt32BE");lt.prototype.readBigUInt64LE=sc(l(function(e){e=e>>>0,nd(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ym(e,this.length-8);let r=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,a=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(r)+(BigInt(a)<<BigInt(32))},"readBigUInt64LE"));lt.prototype.readBigUInt64BE=sc(l(function(e){e=e>>>0,nd(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ym(e,this.length-8);let r=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],a=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(r)<<BigInt(32))+BigInt(a)},"readBigUInt64BE"));lt.prototype.readIntLE=l(function(e,t,n){e=e>>>0,t=t>>>0,n||Qn(e,t,this.length);let r=this[e],a=1,s=0;for(;++s<t&&(a*=256);)r+=this[e+s]*a;return a*=128,r>=a&&(r-=Math.pow(2,8*t)),r},"readIntLE");lt.prototype.readIntBE=l(function(e,t,n){e=e>>>0,t=t>>>0,n||Qn(e,t,this.length);let r=t,a=1,s=this[e+--r];for(;r>0&&(a*=256);)s+=this[e+--r]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*t)),s},"readIntBE");lt.prototype.readInt8=l(function(e,t){return e=e>>>0,t||Qn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},"readInt8");lt.prototype.readInt16LE=l(function(e,t){e=e>>>0,t||Qn(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n},"readInt16LE");lt.prototype.readInt16BE=l(function(e,t){e=e>>>0,t||Qn(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n},"readInt16BE");lt.prototype.readInt32LE=l(function(e,t){return e=e>>>0,t||Qn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},"readInt32LE");lt.prototype.readInt32BE=l(function(e,t){return e=e>>>0,t||Qn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},"readInt32BE");lt.prototype.readBigInt64LE=sc(l(function(e){e=e>>>0,nd(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ym(e,this.length-8);let r=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)},"readBigInt64LE"));lt.prototype.readBigInt64BE=sc(l(function(e){e=e>>>0,nd(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ym(e,this.length-8);let r=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)},"readBigInt64BE"));lt.prototype.readFloatLE=l(function(e,t){return e=e>>>0,t||Qn(e,4,this.length),id.read(this,e,!0,23,4)},"readFloatLE");lt.prototype.readFloatBE=l(function(e,t){return e=e>>>0,t||Qn(e,4,this.length),id.read(this,e,!1,23,4)},"readFloatBE");lt.prototype.readDoubleLE=l(function(e,t){return e=e>>>0,t||Qn(e,8,this.length),id.read(this,e,!0,52,8)},"readDoubleLE");lt.prototype.readDoubleBE=l(function(e,t){return e=e>>>0,t||Qn(e,8,this.length),id.read(this,e,!1,52,8)},"readDoubleBE");function Jr(i,e,t,n,r,a){if(!lt.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<a)throw new RangeError('"value" argument is out of bounds');if(t+n>i.length)throw new RangeError("Index out of range")}l(Jr,"checkInt");lt.prototype.writeUintLE=lt.prototype.writeUIntLE=l(function(e,t,n,r){if(e=+e,t=t>>>0,n=n>>>0,!r){let o=Math.pow(2,8*n)-1;Jr(this,e,t,n,o,0)}let a=1,s=0;for(this[t]=e&255;++s<n&&(a*=256);)this[t+s]=e/a&255;return t+n},"writeUIntLE");lt.prototype.writeUintBE=lt.prototype.writeUIntBE=l(function(e,t,n,r){if(e=+e,t=t>>>0,n=n>>>0,!r){let o=Math.pow(2,8*n)-1;Jr(this,e,t,n,o,0)}let a=n-1,s=1;for(this[t+a]=e&255;--a>=0&&(s*=256);)this[t+a]=e/s&255;return t+n},"writeUIntBE");lt.prototype.writeUint8=lt.prototype.writeUInt8=l(function(e,t,n){return e=+e,t=t>>>0,n||Jr(this,e,t,1,255,0),this[t]=e&255,t+1},"writeUInt8");lt.prototype.writeUint16LE=lt.prototype.writeUInt16LE=l(function(e,t,n){return e=+e,t=t>>>0,n||Jr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},"writeUInt16LE");lt.prototype.writeUint16BE=lt.prototype.writeUInt16BE=l(function(e,t,n){return e=+e,t=t>>>0,n||Jr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},"writeUInt16BE");lt.prototype.writeUint32LE=lt.prototype.writeUInt32LE=l(function(e,t,n){return e=+e,t=t>>>0,n||Jr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},"writeUInt32LE");lt.prototype.writeUint32BE=lt.prototype.writeUInt32BE=l(function(e,t,n){return e=+e,t=t>>>0,n||Jr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},"writeUInt32BE");function dB(i,e,t,n,r){bB(e,n,r,i,t,7);let a=Number(e&BigInt(4294967295));i[t++]=a,a=a>>8,i[t++]=a,a=a>>8,i[t++]=a,a=a>>8,i[t++]=a;let s=Number(e>>BigInt(32)&BigInt(4294967295));return i[t++]=s,s=s>>8,i[t++]=s,s=s>>8,i[t++]=s,s=s>>8,i[t++]=s,t}l(dB,"wrtBigUInt64LE");function pB(i,e,t,n,r){bB(e,n,r,i,t,7);let a=Number(e&BigInt(4294967295));i[t+7]=a,a=a>>8,i[t+6]=a,a=a>>8,i[t+5]=a,a=a>>8,i[t+4]=a;let s=Number(e>>BigInt(32)&BigInt(4294967295));return i[t+3]=s,s=s>>8,i[t+2]=s,s=s>>8,i[t+1]=s,s=s>>8,i[t]=s,t+8}l(pB,"wrtBigUInt64BE");lt.prototype.writeBigUInt64LE=sc(l(function(e,t=0){return dB(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE"));lt.prototype.writeBigUInt64BE=sc(l(function(e,t=0){return pB(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE"));lt.prototype.writeIntLE=l(function(e,t,n,r){if(e=+e,t=t>>>0,!r){let c=Math.pow(2,8*n-1);Jr(this,e,t,n,c-1,-c)}let a=0,s=1,o=0;for(this[t]=e&255;++a<n&&(s*=256);)e<0&&o===0&&this[t+a-1]!==0&&(o=1),this[t+a]=(e/s>>0)-o&255;return t+n},"writeIntLE");lt.prototype.writeIntBE=l(function(e,t,n,r){if(e=+e,t=t>>>0,!r){let c=Math.pow(2,8*n-1);Jr(this,e,t,n,c-1,-c)}let a=n-1,s=1,o=0;for(this[t+a]=e&255;--a>=0&&(s*=256);)e<0&&o===0&&this[t+a+1]!==0&&(o=1),this[t+a]=(e/s>>0)-o&255;return t+n},"writeIntBE");lt.prototype.writeInt8=l(function(e,t,n){return e=+e,t=t>>>0,n||Jr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},"writeInt8");lt.prototype.writeInt16LE=l(function(e,t,n){return e=+e,t=t>>>0,n||Jr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},"writeInt16LE");lt.prototype.writeInt16BE=l(function(e,t,n){return e=+e,t=t>>>0,n||Jr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},"writeInt16BE");lt.prototype.writeInt32LE=l(function(e,t,n){return e=+e,t=t>>>0,n||Jr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},"writeInt32LE");lt.prototype.writeInt32BE=l(function(e,t,n){return e=+e,t=t>>>0,n||Jr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},"writeInt32BE");lt.prototype.writeBigInt64LE=sc(l(function(e,t=0){return dB(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE"));lt.prototype.writeBigInt64BE=sc(l(function(e,t=0){return pB(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function mB(i,e,t,n,r,a){if(t+n>i.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}l(mB,"checkIEEE754");function _B(i,e,t,n,r){return e=+e,t=t>>>0,r||mB(i,e,t,4,34028234663852886e22,-34028234663852886e22),id.write(i,e,t,n,23,4),t+4}l(_B,"writeFloat");lt.prototype.writeFloatLE=l(function(e,t,n){return _B(this,e,t,!0,n)},"writeFloatLE");lt.prototype.writeFloatBE=l(function(e,t,n){return _B(this,e,t,!1,n)},"writeFloatBE");function gB(i,e,t,n,r){return e=+e,t=t>>>0,r||mB(i,e,t,8,17976931348623157e292,-17976931348623157e292),id.write(i,e,t,n,52,8),t+8}l(gB,"writeDouble");lt.prototype.writeDoubleLE=l(function(e,t,n){return gB(this,e,t,!0,n)},"writeDoubleLE");lt.prototype.writeDoubleBE=l(function(e,t,n){return gB(this,e,t,!1,n)},"writeDoubleBE");lt.prototype.copy=l(function(e,t,n,r){if(!lt.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!r&&r!==0&&(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);let a=r-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),a},"copy");lt.prototype.fill=l(function(e,t,n,r){if(typeof e=="string"){if(typeof t=="string"?(r=t,t=0,n=this.length):typeof n=="string"&&(r=n,n=this.length),r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!lt.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(e.length===1){let s=e.charCodeAt(0);(r==="utf8"&&s<128||r==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let a;if(typeof e=="number")for(a=t;a<n;++a)this[a]=e;else{let s=lt.isBuffer(e)?e:lt.from(e,r),o=s.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=s[a%o]}return this},"fill");var td={};function EA(i,e,t){td[i]=class extends t{static{l(this,"NodeError")}constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${i}]`,this.stack,delete this.name}get code(){return i}set code(r){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:r,writable:!0})}toString(){return`${this.name} [${i}]: ${this.message}`}}}l(EA,"E");EA("ERR_BUFFER_OUT_OF_BOUNDS",function(i){return i?`${i} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);EA("ERR_INVALID_ARG_TYPE",function(i,e){return`The "${i}" argument must be of type number. Received type ${typeof e}`},TypeError);EA("ERR_OUT_OF_RANGE",function(i,e,t){let n=`The value of "${i}" is out of range.`,r=t;return Number.isInteger(t)&&Math.abs(t)>2**32?r=oB(String(t)):typeof t=="bigint"&&(r=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(r=oB(r)),r+="n"),n+=` It must be ${e}. Received ${r}`,n},RangeError);function oB(i){let e="",t=i.length,n=i[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${i.slice(t-3,t)}${e}`;return`${i.slice(0,t)}${e}`}l(oB,"addNumericalSeparator");function doe(i,e,t){nd(e,"offset"),(i[e]===void 0||i[e+t]===void 0)&&Ym(e,i.length-(t+1))}l(doe,"checkBounds");function bB(i,e,t,n,r,a){if(i>t||i<e){let s=typeof e=="bigint"?"n":"",o;throw a>3?e===0||e===BigInt(0)?o=`>= 0${s} and < 2${s} ** ${(a+1)*8}${s}`:o=`>= -(2${s} ** ${(a+1)*8-1}${s}) and < 2 ** ${(a+1)*8-1}${s}`:o=`>= ${e}${s} and <= ${t}${s}`,new td.ERR_OUT_OF_RANGE("value",o,i)}doe(n,r,a)}l(bB,"checkIntBI");function nd(i,e){if(typeof i!="number")throw new td.ERR_INVALID_ARG_TYPE(e,"number",i)}l(nd,"validateNumber");function Ym(i,e,t){throw Math.floor(i)!==i?(nd(i,t),new td.ERR_OUT_OF_RANGE(t||"offset","an integer",i)):e<0?new td.ERR_BUFFER_OUT_OF_BOUNDS:new td.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,i)}l(Ym,"boundsError");var poe=/[^+/0-9A-Za-z-_]/g;function moe(i){if(i=i.split("=")[0],i=i.trim().replace(poe,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}l(moe,"base64clean");function wA(i,e){e=e||1/0;let t,n=i.length,r=null,a=[];for(let s=0;s<n;++s){if(t=i.charCodeAt(s),t>55295&&t<57344){if(!r){if(t>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}r=t;continue}if(t<56320){(e-=3)>-1&&a.push(239,191,189),r=t;continue}t=(r-55296<<10|t-56320)+65536}else r&&(e-=3)>-1&&a.push(239,191,189);if(r=null,t<128){if((e-=1)<0)break;a.push(t)}else if(t<2048){if((e-=2)<0)break;a.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;a.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;a.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return a}l(wA,"utf8ToBytes");function _oe(i){let e=[];for(let t=0;t<i.length;++t)e.push(i.charCodeAt(t)&255);return e}l(_oe,"asciiToBytes");function goe(i,e){let t,n,r,a=[];for(let s=0;s<i.length&&!((e-=2)<0);++s)t=i.charCodeAt(s),n=t>>8,r=t%256,a.push(r),a.push(n);return a}l(goe,"utf16leToBytes");function yB(i){return bA.toByteArray(moe(i))}l(yB,"base64ToBytes");function vb(i,e,t,n){let r;for(r=0;r<n&&!(r+t>=e.length||r>=i.length);++r)e[r+t]=i[r];return r}l(vb,"blitBuffer");function Zs(i,e){return i instanceof e||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===e.name}l(Zs,"isInstance");function MA(i){return i!==i}l(MA,"numberIsNaN");var boe=function(){let i="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let r=0;r<16;++r)e[n+r]=i[t]+i[r]}return e}();function sc(i){return typeof BigInt>"u"?yoe:i}l(sc,"defineBigIntMethod");function yoe(){throw new Error("BigInt not supported")}l(yoe,"BufferBigIntNotDefined")});var pe,ae=Gt(()=>{pe=Mn(Fu(),1)});var vB=qe((ad,Zm)=>{ne();ae();re();(function(){var i,e="4.17.21",t=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",a="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",o=500,c="__lodash_placeholder__",u=1,h=2,f=4,p=1,d=2,m=1,y=2,g=4,b=8,x=16,w=32,E=64,M=128,C=256,I=512,F=30,A="...",T=800,j=16,R=1,U=2,q=3,X=1/0,fe=9007199254740991,H=17976931348623157e292,Y=0/0,$=4294967295,Z=$-1,ie=$>>>1,ue=[["ary",M],["bind",m],["bindKey",y],["curry",b],["curryRight",x],["flip",I],["partial",w],["partialRight",E],["rearg",C]],Me="[object Arguments]",Fe="[object Array]",De="[object AsyncFunction]",Ge="[object Boolean]",ve="[object Date]",we="[object DOMException]",He="[object Error]",Ke="[object Function]",Ze="[object GeneratorFunction]",S="[object Map]",G="[object Number]",Q="[object Null]",K="[object Object]",J="[object Promise]",me="[object Proxy]",Se="[object RegExp]",Ie="[object Set]",Ce="[object String]",Xe="[object Symbol]",nt="[object Undefined]",z="[object WeakMap]",B="[object WeakSet]",Ae="[object ArrayBuffer]",W="[object DataView]",L="[object Float32Array]",P="[object Float64Array]",se="[object Int8Array]",de="[object Int16Array]",O="[object Int32Array]",be="[object Uint8Array]",Ue="[object Uint8ClampedArray]",We="[object Uint16Array]",_e="[object Uint32Array]",Re=/\b__p \+= '';/g,te=/\b(__p \+=) '' \+/g,et=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oe=/&(?:amp|lt|gt|quot|#39);/g,N=/[&<>"']/g,le=RegExp(oe.source),Te=RegExp(N.source),ee=/<%-([\s\S]+?)%>/g,Le=/<%([\s\S]+?)%>/g,Ye=/<%=([\s\S]+?)%>/g,vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wt=/^\w*$/,ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ft=/[\\^$.*+?()[\]{}|]/g,Yt=RegExp(Ft.source),Mi=/^\s+/,Kt=/\s/,Ve=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ke=/\{\n\/\* \[wrapped with (.+)\] \*/,je=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rt=/[()=,{}\[\]\/\s]/,St=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vt=/\w*$/,V=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,Pe=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,Be=/^(?:0|[1-9]\d*)$/,it=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,st=/($^)/,dt=/['\n\r\u2028\u2029\\]/g,ht="\\ud800-\\udfff",Mt="\\u0300-\\u036f",yt="\\ufe20-\\ufe2f",Et="\\u20d0-\\u20ff",Pt=Mt+yt+Et,zt="\\u2700-\\u27bf",gi="a-z\\xdf-\\xf6\\xf8-\\xff",Ri="\\xac\\xb1\\xd7\\xf7",Wt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Tt="\\u2000-\\u206f",Tr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jt="A-Z\\xc0-\\xd6\\xd8-\\xde",ln="\\ufe0e\\ufe0f",kr=Ri+Wt+Tt+Tr,pn="['\u2019]",Fn="["+ht+"]",si="["+kr+"]",tn="["+Pt+"]",Zn="\\d+",Ii="["+zt+"]",Fa="["+gi+"]",Eo="[^"+ht+kr+Zn+zt+gi+Jt+"]",Rr="\\ud83c[\\udffb-\\udfff]",xu="(?:"+tn+"|"+Rr+")",Im="[^"+ht+"]",Mo="(?:\\ud83c[\\udde6-\\uddff]){2}",Cm="[\\ud800-\\udbff][\\udc00-\\udfff]",Ao="["+Jt+"]",A1="\\u200d",Ua="(?:"+Fa+"|"+Eo+")",$l="(?:"+Ao+"|"+Eo+")",Vf="(?:"+pn+"(?:d|ll|m|re|s|t|ve))?",Su="(?:"+pn+"(?:D|LL|M|RE|S|T|VE))?",To=xu+"?",aM="["+ln+"]?",Xl="(?:"+A1+"(?:"+[Im,Mo,Cm].join("|")+")"+aM+To+")*",Eu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",T1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",k1=aM+To+Xl,sM="(?:"+[Ii,Mo,Cm].join("|")+")"+k1,oM="(?:"+[Im+tn+"?",tn,Mo,Cm,Fn].join("|")+")",E6=RegExp(pn,"g"),M6=RegExp(tn,"g"),R1=RegExp(Rr+"(?="+Rr+")|"+oM+k1,"g"),A6=RegExp([Ao+"?"+Fa+"+"+Vf+"(?="+[si,Ao,"$"].join("|")+")",$l+"+"+Su+"(?="+[si,Ao+Ua,"$"].join("|")+")",Ao+"?"+Ua+"+"+Vf,Ao+"+"+Su,T1,Eu,Zn,sM].join("|"),"g"),T6=RegExp("["+A1+ht+Pt+ln+"]"),k6=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,R6=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],JQ=-1,Qi={};Qi[L]=Qi[P]=Qi[se]=Qi[de]=Qi[O]=Qi[be]=Qi[Ue]=Qi[We]=Qi[_e]=!0,Qi[Me]=Qi[Fe]=Qi[Ae]=Qi[Ge]=Qi[W]=Qi[ve]=Qi[He]=Qi[Ke]=Qi[S]=Qi[G]=Qi[K]=Qi[Se]=Qi[Ie]=Qi[Ce]=Qi[z]=!1;var Yi={};Yi[Me]=Yi[Fe]=Yi[Ae]=Yi[W]=Yi[Ge]=Yi[ve]=Yi[L]=Yi[P]=Yi[se]=Yi[de]=Yi[O]=Yi[S]=Yi[G]=Yi[K]=Yi[Se]=Yi[Ie]=Yi[Ce]=Yi[Xe]=Yi[be]=Yi[Ue]=Yi[We]=Yi[_e]=!0,Yi[He]=Yi[Ke]=Yi[z]=!1;var KQ={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},QQ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eee={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tee={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},iee=parseFloat,nee=parseInt,P6=typeof global=="object"&&global&&global.Object===Object&&global,ree=typeof self=="object"&&self&&self.Object===Object&&self,Jn=P6||ree||Function("return this")(),lM=typeof ad=="object"&&ad&&!ad.nodeType&&ad,Mu=lM&&typeof Zm=="object"&&Zm&&!Zm.nodeType&&Zm,I6=Mu&&Mu.exports===lM,cM=I6&&P6.process,za=function(){try{var Je=Mu&&Mu.require&&Mu.require("util").types;return Je||cM&&cM.binding&&cM.binding("util")}catch{}}(),C6=za&&za.isArrayBuffer,L6=za&&za.isDate,N6=za&&za.isMap,O6=za&&za.isRegExp,B6=za&&za.isSet,F6=za&&za.isTypedArray;function ca(Je,ut,at){switch(at.length){case 0:return Je.call(ut);case 1:return Je.call(ut,at[0]);case 2:return Je.call(ut,at[0],at[1]);case 3:return Je.call(ut,at[0],at[1],at[2])}return Je.apply(ut,at)}l(ca,"apply");function aee(Je,ut,at,Nt){for(var Qt=-1,Ci=Je==null?0:Je.length;++Qt<Ci;){var Un=Je[Qt];ut(Nt,Un,at(Un),Je)}return Nt}l(aee,"arrayAggregator");function Da(Je,ut){for(var at=-1,Nt=Je==null?0:Je.length;++at<Nt&&ut(Je[at],at,Je)!==!1;);return Je}l(Da,"arrayEach");function see(Je,ut){for(var at=Je==null?0:Je.length;at--&&ut(Je[at],at,Je)!==!1;);return Je}l(see,"arrayEachRight");function U6(Je,ut){for(var at=-1,Nt=Je==null?0:Je.length;++at<Nt;)if(!ut(Je[at],at,Je))return!1;return!0}l(U6,"arrayEvery");function Yl(Je,ut){for(var at=-1,Nt=Je==null?0:Je.length,Qt=0,Ci=[];++at<Nt;){var Un=Je[at];ut(Un,at,Je)&&(Ci[Qt++]=Un)}return Ci}l(Yl,"arrayFilter");function P1(Je,ut){var at=Je==null?0:Je.length;return!!at&&qf(Je,ut,0)>-1}l(P1,"arrayIncludes");function uM(Je,ut,at){for(var Nt=-1,Qt=Je==null?0:Je.length;++Nt<Qt;)if(at(ut,Je[Nt]))return!0;return!1}l(uM,"arrayIncludesWith");function nn(Je,ut){for(var at=-1,Nt=Je==null?0:Je.length,Qt=Array(Nt);++at<Nt;)Qt[at]=ut(Je[at],at,Je);return Qt}l(nn,"arrayMap");function Zl(Je,ut){for(var at=-1,Nt=ut.length,Qt=Je.length;++at<Nt;)Je[Qt+at]=ut[at];return Je}l(Zl,"arrayPush");function hM(Je,ut,at,Nt){var Qt=-1,Ci=Je==null?0:Je.length;for(Nt&&Ci&&(at=Je[++Qt]);++Qt<Ci;)at=ut(at,Je[Qt],Qt,Je);return at}l(hM,"arrayReduce");function oee(Je,ut,at,Nt){var Qt=Je==null?0:Je.length;for(Nt&&Qt&&(at=Je[--Qt]);Qt--;)at=ut(at,Je[Qt],Qt,Je);return at}l(oee,"arrayReduceRight");function fM(Je,ut){for(var at=-1,Nt=Je==null?0:Je.length;++at<Nt;)if(ut(Je[at],at,Je))return!0;return!1}l(fM,"arraySome");var lee=dM("length");function cee(Je){return Je.split("")}l(cee,"asciiToArray");function uee(Je){return Je.match(tt)||[]}l(uee,"asciiWords");function z6(Je,ut,at){var Nt;return at(Je,function(Qt,Ci,Un){if(ut(Qt,Ci,Un))return Nt=Ci,!1}),Nt}l(z6,"baseFindKey");function I1(Je,ut,at,Nt){for(var Qt=Je.length,Ci=at+(Nt?1:-1);Nt?Ci--:++Ci<Qt;)if(ut(Je[Ci],Ci,Je))return Ci;return-1}l(I1,"baseFindIndex");function qf(Je,ut,at){return ut===ut?xee(Je,ut,at):I1(Je,D6,at)}l(qf,"baseIndexOf");function hee(Je,ut,at,Nt){for(var Qt=at-1,Ci=Je.length;++Qt<Ci;)if(Nt(Je[Qt],ut))return Qt;return-1}l(hee,"baseIndexOfWith");function D6(Je){return Je!==Je}l(D6,"baseIsNaN");function V6(Je,ut){var at=Je==null?0:Je.length;return at?mM(Je,ut)/at:Y}l(V6,"baseMean");function dM(Je){return function(ut){return ut==null?i:ut[Je]}}l(dM,"baseProperty");function pM(Je){return function(ut){return Je==null?i:Je[ut]}}l(pM,"basePropertyOf");function q6(Je,ut,at,Nt,Qt){return Qt(Je,function(Ci,Un,Xi){at=Nt?(Nt=!1,Ci):ut(at,Ci,Un,Xi)}),at}l(q6,"baseReduce");function fee(Je,ut){var at=Je.length;for(Je.sort(ut);at--;)Je[at]=Je[at].value;return Je}l(fee,"baseSortBy");function mM(Je,ut){for(var at,Nt=-1,Qt=Je.length;++Nt<Qt;){var Ci=ut(Je[Nt]);Ci!==i&&(at=at===i?Ci:at+Ci)}return at}l(mM,"baseSum");function _M(Je,ut){for(var at=-1,Nt=Array(Je);++at<Je;)Nt[at]=ut(at);return Nt}l(_M,"baseTimes");function dee(Je,ut){return nn(ut,function(at){return[at,Je[at]]})}l(dee,"baseToPairs");function H6(Je){return Je&&Je.slice(0,$6(Je)+1).replace(Mi,"")}l(H6,"baseTrim");function ua(Je){return function(ut){return Je(ut)}}l(ua,"baseUnary");function gM(Je,ut){return nn(ut,function(at){return Je[at]})}l(gM,"baseValues");function Lm(Je,ut){return Je.has(ut)}l(Lm,"cacheHas");function G6(Je,ut){for(var at=-1,Nt=Je.length;++at<Nt&&qf(ut,Je[at],0)>-1;);return at}l(G6,"charsStartIndex");function W6(Je,ut){for(var at=Je.length;at--&&qf(ut,Je[at],0)>-1;);return at}l(W6,"charsEndIndex");function pee(Je,ut){for(var at=Je.length,Nt=0;at--;)Je[at]===ut&&++Nt;return Nt}l(pee,"countHolders");var mee=pM(KQ),_ee=pM(QQ);function gee(Je){return"\\"+tee[Je]}l(gee,"escapeStringChar");function bee(Je,ut){return Je==null?i:Je[ut]}l(bee,"getValue");function Hf(Je){return T6.test(Je)}l(Hf,"hasUnicode");function yee(Je){return k6.test(Je)}l(yee,"hasUnicodeWord");function vee(Je){for(var ut,at=[];!(ut=Je.next()).done;)at.push(ut.value);return at}l(vee,"iteratorToArray");function bM(Je){var ut=-1,at=Array(Je.size);return Je.forEach(function(Nt,Qt){at[++ut]=[Qt,Nt]}),at}l(bM,"mapToArray");function j6(Je,ut){return function(at){return Je(ut(at))}}l(j6,"overArg");function Jl(Je,ut){for(var at=-1,Nt=Je.length,Qt=0,Ci=[];++at<Nt;){var Un=Je[at];(Un===ut||Un===c)&&(Je[at]=c,Ci[Qt++]=at)}return Ci}l(Jl,"replaceHolders");function C1(Je){var ut=-1,at=Array(Je.size);return Je.forEach(function(Nt){at[++ut]=Nt}),at}l(C1,"setToArray");function wee(Je){var ut=-1,at=Array(Je.size);return Je.forEach(function(Nt){at[++ut]=[Nt,Nt]}),at}l(wee,"setToPairs");function xee(Je,ut,at){for(var Nt=at-1,Qt=Je.length;++Nt<Qt;)if(Je[Nt]===ut)return Nt;return-1}l(xee,"strictIndexOf");function See(Je,ut,at){for(var Nt=at+1;Nt--;)if(Je[Nt]===ut)return Nt;return Nt}l(See,"strictLastIndexOf");function Gf(Je){return Hf(Je)?Mee(Je):lee(Je)}l(Gf,"stringSize");function gs(Je){return Hf(Je)?Aee(Je):cee(Je)}l(gs,"stringToArray");function $6(Je){for(var ut=Je.length;ut--&&Kt.test(Je.charAt(ut)););return ut}l($6,"trimmedEndIndex");var Eee=pM(eee);function Mee(Je){for(var ut=R1.lastIndex=0;R1.test(Je);)++ut;return ut}l(Mee,"unicodeSize");function Aee(Je){return Je.match(R1)||[]}l(Aee,"unicodeToArray");function Tee(Je){return Je.match(A6)||[]}l(Tee,"unicodeWords");var kee=l(function Je(ut){ut=ut==null?Jn:Kl.defaults(Jn.Object(),ut,Kl.pick(Jn,R6));var at=ut.Array,Nt=ut.Date,Qt=ut.Error,Ci=ut.Function,Un=ut.Math,Xi=ut.Object,yM=ut.RegExp,Ree=ut.String,Va=ut.TypeError,L1=at.prototype,Pee=Ci.prototype,Wf=Xi.prototype,N1=ut["__core-js_shared__"],O1=Pee.toString,Ui=Wf.hasOwnProperty,Iee=0,X6=function(){var _=/[^.]+$/.exec(N1&&N1.keys&&N1.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),B1=Wf.toString,Cee=O1.call(Xi),Lee=Jn._,Nee=yM("^"+O1.call(Ui).replace(Ft,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F1=I6?ut.Buffer:i,Ql=ut.Symbol,U1=ut.Uint8Array,Y6=F1?F1.allocUnsafe:i,z1=j6(Xi.getPrototypeOf,Xi),Z6=Xi.create,J6=Wf.propertyIsEnumerable,D1=L1.splice,K6=Ql?Ql.isConcatSpreadable:i,Nm=Ql?Ql.iterator:i,Au=Ql?Ql.toStringTag:i,V1=function(){try{var _=Iu(Xi,"defineProperty");return _({},"",{}),_}catch{}}(),Oee=ut.clearTimeout!==Jn.clearTimeout&&ut.clearTimeout,Bee=Nt&&Nt.now!==Jn.Date.now&&Nt.now,Fee=ut.setTimeout!==Jn.setTimeout&&ut.setTimeout,q1=Un.ceil,H1=Un.floor,vM=Xi.getOwnPropertySymbols,Uee=F1?F1.isBuffer:i,Q6=ut.isFinite,zee=L1.join,Dee=j6(Xi.keys,Xi),zn=Un.max,dr=Un.min,Vee=Nt.now,qee=ut.parseInt,eN=Un.random,Hee=L1.reverse,wM=Iu(ut,"DataView"),Om=Iu(ut,"Map"),xM=Iu(ut,"Promise"),jf=Iu(ut,"Set"),Bm=Iu(ut,"WeakMap"),Fm=Iu(Xi,"create"),G1=Bm&&new Bm,$f={},Gee=Cu(wM),Wee=Cu(Om),jee=Cu(xM),$ee=Cu(jf),Xee=Cu(Bm),W1=Ql?Ql.prototype:i,Um=W1?W1.valueOf:i,tN=W1?W1.toString:i;function ye(_){if(mn(_)&&!ei(_)&&!(_ instanceof Si)){if(_ instanceof qa)return _;if(Ui.call(_,"__wrapped__"))return i8(_)}return new qa(_)}l(ye,"lodash");var Xf=function(){function _(){}return l(_,"object"),function(v){if(!cn(v))return{};if(Z6)return Z6(v);_.prototype=v;var k=new _;return _.prototype=i,k}}();function j1(){}l(j1,"baseLodash");function qa(_,v){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=i}l(qa,"LodashWrapper"),ye.templateSettings={escape:ee,evaluate:Le,interpolate:Ye,variable:"",imports:{_:ye}},ye.prototype=j1.prototype,ye.prototype.constructor=ye,qa.prototype=Xf(j1.prototype),qa.prototype.constructor=qa;function Si(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}l(Si,"LazyWrapper");function Yee(){var _=new Si(this.__wrapped__);return _.__actions__=jr(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=jr(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=jr(this.__views__),_}l(Yee,"lazyClone");function Zee(){if(this.__filtered__){var _=new Si(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}l(Zee,"lazyReverse");function Jee(){var _=this.__wrapped__.value(),v=this.__dir__,k=ei(_),D=v<0,ce=k?_.length:0,Ee=cie(0,ce,this.__views__),ze=Ee.start,$e=Ee.end,Qe=$e-ze,pt=D?$e:ze-1,mt=this.__iteratees__,bt=mt.length,It=0,Dt=dr(Qe,this.__takeCount__);if(!k||!D&&ce==Qe&&Dt==Qe)return MN(_,this.__actions__);var $t=[];e:for(;Qe--&&It<Dt;){pt+=v;for(var hi=-1,Xt=_[pt];++hi<bt;){var wi=mt[hi],Ei=wi.iteratee,da=wi.type,Cr=Ei(Xt);if(da==U)Xt=Cr;else if(!Cr){if(da==R)continue e;break e}}$t[It++]=Xt}return $t}l(Jee,"lazyValue"),Si.prototype=Xf(j1.prototype),Si.prototype.constructor=Si;function Tu(_){var v=-1,k=_==null?0:_.length;for(this.clear();++v<k;){var D=_[v];this.set(D[0],D[1])}}l(Tu,"Hash");function Kee(){this.__data__=Fm?Fm(null):{},this.size=0}l(Kee,"hashClear");function Qee(_){var v=this.has(_)&&delete this.__data__[_];return this.size-=v?1:0,v}l(Qee,"hashDelete");function ete(_){var v=this.__data__;if(Fm){var k=v[_];return k===s?i:k}return Ui.call(v,_)?v[_]:i}l(ete,"hashGet");function tte(_){var v=this.__data__;return Fm?v[_]!==i:Ui.call(v,_)}l(tte,"hashHas");function ite(_,v){var k=this.__data__;return this.size+=this.has(_)?0:1,k[_]=Fm&&v===i?s:v,this}l(ite,"hashSet"),Tu.prototype.clear=Kee,Tu.prototype.delete=Qee,Tu.prototype.get=ete,Tu.prototype.has=tte,Tu.prototype.set=ite;function ko(_){var v=-1,k=_==null?0:_.length;for(this.clear();++v<k;){var D=_[v];this.set(D[0],D[1])}}l(ko,"ListCache");function nte(){this.__data__=[],this.size=0}l(nte,"listCacheClear");function rte(_){var v=this.__data__,k=$1(v,_);if(k<0)return!1;var D=v.length-1;return k==D?v.pop():D1.call(v,k,1),--this.size,!0}l(rte,"listCacheDelete");function ate(_){var v=this.__data__,k=$1(v,_);return k<0?i:v[k][1]}l(ate,"listCacheGet");function ste(_){return $1(this.__data__,_)>-1}l(ste,"listCacheHas");function ote(_,v){var k=this.__data__,D=$1(k,_);return D<0?(++this.size,k.push([_,v])):k[D][1]=v,this}l(ote,"listCacheSet"),ko.prototype.clear=nte,ko.prototype.delete=rte,ko.prototype.get=ate,ko.prototype.has=ste,ko.prototype.set=ote;function Ro(_){var v=-1,k=_==null?0:_.length;for(this.clear();++v<k;){var D=_[v];this.set(D[0],D[1])}}l(Ro,"MapCache");function lte(){this.size=0,this.__data__={hash:new Tu,map:new(Om||ko),string:new Tu}}l(lte,"mapCacheClear");function cte(_){var v=ab(this,_).delete(_);return this.size-=v?1:0,v}l(cte,"mapCacheDelete");function ute(_){return ab(this,_).get(_)}l(ute,"mapCacheGet");function hte(_){return ab(this,_).has(_)}l(hte,"mapCacheHas");function fte(_,v){var k=ab(this,_),D=k.size;return k.set(_,v),this.size+=k.size==D?0:1,this}l(fte,"mapCacheSet"),Ro.prototype.clear=lte,Ro.prototype.delete=cte,Ro.prototype.get=ute,Ro.prototype.has=hte,Ro.prototype.set=fte;function ku(_){var v=-1,k=_==null?0:_.length;for(this.__data__=new Ro;++v<k;)this.add(_[v])}l(ku,"SetCache");function dte(_){return this.__data__.set(_,s),this}l(dte,"setCacheAdd");function pte(_){return this.__data__.has(_)}l(pte,"setCacheHas"),ku.prototype.add=ku.prototype.push=dte,ku.prototype.has=pte;function bs(_){var v=this.__data__=new ko(_);this.size=v.size}l(bs,"Stack");function mte(){this.__data__=new ko,this.size=0}l(mte,"stackClear");function _te(_){var v=this.__data__,k=v.delete(_);return this.size=v.size,k}l(_te,"stackDelete");function gte(_){return this.__data__.get(_)}l(gte,"stackGet");function bte(_){return this.__data__.has(_)}l(bte,"stackHas");function yte(_,v){var k=this.__data__;if(k instanceof ko){var D=k.__data__;if(!Om||D.length<t-1)return D.push([_,v]),this.size=++k.size,this;k=this.__data__=new Ro(D)}return k.set(_,v),this.size=k.size,this}l(yte,"stackSet"),bs.prototype.clear=mte,bs.prototype.delete=_te,bs.prototype.get=gte,bs.prototype.has=bte,bs.prototype.set=yte;function iN(_,v){var k=ei(_),D=!k&&Lu(_),ce=!k&&!D&&rc(_),Ee=!k&&!D&&!ce&&Kf(_),ze=k||D||ce||Ee,$e=ze?_M(_.length,Ree):[],Qe=$e.length;for(var pt in _)(v||Ui.call(_,pt))&&!(ze&&(pt=="length"||ce&&(pt=="offset"||pt=="parent")||Ee&&(pt=="buffer"||pt=="byteLength"||pt=="byteOffset")||Lo(pt,Qe)))&&$e.push(pt);return $e}l(iN,"arrayLikeKeys");function nN(_){var v=_.length;return v?_[LM(0,v-1)]:i}l(nN,"arraySample");function vte(_,v){return sb(jr(_),Ru(v,0,_.length))}l(vte,"arraySampleSize");function wte(_){return sb(jr(_))}l(wte,"arrayShuffle");function SM(_,v,k){(k!==i&&!ys(_[v],k)||k===i&&!(v in _))&&Po(_,v,k)}l(SM,"assignMergeValue");function zm(_,v,k){var D=_[v];(!(Ui.call(_,v)&&ys(D,k))||k===i&&!(v in _))&&Po(_,v,k)}l(zm,"assignValue");function $1(_,v){for(var k=_.length;k--;)if(ys(_[k][0],v))return k;return-1}l($1,"assocIndexOf");function xte(_,v,k,D){return ec(_,function(ce,Ee,ze){v(D,ce,k(ce),ze)}),D}l(xte,"baseAggregator");function rN(_,v){return _&&$s(v,Kn(v),_)}l(rN,"baseAssign");function Ste(_,v){return _&&$s(v,Xr(v),_)}l(Ste,"baseAssignIn");function Po(_,v,k){v=="__proto__"&&V1?V1(_,v,{configurable:!0,enumerable:!0,value:k,writable:!0}):_[v]=k}l(Po,"baseAssignValue");function EM(_,v){for(var k=-1,D=v.length,ce=at(D),Ee=_==null;++k<D;)ce[k]=Ee?i:rA(_,v[k]);return ce}l(EM,"baseAt");function Ru(_,v,k){return _===_&&(k!==i&&(_=_<=k?_:k),v!==i&&(_=_>=v?_:v)),_}l(Ru,"baseClamp");function Ha(_,v,k,D,ce,Ee){var ze,$e=v&u,Qe=v&h,pt=v&f;if(k&&(ze=ce?k(_,D,ce,Ee):k(_)),ze!==i)return ze;if(!cn(_))return _;var mt=ei(_);if(mt){if(ze=hie(_),!$e)return jr(_,ze)}else{var bt=pr(_),It=bt==Ke||bt==Ze;if(rc(_))return kN(_,$e);if(bt==K||bt==Me||It&&!ce){if(ze=Qe||It?{}:$N(_),!$e)return Qe?eie(_,Ste(ze,_)):Qte(_,rN(ze,_))}else{if(!Yi[bt])return ce?_:{};ze=fie(_,bt,$e)}}Ee||(Ee=new bs);var Dt=Ee.get(_);if(Dt)return Dt;Ee.set(_,ze),x8(_)?_.forEach(function(Xt){ze.add(Ha(Xt,v,k,Xt,_,Ee))}):v8(_)&&_.forEach(function(Xt,wi){ze.set(wi,Ha(Xt,v,k,wi,_,Ee))});var $t=pt?Qe?GM:HM:Qe?Xr:Kn,hi=mt?i:$t(_);return Da(hi||_,function(Xt,wi){hi&&(wi=Xt,Xt=_[wi]),zm(ze,wi,Ha(Xt,v,k,wi,_,Ee))}),ze}l(Ha,"baseClone");function Ete(_){var v=Kn(_);return function(k){return aN(k,_,v)}}l(Ete,"baseConforms");function aN(_,v,k){var D=k.length;if(_==null)return!D;for(_=Xi(_);D--;){var ce=k[D],Ee=v[ce],ze=_[ce];if(ze===i&&!(ce in _)||!Ee(ze))return!1}return!0}l(aN,"baseConformsTo");function sN(_,v,k){if(typeof _!="function")throw new Va(r);return jm(function(){_.apply(i,k)},v)}l(sN,"baseDelay");function Dm(_,v,k,D){var ce=-1,Ee=P1,ze=!0,$e=_.length,Qe=[],pt=v.length;if(!$e)return Qe;k&&(v=nn(v,ua(k))),D?(Ee=uM,ze=!1):v.length>=t&&(Ee=Lm,ze=!1,v=new ku(v));e:for(;++ce<$e;){var mt=_[ce],bt=k==null?mt:k(mt);if(mt=D||mt!==0?mt:0,ze&&bt===bt){for(var It=pt;It--;)if(v[It]===bt)continue e;Qe.push(mt)}else Ee(v,bt,D)||Qe.push(mt)}return Qe}l(Dm,"baseDifference");var ec=LN(js),oN=LN(AM,!0);function Mte(_,v){var k=!0;return ec(_,function(D,ce,Ee){return k=!!v(D,ce,Ee),k}),k}l(Mte,"baseEvery");function X1(_,v,k){for(var D=-1,ce=_.length;++D<ce;){var Ee=_[D],ze=v(Ee);if(ze!=null&&($e===i?ze===ze&&!fa(ze):k(ze,$e)))var $e=ze,Qe=Ee}return Qe}l(X1,"baseExtremum");function Ate(_,v,k,D){var ce=_.length;for(k=oi(k),k<0&&(k=-k>ce?0:ce+k),D=D===i||D>ce?ce:oi(D),D<0&&(D+=ce),D=k>D?0:E8(D);k<D;)_[k++]=v;return _}l(Ate,"baseFill");function lN(_,v){var k=[];return ec(_,function(D,ce,Ee){v(D,ce,Ee)&&k.push(D)}),k}l(lN,"baseFilter");function lr(_,v,k,D,ce){var Ee=-1,ze=_.length;for(k||(k=pie),ce||(ce=[]);++Ee<ze;){var $e=_[Ee];v>0&&k($e)?v>1?lr($e,v-1,k,D,ce):Zl(ce,$e):D||(ce[ce.length]=$e)}return ce}l(lr,"baseFlatten");var MM=NN(),cN=NN(!0);function js(_,v){return _&&MM(_,v,Kn)}l(js,"baseForOwn");function AM(_,v){return _&&cN(_,v,Kn)}l(AM,"baseForOwnRight");function Y1(_,v){return Yl(v,function(k){return No(_[k])})}l(Y1,"baseFunctions");function Pu(_,v){v=ic(v,_);for(var k=0,D=v.length;_!=null&&k<D;)_=_[Xs(v[k++])];return k&&k==D?_:i}l(Pu,"baseGet");function uN(_,v,k){var D=v(_);return ei(_)?D:Zl(D,k(_))}l(uN,"baseGetAllKeys");function Pr(_){return _==null?_===i?nt:Q:Au&&Au in Xi(_)?lie(_):wie(_)}l(Pr,"baseGetTag");function TM(_,v){return _>v}l(TM,"baseGt");function Tte(_,v){return _!=null&&Ui.call(_,v)}l(Tte,"baseHas");function kte(_,v){return _!=null&&v in Xi(_)}l(kte,"baseHasIn");function Rte(_,v,k){return _>=dr(v,k)&&_<zn(v,k)}l(Rte,"baseInRange");function kM(_,v,k){for(var D=k?uM:P1,ce=_[0].length,Ee=_.length,ze=Ee,$e=at(Ee),Qe=1/0,pt=[];ze--;){var mt=_[ze];ze&&v&&(mt=nn(mt,ua(v))),Qe=dr(mt.length,Qe),$e[ze]=!k&&(v||ce>=120&&mt.length>=120)?new ku(ze&&mt):i}mt=_[0];var bt=-1,It=$e[0];e:for(;++bt<ce&&pt.length<Qe;){var Dt=mt[bt],$t=v?v(Dt):Dt;if(Dt=k||Dt!==0?Dt:0,!(It?Lm(It,$t):D(pt,$t,k))){for(ze=Ee;--ze;){var hi=$e[ze];if(!(hi?Lm(hi,$t):D(_[ze],$t,k)))continue e}It&&It.push($t),pt.push(Dt)}}return pt}l(kM,"baseIntersection");function Pte(_,v,k,D){return js(_,function(ce,Ee,ze){v(D,k(ce),Ee,ze)}),D}l(Pte,"baseInverter");function Vm(_,v,k){v=ic(v,_),_=JN(_,v);var D=_==null?_:_[Xs(Wa(v))];return D==null?i:ca(D,_,k)}l(Vm,"baseInvoke");function hN(_){return mn(_)&&Pr(_)==Me}l(hN,"baseIsArguments");function Ite(_){return mn(_)&&Pr(_)==Ae}l(Ite,"baseIsArrayBuffer");function Cte(_){return mn(_)&&Pr(_)==ve}l(Cte,"baseIsDate");function qm(_,v,k,D,ce){return _===v?!0:_==null||v==null||!mn(_)&&!mn(v)?_!==_&&v!==v:Lte(_,v,k,D,qm,ce)}l(qm,"baseIsEqual");function Lte(_,v,k,D,ce,Ee){var ze=ei(_),$e=ei(v),Qe=ze?Fe:pr(_),pt=$e?Fe:pr(v);Qe=Qe==Me?K:Qe,pt=pt==Me?K:pt;var mt=Qe==K,bt=pt==K,It=Qe==pt;if(It&&rc(_)){if(!rc(v))return!1;ze=!0,mt=!1}if(It&&!mt)return Ee||(Ee=new bs),ze||Kf(_)?GN(_,v,k,D,ce,Ee):sie(_,v,Qe,k,D,ce,Ee);if(!(k&p)){var Dt=mt&&Ui.call(_,"__wrapped__"),$t=bt&&Ui.call(v,"__wrapped__");if(Dt||$t){var hi=Dt?_.value():_,Xt=$t?v.value():v;return Ee||(Ee=new bs),ce(hi,Xt,k,D,Ee)}}return It?(Ee||(Ee=new bs),oie(_,v,k,D,ce,Ee)):!1}l(Lte,"baseIsEqualDeep");function Nte(_){return mn(_)&&pr(_)==S}l(Nte,"baseIsMap");function RM(_,v,k,D){var ce=k.length,Ee=ce,ze=!D;if(_==null)return!Ee;for(_=Xi(_);ce--;){var $e=k[ce];if(ze&&$e[2]?$e[1]!==_[$e[0]]:!($e[0]in _))return!1}for(;++ce<Ee;){$e=k[ce];var Qe=$e[0],pt=_[Qe],mt=$e[1];if(ze&&$e[2]){if(pt===i&&!(Qe in _))return!1}else{var bt=new bs;if(D)var It=D(pt,mt,Qe,_,v,bt);if(!(It===i?qm(mt,pt,p|d,D,bt):It))return!1}}return!0}l(RM,"baseIsMatch");function fN(_){if(!cn(_)||_ie(_))return!1;var v=No(_)?Nee:Pe;return v.test(Cu(_))}l(fN,"baseIsNative");function Ote(_){return mn(_)&&Pr(_)==Se}l(Ote,"baseIsRegExp");function Bte(_){return mn(_)&&pr(_)==Ie}l(Bte,"baseIsSet");function Fte(_){return mn(_)&&fb(_.length)&&!!Qi[Pr(_)]}l(Fte,"baseIsTypedArray");function dN(_){return typeof _=="function"?_:_==null?Yr:typeof _=="object"?ei(_)?_N(_[0],_[1]):mN(_):O8(_)}l(dN,"baseIteratee");function PM(_){if(!Wm(_))return Dee(_);var v=[];for(var k in Xi(_))Ui.call(_,k)&&k!="constructor"&&v.push(k);return v}l(PM,"baseKeys");function Ute(_){if(!cn(_))return vie(_);var v=Wm(_),k=[];for(var D in _)D=="constructor"&&(v||!Ui.call(_,D))||k.push(D);return k}l(Ute,"baseKeysIn");function IM(_,v){return _<v}l(IM,"baseLt");function pN(_,v){var k=-1,D=$r(_)?at(_.length):[];return ec(_,function(ce,Ee,ze){D[++k]=v(ce,Ee,ze)}),D}l(pN,"baseMap");function mN(_){var v=jM(_);return v.length==1&&v[0][2]?YN(v[0][0],v[0][1]):function(k){return k===_||RM(k,_,v)}}l(mN,"baseMatches");function _N(_,v){return XM(_)&&XN(v)?YN(Xs(_),v):function(k){var D=rA(k,_);return D===i&&D===v?aA(k,_):qm(v,D,p|d)}}l(_N,"baseMatchesProperty");function Z1(_,v,k,D,ce){_!==v&&MM(v,function(Ee,ze){if(ce||(ce=new bs),cn(Ee))zte(_,v,ze,k,Z1,D,ce);else{var $e=D?D(ZM(_,ze),Ee,ze+"",_,v,ce):i;$e===i&&($e=Ee),SM(_,ze,$e)}},Xr)}l(Z1,"baseMerge");function zte(_,v,k,D,ce,Ee,ze){var $e=ZM(_,k),Qe=ZM(v,k),pt=ze.get(Qe);if(pt){SM(_,k,pt);return}var mt=Ee?Ee($e,Qe,k+"",_,v,ze):i,bt=mt===i;if(bt){var It=ei(Qe),Dt=!It&&rc(Qe),$t=!It&&!Dt&&Kf(Qe);mt=Qe,It||Dt||$t?ei($e)?mt=$e:Sn($e)?mt=jr($e):Dt?(bt=!1,mt=kN(Qe,!0)):$t?(bt=!1,mt=RN(Qe,!0)):mt=[]:$m(Qe)||Lu(Qe)?(mt=$e,Lu($e)?mt=M8($e):(!cn($e)||No($e))&&(mt=$N(Qe))):bt=!1}bt&&(ze.set(Qe,mt),ce(mt,Qe,D,Ee,ze),ze.delete(Qe)),SM(_,k,mt)}l(zte,"baseMergeDeep");function gN(_,v){var k=_.length;if(k)return v+=v<0?k:0,Lo(v,k)?_[v]:i}l(gN,"baseNth");function bN(_,v,k){v.length?v=nn(v,function(Ee){return ei(Ee)?function(ze){return Pu(ze,Ee.length===1?Ee[0]:Ee)}:Ee}):v=[Yr];var D=-1;v=nn(v,ua(jt()));var ce=pN(_,function(Ee,ze,$e){var Qe=nn(v,function(pt){return pt(Ee)});return{criteria:Qe,index:++D,value:Ee}});return fee(ce,function(Ee,ze){return Kte(Ee,ze,k)})}l(bN,"baseOrderBy");function Dte(_,v){return yN(_,v,function(k,D){return aA(_,D)})}l(Dte,"basePick");function yN(_,v,k){for(var D=-1,ce=v.length,Ee={};++D<ce;){var ze=v[D],$e=Pu(_,ze);k($e,ze)&&Hm(Ee,ic(ze,_),$e)}return Ee}l(yN,"basePickBy");function Vte(_){return function(v){return Pu(v,_)}}l(Vte,"basePropertyDeep");function CM(_,v,k,D){var ce=D?hee:qf,Ee=-1,ze=v.length,$e=_;for(_===v&&(v=jr(v)),k&&($e=nn(_,ua(k)));++Ee<ze;)for(var Qe=0,pt=v[Ee],mt=k?k(pt):pt;(Qe=ce($e,mt,Qe,D))>-1;)$e!==_&&D1.call($e,Qe,1),D1.call(_,Qe,1);return _}l(CM,"basePullAll");function vN(_,v){for(var k=_?v.length:0,D=k-1;k--;){var ce=v[k];if(k==D||ce!==Ee){var Ee=ce;Lo(ce)?D1.call(_,ce,1):BM(_,ce)}}return _}l(vN,"basePullAt");function LM(_,v){return _+H1(eN()*(v-_+1))}l(LM,"baseRandom");function qte(_,v,k,D){for(var ce=-1,Ee=zn(q1((v-_)/(k||1)),0),ze=at(Ee);Ee--;)ze[D?Ee:++ce]=_,_+=k;return ze}l(qte,"baseRange");function NM(_,v){var k="";if(!_||v<1||v>fe)return k;do v%2&&(k+=_),v=H1(v/2),v&&(_+=_);while(v);return k}l(NM,"baseRepeat");function bi(_,v){return JM(ZN(_,v,Yr),_+"")}l(bi,"baseRest");function Hte(_){return nN(Qf(_))}l(Hte,"baseSample");function Gte(_,v){var k=Qf(_);return sb(k,Ru(v,0,k.length))}l(Gte,"baseSampleSize");function Hm(_,v,k,D){if(!cn(_))return _;v=ic(v,_);for(var ce=-1,Ee=v.length,ze=Ee-1,$e=_;$e!=null&&++ce<Ee;){var Qe=Xs(v[ce]),pt=k;if(Qe==="__proto__"||Qe==="constructor"||Qe==="prototype")return _;if(ce!=ze){var mt=$e[Qe];pt=D?D(mt,Qe,$e):i,pt===i&&(pt=cn(mt)?mt:Lo(v[ce+1])?[]:{})}zm($e,Qe,pt),$e=$e[Qe]}return _}l(Hm,"baseSet");var wN=G1?function(_,v){return G1.set(_,v),_}:Yr,Wte=V1?function(_,v){return V1(_,"toString",{configurable:!0,enumerable:!1,value:oA(v),writable:!0})}:Yr;function jte(_){return sb(Qf(_))}l(jte,"baseShuffle");function Ga(_,v,k){var D=-1,ce=_.length;v<0&&(v=-v>ce?0:ce+v),k=k>ce?ce:k,k<0&&(k+=ce),ce=v>k?0:k-v>>>0,v>>>=0;for(var Ee=at(ce);++D<ce;)Ee[D]=_[D+v];return Ee}l(Ga,"baseSlice");function $te(_,v){var k;return ec(_,function(D,ce,Ee){return k=v(D,ce,Ee),!k}),!!k}l($te,"baseSome");function J1(_,v,k){var D=0,ce=_==null?D:_.length;if(typeof v=="number"&&v===v&&ce<=ie){for(;D<ce;){var Ee=D+ce>>>1,ze=_[Ee];ze!==null&&!fa(ze)&&(k?ze<=v:ze<v)?D=Ee+1:ce=Ee}return ce}return OM(_,v,Yr,k)}l(J1,"baseSortedIndex");function OM(_,v,k,D){var ce=0,Ee=_==null?0:_.length;if(Ee===0)return 0;v=k(v);for(var ze=v!==v,$e=v===null,Qe=fa(v),pt=v===i;ce<Ee;){var mt=H1((ce+Ee)/2),bt=k(_[mt]),It=bt!==i,Dt=bt===null,$t=bt===bt,hi=fa(bt);if(ze)var Xt=D||$t;else pt?Xt=$t&&(D||It):$e?Xt=$t&&It&&(D||!Dt):Qe?Xt=$t&&It&&!Dt&&(D||!hi):Dt||hi?Xt=!1:Xt=D?bt<=v:bt<v;Xt?ce=mt+1:Ee=mt}return dr(Ee,Z)}l(OM,"baseSortedIndexBy");function xN(_,v){for(var k=-1,D=_.length,ce=0,Ee=[];++k<D;){var ze=_[k],$e=v?v(ze):ze;if(!k||!ys($e,Qe)){var Qe=$e;Ee[ce++]=ze===0?0:ze}}return Ee}l(xN,"baseSortedUniq");function SN(_){return typeof _=="number"?_:fa(_)?Y:+_}l(SN,"baseToNumber");function ha(_){if(typeof _=="string")return _;if(ei(_))return nn(_,ha)+"";if(fa(_))return tN?tN.call(_):"";var v=_+"";return v=="0"&&1/_==-X?"-0":v}l(ha,"baseToString");function tc(_,v,k){var D=-1,ce=P1,Ee=_.length,ze=!0,$e=[],Qe=$e;if(k)ze=!1,ce=uM;else if(Ee>=t){var pt=v?null:rie(_);if(pt)return C1(pt);ze=!1,ce=Lm,Qe=new ku}else Qe=v?[]:$e;e:for(;++D<Ee;){var mt=_[D],bt=v?v(mt):mt;if(mt=k||mt!==0?mt:0,ze&&bt===bt){for(var It=Qe.length;It--;)if(Qe[It]===bt)continue e;v&&Qe.push(bt),$e.push(mt)}else ce(Qe,bt,k)||(Qe!==$e&&Qe.push(bt),$e.push(mt))}return $e}l(tc,"baseUniq");function BM(_,v){return v=ic(v,_),_=JN(_,v),_==null||delete _[Xs(Wa(v))]}l(BM,"baseUnset");function EN(_,v,k,D){return Hm(_,v,k(Pu(_,v)),D)}l(EN,"baseUpdate");function K1(_,v,k,D){for(var ce=_.length,Ee=D?ce:-1;(D?Ee--:++Ee<ce)&&v(_[Ee],Ee,_););return k?Ga(_,D?0:Ee,D?Ee+1:ce):Ga(_,D?Ee+1:0,D?ce:Ee)}l(K1,"baseWhile");function MN(_,v){var k=_;return k instanceof Si&&(k=k.value()),hM(v,function(D,ce){return ce.func.apply(ce.thisArg,Zl([D],ce.args))},k)}l(MN,"baseWrapperValue");function FM(_,v,k){var D=_.length;if(D<2)return D?tc(_[0]):[];for(var ce=-1,Ee=at(D);++ce<D;)for(var ze=_[ce],$e=-1;++$e<D;)$e!=ce&&(Ee[ce]=Dm(Ee[ce]||ze,_[$e],v,k));return tc(lr(Ee,1),v,k)}l(FM,"baseXor");function AN(_,v,k){for(var D=-1,ce=_.length,Ee=v.length,ze={};++D<ce;){var $e=D<Ee?v[D]:i;k(ze,_[D],$e)}return ze}l(AN,"baseZipObject");function UM(_){return Sn(_)?_:[]}l(UM,"castArrayLikeObject");function zM(_){return typeof _=="function"?_:Yr}l(zM,"castFunction");function ic(_,v){return ei(_)?_:XM(_,v)?[_]:t8(Li(_))}l(ic,"castPath");var Xte=bi;function nc(_,v,k){var D=_.length;return k=k===i?D:k,!v&&k>=D?_:Ga(_,v,k)}l(nc,"castSlice");var TN=Oee||function(_){return Jn.clearTimeout(_)};function kN(_,v){if(v)return _.slice();var k=_.length,D=Y6?Y6(k):new _.constructor(k);return _.copy(D),D}l(kN,"cloneBuffer");function DM(_){var v=new _.constructor(_.byteLength);return new U1(v).set(new U1(_)),v}l(DM,"cloneArrayBuffer");function Yte(_,v){var k=v?DM(_.buffer):_.buffer;return new _.constructor(k,_.byteOffset,_.byteLength)}l(Yte,"cloneDataView");function Zte(_){var v=new _.constructor(_.source,Vt.exec(_));return v.lastIndex=_.lastIndex,v}l(Zte,"cloneRegExp");function Jte(_){return Um?Xi(Um.call(_)):{}}l(Jte,"cloneSymbol");function RN(_,v){var k=v?DM(_.buffer):_.buffer;return new _.constructor(k,_.byteOffset,_.length)}l(RN,"cloneTypedArray");function PN(_,v){if(_!==v){var k=_!==i,D=_===null,ce=_===_,Ee=fa(_),ze=v!==i,$e=v===null,Qe=v===v,pt=fa(v);if(!$e&&!pt&&!Ee&&_>v||Ee&&ze&&Qe&&!$e&&!pt||D&&ze&&Qe||!k&&Qe||!ce)return 1;if(!D&&!Ee&&!pt&&_<v||pt&&k&&ce&&!D&&!Ee||$e&&k&&ce||!ze&&ce||!Qe)return-1}return 0}l(PN,"compareAscending");function Kte(_,v,k){for(var D=-1,ce=_.criteria,Ee=v.criteria,ze=ce.length,$e=k.length;++D<ze;){var Qe=PN(ce[D],Ee[D]);if(Qe){if(D>=$e)return Qe;var pt=k[D];return Qe*(pt=="desc"?-1:1)}}return _.index-v.index}l(Kte,"compareMultiple");function IN(_,v,k,D){for(var ce=-1,Ee=_.length,ze=k.length,$e=-1,Qe=v.length,pt=zn(Ee-ze,0),mt=at(Qe+pt),bt=!D;++$e<Qe;)mt[$e]=v[$e];for(;++ce<ze;)(bt||ce<Ee)&&(mt[k[ce]]=_[ce]);for(;pt--;)mt[$e++]=_[ce++];return mt}l(IN,"composeArgs");function CN(_,v,k,D){for(var ce=-1,Ee=_.length,ze=-1,$e=k.length,Qe=-1,pt=v.length,mt=zn(Ee-$e,0),bt=at(mt+pt),It=!D;++ce<mt;)bt[ce]=_[ce];for(var Dt=ce;++Qe<pt;)bt[Dt+Qe]=v[Qe];for(;++ze<$e;)(It||ce<Ee)&&(bt[Dt+k[ze]]=_[ce++]);return bt}l(CN,"composeArgsRight");function jr(_,v){var k=-1,D=_.length;for(v||(v=at(D));++k<D;)v[k]=_[k];return v}l(jr,"copyArray");function $s(_,v,k,D){var ce=!k;k||(k={});for(var Ee=-1,ze=v.length;++Ee<ze;){var $e=v[Ee],Qe=D?D(k[$e],_[$e],$e,k,_):i;Qe===i&&(Qe=_[$e]),ce?Po(k,$e,Qe):zm(k,$e,Qe)}return k}l($s,"copyObject");function Qte(_,v){return $s(_,$M(_),v)}l(Qte,"copySymbols");function eie(_,v){return $s(_,WN(_),v)}l(eie,"copySymbolsIn");function Q1(_,v){return function(k,D){var ce=ei(k)?aee:xte,Ee=v?v():{};return ce(k,_,jt(D,2),Ee)}}l(Q1,"createAggregator");function Yf(_){return bi(function(v,k){var D=-1,ce=k.length,Ee=ce>1?k[ce-1]:i,ze=ce>2?k[2]:i;for(Ee=_.length>3&&typeof Ee=="function"?(ce--,Ee):i,ze&&Ir(k[0],k[1],ze)&&(Ee=ce<3?i:Ee,ce=1),v=Xi(v);++D<ce;){var $e=k[D];$e&&_(v,$e,D,Ee)}return v})}l(Yf,"createAssigner");function LN(_,v){return function(k,D){if(k==null)return k;if(!$r(k))return _(k,D);for(var ce=k.length,Ee=v?ce:-1,ze=Xi(k);(v?Ee--:++Ee<ce)&&D(ze[Ee],Ee,ze)!==!1;);return k}}l(LN,"createBaseEach");function NN(_){return function(v,k,D){for(var ce=-1,Ee=Xi(v),ze=D(v),$e=ze.length;$e--;){var Qe=ze[_?$e:++ce];if(k(Ee[Qe],Qe,Ee)===!1)break}return v}}l(NN,"createBaseFor");function tie(_,v,k){var D=v&m,ce=Gm(_);function Ee(){var ze=this&&this!==Jn&&this instanceof Ee?ce:_;return ze.apply(D?k:this,arguments)}return l(Ee,"wrapper"),Ee}l(tie,"createBind");function ON(_){return function(v){v=Li(v);var k=Hf(v)?gs(v):i,D=k?k[0]:v.charAt(0),ce=k?nc(k,1).join(""):v.slice(1);return D[_]()+ce}}l(ON,"createCaseFirst");function Zf(_){return function(v){return hM(L8(C8(v).replace(E6,"")),_,"")}}l(Zf,"createCompounder");function Gm(_){return function(){var v=arguments;switch(v.length){case 0:return new _;case 1:return new _(v[0]);case 2:return new _(v[0],v[1]);case 3:return new _(v[0],v[1],v[2]);case 4:return new _(v[0],v[1],v[2],v[3]);case 5:return new _(v[0],v[1],v[2],v[3],v[4]);case 6:return new _(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new _(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var k=Xf(_.prototype),D=_.apply(k,v);return cn(D)?D:k}}l(Gm,"createCtor");function iie(_,v,k){var D=Gm(_);function ce(){for(var Ee=arguments.length,ze=at(Ee),$e=Ee,Qe=Jf(ce);$e--;)ze[$e]=arguments[$e];var pt=Ee<3&&ze[0]!==Qe&&ze[Ee-1]!==Qe?[]:Jl(ze,Qe);if(Ee-=pt.length,Ee<k)return DN(_,v,eb,ce.placeholder,i,ze,pt,i,i,k-Ee);var mt=this&&this!==Jn&&this instanceof ce?D:_;return ca(mt,this,ze)}return l(ce,"wrapper"),ce}l(iie,"createCurry");function BN(_){return function(v,k,D){var ce=Xi(v);if(!$r(v)){var Ee=jt(k,3);v=Kn(v),k=l(function($e){return Ee(ce[$e],$e,ce)},"predicate")}var ze=_(v,k,D);return ze>-1?ce[Ee?v[ze]:ze]:i}}l(BN,"createFind");function FN(_){return Co(function(v){var k=v.length,D=k,ce=qa.prototype.thru;for(_&&v.reverse();D--;){var Ee=v[D];if(typeof Ee!="function")throw new Va(r);if(ce&&!ze&&rb(Ee)=="wrapper")var ze=new qa([],!0)}for(D=ze?D:k;++D<k;){Ee=v[D];var $e=rb(Ee),Qe=$e=="wrapper"?WM(Ee):i;Qe&&YM(Qe[0])&&Qe[1]==(M|b|w|C)&&!Qe[4].length&&Qe[9]==1?ze=ze[rb(Qe[0])].apply(ze,Qe[3]):ze=Ee.length==1&&YM(Ee)?ze[$e]():ze.thru(Ee)}return function(){var pt=arguments,mt=pt[0];if(ze&&pt.length==1&&ei(mt))return ze.plant(mt).value();for(var bt=0,It=k?v[bt].apply(this,pt):mt;++bt<k;)It=v[bt].call(this,It);return It}})}l(FN,"createFlow");function eb(_,v,k,D,ce,Ee,ze,$e,Qe,pt){var mt=v&M,bt=v&m,It=v&y,Dt=v&(b|x),$t=v&I,hi=It?i:Gm(_);function Xt(){for(var wi=arguments.length,Ei=at(wi),da=wi;da--;)Ei[da]=arguments[da];if(Dt)var Cr=Jf(Xt),pa=pee(Ei,Cr);if(D&&(Ei=IN(Ei,D,ce,Dt)),Ee&&(Ei=CN(Ei,Ee,ze,Dt)),wi-=pa,Dt&&wi<pt){var En=Jl(Ei,Cr);return DN(_,v,eb,Xt.placeholder,k,Ei,En,$e,Qe,pt-wi)}var vs=bt?k:this,Bo=It?vs[_]:_;return wi=Ei.length,$e?Ei=xie(Ei,$e):$t&&wi>1&&Ei.reverse(),mt&&Qe<wi&&(Ei.length=Qe),this&&this!==Jn&&this instanceof Xt&&(Bo=hi||Gm(Bo)),Bo.apply(vs,Ei)}return l(Xt,"wrapper"),Xt}l(eb,"createHybrid");function UN(_,v){return function(k,D){return Pte(k,_,v(D),{})}}l(UN,"createInverter");function tb(_,v){return function(k,D){var ce;if(k===i&&D===i)return v;if(k!==i&&(ce=k),D!==i){if(ce===i)return D;typeof k=="string"||typeof D=="string"?(k=ha(k),D=ha(D)):(k=SN(k),D=SN(D)),ce=_(k,D)}return ce}}l(tb,"createMathOperation");function VM(_){return Co(function(v){return v=nn(v,ua(jt())),bi(function(k){var D=this;return _(v,function(ce){return ca(ce,D,k)})})})}l(VM,"createOver");function ib(_,v){v=v===i?" ":ha(v);var k=v.length;if(k<2)return k?NM(v,_):v;var D=NM(v,q1(_/Gf(v)));return Hf(v)?nc(gs(D),0,_).join(""):D.slice(0,_)}l(ib,"createPadding");function nie(_,v,k,D){var ce=v&m,Ee=Gm(_);function ze(){for(var $e=-1,Qe=arguments.length,pt=-1,mt=D.length,bt=at(mt+Qe),It=this&&this!==Jn&&this instanceof ze?Ee:_;++pt<mt;)bt[pt]=D[pt];for(;Qe--;)bt[pt++]=arguments[++$e];return ca(It,ce?k:this,bt)}return l(ze,"wrapper"),ze}l(nie,"createPartial");function zN(_){return function(v,k,D){return D&&typeof D!="number"&&Ir(v,k,D)&&(k=D=i),v=Oo(v),k===i?(k=v,v=0):k=Oo(k),D=D===i?v<k?1:-1:Oo(D),qte(v,k,D,_)}}l(zN,"createRange");function nb(_){return function(v,k){return typeof v=="string"&&typeof k=="string"||(v=ja(v),k=ja(k)),_(v,k)}}l(nb,"createRelationalOperation");function DN(_,v,k,D,ce,Ee,ze,$e,Qe,pt){var mt=v&b,bt=mt?ze:i,It=mt?i:ze,Dt=mt?Ee:i,$t=mt?i:Ee;v|=mt?w:E,v&=~(mt?E:w),v&g||(v&=~(m|y));var hi=[_,v,ce,Dt,bt,$t,It,$e,Qe,pt],Xt=k.apply(i,hi);return YM(_)&&KN(Xt,hi),Xt.placeholder=D,QN(Xt,_,v)}l(DN,"createRecurry");function qM(_){var v=Un[_];return function(k,D){if(k=ja(k),D=D==null?0:dr(oi(D),292),D&&Q6(k)){var ce=(Li(k)+"e").split("e"),Ee=v(ce[0]+"e"+(+ce[1]+D));return ce=(Li(Ee)+"e").split("e"),+(ce[0]+"e"+(+ce[1]-D))}return v(k)}}l(qM,"createRound");var rie=jf&&1/C1(new jf([,-0]))[1]==X?function(_){return new jf(_)}:uA;function VN(_){return function(v){var k=pr(v);return k==S?bM(v):k==Ie?wee(v):dee(v,_(v))}}l(VN,"createToPairs");function Io(_,v,k,D,ce,Ee,ze,$e){var Qe=v&y;if(!Qe&&typeof _!="function")throw new Va(r);var pt=D?D.length:0;if(pt||(v&=~(w|E),D=ce=i),ze=ze===i?ze:zn(oi(ze),0),$e=$e===i?$e:oi($e),pt-=ce?ce.length:0,v&E){var mt=D,bt=ce;D=ce=i}var It=Qe?i:WM(_),Dt=[_,v,k,D,ce,mt,bt,Ee,ze,$e];if(It&&yie(Dt,It),_=Dt[0],v=Dt[1],k=Dt[2],D=Dt[3],ce=Dt[4],$e=Dt[9]=Dt[9]===i?Qe?0:_.length:zn(Dt[9]-pt,0),!$e&&v&(b|x)&&(v&=~(b|x)),!v||v==m)var $t=tie(_,v,k);else v==b||v==x?$t=iie(_,v,$e):(v==w||v==(m|w))&&!ce.length?$t=nie(_,v,k,D):$t=eb.apply(i,Dt);var hi=It?wN:KN;return QN(hi($t,Dt),_,v)}l(Io,"createWrap");function qN(_,v,k,D){return _===i||ys(_,Wf[k])&&!Ui.call(D,k)?v:_}l(qN,"customDefaultsAssignIn");function HN(_,v,k,D,ce,Ee){return cn(_)&&cn(v)&&(Ee.set(v,_),Z1(_,v,i,HN,Ee),Ee.delete(v)),_}l(HN,"customDefaultsMerge");function aie(_){return $m(_)?i:_}l(aie,"customOmitClone");function GN(_,v,k,D,ce,Ee){var ze=k&p,$e=_.length,Qe=v.length;if($e!=Qe&&!(ze&&Qe>$e))return!1;var pt=Ee.get(_),mt=Ee.get(v);if(pt&&mt)return pt==v&&mt==_;var bt=-1,It=!0,Dt=k&d?new ku:i;for(Ee.set(_,v),Ee.set(v,_);++bt<$e;){var $t=_[bt],hi=v[bt];if(D)var Xt=ze?D(hi,$t,bt,v,_,Ee):D($t,hi,bt,_,v,Ee);if(Xt!==i){if(Xt)continue;It=!1;break}if(Dt){if(!fM(v,function(wi,Ei){if(!Lm(Dt,Ei)&&($t===wi||ce($t,wi,k,D,Ee)))return Dt.push(Ei)})){It=!1;break}}else if(!($t===hi||ce($t,hi,k,D,Ee))){It=!1;break}}return Ee.delete(_),Ee.delete(v),It}l(GN,"equalArrays");function sie(_,v,k,D,ce,Ee,ze){switch(k){case W:if(_.byteLength!=v.byteLength||_.byteOffset!=v.byteOffset)return!1;_=_.buffer,v=v.buffer;case Ae:return!(_.byteLength!=v.byteLength||!Ee(new U1(_),new U1(v)));case Ge:case ve:case G:return ys(+_,+v);case He:return _.name==v.name&&_.message==v.message;case Se:case Ce:return _==v+"";case S:var $e=bM;case Ie:var Qe=D&p;if($e||($e=C1),_.size!=v.size&&!Qe)return!1;var pt=ze.get(_);if(pt)return pt==v;D|=d,ze.set(_,v);var mt=GN($e(_),$e(v),D,ce,Ee,ze);return ze.delete(_),mt;case Xe:if(Um)return Um.call(_)==Um.call(v)}return!1}l(sie,"equalByTag");function oie(_,v,k,D,ce,Ee){var ze=k&p,$e=HM(_),Qe=$e.length,pt=HM(v),mt=pt.length;if(Qe!=mt&&!ze)return!1;for(var bt=Qe;bt--;){var It=$e[bt];if(!(ze?It in v:Ui.call(v,It)))return!1}var Dt=Ee.get(_),$t=Ee.get(v);if(Dt&&$t)return Dt==v&&$t==_;var hi=!0;Ee.set(_,v),Ee.set(v,_);for(var Xt=ze;++bt<Qe;){It=$e[bt];var wi=_[It],Ei=v[It];if(D)var da=ze?D(Ei,wi,It,v,_,Ee):D(wi,Ei,It,_,v,Ee);if(!(da===i?wi===Ei||ce(wi,Ei,k,D,Ee):da)){hi=!1;break}Xt||(Xt=It=="constructor")}if(hi&&!Xt){var Cr=_.constructor,pa=v.constructor;Cr!=pa&&"constructor"in _&&"constructor"in v&&!(typeof Cr=="function"&&Cr instanceof Cr&&typeof pa=="function"&&pa instanceof pa)&&(hi=!1)}return Ee.delete(_),Ee.delete(v),hi}l(oie,"equalObjects");function Co(_){return JM(ZN(_,i,a8),_+"")}l(Co,"flatRest");function HM(_){return uN(_,Kn,$M)}l(HM,"getAllKeys");function GM(_){return uN(_,Xr,WN)}l(GM,"getAllKeysIn");var WM=G1?function(_){return G1.get(_)}:uA;function rb(_){for(var v=_.name+"",k=$f[v],D=Ui.call($f,v)?k.length:0;D--;){var ce=k[D],Ee=ce.func;if(Ee==null||Ee==_)return ce.name}return v}l(rb,"getFuncName");function Jf(_){var v=Ui.call(ye,"placeholder")?ye:_;return v.placeholder}l(Jf,"getHolder");function jt(){var _=ye.iteratee||lA;return _=_===lA?dN:_,arguments.length?_(arguments[0],arguments[1]):_}l(jt,"getIteratee");function ab(_,v){var k=_.__data__;return mie(v)?k[typeof v=="string"?"string":"hash"]:k.map}l(ab,"getMapData");function jM(_){for(var v=Kn(_),k=v.length;k--;){var D=v[k],ce=_[D];v[k]=[D,ce,XN(ce)]}return v}l(jM,"getMatchData");function Iu(_,v){var k=bee(_,v);return fN(k)?k:i}l(Iu,"getNative");function lie(_){var v=Ui.call(_,Au),k=_[Au];try{_[Au]=i;var D=!0}catch{}var ce=B1.call(_);return D&&(v?_[Au]=k:delete _[Au]),ce}l(lie,"getRawTag");var $M=vM?function(_){return _==null?[]:(_=Xi(_),Yl(vM(_),function(v){return J6.call(_,v)}))}:hA,WN=vM?function(_){for(var v=[];_;)Zl(v,$M(_)),_=z1(_);return v}:hA,pr=Pr;(wM&&pr(new wM(new ArrayBuffer(1)))!=W||Om&&pr(new Om)!=S||xM&&pr(xM.resolve())!=J||jf&&pr(new jf)!=Ie||Bm&&pr(new Bm)!=z)&&(pr=l(function(_){var v=Pr(_),k=v==K?_.constructor:i,D=k?Cu(k):"";if(D)switch(D){case Gee:return W;case Wee:return S;case jee:return J;case $ee:return Ie;case Xee:return z}return v},"getTag"));function cie(_,v,k){for(var D=-1,ce=k.length;++D<ce;){var Ee=k[D],ze=Ee.size;switch(Ee.type){case"drop":_+=ze;break;case"dropRight":v-=ze;break;case"take":v=dr(v,_+ze);break;case"takeRight":_=zn(_,v-ze);break}}return{start:_,end:v}}l(cie,"getView");function uie(_){var v=_.match(ke);return v?v[1].split(je):[]}l(uie,"getWrapDetails");function jN(_,v,k){v=ic(v,_);for(var D=-1,ce=v.length,Ee=!1;++D<ce;){var ze=Xs(v[D]);if(!(Ee=_!=null&&k(_,ze)))break;_=_[ze]}return Ee||++D!=ce?Ee:(ce=_==null?0:_.length,!!ce&&fb(ce)&&Lo(ze,ce)&&(ei(_)||Lu(_)))}l(jN,"hasPath");function hie(_){var v=_.length,k=new _.constructor(v);return v&&typeof _[0]=="string"&&Ui.call(_,"index")&&(k.index=_.index,k.input=_.input),k}l(hie,"initCloneArray");function $N(_){return typeof _.constructor=="function"&&!Wm(_)?Xf(z1(_)):{}}l($N,"initCloneObject");function fie(_,v,k){var D=_.constructor;switch(v){case Ae:return DM(_);case Ge:case ve:return new D(+_);case W:return Yte(_,k);case L:case P:case se:case de:case O:case be:case Ue:case We:case _e:return RN(_,k);case S:return new D;case G:case Ce:return new D(_);case Se:return Zte(_);case Ie:return new D;case Xe:return Jte(_)}}l(fie,"initCloneByTag");function die(_,v){var k=v.length;if(!k)return _;var D=k-1;return v[D]=(k>1?"& ":"")+v[D],v=v.join(k>2?", ":" "),_.replace(Ve,`{
/* [wrapped with `+v+`] */
`)}l(die,"insertWrapDetails");function pie(_){return ei(_)||Lu(_)||!!(K6&&_&&_[K6])}l(pie,"isFlattenable");function Lo(_,v){var k=typeof _;return v=v??fe,!!v&&(k=="number"||k!="symbol"&&Be.test(_))&&_>-1&&_%1==0&&_<v}l(Lo,"isIndex");function Ir(_,v,k){if(!cn(k))return!1;var D=typeof v;return(D=="number"?$r(k)&&Lo(v,k.length):D=="string"&&v in k)?ys(k[v],_):!1}l(Ir,"isIterateeCall");function XM(_,v){if(ei(_))return!1;var k=typeof _;return k=="number"||k=="symbol"||k=="boolean"||_==null||fa(_)?!0:wt.test(_)||!vt.test(_)||v!=null&&_ in Xi(v)}l(XM,"isKey");function mie(_){var v=typeof _;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?_!=="__proto__":_===null}l(mie,"isKeyable");function YM(_){var v=rb(_),k=ye[v];if(typeof k!="function"||!(v in Si.prototype))return!1;if(_===k)return!0;var D=WM(k);return!!D&&_===D[0]}l(YM,"isLaziable");function _ie(_){return!!X6&&X6 in _}l(_ie,"isMasked");var gie=N1?No:fA;function Wm(_){var v=_&&_.constructor,k=typeof v=="function"&&v.prototype||Wf;return _===k}l(Wm,"isPrototype");function XN(_){return _===_&&!cn(_)}l(XN,"isStrictComparable");function YN(_,v){return function(k){return k==null?!1:k[_]===v&&(v!==i||_ in Xi(k))}}l(YN,"matchesStrictComparable");function bie(_){var v=ub(_,function(D){return k.size===o&&k.clear(),D}),k=v.cache;return v}l(bie,"memoizeCapped");function yie(_,v){var k=_[1],D=v[1],ce=k|D,Ee=ce<(m|y|M),ze=D==M&&k==b||D==M&&k==C&&_[7].length<=v[8]||D==(M|C)&&v[7].length<=v[8]&&k==b;if(!(Ee||ze))return _;D&m&&(_[2]=v[2],ce|=k&m?0:g);var $e=v[3];if($e){var Qe=_[3];_[3]=Qe?IN(Qe,$e,v[4]):$e,_[4]=Qe?Jl(_[3],c):v[4]}return $e=v[5],$e&&(Qe=_[5],_[5]=Qe?CN(Qe,$e,v[6]):$e,_[6]=Qe?Jl(_[5],c):v[6]),$e=v[7],$e&&(_[7]=$e),D&M&&(_[8]=_[8]==null?v[8]:dr(_[8],v[8])),_[9]==null&&(_[9]=v[9]),_[0]=v[0],_[1]=ce,_}l(yie,"mergeData");function vie(_){var v=[];if(_!=null)for(var k in Xi(_))v.push(k);return v}l(vie,"nativeKeysIn");function wie(_){return B1.call(_)}l(wie,"objectToString");function ZN(_,v,k){return v=zn(v===i?_.length-1:v,0),function(){for(var D=arguments,ce=-1,Ee=zn(D.length-v,0),ze=at(Ee);++ce<Ee;)ze[ce]=D[v+ce];ce=-1;for(var $e=at(v+1);++ce<v;)$e[ce]=D[ce];return $e[v]=k(ze),ca(_,this,$e)}}l(ZN,"overRest");function JN(_,v){return v.length<2?_:Pu(_,Ga(v,0,-1))}l(JN,"parent");function xie(_,v){for(var k=_.length,D=dr(v.length,k),ce=jr(_);D--;){var Ee=v[D];_[D]=Lo(Ee,k)?ce[Ee]:i}return _}l(xie,"reorder");function ZM(_,v){if(!(v==="constructor"&&typeof _[v]=="function")&&v!="__proto__")return _[v]}l(ZM,"safeGet");var KN=e8(wN),jm=Fee||function(_,v){return Jn.setTimeout(_,v)},JM=e8(Wte);function QN(_,v,k){var D=v+"";return JM(_,die(D,Sie(uie(D),k)))}l(QN,"setWrapToString");function e8(_){var v=0,k=0;return function(){var D=Vee(),ce=j-(D-k);if(k=D,ce>0){if(++v>=T)return arguments[0]}else v=0;return _.apply(i,arguments)}}l(e8,"shortOut");function sb(_,v){var k=-1,D=_.length,ce=D-1;for(v=v===i?D:v;++k<v;){var Ee=LM(k,ce),ze=_[Ee];_[Ee]=_[k],_[k]=ze}return _.length=v,_}l(sb,"shuffleSelf");var t8=bie(function(_){var v=[];return _.charCodeAt(0)===46&&v.push(""),_.replace(ft,function(k,D,ce,Ee){v.push(ce?Ee.replace(St,"$1"):D||k)}),v});function Xs(_){if(typeof _=="string"||fa(_))return _;var v=_+"";return v=="0"&&1/_==-X?"-0":v}l(Xs,"toKey");function Cu(_){if(_!=null){try{return O1.call(_)}catch{}try{return _+""}catch{}}return""}l(Cu,"toSource");function Sie(_,v){return Da(ue,function(k){var D="_."+k[0];v&k[1]&&!P1(_,D)&&_.push(D)}),_.sort()}l(Sie,"updateWrapDetails");function i8(_){if(_ instanceof Si)return _.clone();var v=new qa(_.__wrapped__,_.__chain__);return v.__actions__=jr(_.__actions__),v.__index__=_.__index__,v.__values__=_.__values__,v}l(i8,"wrapperClone");function Eie(_,v,k){(k?Ir(_,v,k):v===i)?v=1:v=zn(oi(v),0);var D=_==null?0:_.length;if(!D||v<1)return[];for(var ce=0,Ee=0,ze=at(q1(D/v));ce<D;)ze[Ee++]=Ga(_,ce,ce+=v);return ze}l(Eie,"chunk");function Mie(_){for(var v=-1,k=_==null?0:_.length,D=0,ce=[];++v<k;){var Ee=_[v];Ee&&(ce[D++]=Ee)}return ce}l(Mie,"compact");function Aie(){var _=arguments.length;if(!_)return[];for(var v=at(_-1),k=arguments[0],D=_;D--;)v[D-1]=arguments[D];return Zl(ei(k)?jr(k):[k],lr(v,1))}l(Aie,"concat");var Tie=bi(function(_,v){return Sn(_)?Dm(_,lr(v,1,Sn,!0)):[]}),kie=bi(function(_,v){var k=Wa(v);return Sn(k)&&(k=i),Sn(_)?Dm(_,lr(v,1,Sn,!0),jt(k,2)):[]}),Rie=bi(function(_,v){var k=Wa(v);return Sn(k)&&(k=i),Sn(_)?Dm(_,lr(v,1,Sn,!0),i,k):[]});function Pie(_,v,k){var D=_==null?0:_.length;return D?(v=k||v===i?1:oi(v),Ga(_,v<0?0:v,D)):[]}l(Pie,"drop");function Iie(_,v,k){var D=_==null?0:_.length;return D?(v=k||v===i?1:oi(v),v=D-v,Ga(_,0,v<0?0:v)):[]}l(Iie,"dropRight");function Cie(_,v){return _&&_.length?K1(_,jt(v,3),!0,!0):[]}l(Cie,"dropRightWhile");function Lie(_,v){return _&&_.length?K1(_,jt(v,3),!0):[]}l(Lie,"dropWhile");function Nie(_,v,k,D){var ce=_==null?0:_.length;return ce?(k&&typeof k!="number"&&Ir(_,v,k)&&(k=0,D=ce),Ate(_,v,k,D)):[]}l(Nie,"fill");function n8(_,v,k){var D=_==null?0:_.length;if(!D)return-1;var ce=k==null?0:oi(k);return ce<0&&(ce=zn(D+ce,0)),I1(_,jt(v,3),ce)}l(n8,"findIndex");function r8(_,v,k){var D=_==null?0:_.length;if(!D)return-1;var ce=D-1;return k!==i&&(ce=oi(k),ce=k<0?zn(D+ce,0):dr(ce,D-1)),I1(_,jt(v,3),ce,!0)}l(r8,"findLastIndex");function a8(_){var v=_==null?0:_.length;return v?lr(_,1):[]}l(a8,"flatten");function Oie(_){var v=_==null?0:_.length;return v?lr(_,X):[]}l(Oie,"flattenDeep");function Bie(_,v){var k=_==null?0:_.length;return k?(v=v===i?1:oi(v),lr(_,v)):[]}l(Bie,"flattenDepth");function Fie(_){for(var v=-1,k=_==null?0:_.length,D={};++v<k;){var ce=_[v];D[ce[0]]=ce[1]}return D}l(Fie,"fromPairs");function s8(_){return _&&_.length?_[0]:i}l(s8,"head");function Uie(_,v,k){var D=_==null?0:_.length;if(!D)return-1;var ce=k==null?0:oi(k);return ce<0&&(ce=zn(D+ce,0)),qf(_,v,ce)}l(Uie,"indexOf");function zie(_){var v=_==null?0:_.length;return v?Ga(_,0,-1):[]}l(zie,"initial");var Die=bi(function(_){var v=nn(_,UM);return v.length&&v[0]===_[0]?kM(v):[]}),Vie=bi(function(_){var v=Wa(_),k=nn(_,UM);return v===Wa(k)?v=i:k.pop(),k.length&&k[0]===_[0]?kM(k,jt(v,2)):[]}),qie=bi(function(_){var v=Wa(_),k=nn(_,UM);return v=typeof v=="function"?v:i,v&&k.pop(),k.length&&k[0]===_[0]?kM(k,i,v):[]});function Hie(_,v){return _==null?"":zee.call(_,v)}l(Hie,"join");function Wa(_){var v=_==null?0:_.length;return v?_[v-1]:i}l(Wa,"last");function Gie(_,v,k){var D=_==null?0:_.length;if(!D)return-1;var ce=D;return k!==i&&(ce=oi(k),ce=ce<0?zn(D+ce,0):dr(ce,D-1)),v===v?See(_,v,ce):I1(_,D6,ce,!0)}l(Gie,"lastIndexOf");function Wie(_,v){return _&&_.length?gN(_,oi(v)):i}l(Wie,"nth");var jie=bi(o8);function o8(_,v){return _&&_.length&&v&&v.length?CM(_,v):_}l(o8,"pullAll");function $ie(_,v,k){return _&&_.length&&v&&v.length?CM(_,v,jt(k,2)):_}l($ie,"pullAllBy");function Xie(_,v,k){return _&&_.length&&v&&v.length?CM(_,v,i,k):_}l(Xie,"pullAllWith");var Yie=Co(function(_,v){var k=_==null?0:_.length,D=EM(_,v);return vN(_,nn(v,function(ce){return Lo(ce,k)?+ce:ce}).sort(PN)),D});function Zie(_,v){var k=[];if(!(_&&_.length))return k;var D=-1,ce=[],Ee=_.length;for(v=jt(v,3);++D<Ee;){var ze=_[D];v(ze,D,_)&&(k.push(ze),ce.push(D))}return vN(_,ce),k}l(Zie,"remove");function KM(_){return _==null?_:Hee.call(_)}l(KM,"reverse");function Jie(_,v,k){var D=_==null?0:_.length;return D?(k&&typeof k!="number"&&Ir(_,v,k)?(v=0,k=D):(v=v==null?0:oi(v),k=k===i?D:oi(k)),Ga(_,v,k)):[]}l(Jie,"slice");function Kie(_,v){return J1(_,v)}l(Kie,"sortedIndex");function Qie(_,v,k){return OM(_,v,jt(k,2))}l(Qie,"sortedIndexBy");function ene(_,v){var k=_==null?0:_.length;if(k){var D=J1(_,v);if(D<k&&ys(_[D],v))return D}return-1}l(ene,"sortedIndexOf");function tne(_,v){return J1(_,v,!0)}l(tne,"sortedLastIndex");function ine(_,v,k){return OM(_,v,jt(k,2),!0)}l(ine,"sortedLastIndexBy");function nne(_,v){var k=_==null?0:_.length;if(k){var D=J1(_,v,!0)-1;if(ys(_[D],v))return D}return-1}l(nne,"sortedLastIndexOf");function rne(_){return _&&_.length?xN(_):[]}l(rne,"sortedUniq");function ane(_,v){return _&&_.length?xN(_,jt(v,2)):[]}l(ane,"sortedUniqBy");function sne(_){var v=_==null?0:_.length;return v?Ga(_,1,v):[]}l(sne,"tail");function one(_,v,k){return _&&_.length?(v=k||v===i?1:oi(v),Ga(_,0,v<0?0:v)):[]}l(one,"take");function lne(_,v,k){var D=_==null?0:_.length;return D?(v=k||v===i?1:oi(v),v=D-v,Ga(_,v<0?0:v,D)):[]}l(lne,"takeRight");function cne(_,v){return _&&_.length?K1(_,jt(v,3),!1,!0):[]}l(cne,"takeRightWhile");function une(_,v){return _&&_.length?K1(_,jt(v,3)):[]}l(une,"takeWhile");var hne=bi(function(_){return tc(lr(_,1,Sn,!0))}),fne=bi(function(_){var v=Wa(_);return Sn(v)&&(v=i),tc(lr(_,1,Sn,!0),jt(v,2))}),dne=bi(function(_){var v=Wa(_);return v=typeof v=="function"?v:i,tc(lr(_,1,Sn,!0),i,v)});function pne(_){return _&&_.length?tc(_):[]}l(pne,"uniq");function mne(_,v){return _&&_.length?tc(_,jt(v,2)):[]}l(mne,"uniqBy");function _ne(_,v){return v=typeof v=="function"?v:i,_&&_.length?tc(_,i,v):[]}l(_ne,"uniqWith");function QM(_){if(!(_&&_.length))return[];var v=0;return _=Yl(_,function(k){if(Sn(k))return v=zn(k.length,v),!0}),_M(v,function(k){return nn(_,dM(k))})}l(QM,"unzip");function l8(_,v){if(!(_&&_.length))return[];var k=QM(_);return v==null?k:nn(k,function(D){return ca(v,i,D)})}l(l8,"unzipWith");var gne=bi(function(_,v){return Sn(_)?Dm(_,v):[]}),bne=bi(function(_){return FM(Yl(_,Sn))}),yne=bi(function(_){var v=Wa(_);return Sn(v)&&(v=i),FM(Yl(_,Sn),jt(v,2))}),vne=bi(function(_){var v=Wa(_);return v=typeof v=="function"?v:i,FM(Yl(_,Sn),i,v)}),wne=bi(QM);function xne(_,v){return AN(_||[],v||[],zm)}l(xne,"zipObject");function Sne(_,v){return AN(_||[],v||[],Hm)}l(Sne,"zipObjectDeep");var Ene=bi(function(_){var v=_.length,k=v>1?_[v-1]:i;return k=typeof k=="function"?(_.pop(),k):i,l8(_,k)});function c8(_){var v=ye(_);return v.__chain__=!0,v}l(c8,"chain");function Mne(_,v){return v(_),_}l(Mne,"tap");function ob(_,v){return v(_)}l(ob,"thru");var Ane=Co(function(_){var v=_.length,k=v?_[0]:0,D=this.__wrapped__,ce=l(function(Ee){return EM(Ee,_)},"interceptor");return v>1||this.__actions__.length||!(D instanceof Si)||!Lo(k)?this.thru(ce):(D=D.slice(k,+k+(v?1:0)),D.__actions__.push({func:ob,args:[ce],thisArg:i}),new qa(D,this.__chain__).thru(function(Ee){return v&&!Ee.length&&Ee.push(i),Ee}))});function Tne(){return c8(this)}l(Tne,"wrapperChain");function kne(){return new qa(this.value(),this.__chain__)}l(kne,"wrapperCommit");function Rne(){this.__values__===i&&(this.__values__=S8(this.value()));var _=this.__index__>=this.__values__.length,v=_?i:this.__values__[this.__index__++];return{done:_,value:v}}l(Rne,"wrapperNext");function Pne(){return this}l(Pne,"wrapperToIterator");function Ine(_){for(var v,k=this;k instanceof j1;){var D=i8(k);D.__index__=0,D.__values__=i,v?ce.__wrapped__=D:v=D;var ce=D;k=k.__wrapped__}return ce.__wrapped__=_,v}l(Ine,"wrapperPlant");function Cne(){var _=this.__wrapped__;if(_ instanceof Si){var v=_;return this.__actions__.length&&(v=new Si(this)),v=v.reverse(),v.__actions__.push({func:ob,args:[KM],thisArg:i}),new qa(v,this.__chain__)}return this.thru(KM)}l(Cne,"wrapperReverse");function Lne(){return MN(this.__wrapped__,this.__actions__)}l(Lne,"wrapperValue");var Nne=Q1(function(_,v,k){Ui.call(_,k)?++_[k]:Po(_,k,1)});function One(_,v,k){var D=ei(_)?U6:Mte;return k&&Ir(_,v,k)&&(v=i),D(_,jt(v,3))}l(One,"every");function Bne(_,v){var k=ei(_)?Yl:lN;return k(_,jt(v,3))}l(Bne,"filter");var Fne=BN(n8),Une=BN(r8);function zne(_,v){return lr(lb(_,v),1)}l(zne,"flatMap");function Dne(_,v){return lr(lb(_,v),X)}l(Dne,"flatMapDeep");function Vne(_,v,k){return k=k===i?1:oi(k),lr(lb(_,v),k)}l(Vne,"flatMapDepth");function u8(_,v){var k=ei(_)?Da:ec;return k(_,jt(v,3))}l(u8,"forEach");function h8(_,v){var k=ei(_)?see:oN;return k(_,jt(v,3))}l(h8,"forEachRight");var qne=Q1(function(_,v,k){Ui.call(_,k)?_[k].push(v):Po(_,k,[v])});function Hne(_,v,k,D){_=$r(_)?_:Qf(_),k=k&&!D?oi(k):0;var ce=_.length;return k<0&&(k=zn(ce+k,0)),db(_)?k<=ce&&_.indexOf(v,k)>-1:!!ce&&qf(_,v,k)>-1}l(Hne,"includes");var Gne=bi(function(_,v,k){var D=-1,ce=typeof v=="function",Ee=$r(_)?at(_.length):[];return ec(_,function(ze){Ee[++D]=ce?ca(v,ze,k):Vm(ze,v,k)}),Ee}),Wne=Q1(function(_,v,k){Po(_,k,v)});function lb(_,v){var k=ei(_)?nn:pN;return k(_,jt(v,3))}l(lb,"map");function jne(_,v,k,D){return _==null?[]:(ei(v)||(v=v==null?[]:[v]),k=D?i:k,ei(k)||(k=k==null?[]:[k]),bN(_,v,k))}l(jne,"orderBy");var $ne=Q1(function(_,v,k){_[k?0:1].push(v)},function(){return[[],[]]});function Xne(_,v,k){var D=ei(_)?hM:q6,ce=arguments.length<3;return D(_,jt(v,4),k,ce,ec)}l(Xne,"reduce");function Yne(_,v,k){var D=ei(_)?oee:q6,ce=arguments.length<3;return D(_,jt(v,4),k,ce,oN)}l(Yne,"reduceRight");function Zne(_,v){var k=ei(_)?Yl:lN;return k(_,hb(jt(v,3)))}l(Zne,"reject");function Jne(_){var v=ei(_)?nN:Hte;return v(_)}l(Jne,"sample");function Kne(_,v,k){(k?Ir(_,v,k):v===i)?v=1:v=oi(v);var D=ei(_)?vte:Gte;return D(_,v)}l(Kne,"sampleSize");function Qne(_){var v=ei(_)?wte:jte;return v(_)}l(Qne,"shuffle");function ere(_){if(_==null)return 0;if($r(_))return db(_)?Gf(_):_.length;var v=pr(_);return v==S||v==Ie?_.size:PM(_).length}l(ere,"size");function tre(_,v,k){var D=ei(_)?fM:$te;return k&&Ir(_,v,k)&&(v=i),D(_,jt(v,3))}l(tre,"some");var ire=bi(function(_,v){if(_==null)return[];var k=v.length;return k>1&&Ir(_,v[0],v[1])?v=[]:k>2&&Ir(v[0],v[1],v[2])&&(v=[v[0]]),bN(_,lr(v,1),[])}),cb=Bee||function(){return Jn.Date.now()};function nre(_,v){if(typeof v!="function")throw new Va(r);return _=oi(_),function(){if(--_<1)return v.apply(this,arguments)}}l(nre,"after");function f8(_,v,k){return v=k?i:v,v=_&&v==null?_.length:v,Io(_,M,i,i,i,i,v)}l(f8,"ary");function d8(_,v){var k;if(typeof v!="function")throw new Va(r);return _=oi(_),function(){return--_>0&&(k=v.apply(this,arguments)),_<=1&&(v=i),k}}l(d8,"before");var eA=bi(function(_,v,k){var D=m;if(k.length){var ce=Jl(k,Jf(eA));D|=w}return Io(_,D,v,k,ce)}),p8=bi(function(_,v,k){var D=m|y;if(k.length){var ce=Jl(k,Jf(p8));D|=w}return Io(v,D,_,k,ce)});function m8(_,v,k){v=k?i:v;var D=Io(_,b,i,i,i,i,i,v);return D.placeholder=m8.placeholder,D}l(m8,"curry");function _8(_,v,k){v=k?i:v;var D=Io(_,x,i,i,i,i,i,v);return D.placeholder=_8.placeholder,D}l(_8,"curryRight");function g8(_,v,k){var D,ce,Ee,ze,$e,Qe,pt=0,mt=!1,bt=!1,It=!0;if(typeof _!="function")throw new Va(r);v=ja(v)||0,cn(k)&&(mt=!!k.leading,bt="maxWait"in k,Ee=bt?zn(ja(k.maxWait)||0,v):Ee,It="trailing"in k?!!k.trailing:It);function Dt(En){var vs=D,Bo=ce;return D=ce=i,pt=En,ze=_.apply(Bo,vs),ze}l(Dt,"invokeFunc");function $t(En){return pt=En,$e=jm(wi,v),mt?Dt(En):ze}l($t,"leadingEdge");function hi(En){var vs=En-Qe,Bo=En-pt,B8=v-vs;return bt?dr(B8,Ee-Bo):B8}l(hi,"remainingWait");function Xt(En){var vs=En-Qe,Bo=En-pt;return Qe===i||vs>=v||vs<0||bt&&Bo>=Ee}l(Xt,"shouldInvoke");function wi(){var En=cb();if(Xt(En))return Ei(En);$e=jm(wi,hi(En))}l(wi,"timerExpired");function Ei(En){return $e=i,It&&D?Dt(En):(D=ce=i,ze)}l(Ei,"trailingEdge");function da(){$e!==i&&TN($e),pt=0,D=Qe=ce=$e=i}l(da,"cancel");function Cr(){return $e===i?ze:Ei(cb())}l(Cr,"flush");function pa(){var En=cb(),vs=Xt(En);if(D=arguments,ce=this,Qe=En,vs){if($e===i)return $t(Qe);if(bt)return TN($e),$e=jm(wi,v),Dt(Qe)}return $e===i&&($e=jm(wi,v)),ze}return l(pa,"debounced"),pa.cancel=da,pa.flush=Cr,pa}l(g8,"debounce");var rre=bi(function(_,v){return sN(_,1,v)}),are=bi(function(_,v,k){return sN(_,ja(v)||0,k)});function sre(_){return Io(_,I)}l(sre,"flip");function ub(_,v){if(typeof _!="function"||v!=null&&typeof v!="function")throw new Va(r);var k=l(function(){var D=arguments,ce=v?v.apply(this,D):D[0],Ee=k.cache;if(Ee.has(ce))return Ee.get(ce);var ze=_.apply(this,D);return k.cache=Ee.set(ce,ze)||Ee,ze},"memoized");return k.cache=new(ub.Cache||Ro),k}l(ub,"memoize"),ub.Cache=Ro;function hb(_){if(typeof _!="function")throw new Va(r);return function(){var v=arguments;switch(v.length){case 0:return!_.call(this);case 1:return!_.call(this,v[0]);case 2:return!_.call(this,v[0],v[1]);case 3:return!_.call(this,v[0],v[1],v[2])}return!_.apply(this,v)}}l(hb,"negate");function ore(_){return d8(2,_)}l(ore,"once");var lre=Xte(function(_,v){v=v.length==1&&ei(v[0])?nn(v[0],ua(jt())):nn(lr(v,1),ua(jt()));var k=v.length;return bi(function(D){for(var ce=-1,Ee=dr(D.length,k);++ce<Ee;)D[ce]=v[ce].call(this,D[ce]);return ca(_,this,D)})}),tA=bi(function(_,v){var k=Jl(v,Jf(tA));return Io(_,w,i,v,k)}),b8=bi(function(_,v){var k=Jl(v,Jf(b8));return Io(_,E,i,v,k)}),cre=Co(function(_,v){return Io(_,C,i,i,i,v)});function ure(_,v){if(typeof _!="function")throw new Va(r);return v=v===i?v:oi(v),bi(_,v)}l(ure,"rest");function hre(_,v){if(typeof _!="function")throw new Va(r);return v=v==null?0:zn(oi(v),0),bi(function(k){var D=k[v],ce=nc(k,0,v);return D&&Zl(ce,D),ca(_,this,ce)})}l(hre,"spread");function fre(_,v,k){var D=!0,ce=!0;if(typeof _!="function")throw new Va(r);return cn(k)&&(D="leading"in k?!!k.leading:D,ce="trailing"in k?!!k.trailing:ce),g8(_,v,{leading:D,maxWait:v,trailing:ce})}l(fre,"throttle");function dre(_){return f8(_,1)}l(dre,"unary");function pre(_,v){return tA(zM(v),_)}l(pre,"wrap");function mre(){if(!arguments.length)return[];var _=arguments[0];return ei(_)?_:[_]}l(mre,"castArray");function _re(_){return Ha(_,f)}l(_re,"clone");function gre(_,v){return v=typeof v=="function"?v:i,Ha(_,f,v)}l(gre,"cloneWith");function bre(_){return Ha(_,u|f)}l(bre,"cloneDeep");function yre(_,v){return v=typeof v=="function"?v:i,Ha(_,u|f,v)}l(yre,"cloneDeepWith");function vre(_,v){return v==null||aN(_,v,Kn(v))}l(vre,"conformsTo");function ys(_,v){return _===v||_!==_&&v!==v}l(ys,"eq");var wre=nb(TM),xre=nb(function(_,v){return _>=v}),Lu=hN(function(){return arguments}())?hN:function(_){return mn(_)&&Ui.call(_,"callee")&&!J6.call(_,"callee")},ei=at.isArray,Sre=C6?ua(C6):Ite;function $r(_){return _!=null&&fb(_.length)&&!No(_)}l($r,"isArrayLike");function Sn(_){return mn(_)&&$r(_)}l(Sn,"isArrayLikeObject");function Ere(_){return _===!0||_===!1||mn(_)&&Pr(_)==Ge}l(Ere,"isBoolean");var rc=Uee||fA,Mre=L6?ua(L6):Cte;function Are(_){return mn(_)&&_.nodeType===1&&!$m(_)}l(Are,"isElement");function Tre(_){if(_==null)return!0;if($r(_)&&(ei(_)||typeof _=="string"||typeof _.splice=="function"||rc(_)||Kf(_)||Lu(_)))return!_.length;var v=pr(_);if(v==S||v==Ie)return!_.size;if(Wm(_))return!PM(_).length;for(var k in _)if(Ui.call(_,k))return!1;return!0}l(Tre,"isEmpty");function kre(_,v){return qm(_,v)}l(kre,"isEqual");function Rre(_,v,k){k=typeof k=="function"?k:i;var D=k?k(_,v):i;return D===i?qm(_,v,i,k):!!D}l(Rre,"isEqualWith");function iA(_){if(!mn(_))return!1;var v=Pr(_);return v==He||v==we||typeof _.message=="string"&&typeof _.name=="string"&&!$m(_)}l(iA,"isError");function Pre(_){return typeof _=="number"&&Q6(_)}l(Pre,"isFinite");function No(_){if(!cn(_))return!1;var v=Pr(_);return v==Ke||v==Ze||v==De||v==me}l(No,"isFunction");function y8(_){return typeof _=="number"&&_==oi(_)}l(y8,"isInteger");function fb(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=fe}l(fb,"isLength");function cn(_){var v=typeof _;return _!=null&&(v=="object"||v=="function")}l(cn,"isObject");function mn(_){return _!=null&&typeof _=="object"}l(mn,"isObjectLike");var v8=N6?ua(N6):Nte;function Ire(_,v){return _===v||RM(_,v,jM(v))}l(Ire,"isMatch");function Cre(_,v,k){return k=typeof k=="function"?k:i,RM(_,v,jM(v),k)}l(Cre,"isMatchWith");function Lre(_){return w8(_)&&_!=+_}l(Lre,"isNaN");function Nre(_){if(gie(_))throw new Qt(n);return fN(_)}l(Nre,"isNative");function Ore(_){return _===null}l(Ore,"isNull");function Bre(_){return _==null}l(Bre,"isNil");function w8(_){return typeof _=="number"||mn(_)&&Pr(_)==G}l(w8,"isNumber");function $m(_){if(!mn(_)||Pr(_)!=K)return!1;var v=z1(_);if(v===null)return!0;var k=Ui.call(v,"constructor")&&v.constructor;return typeof k=="function"&&k instanceof k&&O1.call(k)==Cee}l($m,"isPlainObject");var nA=O6?ua(O6):Ote;function Fre(_){return y8(_)&&_>=-fe&&_<=fe}l(Fre,"isSafeInteger");var x8=B6?ua(B6):Bte;function db(_){return typeof _=="string"||!ei(_)&&mn(_)&&Pr(_)==Ce}l(db,"isString");function fa(_){return typeof _=="symbol"||mn(_)&&Pr(_)==Xe}l(fa,"isSymbol");var Kf=F6?ua(F6):Fte;function Ure(_){return _===i}l(Ure,"isUndefined");function zre(_){return mn(_)&&pr(_)==z}l(zre,"isWeakMap");function Dre(_){return mn(_)&&Pr(_)==B}l(Dre,"isWeakSet");var Vre=nb(IM),qre=nb(function(_,v){return _<=v});function S8(_){if(!_)return[];if($r(_))return db(_)?gs(_):jr(_);if(Nm&&_[Nm])return vee(_[Nm]());var v=pr(_),k=v==S?bM:v==Ie?C1:Qf;return k(_)}l(S8,"toArray");function Oo(_){if(!_)return _===0?_:0;if(_=ja(_),_===X||_===-X){var v=_<0?-1:1;return v*H}return _===_?_:0}l(Oo,"toFinite");function oi(_){var v=Oo(_),k=v%1;return v===v?k?v-k:v:0}l(oi,"toInteger");function E8(_){return _?Ru(oi(_),0,$):0}l(E8,"toLength");function ja(_){if(typeof _=="number")return _;if(fa(_))return Y;if(cn(_)){var v=typeof _.valueOf=="function"?_.valueOf():_;_=cn(v)?v+"":v}if(typeof _!="string")return _===0?_:+_;_=H6(_);var k=xe.test(_);return k||ge.test(_)?nee(_.slice(2),k?2:8):V.test(_)?Y:+_}l(ja,"toNumber");function M8(_){return $s(_,Xr(_))}l(M8,"toPlainObject");function Hre(_){return _?Ru(oi(_),-fe,fe):_===0?_:0}l(Hre,"toSafeInteger");function Li(_){return _==null?"":ha(_)}l(Li,"toString");var Gre=Yf(function(_,v){if(Wm(v)||$r(v)){$s(v,Kn(v),_);return}for(var k in v)Ui.call(v,k)&&zm(_,k,v[k])}),A8=Yf(function(_,v){$s(v,Xr(v),_)}),pb=Yf(function(_,v,k,D){$s(v,Xr(v),_,D)}),Wre=Yf(function(_,v,k,D){$s(v,Kn(v),_,D)}),jre=Co(EM);function $re(_,v){var k=Xf(_);return v==null?k:rN(k,v)}l($re,"create");var Xre=bi(function(_,v){_=Xi(_);var k=-1,D=v.length,ce=D>2?v[2]:i;for(ce&&Ir(v[0],v[1],ce)&&(D=1);++k<D;)for(var Ee=v[k],ze=Xr(Ee),$e=-1,Qe=ze.length;++$e<Qe;){var pt=ze[$e],mt=_[pt];(mt===i||ys(mt,Wf[pt])&&!Ui.call(_,pt))&&(_[pt]=Ee[pt])}return _}),Yre=bi(function(_){return _.push(i,HN),ca(T8,i,_)});function Zre(_,v){return z6(_,jt(v,3),js)}l(Zre,"findKey");function Jre(_,v){return z6(_,jt(v,3),AM)}l(Jre,"findLastKey");function Kre(_,v){return _==null?_:MM(_,jt(v,3),Xr)}l(Kre,"forIn");function Qre(_,v){return _==null?_:cN(_,jt(v,3),Xr)}l(Qre,"forInRight");function eae(_,v){return _&&js(_,jt(v,3))}l(eae,"forOwn");function tae(_,v){return _&&AM(_,jt(v,3))}l(tae,"forOwnRight");function iae(_){return _==null?[]:Y1(_,Kn(_))}l(iae,"functions");function nae(_){return _==null?[]:Y1(_,Xr(_))}l(nae,"functionsIn");function rA(_,v,k){var D=_==null?i:Pu(_,v);return D===i?k:D}l(rA,"get");function rae(_,v){return _!=null&&jN(_,v,Tte)}l(rae,"has");function aA(_,v){return _!=null&&jN(_,v,kte)}l(aA,"hasIn");var aae=UN(function(_,v,k){v!=null&&typeof v.toString!="function"&&(v=B1.call(v)),_[v]=k},oA(Yr)),sae=UN(function(_,v,k){v!=null&&typeof v.toString!="function"&&(v=B1.call(v)),Ui.call(_,v)?_[v].push(k):_[v]=[k]},jt),oae=bi(Vm);function Kn(_){return $r(_)?iN(_):PM(_)}l(Kn,"keys");function Xr(_){return $r(_)?iN(_,!0):Ute(_)}l(Xr,"keysIn");function lae(_,v){var k={};return v=jt(v,3),js(_,function(D,ce,Ee){Po(k,v(D,ce,Ee),D)}),k}l(lae,"mapKeys");function cae(_,v){var k={};return v=jt(v,3),js(_,function(D,ce,Ee){Po(k,ce,v(D,ce,Ee))}),k}l(cae,"mapValues");var uae=Yf(function(_,v,k){Z1(_,v,k)}),T8=Yf(function(_,v,k,D){Z1(_,v,k,D)}),hae=Co(function(_,v){var k={};if(_==null)return k;var D=!1;v=nn(v,function(Ee){return Ee=ic(Ee,_),D||(D=Ee.length>1),Ee}),$s(_,GM(_),k),D&&(k=Ha(k,u|h|f,aie));for(var ce=v.length;ce--;)BM(k,v[ce]);return k});function fae(_,v){return k8(_,hb(jt(v)))}l(fae,"omitBy");var dae=Co(function(_,v){return _==null?{}:Dte(_,v)});function k8(_,v){if(_==null)return{};var k=nn(GM(_),function(D){return[D]});return v=jt(v),yN(_,k,function(D,ce){return v(D,ce[0])})}l(k8,"pickBy");function pae(_,v,k){v=ic(v,_);var D=-1,ce=v.length;for(ce||(ce=1,_=i);++D<ce;){var Ee=_==null?i:_[Xs(v[D])];Ee===i&&(D=ce,Ee=k),_=No(Ee)?Ee.call(_):Ee}return _}l(pae,"result");function mae(_,v,k){return _==null?_:Hm(_,v,k)}l(mae,"set");function _ae(_,v,k,D){return D=typeof D=="function"?D:i,_==null?_:Hm(_,v,k,D)}l(_ae,"setWith");var R8=VN(Kn),P8=VN(Xr);function gae(_,v,k){var D=ei(_),ce=D||rc(_)||Kf(_);if(v=jt(v,4),k==null){var Ee=_&&_.constructor;ce?k=D?new Ee:[]:cn(_)?k=No(Ee)?Xf(z1(_)):{}:k={}}return(ce?Da:js)(_,function(ze,$e,Qe){return v(k,ze,$e,Qe)}),k}l(gae,"transform");function bae(_,v){return _==null?!0:BM(_,v)}l(bae,"unset");function yae(_,v,k){return _==null?_:EN(_,v,zM(k))}l(yae,"update");function vae(_,v,k,D){return D=typeof D=="function"?D:i,_==null?_:EN(_,v,zM(k),D)}l(vae,"updateWith");function Qf(_){return _==null?[]:gM(_,Kn(_))}l(Qf,"values");function wae(_){return _==null?[]:gM(_,Xr(_))}l(wae,"valuesIn");function xae(_,v,k){return k===i&&(k=v,v=i),k!==i&&(k=ja(k),k=k===k?k:0),v!==i&&(v=ja(v),v=v===v?v:0),Ru(ja(_),v,k)}l(xae,"clamp");function Sae(_,v,k){return v=Oo(v),k===i?(k=v,v=0):k=Oo(k),_=ja(_),Rte(_,v,k)}l(Sae,"inRange");function Eae(_,v,k){if(k&&typeof k!="boolean"&&Ir(_,v,k)&&(v=k=i),k===i&&(typeof v=="boolean"?(k=v,v=i):typeof _=="boolean"&&(k=_,_=i)),_===i&&v===i?(_=0,v=1):(_=Oo(_),v===i?(v=_,_=0):v=Oo(v)),_>v){var D=_;_=v,v=D}if(k||_%1||v%1){var ce=eN();return dr(_+ce*(v-_+iee("1e-"+((ce+"").length-1))),v)}return LM(_,v)}l(Eae,"random");var Mae=Zf(function(_,v,k){return v=v.toLowerCase(),_+(k?I8(v):v)});function I8(_){return sA(Li(_).toLowerCase())}l(I8,"capitalize");function C8(_){return _=Li(_),_&&_.replace(it,mee).replace(M6,"")}l(C8,"deburr");function Aae(_,v,k){_=Li(_),v=ha(v);var D=_.length;k=k===i?D:Ru(oi(k),0,D);var ce=k;return k-=v.length,k>=0&&_.slice(k,ce)==v}l(Aae,"endsWith");function Tae(_){return _=Li(_),_&&Te.test(_)?_.replace(N,_ee):_}l(Tae,"escape");function kae(_){return _=Li(_),_&&Yt.test(_)?_.replace(Ft,"\\$&"):_}l(kae,"escapeRegExp");var Rae=Zf(function(_,v,k){return _+(k?"-":"")+v.toLowerCase()}),Pae=Zf(function(_,v,k){return _+(k?" ":"")+v.toLowerCase()}),Iae=ON("toLowerCase");function Cae(_,v,k){_=Li(_),v=oi(v);var D=v?Gf(_):0;if(!v||D>=v)return _;var ce=(v-D)/2;return ib(H1(ce),k)+_+ib(q1(ce),k)}l(Cae,"pad");function Lae(_,v,k){_=Li(_),v=oi(v);var D=v?Gf(_):0;return v&&D<v?_+ib(v-D,k):_}l(Lae,"padEnd");function Nae(_,v,k){_=Li(_),v=oi(v);var D=v?Gf(_):0;return v&&D<v?ib(v-D,k)+_:_}l(Nae,"padStart");function Oae(_,v,k){return k||v==null?v=0:v&&(v=+v),qee(Li(_).replace(Mi,""),v||0)}l(Oae,"parseInt");function Bae(_,v,k){return(k?Ir(_,v,k):v===i)?v=1:v=oi(v),NM(Li(_),v)}l(Bae,"repeat");function Fae(){var _=arguments,v=Li(_[0]);return _.length<3?v:v.replace(_[1],_[2])}l(Fae,"replace");var Uae=Zf(function(_,v,k){return _+(k?"_":"")+v.toLowerCase()});function zae(_,v,k){return k&&typeof k!="number"&&Ir(_,v,k)&&(v=k=i),k=k===i?$:k>>>0,k?(_=Li(_),_&&(typeof v=="string"||v!=null&&!nA(v))&&(v=ha(v),!v&&Hf(_))?nc(gs(_),0,k):_.split(v,k)):[]}l(zae,"split");var Dae=Zf(function(_,v,k){return _+(k?" ":"")+sA(v)});function Vae(_,v,k){return _=Li(_),k=k==null?0:Ru(oi(k),0,_.length),v=ha(v),_.slice(k,k+v.length)==v}l(Vae,"startsWith");function qae(_,v,k){var D=ye.templateSettings;k&&Ir(_,v,k)&&(v=i),_=Li(_),v=pb({},v,D,qN);var ce=pb({},v.imports,D.imports,qN),Ee=Kn(ce),ze=gM(ce,Ee),$e,Qe,pt=0,mt=v.interpolate||st,bt="__p += '",It=yM((v.escape||st).source+"|"+mt.source+"|"+(mt===Ye?Ut:st).source+"|"+(v.evaluate||st).source+"|$","g"),Dt="//# sourceURL="+(Ui.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++JQ+"]")+`
`;_.replace(It,function(Xt,wi,Ei,da,Cr,pa){return Ei||(Ei=da),bt+=_.slice(pt,pa).replace(dt,gee),wi&&($e=!0,bt+=`' +
__e(`+wi+`) +
'`),Cr&&(Qe=!0,bt+=`';
`+Cr+`;
__p += '`),Ei&&(bt+=`' +
((__t = (`+Ei+`)) == null ? '' : __t) +
'`),pt=pa+Xt.length,Xt}),bt+=`';
`;var $t=Ui.call(v,"variable")&&v.variable;if(!$t)bt=`with (obj) {
`+bt+`
}
`;else if(rt.test($t))throw new Qt(a);bt=(Qe?bt.replace(Re,""):bt).replace(te,"$1").replace(et,"$1;"),bt="function("+($t||"obj")+`) {
`+($t?"":`obj || (obj = {});
`)+"var __t, __p = ''"+($e?", __e = _.escape":"")+(Qe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+bt+`return __p
}`;var hi=N8(function(){return Ci(Ee,Dt+"return "+bt).apply(i,ze)});if(hi.source=bt,iA(hi))throw hi;return hi}l(qae,"template");function Hae(_){return Li(_).toLowerCase()}l(Hae,"toLower");function Gae(_){return Li(_).toUpperCase()}l(Gae,"toUpper");function Wae(_,v,k){if(_=Li(_),_&&(k||v===i))return H6(_);if(!_||!(v=ha(v)))return _;var D=gs(_),ce=gs(v),Ee=G6(D,ce),ze=W6(D,ce)+1;return nc(D,Ee,ze).join("")}l(Wae,"trim");function jae(_,v,k){if(_=Li(_),_&&(k||v===i))return _.slice(0,$6(_)+1);if(!_||!(v=ha(v)))return _;var D=gs(_),ce=W6(D,gs(v))+1;return nc(D,0,ce).join("")}l(jae,"trimEnd");function $ae(_,v,k){if(_=Li(_),_&&(k||v===i))return _.replace(Mi,"");if(!_||!(v=ha(v)))return _;var D=gs(_),ce=G6(D,gs(v));return nc(D,ce).join("")}l($ae,"trimStart");function Xae(_,v){var k=F,D=A;if(cn(v)){var ce="separator"in v?v.separator:ce;k="length"in v?oi(v.length):k,D="omission"in v?ha(v.omission):D}_=Li(_);var Ee=_.length;if(Hf(_)){var ze=gs(_);Ee=ze.length}if(k>=Ee)return _;var $e=k-Gf(D);if($e<1)return D;var Qe=ze?nc(ze,0,$e).join(""):_.slice(0,$e);if(ce===i)return Qe+D;if(ze&&($e+=Qe.length-$e),nA(ce)){if(_.slice($e).search(ce)){var pt,mt=Qe;for(ce.global||(ce=yM(ce.source,Li(Vt.exec(ce))+"g")),ce.lastIndex=0;pt=ce.exec(mt);)var bt=pt.index;Qe=Qe.slice(0,bt===i?$e:bt)}}else if(_.indexOf(ha(ce),$e)!=$e){var It=Qe.lastIndexOf(ce);It>-1&&(Qe=Qe.slice(0,It))}return Qe+D}l(Xae,"truncate");function Yae(_){return _=Li(_),_&&le.test(_)?_.replace(oe,Eee):_}l(Yae,"unescape");var Zae=Zf(function(_,v,k){return _+(k?" ":"")+v.toUpperCase()}),sA=ON("toUpperCase");function L8(_,v,k){return _=Li(_),v=k?i:v,v===i?yee(_)?Tee(_):uee(_):_.match(v)||[]}l(L8,"words");var N8=bi(function(_,v){try{return ca(_,i,v)}catch(k){return iA(k)?k:new Qt(k)}}),Jae=Co(function(_,v){return Da(v,function(k){k=Xs(k),Po(_,k,eA(_[k],_))}),_});function Kae(_){var v=_==null?0:_.length,k=jt();return _=v?nn(_,function(D){if(typeof D[1]!="function")throw new Va(r);return[k(D[0]),D[1]]}):[],bi(function(D){for(var ce=-1;++ce<v;){var Ee=_[ce];if(ca(Ee[0],this,D))return ca(Ee[1],this,D)}})}l(Kae,"cond");function Qae(_){return Ete(Ha(_,u))}l(Qae,"conforms");function oA(_){return function(){return _}}l(oA,"constant");function ese(_,v){return _==null||_!==_?v:_}l(ese,"defaultTo");var tse=FN(),ise=FN(!0);function Yr(_){return _}l(Yr,"identity");function lA(_){return dN(typeof _=="function"?_:Ha(_,u))}l(lA,"iteratee");function nse(_){return mN(Ha(_,u))}l(nse,"matches");function rse(_,v){return _N(_,Ha(v,u))}l(rse,"matchesProperty");var ase=bi(function(_,v){return function(k){return Vm(k,_,v)}}),sse=bi(function(_,v){return function(k){return Vm(_,k,v)}});function cA(_,v,k){var D=Kn(v),ce=Y1(v,D);k==null&&!(cn(v)&&(ce.length||!D.length))&&(k=v,v=_,_=this,ce=Y1(v,Kn(v)));var Ee=!(cn(k)&&"chain"in k)||!!k.chain,ze=No(_);return Da(ce,function($e){var Qe=v[$e];_[$e]=Qe,ze&&(_.prototype[$e]=function(){var pt=this.__chain__;if(Ee||pt){var mt=_(this.__wrapped__),bt=mt.__actions__=jr(this.__actions__);return bt.push({func:Qe,args:arguments,thisArg:_}),mt.__chain__=pt,mt}return Qe.apply(_,Zl([this.value()],arguments))})}),_}l(cA,"mixin");function ose(){return Jn._===this&&(Jn._=Lee),this}l(ose,"noConflict");function uA(){}l(uA,"noop");function lse(_){return _=oi(_),bi(function(v){return gN(v,_)})}l(lse,"nthArg");var cse=VM(nn),use=VM(U6),hse=VM(fM);function O8(_){return XM(_)?dM(Xs(_)):Vte(_)}l(O8,"property");function fse(_){return function(v){return _==null?i:Pu(_,v)}}l(fse,"propertyOf");var dse=zN(),pse=zN(!0);function hA(){return[]}l(hA,"stubArray");function fA(){return!1}l(fA,"stubFalse");function mse(){return{}}l(mse,"stubObject");function _se(){return""}l(_se,"stubString");function gse(){return!0}l(gse,"stubTrue");function bse(_,v){if(_=oi(_),_<1||_>fe)return[];var k=$,D=dr(_,$);v=jt(v),_-=$;for(var ce=_M(D,v);++k<_;)v(k);return ce}l(bse,"times");function yse(_){return ei(_)?nn(_,Xs):fa(_)?[_]:jr(t8(Li(_)))}l(yse,"toPath");function vse(_){var v=++Iee;return Li(_)+v}l(vse,"uniqueId");var wse=tb(function(_,v){return _+v},0),xse=qM("ceil"),Sse=tb(function(_,v){return _/v},1),Ese=qM("floor");function Mse(_){return _&&_.length?X1(_,Yr,TM):i}l(Mse,"max");function Ase(_,v){return _&&_.length?X1(_,jt(v,2),TM):i}l(Ase,"maxBy");function Tse(_){return V6(_,Yr)}l(Tse,"mean");function kse(_,v){return V6(_,jt(v,2))}l(kse,"meanBy");function Rse(_){return _&&_.length?X1(_,Yr,IM):i}l(Rse,"min");function Pse(_,v){return _&&_.length?X1(_,jt(v,2),IM):i}l(Pse,"minBy");var Ise=tb(function(_,v){return _*v},1),Cse=qM("round"),Lse=tb(function(_,v){return _-v},0);function Nse(_){return _&&_.length?mM(_,Yr):0}l(Nse,"sum");function Ose(_,v){return _&&_.length?mM(_,jt(v,2)):0}return l(Ose,"sumBy"),ye.after=nre,ye.ary=f8,ye.assign=Gre,ye.assignIn=A8,ye.assignInWith=pb,ye.assignWith=Wre,ye.at=jre,ye.before=d8,ye.bind=eA,ye.bindAll=Jae,ye.bindKey=p8,ye.castArray=mre,ye.chain=c8,ye.chunk=Eie,ye.compact=Mie,ye.concat=Aie,ye.cond=Kae,ye.conforms=Qae,ye.constant=oA,ye.countBy=Nne,ye.create=$re,ye.curry=m8,ye.curryRight=_8,ye.debounce=g8,ye.defaults=Xre,ye.defaultsDeep=Yre,ye.defer=rre,ye.delay=are,ye.difference=Tie,ye.differenceBy=kie,ye.differenceWith=Rie,ye.drop=Pie,ye.dropRight=Iie,ye.dropRightWhile=Cie,ye.dropWhile=Lie,ye.fill=Nie,ye.filter=Bne,ye.flatMap=zne,ye.flatMapDeep=Dne,ye.flatMapDepth=Vne,ye.flatten=a8,ye.flattenDeep=Oie,ye.flattenDepth=Bie,ye.flip=sre,ye.flow=tse,ye.flowRight=ise,ye.fromPairs=Fie,ye.functions=iae,ye.functionsIn=nae,ye.groupBy=qne,ye.initial=zie,ye.intersection=Die,ye.intersectionBy=Vie,ye.intersectionWith=qie,ye.invert=aae,ye.invertBy=sae,ye.invokeMap=Gne,ye.iteratee=lA,ye.keyBy=Wne,ye.keys=Kn,ye.keysIn=Xr,ye.map=lb,ye.mapKeys=lae,ye.mapValues=cae,ye.matches=nse,ye.matchesProperty=rse,ye.memoize=ub,ye.merge=uae,ye.mergeWith=T8,ye.method=ase,ye.methodOf=sse,ye.mixin=cA,ye.negate=hb,ye.nthArg=lse,ye.omit=hae,ye.omitBy=fae,ye.once=ore,ye.orderBy=jne,ye.over=cse,ye.overArgs=lre,ye.overEvery=use,ye.overSome=hse,ye.partial=tA,ye.partialRight=b8,ye.partition=$ne,ye.pick=dae,ye.pickBy=k8,ye.property=O8,ye.propertyOf=fse,ye.pull=jie,ye.pullAll=o8,ye.pullAllBy=$ie,ye.pullAllWith=Xie,ye.pullAt=Yie,ye.range=dse,ye.rangeRight=pse,ye.rearg=cre,ye.reject=Zne,ye.remove=Zie,ye.rest=ure,ye.reverse=KM,ye.sampleSize=Kne,ye.set=mae,ye.setWith=_ae,ye.shuffle=Qne,ye.slice=Jie,ye.sortBy=ire,ye.sortedUniq=rne,ye.sortedUniqBy=ane,ye.split=zae,ye.spread=hre,ye.tail=sne,ye.take=one,ye.takeRight=lne,ye.takeRightWhile=cne,ye.takeWhile=une,ye.tap=Mne,ye.throttle=fre,ye.thru=ob,ye.toArray=S8,ye.toPairs=R8,ye.toPairsIn=P8,ye.toPath=yse,ye.toPlainObject=M8,ye.transform=gae,ye.unary=dre,ye.union=hne,ye.unionBy=fne,ye.unionWith=dne,ye.uniq=pne,ye.uniqBy=mne,ye.uniqWith=_ne,ye.unset=bae,ye.unzip=QM,ye.unzipWith=l8,ye.update=yae,ye.updateWith=vae,ye.values=Qf,ye.valuesIn=wae,ye.without=gne,ye.words=L8,ye.wrap=pre,ye.xor=bne,ye.xorBy=yne,ye.xorWith=vne,ye.zip=wne,ye.zipObject=xne,ye.zipObjectDeep=Sne,ye.zipWith=Ene,ye.entries=R8,ye.entriesIn=P8,ye.extend=A8,ye.extendWith=pb,cA(ye,ye),ye.add=wse,ye.attempt=N8,ye.camelCase=Mae,ye.capitalize=I8,ye.ceil=xse,ye.clamp=xae,ye.clone=_re,ye.cloneDeep=bre,ye.cloneDeepWith=yre,ye.cloneWith=gre,ye.conformsTo=vre,ye.deburr=C8,ye.defaultTo=ese,ye.divide=Sse,ye.endsWith=Aae,ye.eq=ys,ye.escape=Tae,ye.escapeRegExp=kae,ye.every=One,ye.find=Fne,ye.findIndex=n8,ye.findKey=Zre,ye.findLast=Une,ye.findLastIndex=r8,ye.findLastKey=Jre,ye.floor=Ese,ye.forEach=u8,ye.forEachRight=h8,ye.forIn=Kre,ye.forInRight=Qre,ye.forOwn=eae,ye.forOwnRight=tae,ye.get=rA,ye.gt=wre,ye.gte=xre,ye.has=rae,ye.hasIn=aA,ye.head=s8,ye.identity=Yr,ye.includes=Hne,ye.indexOf=Uie,ye.inRange=Sae,ye.invoke=oae,ye.isArguments=Lu,ye.isArray=ei,ye.isArrayBuffer=Sre,ye.isArrayLike=$r,ye.isArrayLikeObject=Sn,ye.isBoolean=Ere,ye.isBuffer=rc,ye.isDate=Mre,ye.isElement=Are,ye.isEmpty=Tre,ye.isEqual=kre,ye.isEqualWith=Rre,ye.isError=iA,ye.isFinite=Pre,ye.isFunction=No,ye.isInteger=y8,ye.isLength=fb,ye.isMap=v8,ye.isMatch=Ire,ye.isMatchWith=Cre,ye.isNaN=Lre,ye.isNative=Nre,ye.isNil=Bre,ye.isNull=Ore,ye.isNumber=w8,ye.isObject=cn,ye.isObjectLike=mn,ye.isPlainObject=$m,ye.isRegExp=nA,ye.isSafeInteger=Fre,ye.isSet=x8,ye.isString=db,ye.isSymbol=fa,ye.isTypedArray=Kf,ye.isUndefined=Ure,ye.isWeakMap=zre,ye.isWeakSet=Dre,ye.join=Hie,ye.kebabCase=Rae,ye.last=Wa,ye.lastIndexOf=Gie,ye.lowerCase=Pae,ye.lowerFirst=Iae,ye.lt=Vre,ye.lte=qre,ye.max=Mse,ye.maxBy=Ase,ye.mean=Tse,ye.meanBy=kse,ye.min=Rse,ye.minBy=Pse,ye.stubArray=hA,ye.stubFalse=fA,ye.stubObject=mse,ye.stubString=_se,ye.stubTrue=gse,ye.multiply=Ise,ye.nth=Wie,ye.noConflict=ose,ye.noop=uA,ye.now=cb,ye.pad=Cae,ye.padEnd=Lae,ye.padStart=Nae,ye.parseInt=Oae,ye.random=Eae,ye.reduce=Xne,ye.reduceRight=Yne,ye.repeat=Bae,ye.replace=Fae,ye.result=pae,ye.round=Cse,ye.runInContext=Je,ye.sample=Jne,ye.size=ere,ye.snakeCase=Uae,ye.some=tre,ye.sortedIndex=Kie,ye.sortedIndexBy=Qie,ye.sortedIndexOf=ene,ye.sortedLastIndex=tne,ye.sortedLastIndexBy=ine,ye.sortedLastIndexOf=nne,ye.startCase=Dae,ye.startsWith=Vae,ye.subtract=Lse,ye.sum=Nse,ye.sumBy=Ose,ye.template=qae,ye.times=bse,ye.toFinite=Oo,ye.toInteger=oi,ye.toLength=E8,ye.toLower=Hae,ye.toNumber=ja,ye.toSafeInteger=Hre,ye.toString=Li,ye.toUpper=Gae,ye.trim=Wae,ye.trimEnd=jae,ye.trimStart=$ae,ye.truncate=Xae,ye.unescape=Yae,ye.uniqueId=vse,ye.upperCase=Zae,ye.upperFirst=sA,ye.each=u8,ye.eachRight=h8,ye.first=s8,cA(ye,function(){var _={};return js(ye,function(v,k){Ui.call(ye.prototype,k)||(_[k]=v)}),_}(),{chain:!1}),ye.VERSION=e,Da(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){ye[_].placeholder=ye}),Da(["drop","take"],function(_,v){Si.prototype[_]=function(k){k=k===i?1:zn(oi(k),0);var D=this.__filtered__&&!v?new Si(this):this.clone();return D.__filtered__?D.__takeCount__=dr(k,D.__takeCount__):D.__views__.push({size:dr(k,$),type:_+(D.__dir__<0?"Right":"")}),D},Si.prototype[_+"Right"]=function(k){return this.reverse()[_](k).reverse()}}),Da(["filter","map","takeWhile"],function(_,v){var k=v+1,D=k==R||k==q;Si.prototype[_]=function(ce){var Ee=this.clone();return Ee.__iteratees__.push({iteratee:jt(ce,3),type:k}),Ee.__filtered__=Ee.__filtered__||D,Ee}}),Da(["head","last"],function(_,v){var k="take"+(v?"Right":"");Si.prototype[_]=function(){return this[k](1).value()[0]}}),Da(["initial","tail"],function(_,v){var k="drop"+(v?"":"Right");Si.prototype[_]=function(){return this.__filtered__?new Si(this):this[k](1)}}),Si.prototype.compact=function(){return this.filter(Yr)},Si.prototype.find=function(_){return this.filter(_).head()},Si.prototype.findLast=function(_){return this.reverse().find(_)},Si.prototype.invokeMap=bi(function(_,v){return typeof _=="function"?new Si(this):this.map(function(k){return Vm(k,_,v)})}),Si.prototype.reject=function(_){return this.filter(hb(jt(_)))},Si.prototype.slice=function(_,v){_=oi(_);var k=this;return k.__filtered__&&(_>0||v<0)?new Si(k):(_<0?k=k.takeRight(-_):_&&(k=k.drop(_)),v!==i&&(v=oi(v),k=v<0?k.dropRight(-v):k.take(v-_)),k)},Si.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},Si.prototype.toArray=function(){return this.take($)},js(Si.prototype,function(_,v){var k=/^(?:filter|find|map|reject)|While$/.test(v),D=/^(?:head|last)$/.test(v),ce=ye[D?"take"+(v=="last"?"Right":""):v],Ee=D||/^find/.test(v);ce&&(ye.prototype[v]=function(){var ze=this.__wrapped__,$e=D?[1]:arguments,Qe=ze instanceof Si,pt=$e[0],mt=Qe||ei(ze),bt=l(function(wi){var Ei=ce.apply(ye,Zl([wi],$e));return D&&It?Ei[0]:Ei},"interceptor");mt&&k&&typeof pt=="function"&&pt.length!=1&&(Qe=mt=!1);var It=this.__chain__,Dt=!!this.__actions__.length,$t=Ee&&!It,hi=Qe&&!Dt;if(!Ee&&mt){ze=hi?ze:new Si(this);var Xt=_.apply(ze,$e);return Xt.__actions__.push({func:ob,args:[bt],thisArg:i}),new qa(Xt,It)}return $t&&hi?_.apply(this,$e):(Xt=this.thru(bt),$t?D?Xt.value()[0]:Xt.value():Xt)})}),Da(["pop","push","shift","sort","splice","unshift"],function(_){var v=L1[_],k=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",D=/^(?:pop|shift)$/.test(_);ye.prototype[_]=function(){var ce=arguments;if(D&&!this.__chain__){var Ee=this.value();return v.apply(ei(Ee)?Ee:[],ce)}return this[k](function(ze){return v.apply(ei(ze)?ze:[],ce)})}}),js(Si.prototype,function(_,v){var k=ye[v];if(k){var D=k.name+"";Ui.call($f,D)||($f[D]=[]),$f[D].push({name:v,func:k})}}),$f[eb(i,y).name]=[{name:"wrapper",func:i}],Si.prototype.clone=Yee,Si.prototype.reverse=Zee,Si.prototype.value=Jee,ye.prototype.at=Ane,ye.prototype.chain=Tne,ye.prototype.commit=kne,ye.prototype.next=Rne,ye.prototype.plant=Ine,ye.prototype.reverse=Cne,ye.prototype.toJSON=ye.prototype.valueOf=ye.prototype.value=Lne,ye.prototype.first=ye.prototype.head,Nm&&(ye.prototype[Nm]=Pne),ye},"runInContext"),Kl=kee();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Jn._=Kl,define(function(){return Kl})):Mu?((Mu.exports=Kl)._=Kl,lM._=Kl):Jn._=Kl}).call(ad)});var a0={};Xa(a0,{ACESFilmicToneMapping:()=>vU,AddEquation:()=>Xu,AddOperation:()=>_U,AdditiveAnimationBlendMode:()=>e4,AdditiveBlending:()=>a3,AlphaFormat:()=>EU,AlwaysCompare:()=>WU,AlwaysDepth:()=>cU,AlwaysStencilFunc:()=>FU,AmbientLight:()=>Zd,AmbientLightProbe:()=>gT,AnimationAction:()=>gv,AnimationClip:()=>uh,AnimationLoader:()=>sT,AnimationMixer:()=>xT,AnimationObjectGroup:()=>wT,AnimationUtils:()=>Fde,ArcCurve:()=>Iy,ArrayCamera:()=>wy,ArrowHelper:()=>VT,Audio:()=>mv,AudioAnalyser:()=>yT,AudioContext:()=>K_,AudioListener:()=>e0,AudioLoader:()=>Q_,AxesHelper:()=>qT,BackSide:()=>Br,BasicDepthPacking:()=>NU,BasicShadowMap:()=>woe,Bone:()=>L_,BooleanKeyframeTrack:()=>el,Box2:()=>RT,Box3:()=>es,Box3Helper:()=>zT,BoxGeometry:()=>sn,BoxHelper:()=>n0,BufferAttribute:()=>Ai,BufferGeometry:()=>ci,BufferGeometryLoader:()=>pv,ByteType:()=>xU,Cache:()=>hh,Camera:()=>Ud,CameraHelper:()=>UT,CanvasTexture:()=>B_,CapsuleGeometry:()=>By,CatmullRomCurve3:()=>Cy,CineonToneMapping:()=>yU,CircleGeometry:()=>Fy,ClampToEdgeWrapping:()=>br,Clock:()=>Kd,Color:()=>Ct,ColorKeyframeTrack:()=>X_,ColorManagement:()=>Qr,CompressedArrayTexture:()=>tT,CompressedTexture:()=>O_,CompressedTextureLoader:()=>oT,ConeGeometry:()=>Uy,CubeCamera:()=>yy,CubeReflectionMapping:()=>gc,CubeRefractionMapping:()=>bc,CubeTexture:()=>ih,CubeTextureLoader:()=>lT,CubeUVReflectionMapping:()=>ep,CubicBezierCurve:()=>F_,CubicBezierCurve3:()=>Ly,CubicInterpolant:()=>rv,CullFaceBack:()=>r3,CullFaceFront:()=>XF,CullFaceFrontBack:()=>voe,CullFaceNone:()=>$F,Curve:()=>xa,CurvePath:()=>Oy,CustomBlending:()=>ZF,CustomToneMapping:()=>wU,CylinderGeometry:()=>$d,Cylindrical:()=>kT,Data3DTexture:()=>A_,DataArrayTexture:()=>Od,DataTexture:()=>_c,DataTextureLoader:()=>cT,DataUtils:()=>Ple,DecrementStencilOp:()=>Loe,DecrementWrapStencilOp:()=>Ooe,DefaultLoadingManager:()=>oz,DepthFormat:()=>dc,DepthStencilFormat:()=>th,DepthTexture:()=>Dd,DirectionalLight:()=>Yd,DirectionalLightHelper:()=>FT,DiscreteInterpolant:()=>av,DisplayP3ColorSpace:()=>i4,DodecahedronGeometry:()=>zy,DoubleSide:()=>ea,DstAlphaFactor:()=>nU,DstColorFactor:()=>aU,DynamicCopyUsage:()=>Zoe,DynamicDrawUsage:()=>Goe,DynamicReadUsage:()=>$oe,EdgesGeometry:()=>Dy,EllipseCurve:()=>Wd,EqualCompare:()=>DU,EqualDepth:()=>hU,EqualStencilFunc:()=>zoe,EquirectangularReflectionMapping:()=>m_,EquirectangularRefractionMapping:()=>__,Euler:()=>T_,EventDispatcher:()=>va,ExtrudeGeometry:()=>Vy,FileLoader:()=>Ts,Float16BufferAttribute:()=>H3,Float32BufferAttribute:()=>Ot,Float64BufferAttribute:()=>G3,FloatType:()=>Ka,Fog:()=>Ey,FogExp2:()=>Sy,FramebufferTexture:()=>eT,FrontSide:()=>Qa,Frustum:()=>zd,GLBufferAttribute:()=>AT,GLSL1:()=>Koe,GLSL3:()=>L3,GreaterCompare:()=>qU,GreaterDepth:()=>dU,GreaterEqualCompare:()=>GU,GreaterEqualDepth:()=>fU,GreaterEqualStencilFunc:()=>Hoe,GreaterStencilFunc:()=>Voe,GridHelper:()=>OT,Group:()=>an,HalfFloatType:()=>Ld,HemisphereLight:()=>ov,HemisphereLightHelper:()=>NT,HemisphereLightProbe:()=>_T,IcosahedronGeometry:()=>qy,ImageBitmapLoader:()=>mT,ImageLoader:()=>fh,ImageUtils:()=>M_,IncrementStencilOp:()=>Coe,IncrementWrapStencilOp:()=>Noe,InstancedBufferAttribute:()=>wc,InstancedBufferGeometry:()=>dv,InstancedInterleavedBuffer:()=>MT,InstancedMesh:()=>ky,Int16BufferAttribute:()=>V3,Int32BufferAttribute:()=>q3,Int8BufferAttribute:()=>U3,IntType:()=>XT,InterleavedBuffer:()=>Hd,InterleavedBufferAttribute:()=>nh,Interpolant:()=>oh,InterpolateDiscrete:()=>y_,InterpolateLinear:()=>v_,InterpolateSmooth:()=>dy,InvertStencilOp:()=>Boe,KeepStencilOp:()=>py,KeyframeTrack:()=>Sa,LOD:()=>My,LatheGeometry:()=>V_,Layers:()=>Bd,LessCompare:()=>zU,LessDepth:()=>uU,LessEqualCompare:()=>VU,LessEqualDepth:()=>my,LessEqualStencilFunc:()=>Doe,LessStencilFunc:()=>Uoe,Light:()=>ro,LightProbe:()=>Jd,Line:()=>no,Line3:()=>PT,LineBasicMaterial:()=>ur,LineCurve:()=>jd,LineCurve3:()=>Ny,LineDashedMaterial:()=>nv,LineLoop:()=>Ry,LineSegments:()=>is,LinearEncoding:()=>t4,LinearFilter:()=>rn,LinearInterpolant:()=>$_,LinearMipMapLinearFilter:()=>Aoe,LinearMipMapNearestFilter:()=>Moe,LinearMipmapLinearFilter:()=>yc,LinearMipmapNearestFilter:()=>$T,LinearSRGBColorSpace:()=>ya,LinearToneMapping:()=>gU,Loader:()=>yr,LoaderUtils:()=>J_,LoadingManager:()=>Y_,LoopOnce:()=>IU,LoopPingPong:()=>LU,LoopRepeat:()=>CU,LuminanceAlphaFormat:()=>AU,LuminanceFormat:()=>MU,MOUSE:()=>Ec,Material:()=>tr,MaterialLoader:()=>fv,MathUtils:()=>il,Matrix3:()=>fi,Matrix4:()=>ni,MaxEquation:()=>c3,Mesh:()=>ii,MeshBasicMaterial:()=>ts,MeshDepthMaterial:()=>I_,MeshDistanceMaterial:()=>C_,MeshLambertMaterial:()=>Xd,MeshMatcapMaterial:()=>iv,MeshNormalMaterial:()=>tv,MeshPhongMaterial:()=>Qy,MeshPhysicalMaterial:()=>Ky,MeshStandardMaterial:()=>As,MeshToonMaterial:()=>ev,MinEquation:()=>l3,MirroredRepeatWrapping:()=>b_,MixOperation:()=>mU,MultiplyBlending:()=>o3,MultiplyOperation:()=>r0,NearestFilter:()=>Di,NearestMipMapLinearFilter:()=>Eoe,NearestMipMapNearestFilter:()=>Soe,NearestMipmapLinearFilter:()=>c_,NearestMipmapNearestFilter:()=>_y,NeverCompare:()=>UU,NeverDepth:()=>lU,NeverStencilFunc:()=>Foe,NoBlending:()=>Ms,NoColorSpace:()=>mc,NoToneMapping:()=>eo,NormalAnimationBlendMode:()=>wv,NormalBlending:()=>Qu,NotEqualCompare:()=>HU,NotEqualDepth:()=>pU,NotEqualStencilFunc:()=>qoe,NumberKeyframeTrack:()=>lh,Object3D:()=>Ni,ObjectLoader:()=>pT,ObjectSpaceNormalMap:()=>BU,OctahedronGeometry:()=>W_,OneFactor:()=>eU,OneMinusDstAlphaFactor:()=>rU,OneMinusDstColorFactor:()=>sU,OneMinusSrcAlphaFactor:()=>jT,OneMinusSrcColorFactor:()=>iU,OrthographicCamera:()=>io,PCFShadowMap:()=>GT,PCFSoftShadowMap:()=>YF,PMREMGenerator:()=>P_,Path:()=>ah,PerspectiveCamera:()=>Tn,Plane:()=>Ks,PlaneGeometry:()=>Qo,PlaneHelper:()=>DT,PointLight:()=>cv,PointLightHelper:()=>LT,Points:()=>Py,PointsMaterial:()=>N_,PolarGridHelper:()=>BT,PolyhedronGeometry:()=>xc,PositionalAudio:()=>t0,PropertyBinding:()=>zi,PropertyMixer:()=>_v,QuadraticBezierCurve:()=>U_,QuadraticBezierCurve3:()=>z_,Quaternion:()=>Dn,QuaternionKeyframeTrack:()=>Sc,QuaternionLinearInterpolant:()=>sv,RED_GREEN_RGTC2_Format:()=>I3,RED_RGTC1_Format:()=>PU,REVISION:()=>bv,RGBADepthPacking:()=>OU,RGBAFormat:()=>Or,RGBAIntegerFormat:()=>QT,RGBA_ASTC_10x10_Format:()=>T3,RGBA_ASTC_10x5_Format:()=>E3,RGBA_ASTC_10x6_Format:()=>M3,RGBA_ASTC_10x8_Format:()=>A3,RGBA_ASTC_12x10_Format:()=>k3,RGBA_ASTC_12x12_Format:()=>R3,RGBA_ASTC_4x4_Format:()=>_3,RGBA_ASTC_5x4_Format:()=>g3,RGBA_ASTC_5x5_Format:()=>b3,RGBA_ASTC_6x5_Format:()=>y3,RGBA_ASTC_6x6_Format:()=>v3,RGBA_ASTC_8x5_Format:()=>w3,RGBA_ASTC_8x6_Format:()=>x3,RGBA_ASTC_8x8_Format:()=>S3,RGBA_BPTC_Format:()=>fy,RGBA_ETC2_EAC_Format:()=>m3,RGBA_PVRTC_2BPPV1_Format:()=>d3,RGBA_PVRTC_4BPPV1_Format:()=>f3,RGBA_S3TC_DXT1_Format:()=>cy,RGBA_S3TC_DXT3_Format:()=>uy,RGBA_S3TC_DXT5_Format:()=>hy,RGB_ETC1_Format:()=>RU,RGB_ETC2_Format:()=>p3,RGB_PVRTC_2BPPV1_Format:()=>h3,RGB_PVRTC_4BPPV1_Format:()=>u3,RGB_S3TC_DXT1_Format:()=>ly,RGFormat:()=>kU,RGIntegerFormat:()=>KT,RawShaderMaterial:()=>Jy,Ray:()=>vc,Raycaster:()=>i0,RectAreaLight:()=>uv,RedFormat:()=>TU,RedIntegerFormat:()=>JT,ReinhardToneMapping:()=>bU,RepeatWrapping:()=>g_,ReplaceStencilOp:()=>Ioe,ReverseSubtractEquation:()=>KF,RingGeometry:()=>Hy,SIGNED_RED_GREEN_RGTC2_Format:()=>C3,SIGNED_RED_RGTC1_Format:()=>P3,SRGBColorSpace:()=>ti,Scene:()=>qd,ShaderChunk:()=>li,ShaderLib:()=>Es,ShaderMaterial:()=>Fr,ShadowMaterial:()=>Zy,Shape:()=>Ko,ShapeGeometry:()=>Gy,ShapePath:()=>HT,ShapeUtils:()=>to,ShortType:()=>SU,Skeleton:()=>Ty,SkeletonHelper:()=>CT,SkinnedMesh:()=>Ay,Source:()=>Yo,Sphere:()=>wa,SphereGeometry:()=>j_,Spherical:()=>Qd,SphericalHarmonics3:()=>hv,SplineCurve:()=>D_,SpotLight:()=>lv,SpotLightHelper:()=>IT,Sprite:()=>Gd,SpriteMaterial:()=>rh,SrcAlphaFactor:()=>WT,SrcAlphaSaturateFactor:()=>oU,SrcColorFactor:()=>tU,StaticCopyUsage:()=>Yoe,StaticDrawUsage:()=>x_,StaticReadUsage:()=>joe,StereoCamera:()=>bT,StreamCopyUsage:()=>Joe,StreamDrawUsage:()=>Woe,StreamReadUsage:()=>Xoe,StringKeyframeTrack:()=>tl,SubtractEquation:()=>JF,SubtractiveBlending:()=>s3,TOUCH:()=>Mc,TangentSpaceNormalMap:()=>Ac,TetrahedronGeometry:()=>Wy,Texture:()=>kn,TextureLoader:()=>uT,TorusGeometry:()=>jy,TorusKnotGeometry:()=>$y,Triangle:()=>Zo,TriangleFanDrawMode:()=>Roe,TriangleStripDrawMode:()=>koe,TrianglesDrawMode:()=>Toe,TubeGeometry:()=>Xy,TwoPassDoubleSide:()=>xoe,UVMapping:()=>yv,Uint16BufferAttribute:()=>k_,Uint32BufferAttribute:()=>R_,Uint8BufferAttribute:()=>z3,Uint8ClampedBufferAttribute:()=>D3,Uniform:()=>ST,UniformsGroup:()=>ET,UniformsLib:()=>kt,UniformsUtils:()=>xv,UnsignedByteType:()=>Jo,UnsignedInt248Type:()=>fc,UnsignedIntType:()=>Xo,UnsignedShort4444Type:()=>YT,UnsignedShort5551Type:()=>ZT,UnsignedShortType:()=>vv,VSMShadowMap:()=>Js,Vector2:()=>ot,Vector3:()=>Ne,Vector4:()=>Vi,VectorKeyframeTrack:()=>ch,VideoTexture:()=>Q3,WebGL1Renderer:()=>xy,WebGL3DRenderTarget:()=>B3,WebGLArrayRenderTarget:()=>O3,WebGLCoordinateSystem:()=>Qs,WebGLCubeRenderTarget:()=>vy,WebGLMultipleRenderTargets:()=>F3,WebGLRenderTarget:()=>cr,WebGLRenderer:()=>Vd,WebGLUtils:()=>tz,WebGPUCoordinateSystem:()=>S_,WireframeGeometry:()=>Yy,WrapAroundEnding:()=>w_,ZeroCurvatureEnding:()=>Zu,ZeroFactor:()=>QF,ZeroSlopeEnding:()=>Ju,ZeroStencilOp:()=>Poe,_SRGBAFormat:()=>gy,sRGBEncoding:()=>pc});function ba(){let i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(_r[i&255]+_r[i>>8&255]+_r[i>>16&255]+_r[i>>24&255]+"-"+_r[e&255]+_r[e>>8&255]+"-"+_r[e>>16&15|64]+_r[e>>24&255]+"-"+_r[t&63|128]+_r[t>>8&255]+"-"+_r[t>>16&255]+_r[t>>24&255]+_r[n&255]+_r[n>>8&255]+_r[n>>16&255]+_r[n>>24&255]).toLowerCase()}function gn(i,e,t){return Math.max(e,Math.min(t,i))}function n4(i,e){return(i%e+e)%e}function Qoe(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function ele(i,e,t){return i!==e?(t-i)/(e-i):0}function u_(i,e,t){return(1-t)*i+t*e}function tle(i,e,t,n){return u_(i,e,1-Math.exp(-t*n))}function ile(i,e=1){return e-Math.abs(n4(i,e*2)-e)}function nle(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function rle(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function ale(i,e){return i+Math.floor(Math.random()*(e-i+1))}function sle(i,e){return i+Math.random()*(e-i)}function ole(i){return i*(.5-Math.random())}function lle(i){i!==void 0&&(wB=i);let e=wB+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function cle(i){return i*eh}function ule(i){return i*Nd}function N3(i){return(i&i-1)===0&&i!==0}function jU(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function by(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function hle(i,e,t,n,r){let a=Math.cos,s=Math.sin,o=a(t/2),c=s(t/2),u=a((e+n)/2),h=s((e+n)/2),f=a((e-n)/2),p=s((e-n)/2),d=a((n-e)/2),m=s((n-e)/2);switch(r){case"XYX":i.set(o*h,c*f,c*p,o*u);break;case"YZY":i.set(c*p,o*h,c*f,o*u);break;case"ZXZ":i.set(c*f,c*p,o*h,o*u);break;case"XZX":i.set(o*h,c*m,c*d,o*u);break;case"YXY":i.set(c*d,o*h,c*m,o*u);break;case"ZYZ":i.set(c*m,c*d,o*h,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ga(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function di(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}function $U(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}function kd(i,e){return new fle[i](e)}function E_(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function h_(i){i in xB||(xB[i]=!0,console.warn(i))}function Id(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function TA(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}function mle(i){return i.convertSRGBToLinear().applyMatrix3(ple)}function _le(i){return i.applyMatrix3(dle).convertLinearToSRGB()}function kA(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?M_.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}function PA(i,e,t,n,r){for(let a=0,s=i.length-3;a<=s;a+=3){zu.fromArray(i,a);let o=r.x*Math.abs(zu.x)+r.y*Math.abs(zu.y)+r.z*Math.abs(zu.z),c=e.dot(zu),u=t.dot(zu),h=n.dot(zu);if(Math.max(-Math.max(c,u,h),Math.min(c,u,h))>o)return!1}return!0}function zA(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}function Rle(){let i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){let u=c-127;u<-27?(n[c]=0,n[c|256]=32768,r[c]=24,r[c|256]=24):u<-14?(n[c]=1024>>-u-14,n[c|256]=1024>>-u-14|32768,r[c]=-u-1,r[c|256]=-u-1):u<=15?(n[c]=u+15<<10,n[c|256]=u+15<<10|32768,r[c]=13,r[c|256]=13):u<128?(n[c]=31744,n[c|256]=64512,r[c]=24,r[c|256]=24):(n[c]=31744,n[c|256]=64512,r[c]=13,r[c|256]=13)}let a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let c=1;c<1024;++c){let u=c<<13,h=0;for(;!(u&8388608);)u<<=1,h-=8388608;u&=-8388609,h+=947912704,a[c]=u|h}for(let c=1024;c<2048;++c)a[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)s[c]=c<<23;s[31]=1199570944,s[32]=2147483648;for(let c=33;c<63;++c)s[c]=2147483648+(c-32<<23);s[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(o[c]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:o}}function Kr(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=gn(i,-65504,65504),$o.floatView[0]=i;let e=$o.uint32View[0],t=e>>23&511;return $o.baseTable[t]+((e&8388607)>>$o.shiftTable[t])}function o_(i){let e=i>>10;return $o.uint32View[0]=$o.mantissaTable[$o.offsetTable[e]+(i&1023)]+$o.exponentTable[e],$o.floatView[0]}function Cle(i,e,t,n,r,a,s,o){let c;if(e.side===Br?c=n.intersectTriangle(s,a,r,!0,o):c=n.intersectTriangle(r,a,s,e.side===Qa,o),c===null)return null;Bb.copy(o),Bb.applyMatrix4(i.matrixWorld);let u=t.ray.origin.distanceTo(Bb);return u<t.near||u>t.far?null:{distance:u,point:Bb.clone(),object:i}}function Fb(i,e,t,n,r,a,s,o,c,u){i.getVertexPosition(o,_d),i.getVertexPosition(c,gd),i.getVertexPosition(u,bd);let h=Cle(i,e,t,n,_d,gd,bd,Ob);if(h){r&&(Cb.fromBufferAttribute(r,o),Lb.fromBufferAttribute(r,c),Nb.fromBufferAttribute(r,u),h.uv=Zo.getInterpolation(Ob,_d,gd,bd,Cb,Lb,Nb,new ot)),a&&(Cb.fromBufferAttribute(a,o),Lb.fromBufferAttribute(a,c),Nb.fromBufferAttribute(a,u),h.uv1=Zo.getInterpolation(Ob,_d,gd,bd,Cb,Lb,Nb,new ot),h.uv2=h.uv1),s&&(NB.fromBufferAttribute(s,o),OB.fromBufferAttribute(s,c),BB.fromBufferAttribute(s,u),h.normal=Zo.getInterpolation(Ob,_d,gd,bd,NB,OB,BB,new Ne),h.normal.dot(n.direction)>0&&h.normal.multiplyScalar(-1));let f={a:o,b:c,c:u,normal:new Ne,materialIndex:0};Zo.getNormal(_d,gd,bd,f.normal),h.face=f}return h}function Fd(i){let e={};for(let t in i){e[t]={};for(let n in i[t]){let r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function Nr(i){let e={};for(let t=0;t<i.length;t++){let n=Fd(i[t]);for(let r in n)e[r]=n[r]}return e}function Lle(i){let e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function YU(i){return i.getRenderTarget()===null?i.outputColorSpace:ya}function ZU(){let i=null,e=!1,t=null,n=null;function r(a,s){t(a,s),n=i.requestAnimationFrame(r)}return l(r,"onAnimationFrame"),{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){i=a}}}function Ule(i,e){let t=e.isWebGL2,n=new WeakMap;function r(u,h){let f=u.array,p=u.usage,d=i.createBuffer();i.bindBuffer(h,d),i.bufferData(h,f,p),u.onUploadCallback();let m;if(f instanceof Float32Array)m=i.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)m=i.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=i.UNSIGNED_SHORT;else if(f instanceof Int16Array)m=i.SHORT;else if(f instanceof Uint32Array)m=i.UNSIGNED_INT;else if(f instanceof Int32Array)m=i.INT;else if(f instanceof Int8Array)m=i.BYTE;else if(f instanceof Uint8Array)m=i.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)m=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:d,type:m,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}l(r,"createBuffer");function a(u,h,f){let p=h.array,d=h.updateRange;i.bindBuffer(f,u),d.count===-1?i.bufferSubData(f,0,p):(t?i.bufferSubData(f,d.offset*p.BYTES_PER_ELEMENT,p,d.offset,d.count):i.bufferSubData(f,d.offset*p.BYTES_PER_ELEMENT,p.subarray(d.offset,d.offset+d.count)),d.count=-1),h.onUploadCallback()}l(a,"updateBuffer");function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),n.get(u)}l(s,"get");function o(u){u.isInterleavedBufferAttribute&&(u=u.data);let h=n.get(u);h&&(i.deleteBuffer(h.buffer),n.delete(u))}l(o,"remove");function c(u,h){if(u.isGLBufferAttribute){let p=n.get(u);(!p||p.version<u.version)&&n.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);let f=n.get(u);f===void 0?n.set(u,r(u,h)):f.version<u.version&&(a(f.buffer,u,h),f.version=u.version)}return l(c,"update"),{get:s,remove:o,update:c}}function _he(i,e,t,n,r,a,s){let o=new Ct(0),c=a===!0?0:1,u,h,f=null,p=0,d=null;function m(g,b){let x=!1,w=b.isScene===!0?b.background:null;switch(w&&w.isTexture&&(w=(b.backgroundBlurriness>0?t:e).get(w)),w===null?y(o,c):w&&w.isColor&&(y(w,1),x=!0),i.xr.getEnvironmentBlendMode()){case"opaque":x=!0;break;case"additive":n.buffers.color.setClear(0,0,0,1,s),x=!0;break;case"alpha-blend":n.buffers.color.setClear(0,0,0,0,s),x=!0;break}(i.autoClear||x)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),w&&(w.isCubeTexture||w.mapping===ep)?(h===void 0&&(h=new ii(new sn(1,1,1),new Fr({name:"BackgroundCubeMaterial",uniforms:Fd(Es.backgroundCube.uniforms),vertexShader:Es.backgroundCube.vertexShader,fragmentShader:Es.backgroundCube.fragmentShader,side:Br,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(C,I,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),h.material.uniforms.envMap.value=w,h.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,h.material.toneMapped=w.colorSpace!==ti,(f!==w||p!==w.version||d!==i.toneMapping)&&(h.material.needsUpdate=!0,f=w,p=w.version,d=i.toneMapping),h.layers.enableAll(),g.unshift(h,h.geometry,h.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new ii(new Qo(2,2),new Fr({name:"BackgroundMaterial",uniforms:Fd(Es.background.uniforms),vertexShader:Es.background.vertexShader,fragmentShader:Es.background.fragmentShader,side:Qa,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.toneMapped=w.colorSpace!==ti,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||p!==w.version||d!==i.toneMapping)&&(u.material.needsUpdate=!0,f=w,p=w.version,d=i.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null))}l(m,"render");function y(g,b){g.getRGB(zb,YU(i)),n.buffers.color.setClear(zb.r,zb.g,zb.b,b,s)}return l(y,"setClear"),{getClearColor:function(){return o},setClearColor:function(g,b=1){o.set(g),c=b,y(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(g){c=g,y(o,c)},render:m}}function ghe(i,e,t,n){let r=i.getParameter(i.MAX_VERTEX_ATTRIBS),a=n.isWebGL2?null:e.get("OES_vertex_array_object"),s=n.isWebGL2||a!==null,o={},c=g(null),u=c,h=!1;function f(q,X,fe,H,Y){let $=!1;if(s){let Z=y(H,fe,X);u!==Z&&(u=Z,d(u.object)),$=b(q,H,fe,Y),$&&x(q,H,fe,Y)}else{let Z=X.wireframe===!0;(u.geometry!==H.id||u.program!==fe.id||u.wireframe!==Z)&&(u.geometry=H.id,u.program=fe.id,u.wireframe=Z,$=!0)}Y!==null&&t.update(Y,i.ELEMENT_ARRAY_BUFFER),($||h)&&(h=!1,F(q,X,fe,H),Y!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.get(Y).buffer))}l(f,"setup");function p(){return n.isWebGL2?i.createVertexArray():a.createVertexArrayOES()}l(p,"createVertexArrayObject");function d(q){return n.isWebGL2?i.bindVertexArray(q):a.bindVertexArrayOES(q)}l(d,"bindVertexArrayObject");function m(q){return n.isWebGL2?i.deleteVertexArray(q):a.deleteVertexArrayOES(q)}l(m,"deleteVertexArrayObject");function y(q,X,fe){let H=fe.wireframe===!0,Y=o[q.id];Y===void 0&&(Y={},o[q.id]=Y);let $=Y[X.id];$===void 0&&($={},Y[X.id]=$);let Z=$[H];return Z===void 0&&(Z=g(p()),$[H]=Z),Z}l(y,"getBindingState");function g(q){let X=[],fe=[],H=[];for(let Y=0;Y<r;Y++)X[Y]=0,fe[Y]=0,H[Y]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:fe,attributeDivisors:H,object:q,attributes:{},index:null}}l(g,"createBindingState");function b(q,X,fe,H){let Y=u.attributes,$=X.attributes,Z=0,ie=fe.getAttributes();for(let ue in ie)if(ie[ue].location>=0){let Fe=Y[ue],De=$[ue];if(De===void 0&&(ue==="instanceMatrix"&&q.instanceMatrix&&(De=q.instanceMatrix),ue==="instanceColor"&&q.instanceColor&&(De=q.instanceColor)),Fe===void 0||Fe.attribute!==De||De&&Fe.data!==De.data)return!0;Z++}return u.attributesNum!==Z||u.index!==H}l(b,"needsUpdate");function x(q,X,fe,H){let Y={},$=X.attributes,Z=0,ie=fe.getAttributes();for(let ue in ie)if(ie[ue].location>=0){let Fe=$[ue];Fe===void 0&&(ue==="instanceMatrix"&&q.instanceMatrix&&(Fe=q.instanceMatrix),ue==="instanceColor"&&q.instanceColor&&(Fe=q.instanceColor));let De={};De.attribute=Fe,Fe&&Fe.data&&(De.data=Fe.data),Y[ue]=De,Z++}u.attributes=Y,u.attributesNum=Z,u.index=H}l(x,"saveCache");function w(){let q=u.newAttributes;for(let X=0,fe=q.length;X<fe;X++)q[X]=0}l(w,"initAttributes");function E(q){M(q,0)}l(E,"enableAttribute");function M(q,X){let fe=u.newAttributes,H=u.enabledAttributes,Y=u.attributeDivisors;fe[q]=1,H[q]===0&&(i.enableVertexAttribArray(q),H[q]=1),Y[q]!==X&&((n.isWebGL2?i:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](q,X),Y[q]=X)}l(M,"enableAttributeAndDivisor");function C(){let q=u.newAttributes,X=u.enabledAttributes;for(let fe=0,H=X.length;fe<H;fe++)X[fe]!==q[fe]&&(i.disableVertexAttribArray(fe),X[fe]=0)}l(C,"disableUnusedAttributes");function I(q,X,fe,H,Y,$,Z){Z===!0?i.vertexAttribIPointer(q,X,fe,Y,$):i.vertexAttribPointer(q,X,fe,H,Y,$)}l(I,"vertexAttribPointer");function F(q,X,fe,H){if(n.isWebGL2===!1&&(q.isInstancedMesh||H.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();let Y=H.attributes,$=fe.getAttributes(),Z=X.defaultAttributeValues;for(let ie in $){let ue=$[ie];if(ue.location>=0){let Me=Y[ie];if(Me===void 0&&(ie==="instanceMatrix"&&q.instanceMatrix&&(Me=q.instanceMatrix),ie==="instanceColor"&&q.instanceColor&&(Me=q.instanceColor)),Me!==void 0){let Fe=Me.normalized,De=Me.itemSize,Ge=t.get(Me);if(Ge===void 0)continue;let ve=Ge.buffer,we=Ge.type,He=Ge.bytesPerElement,Ke=n.isWebGL2===!0&&(we===i.INT||we===i.UNSIGNED_INT||Me.gpuType===XT);if(Me.isInterleavedBufferAttribute){let Ze=Me.data,S=Ze.stride,G=Me.offset;if(Ze.isInstancedInterleavedBuffer){for(let Q=0;Q<ue.locationSize;Q++)M(ue.location+Q,Ze.meshPerAttribute);q.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=Ze.meshPerAttribute*Ze.count)}else for(let Q=0;Q<ue.locationSize;Q++)E(ue.location+Q);i.bindBuffer(i.ARRAY_BUFFER,ve);for(let Q=0;Q<ue.locationSize;Q++)I(ue.location+Q,De/ue.locationSize,we,Fe,S*He,(G+De/ue.locationSize*Q)*He,Ke)}else{if(Me.isInstancedBufferAttribute){for(let Ze=0;Ze<ue.locationSize;Ze++)M(ue.location+Ze,Me.meshPerAttribute);q.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=Me.meshPerAttribute*Me.count)}else for(let Ze=0;Ze<ue.locationSize;Ze++)E(ue.location+Ze);i.bindBuffer(i.ARRAY_BUFFER,ve);for(let Ze=0;Ze<ue.locationSize;Ze++)I(ue.location+Ze,De/ue.locationSize,we,Fe,De*He,De/ue.locationSize*Ze*He,Ke)}}else if(Z!==void 0){let Fe=Z[ie];if(Fe!==void 0)switch(Fe.length){case 2:i.vertexAttrib2fv(ue.location,Fe);break;case 3:i.vertexAttrib3fv(ue.location,Fe);break;case 4:i.vertexAttrib4fv(ue.location,Fe);break;default:i.vertexAttrib1fv(ue.location,Fe)}}}}C()}l(F,"setupVertexAttributes");function A(){R();for(let q in o){let X=o[q];for(let fe in X){let H=X[fe];for(let Y in H)m(H[Y].object),delete H[Y];delete X[fe]}delete o[q]}}l(A,"dispose");function T(q){if(o[q.id]===void 0)return;let X=o[q.id];for(let fe in X){let H=X[fe];for(let Y in H)m(H[Y].object),delete H[Y];delete X[fe]}delete o[q.id]}l(T,"releaseStatesOfGeometry");function j(q){for(let X in o){let fe=o[X];if(fe[q.id]===void 0)continue;let H=fe[q.id];for(let Y in H)m(H[Y].object),delete H[Y];delete fe[q.id]}}l(j,"releaseStatesOfProgram");function R(){U(),h=!0,u!==c&&(u=c,d(u.object))}l(R,"reset");function U(){c.geometry=null,c.program=null,c.wireframe=!1}return l(U,"resetDefaultState"),{setup:f,reset:R,resetDefaultState:U,dispose:A,releaseStatesOfGeometry:T,releaseStatesOfProgram:j,initAttributes:w,enableAttribute:E,disableUnusedAttributes:C}}function bhe(i,e,t,n){let r=n.isWebGL2,a;function s(u){a=u}l(s,"setMode");function o(u,h){i.drawArrays(a,u,h),t.update(h,a,1)}l(o,"render");function c(u,h,f){if(f===0)return;let p,d;if(r)p=i,d="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[d](a,u,h,f),t.update(h,a,f)}l(c,"renderInstances"),this.setMode=s,this.render=o,this.renderInstances=c}function yhe(i,e,t){let n;function r(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){let I=e.get("EXT_texture_filter_anisotropic");n=i.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}l(r,"getMaxAnisotropy");function a(I){if(I==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}l(a,"getMaxPrecision");let s=typeof WebGL2RenderingContext<"u"&&i.constructor.name==="WebGL2RenderingContext",o=t.precision!==void 0?t.precision:"highp",c=a(o);c!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",c,"instead."),o=c);let u=s||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,f=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),p=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=i.getParameter(i.MAX_TEXTURE_SIZE),m=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),y=i.getParameter(i.MAX_VERTEX_ATTRIBS),g=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),b=i.getParameter(i.MAX_VARYING_VECTORS),x=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),w=p>0,E=s||e.has("OES_texture_float"),M=w&&E,C=s?i.getParameter(i.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:h,maxTextures:f,maxVertexTextures:p,maxTextureSize:d,maxCubemapSize:m,maxAttributes:y,maxVertexUniforms:g,maxVaryings:b,maxFragmentUniforms:x,vertexTextures:w,floatFragmentTextures:E,floatVertexTextures:M,maxSamples:C}}function vhe(i){let e=this,t=null,n=0,r=!1,a=!1,s=new Ks,o=new fi,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){let d=f.length!==0||p||n!==0||r;return r=p,n=f.length,d},this.beginShadows=function(){a=!0,h(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,p){t=h(f,p,0)},this.setState=function(f,p,d){let m=f.clippingPlanes,y=f.clipIntersection,g=f.clipShadows,b=i.get(f);if(!r||m===null||m.length===0||a&&!g)a?h(null):u();else{let x=a?0:n,w=x*4,E=b.clippingState||null;c.value=E,E=h(m,p,w,d);for(let M=0;M!==w;++M)E[M]=t[M];b.clippingState=E,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=x}};function u(){c.value!==t&&(c.value=t,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}l(u,"resetGlobalState");function h(f,p,d,m){let y=f!==null?f.length:0,g=null;if(y!==0){if(g=c.value,m!==!0||g===null){let b=d+y*4,x=p.matrixWorldInverse;o.getNormalMatrix(x),(g===null||g.length<b)&&(g=new Float32Array(b));for(let w=0,E=d;w!==y;++w,E+=4)s.copy(f[w]).applyMatrix4(x,o),s.normal.toArray(g,E),g[E+3]=s.constant}c.value=g,c.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,g}l(h,"projectPlanes")}function whe(i){let e=new WeakMap;function t(s,o){return o===m_?s.mapping=gc:o===__&&(s.mapping=bc),s}l(t,"mapTextureMapping");function n(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){let o=s.mapping;if(o===m_||o===__)if(e.has(s)){let c=e.get(s).texture;return t(c,s.mapping)}else{let c=s.image;if(c&&c.height>0){let u=new vy(c.height/2);return u.fromEquirectangularTexture(i,s),e.set(s,u),s.addEventListener("dispose",r),t(u.texture,s.mapping)}else return null}}return s}l(n,"get");function r(s){let o=s.target;o.removeEventListener("dispose",r);let c=e.get(o);c!==void 0&&(e.delete(o),c.dispose())}l(r,"onTextureDispose");function a(){e=new WeakMap}return l(a,"dispose"),{get:n,dispose:a}}function xhe(i){let e=[],t=[],n=[],r=i,a=i-Rd+1+FB.length;for(let s=0;s<a;s++){let o=Math.pow(2,r);t.push(o);let c=1/o;s>i-Rd?c=FB[s-i+Rd-1]:s===0&&(c=0),n.push(c);let u=1/(o-2),h=-u,f=1+u,p=[h,h,f,h,f,f,h,h,f,f,h,f],d=6,m=6,y=3,g=2,b=1,x=new Float32Array(y*m*d),w=new Float32Array(g*m*d),E=new Float32Array(b*m*d);for(let C=0;C<d;C++){let I=C%3*2/3-1,F=C>2?0:-1,A=[I,F,0,I+2/3,F,0,I+2/3,F+1,0,I,F,0,I+2/3,F+1,0,I,F+1,0];x.set(A,y*m*C),w.set(p,g*m*C);let T=[C,C,C,C,C,C];E.set(T,b*m*C)}let M=new ci;M.setAttribute("position",new Ai(x,y)),M.setAttribute("uv",new Ai(w,g)),M.setAttribute("faceIndex",new Ai(E,b)),e.push(M),r>Rd&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function DB(i,e,t){let n=new cr(i,e,t);return n.texture.mapping=ep,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Db(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function She(i,e,t){let n=new Float32Array(Yu),r=new Ne(0,1,0);return new Fr({name:"SphericalGaussianBlur",defines:{n:Yu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:r4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ms,depthTest:!1,depthWrite:!1})}function VB(){return new Fr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:r4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ms,depthTest:!1,depthWrite:!1})}function qB(){return new Fr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:r4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ms,depthTest:!1,depthWrite:!1})}function r4(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Ehe(i){let e=new WeakMap,t=null;function n(o){if(o&&o.isTexture){let c=o.mapping,u=c===m_||c===__,h=c===gc||c===bc;if(u||h)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let f=e.get(o);return t===null&&(t=new P_(i)),f=u?t.fromEquirectangular(o,f):t.fromCubemap(o,f),e.set(o,f),f.texture}else{if(e.has(o))return e.get(o).texture;{let f=o.image;if(u&&f&&f.height>0||h&&f&&r(f)){t===null&&(t=new P_(i));let p=u?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,p),o.addEventListener("dispose",a),p.texture}else return null}}}return o}l(n,"get");function r(o){let c=0,u=6;for(let h=0;h<u;h++)o[h]!==void 0&&c++;return c===u}l(r,"isCubeTextureComplete");function a(o){let c=o.target;c.removeEventListener("dispose",a);let u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}l(a,"onTextureDispose");function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return l(s,"dispose"),{get:n,dispose:s}}function Mhe(i){let e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return l(t,"getExtension"),{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){let r=t(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function Ahe(i,e,t,n){let r={},a=new WeakMap;function s(f){let p=f.target;p.index!==null&&e.remove(p.index);for(let m in p.attributes)e.remove(p.attributes[m]);for(let m in p.morphAttributes){let y=p.morphAttributes[m];for(let g=0,b=y.length;g<b;g++)e.remove(y[g])}p.removeEventListener("dispose",s),delete r[p.id];let d=a.get(p);d&&(e.remove(d),a.delete(p)),n.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}l(s,"onGeometryDispose");function o(f,p){return r[p.id]===!0||(p.addEventListener("dispose",s),r[p.id]=!0,t.memory.geometries++),p}l(o,"get");function c(f){let p=f.attributes;for(let m in p)e.update(p[m],i.ARRAY_BUFFER);let d=f.morphAttributes;for(let m in d){let y=d[m];for(let g=0,b=y.length;g<b;g++)e.update(y[g],i.ARRAY_BUFFER)}}l(c,"update");function u(f){let p=[],d=f.index,m=f.attributes.position,y=0;if(d!==null){let x=d.array;y=d.version;for(let w=0,E=x.length;w<E;w+=3){let M=x[w+0],C=x[w+1],I=x[w+2];p.push(M,C,C,I,I,M)}}else{let x=m.array;y=m.version;for(let w=0,E=x.length/3-1;w<E;w+=3){let M=w+0,C=w+1,I=w+2;p.push(M,C,C,I,I,M)}}let g=new($U(p)?R_:k_)(p,1);g.version=y;let b=a.get(f);b&&e.remove(b),a.set(f,g)}l(u,"updateWireframeAttribute");function h(f){let p=a.get(f);if(p){let d=f.index;d!==null&&p.version<d.version&&u(f)}else u(f);return a.get(f)}return l(h,"getWireframeAttribute"),{get:o,update:c,getWireframeAttribute:h}}function The(i,e,t,n){let r=n.isWebGL2,a;function s(p){a=p}l(s,"setMode");let o,c;function u(p){o=p.type,c=p.bytesPerElement}l(u,"setIndex");function h(p,d){i.drawElements(a,d,o,p*c),t.update(d,a,1)}l(h,"render");function f(p,d,m){if(m===0)return;let y,g;if(r)y=i,g="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[g](a,d,o,p*c,m),t.update(d,a,m)}l(f,"renderInstances"),this.setMode=s,this.setIndex=u,this.render=h,this.renderInstances=f}function khe(i){let e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,s,o){switch(t.calls++,s){case i.TRIANGLES:t.triangles+=o*(a/3);break;case i.LINES:t.lines+=o*(a/2);break;case i.LINE_STRIP:t.lines+=o*(a-1);break;case i.LINE_LOOP:t.lines+=o*a;break;case i.POINTS:t.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}l(n,"update");function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return l(r,"reset"),{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function Rhe(i,e){return i[0]-e[0]}function Phe(i,e){return Math.abs(e[1])-Math.abs(i[1])}function Ihe(i,e,t){let n={},r=new Float32Array(8),a=new WeakMap,s=new Vi,o=[];for(let u=0;u<8;u++)o[u]=[u,0];function c(u,h,f){let p=u.morphTargetInfluences;if(e.isWebGL2===!0){let d=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,m=d!==void 0?d.length:0,y=a.get(h);if(y===void 0||y.count!==m){let q=function(){R.dispose(),a.delete(h),h.removeEventListener("dispose",q)};l(q,"disposeTexture"),y!==void 0&&y.texture.dispose();let x=h.morphAttributes.position!==void 0,w=h.morphAttributes.normal!==void 0,E=h.morphAttributes.color!==void 0,M=h.morphAttributes.position||[],C=h.morphAttributes.normal||[],I=h.morphAttributes.color||[],F=0;x===!0&&(F=1),w===!0&&(F=2),E===!0&&(F=3);let A=h.attributes.position.count*F,T=1;A>e.maxTextureSize&&(T=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);let j=new Float32Array(A*T*4*m),R=new Od(j,A,T,m);R.type=Ka,R.needsUpdate=!0;let U=F*4;for(let X=0;X<m;X++){let fe=M[X],H=C[X],Y=I[X],$=A*T*4*X;for(let Z=0;Z<fe.count;Z++){let ie=Z*U;x===!0&&(s.fromBufferAttribute(fe,Z),j[$+ie+0]=s.x,j[$+ie+1]=s.y,j[$+ie+2]=s.z,j[$+ie+3]=0),w===!0&&(s.fromBufferAttribute(H,Z),j[$+ie+4]=s.x,j[$+ie+5]=s.y,j[$+ie+6]=s.z,j[$+ie+7]=0),E===!0&&(s.fromBufferAttribute(Y,Z),j[$+ie+8]=s.x,j[$+ie+9]=s.y,j[$+ie+10]=s.z,j[$+ie+11]=Y.itemSize===4?s.w:1)}}y={count:m,texture:R,size:new ot(A,T)},a.set(h,y),h.addEventListener("dispose",q)}let g=0;for(let x=0;x<p.length;x++)g+=p[x];let b=h.morphTargetsRelative?1:1-g;f.getUniforms().setValue(i,"morphTargetBaseInfluence",b),f.getUniforms().setValue(i,"morphTargetInfluences",p),f.getUniforms().setValue(i,"morphTargetsTexture",y.texture,t),f.getUniforms().setValue(i,"morphTargetsTextureSize",y.size)}else{let d=p===void 0?0:p.length,m=n[h.id];if(m===void 0||m.length!==d){m=[];for(let w=0;w<d;w++)m[w]=[w,0];n[h.id]=m}for(let w=0;w<d;w++){let E=m[w];E[0]=w,E[1]=p[w]}m.sort(Phe);for(let w=0;w<8;w++)w<d&&m[w][1]?(o[w][0]=m[w][0],o[w][1]=m[w][1]):(o[w][0]=Number.MAX_SAFE_INTEGER,o[w][1]=0);o.sort(Rhe);let y=h.morphAttributes.position,g=h.morphAttributes.normal,b=0;for(let w=0;w<8;w++){let E=o[w],M=E[0],C=E[1];M!==Number.MAX_SAFE_INTEGER&&C?(y&&h.getAttribute("morphTarget"+w)!==y[M]&&h.setAttribute("morphTarget"+w,y[M]),g&&h.getAttribute("morphNormal"+w)!==g[M]&&h.setAttribute("morphNormal"+w,g[M]),r[w]=C,b+=C):(y&&h.hasAttribute("morphTarget"+w)===!0&&h.deleteAttribute("morphTarget"+w),g&&h.hasAttribute("morphNormal"+w)===!0&&h.deleteAttribute("morphNormal"+w),r[w]=0)}let x=h.morphTargetsRelative?1:1-b;f.getUniforms().setValue(i,"morphTargetBaseInfluence",x),f.getUniforms().setValue(i,"morphTargetInfluences",r)}}return l(c,"update"),{update:c}}function Che(i,e,t,n){let r=new WeakMap;function a(c){let u=n.render.frame,h=c.geometry,f=e.get(c,h);if(r.get(f)!==u&&(e.update(f),r.set(f,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",o)===!1&&c.addEventListener("dispose",o),r.get(c)!==u&&(t.update(c.instanceMatrix,i.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,i.ARRAY_BUFFER),r.set(c,u))),c.isSkinnedMesh){let p=c.skeleton;r.get(p)!==u&&(p.update(),r.set(p,u))}return f}l(a,"update");function s(){r=new WeakMap}l(s,"dispose");function o(c){let u=c.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return l(o,"onInstancedMeshDispose"),{update:a,dispose:s}}function tp(i,e,t){let n=i[0];if(n<=0||n>0)return i;let r=e*t,a=HB[r];if(a===void 0&&(a=new Float32Array(r),HB[r]=a),e!==0){n.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,i[s].toArray(a,o)}return a}function Vn(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function qn(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function Sv(i,e){let t=GB[e];t===void 0&&(t=new Int32Array(e),GB[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function Lhe(i,e){let t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function Nhe(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Vn(t,e))return;i.uniform2fv(this.addr,e),qn(t,e)}}function Ohe(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Vn(t,e))return;i.uniform3fv(this.addr,e),qn(t,e)}}function Bhe(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Vn(t,e))return;i.uniform4fv(this.addr,e),qn(t,e)}}function Fhe(i,e){let t=this.cache,n=e.elements;if(n===void 0){if(Vn(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),qn(t,e)}else{if(Vn(t,n))return;$B.set(n),i.uniformMatrix2fv(this.addr,!1,$B),qn(t,n)}}function Uhe(i,e){let t=this.cache,n=e.elements;if(n===void 0){if(Vn(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),qn(t,e)}else{if(Vn(t,n))return;jB.set(n),i.uniformMatrix3fv(this.addr,!1,jB),qn(t,n)}}function zhe(i,e){let t=this.cache,n=e.elements;if(n===void 0){if(Vn(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),qn(t,e)}else{if(Vn(t,n))return;WB.set(n),i.uniformMatrix4fv(this.addr,!1,WB),qn(t,n)}}function Dhe(i,e){let t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function Vhe(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Vn(t,e))return;i.uniform2iv(this.addr,e),qn(t,e)}}function qhe(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Vn(t,e))return;i.uniform3iv(this.addr,e),qn(t,e)}}function Hhe(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Vn(t,e))return;i.uniform4iv(this.addr,e),qn(t,e)}}function Ghe(i,e){let t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function Whe(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Vn(t,e))return;i.uniform2uiv(this.addr,e),qn(t,e)}}function jhe(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Vn(t,e))return;i.uniform3uiv(this.addr,e),qn(t,e)}}function $he(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Vn(t,e))return;i.uniform4uiv(this.addr,e),qn(t,e)}}function Xhe(i,e,t){let n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||JU,r)}function Yhe(i,e,t){let n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||QU,r)}function Zhe(i,e,t){let n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||ez,r)}function Jhe(i,e,t){let n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||KU,r)}function Khe(i){switch(i){case 5126:return Lhe;case 35664:return Nhe;case 35665:return Ohe;case 35666:return Bhe;case 35674:return Fhe;case 35675:return Uhe;case 35676:return zhe;case 5124:case 35670:return Dhe;case 35667:case 35671:return Vhe;case 35668:case 35672:return qhe;case 35669:case 35673:return Hhe;case 5125:return Ghe;case 36294:return Whe;case 36295:return jhe;case 36296:return $he;case 35678:case 36198:case 36298:case 36306:case 35682:return Xhe;case 35679:case 36299:case 36307:return Yhe;case 35680:case 36300:case 36308:case 36293:return Zhe;case 36289:case 36303:case 36311:case 36292:return Jhe}}function Qhe(i,e){i.uniform1fv(this.addr,e)}function efe(i,e){let t=tp(e,this.size,2);i.uniform2fv(this.addr,t)}function tfe(i,e){let t=tp(e,this.size,3);i.uniform3fv(this.addr,t)}function ife(i,e){let t=tp(e,this.size,4);i.uniform4fv(this.addr,t)}function nfe(i,e){let t=tp(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function rfe(i,e){let t=tp(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function afe(i,e){let t=tp(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function sfe(i,e){i.uniform1iv(this.addr,e)}function ofe(i,e){i.uniform2iv(this.addr,e)}function lfe(i,e){i.uniform3iv(this.addr,e)}function cfe(i,e){i.uniform4iv(this.addr,e)}function ufe(i,e){i.uniform1uiv(this.addr,e)}function hfe(i,e){i.uniform2uiv(this.addr,e)}function ffe(i,e){i.uniform3uiv(this.addr,e)}function dfe(i,e){i.uniform4uiv(this.addr,e)}function pfe(i,e,t){let n=this.cache,r=e.length,a=Sv(t,r);Vn(n,a)||(i.uniform1iv(this.addr,a),qn(n,a));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||JU,a[s])}function mfe(i,e,t){let n=this.cache,r=e.length,a=Sv(t,r);Vn(n,a)||(i.uniform1iv(this.addr,a),qn(n,a));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||QU,a[s])}function _fe(i,e,t){let n=this.cache,r=e.length,a=Sv(t,r);Vn(n,a)||(i.uniform1iv(this.addr,a),qn(n,a));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||ez,a[s])}function gfe(i,e,t){let n=this.cache,r=e.length,a=Sv(t,r);Vn(n,a)||(i.uniform1iv(this.addr,a),qn(n,a));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||KU,a[s])}function bfe(i){switch(i){case 5126:return Qhe;case 35664:return efe;case 35665:return tfe;case 35666:return ife;case 35674:return nfe;case 35675:return rfe;case 35676:return afe;case 5124:case 35670:return sfe;case 35667:case 35671:return ofe;case 35668:case 35672:return lfe;case 35669:case 35673:return cfe;case 5125:return ufe;case 36294:return hfe;case 36295:return ffe;case 36296:return dfe;case 35678:case 36198:case 36298:case 36306:case 35682:return pfe;case 35679:case 36299:case 36307:return mfe;case 35680:case 36300:case 36308:case 36293:return _fe;case 36289:case 36303:case 36311:case 36292:return gfe}}function XB(i,e){i.seq.push(e),i.map[e.id]=e}function yfe(i,e,t){let n=i.name,r=n.length;for(WA.lastIndex=0;;){let a=WA.exec(n),s=WA.lastIndex,o=a[1],c=a[2]==="]",u=a[3];if(c&&(o=o|0),u===void 0||u==="["&&s+2===r){XB(t,u===void 0?new W3(o,i,e):new j3(o,i,e));break}else{let f=t.map[o];f===void 0&&(f=new $3(o),XB(t,f)),t=f}}}function YB(i,e,t){let n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}function wfe(i,e){let t=i.split(`
`),n=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=r;s<a;s++){let o=s+1;n.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return n.join(`
`)}function xfe(i){switch(i){case ya:return["Linear","( value )"];case ti:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",i),["Linear","( value )"]}}function ZB(i,e,t){let n=i.getShaderParameter(e,i.COMPILE_STATUS),r=i.getShaderInfoLog(e).trim();if(n&&r==="")return"";let a=/ERROR: 0:(\d+)/.exec(r);if(a){let s=parseInt(a[1]);return t.toUpperCase()+`

`+r+`

`+wfe(i.getShaderSource(e),s)}else return r}function Sfe(i,e){let t=xfe(e);return"vec4 "+i+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Efe(i,e){let t;switch(e){case gU:t="Linear";break;case bU:t="Reinhard";break;case yU:t="OptimizedCineon";break;case vU:t="ACESFilmic";break;case wU:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Mfe(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.normalMapTangentSpace||i.clearcoatNormalMap||i.flatShading||i.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(l_).join(`
`)}function Afe(i){let e=[];for(let t in i){let n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function Tfe(i,e){let t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){let a=i.getActiveAttrib(e,r),s=a.name,o=1;a.type===i.FLOAT_MAT2&&(o=2),a.type===i.FLOAT_MAT3&&(o=3),a.type===i.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:i.getAttribLocation(e,s),locationSize:o}}return t}function l_(i){return i!==""}function JB(i,e){let t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function KB(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function X3(i){return i.replace(kfe,Pfe)}function Pfe(i,e){let t=li[e];if(t===void 0){let n=Rfe.get(e);if(n!==void 0)t=li[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return X3(t)}function QB(i){return i.replace(Ife,Cfe)}function Cfe(i,e,t,n){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function eF(i){let e="precision "+i.precision+` float;
precision `+i.precision+" int;";return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Lfe(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===GT?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===YF?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Js&&(e="SHADOWMAP_TYPE_VSM"),e}function Nfe(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case gc:case bc:e="ENVMAP_TYPE_CUBE";break;case ep:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Ofe(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case bc:e="ENVMAP_MODE_REFRACTION";break}return e}function Bfe(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case r0:e="ENVMAP_BLENDING_MULTIPLY";break;case mU:e="ENVMAP_BLENDING_MIX";break;case _U:e="ENVMAP_BLENDING_ADD";break}return e}function Ffe(i){let e=i.envMapCubeUVHeight;if(e===null)return null;let t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function Ufe(i,e,t,n){let r=i.getContext(),a=t.defines,s=t.vertexShader,o=t.fragmentShader,c=Lfe(t),u=Nfe(t),h=Ofe(t),f=Bfe(t),p=Ffe(t),d=t.isWebGL2?"":Mfe(t),m=Afe(a),y=r.createProgram(),g,b,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(l_).join(`
`),g.length>0&&(g+=`
`),b=[d,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(l_).join(`
`),b.length>0&&(b+=`
`)):(g=[eF(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(l_).join(`
`),b=[d,eF(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==eo?"#define TONE_MAPPING":"",t.toneMapping!==eo?li.tonemapping_pars_fragment:"",t.toneMapping!==eo?Efe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",li.colorspace_pars_fragment,Sfe("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(l_).join(`
`)),s=X3(s),s=JB(s,t),s=KB(s,t),o=X3(o),o=JB(o,t),o=KB(o,t),s=QB(s),o=QB(o),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,b=["#define varying in",t.glslVersion===L3?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===L3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);let w=x+g+s,E=x+b+o,M=YB(r,r.VERTEX_SHADER,w),C=YB(r,r.FRAGMENT_SHADER,E);if(r.attachShader(y,M),r.attachShader(y,C),t.index0AttributeName!==void 0?r.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),i.debug.checkShaderErrors){let A=r.getProgramInfoLog(y).trim(),T=r.getShaderInfoLog(M).trim(),j=r.getShaderInfoLog(C).trim(),R=!0,U=!0;if(r.getProgramParameter(y,r.LINK_STATUS)===!1)if(R=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,y,M,C);else{let q=ZB(r,M,"vertex"),X=ZB(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,r.VALIDATE_STATUS)+`

Program Info Log: `+A+`
`+q+`
`+X)}else A!==""?console.warn("THREE.WebGLProgram: Program Info Log:",A):(T===""||j==="")&&(U=!1);U&&(this.diagnostics={runnable:R,programLog:A,vertexShader:{log:T,prefix:g},fragmentShader:{log:j,prefix:b}})}r.deleteShader(M),r.deleteShader(C);let I;this.getUniforms=function(){return I===void 0&&(I=new Cd(r,y)),I};let F;return this.getAttributes=function(){return F===void 0&&(F=Tfe(r,y)),F},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=vfe++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=M,this.fragmentShader=C,this}function Dfe(i,e,t,n,r,a,s){let o=new Bd,c=new Y3,u=[],h=r.isWebGL2,f=r.logarithmicDepthBuffer,p=r.vertexTextures,d=r.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(A){return A===0?"uv":`uv${A}`}l(y,"getChannel");function g(A,T,j,R,U){let q=R.fog,X=U.geometry,fe=A.isMeshStandardMaterial?R.environment:null,H=(A.isMeshStandardMaterial?t:e).get(A.envMap||fe),Y=H&&H.mapping===ep?H.image.height:null,$=m[A.type];A.precision!==null&&(d=r.getMaxPrecision(A.precision),d!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",d,"instead."));let Z=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,ie=Z!==void 0?Z.length:0,ue=0;X.morphAttributes.position!==void 0&&(ue=1),X.morphAttributes.normal!==void 0&&(ue=2),X.morphAttributes.color!==void 0&&(ue=3);let Me,Fe,De,Ge;if($){let wt=Es[$];Me=wt.vertexShader,Fe=wt.fragmentShader}else Me=A.vertexShader,Fe=A.fragmentShader,c.update(A),De=c.getVertexShaderID(A),Ge=c.getFragmentShaderID(A);let ve=i.getRenderTarget(),we=U.isInstancedMesh===!0,He=!!A.map,Ke=!!A.matcap,Ze=!!H,S=!!A.aoMap,G=!!A.lightMap,Q=!!A.bumpMap,K=!!A.normalMap,J=!!A.displacementMap,me=!!A.emissiveMap,Se=!!A.metalnessMap,Ie=!!A.roughnessMap,Ce=A.anisotropy>0,Xe=A.clearcoat>0,nt=A.iridescence>0,z=A.sheen>0,B=A.transmission>0,Ae=Ce&&!!A.anisotropyMap,W=Xe&&!!A.clearcoatMap,L=Xe&&!!A.clearcoatNormalMap,P=Xe&&!!A.clearcoatRoughnessMap,se=nt&&!!A.iridescenceMap,de=nt&&!!A.iridescenceThicknessMap,O=z&&!!A.sheenColorMap,be=z&&!!A.sheenRoughnessMap,Ue=!!A.specularMap,We=!!A.specularColorMap,_e=!!A.specularIntensityMap,Re=B&&!!A.transmissionMap,te=B&&!!A.thicknessMap,et=!!A.gradientMap,oe=!!A.alphaMap,N=A.alphaTest>0,le=!!A.alphaHash,Te=!!A.extensions,ee=!!X.attributes.uv1,Le=!!X.attributes.uv2,Ye=!!X.attributes.uv3;return{isWebGL2:h,shaderID:$,shaderType:A.type,shaderName:A.name,vertexShader:Me,fragmentShader:Fe,defines:A.defines,customVertexShaderID:De,customFragmentShaderID:Ge,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:d,instancing:we,instancingColor:we&&U.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:ve===null?i.outputColorSpace:ve.isXRRenderTarget===!0?ve.texture.colorSpace:ya,map:He,matcap:Ke,envMap:Ze,envMapMode:Ze&&H.mapping,envMapCubeUVHeight:Y,aoMap:S,lightMap:G,bumpMap:Q,normalMap:K,displacementMap:p&&J,emissiveMap:me,normalMapObjectSpace:K&&A.normalMapType===BU,normalMapTangentSpace:K&&A.normalMapType===Ac,metalnessMap:Se,roughnessMap:Ie,anisotropy:Ce,anisotropyMap:Ae,clearcoat:Xe,clearcoatMap:W,clearcoatNormalMap:L,clearcoatRoughnessMap:P,iridescence:nt,iridescenceMap:se,iridescenceThicknessMap:de,sheen:z,sheenColorMap:O,sheenRoughnessMap:be,specularMap:Ue,specularColorMap:We,specularIntensityMap:_e,transmission:B,transmissionMap:Re,thicknessMap:te,gradientMap:et,opaque:A.transparent===!1&&A.blending===Qu,alphaMap:oe,alphaTest:N,alphaHash:le,combine:A.combine,mapUv:He&&y(A.map.channel),aoMapUv:S&&y(A.aoMap.channel),lightMapUv:G&&y(A.lightMap.channel),bumpMapUv:Q&&y(A.bumpMap.channel),normalMapUv:K&&y(A.normalMap.channel),displacementMapUv:J&&y(A.displacementMap.channel),emissiveMapUv:me&&y(A.emissiveMap.channel),metalnessMapUv:Se&&y(A.metalnessMap.channel),roughnessMapUv:Ie&&y(A.roughnessMap.channel),anisotropyMapUv:Ae&&y(A.anisotropyMap.channel),clearcoatMapUv:W&&y(A.clearcoatMap.channel),clearcoatNormalMapUv:L&&y(A.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:P&&y(A.clearcoatRoughnessMap.channel),iridescenceMapUv:se&&y(A.iridescenceMap.channel),iridescenceThicknessMapUv:de&&y(A.iridescenceThicknessMap.channel),sheenColorMapUv:O&&y(A.sheenColorMap.channel),sheenRoughnessMapUv:be&&y(A.sheenRoughnessMap.channel),specularMapUv:Ue&&y(A.specularMap.channel),specularColorMapUv:We&&y(A.specularColorMap.channel),specularIntensityMapUv:_e&&y(A.specularIntensityMap.channel),transmissionMapUv:Re&&y(A.transmissionMap.channel),thicknessMapUv:te&&y(A.thicknessMap.channel),alphaMapUv:oe&&y(A.alphaMap.channel),vertexTangents:!!X.attributes.tangent&&(K||Ce),vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,vertexUv1s:ee,vertexUv2s:Le,vertexUv3s:Ye,pointsUvs:U.isPoints===!0&&!!X.attributes.uv&&(He||oe),fog:!!q,useFog:A.fog===!0,fogExp2:q&&q.isFogExp2,flatShading:A.flatShading===!0,sizeAttenuation:A.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:U.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:ie,morphTextureStride:ue,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:A.dithering,shadowMapEnabled:i.shadowMap.enabled&&j.length>0,shadowMapType:i.shadowMap.type,toneMapping:A.toneMapped?i.toneMapping:eo,useLegacyLights:i.useLegacyLights,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===ea,flipSided:A.side===Br,useDepthPacking:A.depthPacking>=0,depthPacking:A.depthPacking||0,index0AttributeName:A.index0AttributeName,extensionDerivatives:Te&&A.extensions.derivatives===!0,extensionFragDepth:Te&&A.extensions.fragDepth===!0,extensionDrawBuffers:Te&&A.extensions.drawBuffers===!0,extensionShaderTextureLOD:Te&&A.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||n.has("EXT_shader_texture_lod"),customProgramCacheKey:A.customProgramCacheKey()}}l(g,"getParameters");function b(A){let T=[];if(A.shaderID?T.push(A.shaderID):(T.push(A.customVertexShaderID),T.push(A.customFragmentShaderID)),A.defines!==void 0)for(let j in A.defines)T.push(j),T.push(A.defines[j]);return A.isRawShaderMaterial===!1&&(x(T,A),w(T,A),T.push(i.outputColorSpace)),T.push(A.customProgramCacheKey),T.join()}l(b,"getProgramCacheKey");function x(A,T){A.push(T.precision),A.push(T.outputColorSpace),A.push(T.envMapMode),A.push(T.envMapCubeUVHeight),A.push(T.mapUv),A.push(T.alphaMapUv),A.push(T.lightMapUv),A.push(T.aoMapUv),A.push(T.bumpMapUv),A.push(T.normalMapUv),A.push(T.displacementMapUv),A.push(T.emissiveMapUv),A.push(T.metalnessMapUv),A.push(T.roughnessMapUv),A.push(T.anisotropyMapUv),A.push(T.clearcoatMapUv),A.push(T.clearcoatNormalMapUv),A.push(T.clearcoatRoughnessMapUv),A.push(T.iridescenceMapUv),A.push(T.iridescenceThicknessMapUv),A.push(T.sheenColorMapUv),A.push(T.sheenRoughnessMapUv),A.push(T.specularMapUv),A.push(T.specularColorMapUv),A.push(T.specularIntensityMapUv),A.push(T.transmissionMapUv),A.push(T.thicknessMapUv),A.push(T.combine),A.push(T.fogExp2),A.push(T.sizeAttenuation),A.push(T.morphTargetsCount),A.push(T.morphAttributeCount),A.push(T.numDirLights),A.push(T.numPointLights),A.push(T.numSpotLights),A.push(T.numSpotLightMaps),A.push(T.numHemiLights),A.push(T.numRectAreaLights),A.push(T.numDirLightShadows),A.push(T.numPointLightShadows),A.push(T.numSpotLightShadows),A.push(T.numSpotLightShadowsWithMaps),A.push(T.shadowMapType),A.push(T.toneMapping),A.push(T.numClippingPlanes),A.push(T.numClipIntersection),A.push(T.depthPacking)}l(x,"getProgramCacheKeyParameters");function w(A,T){o.disableAll(),T.isWebGL2&&o.enable(0),T.supportsVertexTextures&&o.enable(1),T.instancing&&o.enable(2),T.instancingColor&&o.enable(3),T.matcap&&o.enable(4),T.envMap&&o.enable(5),T.normalMapObjectSpace&&o.enable(6),T.normalMapTangentSpace&&o.enable(7),T.clearcoat&&o.enable(8),T.iridescence&&o.enable(9),T.alphaTest&&o.enable(10),T.vertexColors&&o.enable(11),T.vertexAlphas&&o.enable(12),T.vertexUv1s&&o.enable(13),T.vertexUv2s&&o.enable(14),T.vertexUv3s&&o.enable(15),T.vertexTangents&&o.enable(16),T.anisotropy&&o.enable(17),A.push(o.mask),o.disableAll(),T.fog&&o.enable(0),T.useFog&&o.enable(1),T.flatShading&&o.enable(2),T.logarithmicDepthBuffer&&o.enable(3),T.skinning&&o.enable(4),T.morphTargets&&o.enable(5),T.morphNormals&&o.enable(6),T.morphColors&&o.enable(7),T.premultipliedAlpha&&o.enable(8),T.shadowMapEnabled&&o.enable(9),T.useLegacyLights&&o.enable(10),T.doubleSided&&o.enable(11),T.flipSided&&o.enable(12),T.useDepthPacking&&o.enable(13),T.dithering&&o.enable(14),T.transmission&&o.enable(15),T.sheen&&o.enable(16),T.opaque&&o.enable(17),T.pointsUvs&&o.enable(18),A.push(o.mask)}l(w,"getProgramCacheKeyBooleans");function E(A){let T=m[A.type],j;if(T){let R=Es[T];j=xv.clone(R.uniforms)}else j=A.uniforms;return j}l(E,"getUniforms");function M(A,T){let j;for(let R=0,U=u.length;R<U;R++){let q=u[R];if(q.cacheKey===T){j=q,++j.usedTimes;break}}return j===void 0&&(j=new Ufe(i,T,A,a),u.push(j)),j}l(M,"acquireProgram");function C(A){if(--A.usedTimes===0){let T=u.indexOf(A);u[T]=u[u.length-1],u.pop(),A.destroy()}}l(C,"releaseProgram");function I(A){c.remove(A)}l(I,"releaseShaderCache");function F(){c.dispose()}return l(F,"dispose"),{getParameters:g,getProgramCacheKey:b,getUniforms:E,acquireProgram:M,releaseProgram:C,releaseShaderCache:I,programs:u,dispose:F}}function Vfe(){let i=new WeakMap;function e(a){let s=i.get(a);return s===void 0&&(s={},i.set(a,s)),s}l(e,"get");function t(a){i.delete(a)}l(t,"remove");function n(a,s,o){i.get(a)[s]=o}l(n,"update");function r(){i=new WeakMap}return l(r,"dispose"),{get:e,remove:t,update:n,dispose:r}}function qfe(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function tF(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function iF(){let i=[],e=0,t=[],n=[],r=[];function a(){e=0,t.length=0,n.length=0,r.length=0}l(a,"init");function s(f,p,d,m,y,g){let b=i[e];return b===void 0?(b={id:f.id,object:f,geometry:p,material:d,groupOrder:m,renderOrder:f.renderOrder,z:y,group:g},i[e]=b):(b.id=f.id,b.object=f,b.geometry=p,b.material=d,b.groupOrder=m,b.renderOrder=f.renderOrder,b.z=y,b.group=g),e++,b}l(s,"getNextRenderItem");function o(f,p,d,m,y,g){let b=s(f,p,d,m,y,g);d.transmission>0?n.push(b):d.transparent===!0?r.push(b):t.push(b)}l(o,"push");function c(f,p,d,m,y,g){let b=s(f,p,d,m,y,g);d.transmission>0?n.unshift(b):d.transparent===!0?r.unshift(b):t.unshift(b)}l(c,"unshift");function u(f,p){t.length>1&&t.sort(f||qfe),n.length>1&&n.sort(p||tF),r.length>1&&r.sort(p||tF)}l(u,"sort");function h(){for(let f=e,p=i.length;f<p;f++){let d=i[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return l(h,"finish"),{opaque:t,transmissive:n,transparent:r,init:a,push:o,unshift:c,finish:h,sort:u}}function Hfe(){let i=new WeakMap;function e(n,r){let a=i.get(n),s;return a===void 0?(s=new iF,i.set(n,[s])):r>=a.length?(s=new iF,a.push(s)):s=a[r],s}l(e,"get");function t(){i=new WeakMap}return l(t,"dispose"),{get:e,dispose:t}}function Gfe(){let i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ne,color:new Ct};break;case"SpotLight":t={position:new Ne,direction:new Ne,color:new Ct,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ne,color:new Ct,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ne,skyColor:new Ct,groundColor:new Ct};break;case"RectAreaLight":t={color:new Ct,position:new Ne,halfWidth:new Ne,halfHeight:new Ne};break}return i[e.id]=t,t}}}function Wfe(){let i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ot};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ot};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ot,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}function $fe(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function Xfe(i,e){let t=new Gfe,n=Wfe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)r.probe.push(new Ne);let a=new Ne,s=new ni,o=new ni;function c(h,f){let p=0,d=0,m=0;for(let j=0;j<9;j++)r.probe[j].set(0,0,0);let y=0,g=0,b=0,x=0,w=0,E=0,M=0,C=0,I=0,F=0;h.sort($fe);let A=f===!0?Math.PI:1;for(let j=0,R=h.length;j<R;j++){let U=h[j],q=U.color,X=U.intensity,fe=U.distance,H=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)p+=q.r*X*A,d+=q.g*X*A,m+=q.b*X*A;else if(U.isLightProbe)for(let Y=0;Y<9;Y++)r.probe[Y].addScaledVector(U.sh.coefficients[Y],X);else if(U.isDirectionalLight){let Y=t.get(U);if(Y.color.copy(U.color).multiplyScalar(U.intensity*A),U.castShadow){let $=U.shadow,Z=n.get(U);Z.shadowBias=$.bias,Z.shadowNormalBias=$.normalBias,Z.shadowRadius=$.radius,Z.shadowMapSize=$.mapSize,r.directionalShadow[y]=Z,r.directionalShadowMap[y]=H,r.directionalShadowMatrix[y]=U.shadow.matrix,E++}r.directional[y]=Y,y++}else if(U.isSpotLight){let Y=t.get(U);Y.position.setFromMatrixPosition(U.matrixWorld),Y.color.copy(q).multiplyScalar(X*A),Y.distance=fe,Y.coneCos=Math.cos(U.angle),Y.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),Y.decay=U.decay,r.spot[b]=Y;let $=U.shadow;if(U.map&&(r.spotLightMap[I]=U.map,I++,$.updateMatrices(U),U.castShadow&&F++),r.spotLightMatrix[b]=$.matrix,U.castShadow){let Z=n.get(U);Z.shadowBias=$.bias,Z.shadowNormalBias=$.normalBias,Z.shadowRadius=$.radius,Z.shadowMapSize=$.mapSize,r.spotShadow[b]=Z,r.spotShadowMap[b]=H,C++}b++}else if(U.isRectAreaLight){let Y=t.get(U);Y.color.copy(q).multiplyScalar(X),Y.halfWidth.set(U.width*.5,0,0),Y.halfHeight.set(0,U.height*.5,0),r.rectArea[x]=Y,x++}else if(U.isPointLight){let Y=t.get(U);if(Y.color.copy(U.color).multiplyScalar(U.intensity*A),Y.distance=U.distance,Y.decay=U.decay,U.castShadow){let $=U.shadow,Z=n.get(U);Z.shadowBias=$.bias,Z.shadowNormalBias=$.normalBias,Z.shadowRadius=$.radius,Z.shadowMapSize=$.mapSize,Z.shadowCameraNear=$.camera.near,Z.shadowCameraFar=$.camera.far,r.pointShadow[g]=Z,r.pointShadowMap[g]=H,r.pointShadowMatrix[g]=U.shadow.matrix,M++}r.point[g]=Y,g++}else if(U.isHemisphereLight){let Y=t.get(U);Y.skyColor.copy(U.color).multiplyScalar(X*A),Y.groundColor.copy(U.groundColor).multiplyScalar(X*A),r.hemi[w]=Y,w++}}x>0&&(e.isWebGL2||i.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=kt.LTC_FLOAT_1,r.rectAreaLTC2=kt.LTC_FLOAT_2):i.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=kt.LTC_HALF_1,r.rectAreaLTC2=kt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=d,r.ambient[2]=m;let T=r.hash;(T.directionalLength!==y||T.pointLength!==g||T.spotLength!==b||T.rectAreaLength!==x||T.hemiLength!==w||T.numDirectionalShadows!==E||T.numPointShadows!==M||T.numSpotShadows!==C||T.numSpotMaps!==I)&&(r.directional.length=y,r.spot.length=b,r.rectArea.length=x,r.point.length=g,r.hemi.length=w,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=M,r.pointShadowMap.length=M,r.spotShadow.length=C,r.spotShadowMap.length=C,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=M,r.spotLightMatrix.length=C+I-F,r.spotLightMap.length=I,r.numSpotLightShadowsWithMaps=F,T.directionalLength=y,T.pointLength=g,T.spotLength=b,T.rectAreaLength=x,T.hemiLength=w,T.numDirectionalShadows=E,T.numPointShadows=M,T.numSpotShadows=C,T.numSpotMaps=I,r.version=jfe++)}l(c,"setup");function u(h,f){let p=0,d=0,m=0,y=0,g=0,b=f.matrixWorldInverse;for(let x=0,w=h.length;x<w;x++){let E=h[x];if(E.isDirectionalLight){let M=r.directional[p];M.direction.setFromMatrixPosition(E.matrixWorld),a.setFromMatrixPosition(E.target.matrixWorld),M.direction.sub(a),M.direction.transformDirection(b),p++}else if(E.isSpotLight){let M=r.spot[m];M.position.setFromMatrixPosition(E.matrixWorld),M.position.applyMatrix4(b),M.direction.setFromMatrixPosition(E.matrixWorld),a.setFromMatrixPosition(E.target.matrixWorld),M.direction.sub(a),M.direction.transformDirection(b),m++}else if(E.isRectAreaLight){let M=r.rectArea[y];M.position.setFromMatrixPosition(E.matrixWorld),M.position.applyMatrix4(b),o.identity(),s.copy(E.matrixWorld),s.premultiply(b),o.extractRotation(s),M.halfWidth.set(E.width*.5,0,0),M.halfHeight.set(0,E.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),y++}else if(E.isPointLight){let M=r.point[d];M.position.setFromMatrixPosition(E.matrixWorld),M.position.applyMatrix4(b),d++}else if(E.isHemisphereLight){let M=r.hemi[g];M.direction.setFromMatrixPosition(E.matrixWorld),M.direction.transformDirection(b),g++}}}return l(u,"setupView"),{setup:c,setupView:u,state:r}}function nF(i,e){let t=new Xfe(i,e),n=[],r=[];function a(){n.length=0,r.length=0}l(a,"init");function s(f){n.push(f)}l(s,"pushLight");function o(f){r.push(f)}l(o,"pushShadow");function c(f){t.setup(n,f)}l(c,"setupLights");function u(f){t.setupView(n,f)}return l(u,"setupLightsView"),{init:a,state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:c,setupLightsView:u,pushLight:s,pushShadow:o}}function Yfe(i,e){let t=new WeakMap;function n(a,s=0){let o=t.get(a),c;return o===void 0?(c=new nF(i,e),t.set(a,[c])):s>=o.length?(c=new nF(i,e),o.push(c)):c=o[s],c}l(n,"get");function r(){t=new WeakMap}return l(r,"dispose"),{get:n,dispose:r}}function Kfe(i,e,t){let n=new zd,r=new ot,a=new ot,s=new Vi,o=new I_({depthPacking:OU}),c=new C_,u={},h=t.maxTextureSize,f={[Qa]:Br,[Br]:Qa,[ea]:ea},p=new Fr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ot},radius:{value:4}},vertexShader:Zfe,fragmentShader:Jfe}),d=p.clone();d.defines.HORIZONTAL_PASS=1;let m=new ci;m.setAttribute("position",new Ai(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let y=new ii(m,p),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=GT;let b=this.type;this.render=function(M,C,I){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||M.length===0)return;let F=i.getRenderTarget(),A=i.getActiveCubeFace(),T=i.getActiveMipmapLevel(),j=i.state;j.setBlending(Ms),j.buffers.color.setClear(1,1,1,1),j.buffers.depth.setTest(!0),j.setScissorTest(!1);let R=b!==Js&&this.type===Js,U=b===Js&&this.type!==Js;for(let q=0,X=M.length;q<X;q++){let fe=M[q],H=fe.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",fe,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;r.copy(H.mapSize);let Y=H.getFrameExtents();if(r.multiply(Y),a.copy(H.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(a.x=Math.floor(h/Y.x),r.x=a.x*Y.x,H.mapSize.x=a.x),r.y>h&&(a.y=Math.floor(h/Y.y),r.y=a.y*Y.y,H.mapSize.y=a.y)),H.map===null||R===!0||U===!0){let Z=this.type!==Js?{minFilter:Di,magFilter:Di}:{};H.map!==null&&H.map.dispose(),H.map=new cr(r.x,r.y,Z),H.map.texture.name=fe.name+".shadowMap",H.camera.updateProjectionMatrix()}i.setRenderTarget(H.map),i.clear();let $=H.getViewportCount();for(let Z=0;Z<$;Z++){let ie=H.getViewport(Z);s.set(a.x*ie.x,a.y*ie.y,a.x*ie.z,a.y*ie.w),j.viewport(s),H.updateMatrices(fe,Z),n=H.getFrustum(),E(C,I,H.camera,fe,this.type)}H.isPointLightShadow!==!0&&this.type===Js&&x(H,I),H.needsUpdate=!1}b=this.type,g.needsUpdate=!1,i.setRenderTarget(F,A,T)};function x(M,C){let I=e.update(y);p.defines.VSM_SAMPLES!==M.blurSamples&&(p.defines.VSM_SAMPLES=M.blurSamples,d.defines.VSM_SAMPLES=M.blurSamples,p.needsUpdate=!0,d.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new cr(r.x,r.y)),p.uniforms.shadow_pass.value=M.map.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,i.setRenderTarget(M.mapPass),i.clear(),i.renderBufferDirect(C,null,I,p,y,null),d.uniforms.shadow_pass.value=M.mapPass.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,i.setRenderTarget(M.map),i.clear(),i.renderBufferDirect(C,null,I,d,y,null)}l(x,"VSMPass");function w(M,C,I,F){let A=null,T=I.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(T!==void 0)A=T;else if(A=I.isPointLight===!0?c:o,i.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){let j=A.uuid,R=C.uuid,U=u[j];U===void 0&&(U={},u[j]=U);let q=U[R];q===void 0&&(q=A.clone(),U[R]=q),A=q}if(A.visible=C.visible,A.wireframe=C.wireframe,F===Js?A.side=C.shadowSide!==null?C.shadowSide:C.side:A.side=C.shadowSide!==null?C.shadowSide:f[C.side],A.alphaMap=C.alphaMap,A.alphaTest=C.alphaTest,A.map=C.map,A.clipShadows=C.clipShadows,A.clippingPlanes=C.clippingPlanes,A.clipIntersection=C.clipIntersection,A.displacementMap=C.displacementMap,A.displacementScale=C.displacementScale,A.displacementBias=C.displacementBias,A.wireframeLinewidth=C.wireframeLinewidth,A.linewidth=C.linewidth,I.isPointLight===!0&&A.isMeshDistanceMaterial===!0){let j=i.properties.get(A);j.light=I}return A}l(w,"getDepthMaterial");function E(M,C,I,F,A){if(M.visible===!1)return;if(M.layers.test(C.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&A===Js)&&(!M.frustumCulled||n.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,M.matrixWorld);let R=e.update(M),U=M.material;if(Array.isArray(U)){let q=R.groups;for(let X=0,fe=q.length;X<fe;X++){let H=q[X],Y=U[H.materialIndex];if(Y&&Y.visible){let $=w(M,Y,F,A);i.renderBufferDirect(I,null,R,$,M,H)}}}else if(U.visible){let q=w(M,U,F,A);i.renderBufferDirect(I,null,R,q,M,null)}}let j=M.children;for(let R=0,U=j.length;R<U;R++)E(j[R],C,I,F,A)}l(E,"renderObject")}function Qfe(i,e,t){let n=t.isWebGL2;function r(){let oe=!1,N=new Vi,le=null,Te=new Vi(0,0,0,0);return{setMask:function(ee){le!==ee&&!oe&&(i.colorMask(ee,ee,ee,ee),le=ee)},setLocked:function(ee){oe=ee},setClear:function(ee,Le,Ye,vt,wt){wt===!0&&(ee*=vt,Le*=vt,Ye*=vt),N.set(ee,Le,Ye,vt),Te.equals(N)===!1&&(i.clearColor(ee,Le,Ye,vt),Te.copy(N))},reset:function(){oe=!1,le=null,Te.set(-1,0,0,0)}}}l(r,"ColorBuffer");function a(){let oe=!1,N=null,le=null,Te=null;return{setTest:function(ee){ee?ve(i.DEPTH_TEST):we(i.DEPTH_TEST)},setMask:function(ee){N!==ee&&!oe&&(i.depthMask(ee),N=ee)},setFunc:function(ee){if(le!==ee){switch(ee){case lU:i.depthFunc(i.NEVER);break;case cU:i.depthFunc(i.ALWAYS);break;case uU:i.depthFunc(i.LESS);break;case my:i.depthFunc(i.LEQUAL);break;case hU:i.depthFunc(i.EQUAL);break;case fU:i.depthFunc(i.GEQUAL);break;case dU:i.depthFunc(i.GREATER);break;case pU:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}le=ee}},setLocked:function(ee){oe=ee},setClear:function(ee){Te!==ee&&(i.clearDepth(ee),Te=ee)},reset:function(){oe=!1,N=null,le=null,Te=null}}}l(a,"DepthBuffer");function s(){let oe=!1,N=null,le=null,Te=null,ee=null,Le=null,Ye=null,vt=null,wt=null;return{setTest:function(ft){oe||(ft?ve(i.STENCIL_TEST):we(i.STENCIL_TEST))},setMask:function(ft){N!==ft&&!oe&&(i.stencilMask(ft),N=ft)},setFunc:function(ft,Ft,Yt){(le!==ft||Te!==Ft||ee!==Yt)&&(i.stencilFunc(ft,Ft,Yt),le=ft,Te=Ft,ee=Yt)},setOp:function(ft,Ft,Yt){(Le!==ft||Ye!==Ft||vt!==Yt)&&(i.stencilOp(ft,Ft,Yt),Le=ft,Ye=Ft,vt=Yt)},setLocked:function(ft){oe=ft},setClear:function(ft){wt!==ft&&(i.clearStencil(ft),wt=ft)},reset:function(){oe=!1,N=null,le=null,Te=null,ee=null,Le=null,Ye=null,vt=null,wt=null}}}l(s,"StencilBuffer");let o=new r,c=new a,u=new s,h=new WeakMap,f=new WeakMap,p={},d={},m=new WeakMap,y=[],g=null,b=!1,x=null,w=null,E=null,M=null,C=null,I=null,F=null,A=!1,T=null,j=null,R=null,U=null,q=null,X=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS),fe=!1,H=0,Y=i.getParameter(i.VERSION);Y.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(Y)[1]),fe=H>=1):Y.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),fe=H>=2);let $=null,Z={},ie=i.getParameter(i.SCISSOR_BOX),ue=i.getParameter(i.VIEWPORT),Me=new Vi().fromArray(ie),Fe=new Vi().fromArray(ue);function De(oe,N,le,Te){let ee=new Uint8Array(4),Le=i.createTexture();i.bindTexture(oe,Le),i.texParameteri(oe,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(oe,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Ye=0;Ye<le;Ye++)n&&(oe===i.TEXTURE_3D||oe===i.TEXTURE_2D_ARRAY)?i.texImage3D(N,0,i.RGBA,1,1,Te,0,i.RGBA,i.UNSIGNED_BYTE,ee):i.texImage2D(N+Ye,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,ee);return Le}l(De,"createTexture");let Ge={};Ge[i.TEXTURE_2D]=De(i.TEXTURE_2D,i.TEXTURE_2D,1),Ge[i.TEXTURE_CUBE_MAP]=De(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(Ge[i.TEXTURE_2D_ARRAY]=De(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),Ge[i.TEXTURE_3D]=De(i.TEXTURE_3D,i.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),c.setClear(1),u.setClear(0),ve(i.DEPTH_TEST),c.setFunc(my),J(!1),me(r3),ve(i.CULL_FACE),Q(Ms);function ve(oe){p[oe]!==!0&&(i.enable(oe),p[oe]=!0)}l(ve,"enable");function we(oe){p[oe]!==!1&&(i.disable(oe),p[oe]=!1)}l(we,"disable");function He(oe,N){return d[oe]!==N?(i.bindFramebuffer(oe,N),d[oe]=N,n&&(oe===i.DRAW_FRAMEBUFFER&&(d[i.FRAMEBUFFER]=N),oe===i.FRAMEBUFFER&&(d[i.DRAW_FRAMEBUFFER]=N)),!0):!1}l(He,"bindFramebuffer");function Ke(oe,N){let le=y,Te=!1;if(oe)if(le=m.get(N),le===void 0&&(le=[],m.set(N,le)),oe.isWebGLMultipleRenderTargets){let ee=oe.texture;if(le.length!==ee.length||le[0]!==i.COLOR_ATTACHMENT0){for(let Le=0,Ye=ee.length;Le<Ye;Le++)le[Le]=i.COLOR_ATTACHMENT0+Le;le.length=ee.length,Te=!0}}else le[0]!==i.COLOR_ATTACHMENT0&&(le[0]=i.COLOR_ATTACHMENT0,Te=!0);else le[0]!==i.BACK&&(le[0]=i.BACK,Te=!0);Te&&(t.isWebGL2?i.drawBuffers(le):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(le))}l(Ke,"drawBuffers");function Ze(oe){return g!==oe?(i.useProgram(oe),g=oe,!0):!1}l(Ze,"useProgram");let S={[Xu]:i.FUNC_ADD,[JF]:i.FUNC_SUBTRACT,[KF]:i.FUNC_REVERSE_SUBTRACT};if(n)S[l3]=i.MIN,S[c3]=i.MAX;else{let oe=e.get("EXT_blend_minmax");oe!==null&&(S[l3]=oe.MIN_EXT,S[c3]=oe.MAX_EXT)}let G={[QF]:i.ZERO,[eU]:i.ONE,[tU]:i.SRC_COLOR,[WT]:i.SRC_ALPHA,[oU]:i.SRC_ALPHA_SATURATE,[aU]:i.DST_COLOR,[nU]:i.DST_ALPHA,[iU]:i.ONE_MINUS_SRC_COLOR,[jT]:i.ONE_MINUS_SRC_ALPHA,[sU]:i.ONE_MINUS_DST_COLOR,[rU]:i.ONE_MINUS_DST_ALPHA};function Q(oe,N,le,Te,ee,Le,Ye,vt){if(oe===Ms){b===!0&&(we(i.BLEND),b=!1);return}if(b===!1&&(ve(i.BLEND),b=!0),oe!==ZF){if(oe!==x||vt!==A){if((w!==Xu||C!==Xu)&&(i.blendEquation(i.FUNC_ADD),w=Xu,C=Xu),vt)switch(oe){case Qu:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case a3:i.blendFunc(i.ONE,i.ONE);break;case s3:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case o3:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}else switch(oe){case Qu:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case a3:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case s3:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case o3:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}E=null,M=null,I=null,F=null,x=oe,A=vt}return}ee=ee||N,Le=Le||le,Ye=Ye||Te,(N!==w||ee!==C)&&(i.blendEquationSeparate(S[N],S[ee]),w=N,C=ee),(le!==E||Te!==M||Le!==I||Ye!==F)&&(i.blendFuncSeparate(G[le],G[Te],G[Le],G[Ye]),E=le,M=Te,I=Le,F=Ye),x=oe,A=!1}l(Q,"setBlending");function K(oe,N){oe.side===ea?we(i.CULL_FACE):ve(i.CULL_FACE);let le=oe.side===Br;N&&(le=!le),J(le),oe.blending===Qu&&oe.transparent===!1?Q(Ms):Q(oe.blending,oe.blendEquation,oe.blendSrc,oe.blendDst,oe.blendEquationAlpha,oe.blendSrcAlpha,oe.blendDstAlpha,oe.premultipliedAlpha),c.setFunc(oe.depthFunc),c.setTest(oe.depthTest),c.setMask(oe.depthWrite),o.setMask(oe.colorWrite);let Te=oe.stencilWrite;u.setTest(Te),Te&&(u.setMask(oe.stencilWriteMask),u.setFunc(oe.stencilFunc,oe.stencilRef,oe.stencilFuncMask),u.setOp(oe.stencilFail,oe.stencilZFail,oe.stencilZPass)),Ie(oe.polygonOffset,oe.polygonOffsetFactor,oe.polygonOffsetUnits),oe.alphaToCoverage===!0?ve(i.SAMPLE_ALPHA_TO_COVERAGE):we(i.SAMPLE_ALPHA_TO_COVERAGE)}l(K,"setMaterial");function J(oe){T!==oe&&(oe?i.frontFace(i.CW):i.frontFace(i.CCW),T=oe)}l(J,"setFlipSided");function me(oe){oe!==$F?(ve(i.CULL_FACE),oe!==j&&(oe===r3?i.cullFace(i.BACK):oe===XF?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):we(i.CULL_FACE),j=oe}l(me,"setCullFace");function Se(oe){oe!==R&&(fe&&i.lineWidth(oe),R=oe)}l(Se,"setLineWidth");function Ie(oe,N,le){oe?(ve(i.POLYGON_OFFSET_FILL),(U!==N||q!==le)&&(i.polygonOffset(N,le),U=N,q=le)):we(i.POLYGON_OFFSET_FILL)}l(Ie,"setPolygonOffset");function Ce(oe){oe?ve(i.SCISSOR_TEST):we(i.SCISSOR_TEST)}l(Ce,"setScissorTest");function Xe(oe){oe===void 0&&(oe=i.TEXTURE0+X-1),$!==oe&&(i.activeTexture(oe),$=oe)}l(Xe,"activeTexture");function nt(oe,N,le){le===void 0&&($===null?le=i.TEXTURE0+X-1:le=$);let Te=Z[le];Te===void 0&&(Te={type:void 0,texture:void 0},Z[le]=Te),(Te.type!==oe||Te.texture!==N)&&($!==le&&(i.activeTexture(le),$=le),i.bindTexture(oe,N||Ge[oe]),Te.type=oe,Te.texture=N)}l(nt,"bindTexture");function z(){let oe=Z[$];oe!==void 0&&oe.type!==void 0&&(i.bindTexture(oe.type,null),oe.type=void 0,oe.texture=void 0)}l(z,"unbindTexture");function B(){try{i.compressedTexImage2D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(B,"compressedTexImage2D");function Ae(){try{i.compressedTexImage3D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(Ae,"compressedTexImage3D");function W(){try{i.texSubImage2D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(W,"texSubImage2D");function L(){try{i.texSubImage3D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(L,"texSubImage3D");function P(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(P,"compressedTexSubImage2D");function se(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(se,"compressedTexSubImage3D");function de(){try{i.texStorage2D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(de,"texStorage2D");function O(){try{i.texStorage3D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(O,"texStorage3D");function be(){try{i.texImage2D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(be,"texImage2D");function Ue(){try{i.texImage3D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(Ue,"texImage3D");function We(oe){Me.equals(oe)===!1&&(i.scissor(oe.x,oe.y,oe.z,oe.w),Me.copy(oe))}l(We,"scissor");function _e(oe){Fe.equals(oe)===!1&&(i.viewport(oe.x,oe.y,oe.z,oe.w),Fe.copy(oe))}l(_e,"viewport");function Re(oe,N){let le=f.get(N);le===void 0&&(le=new WeakMap,f.set(N,le));let Te=le.get(oe);Te===void 0&&(Te=i.getUniformBlockIndex(N,oe.name),le.set(oe,Te))}l(Re,"updateUBOMapping");function te(oe,N){let Te=f.get(N).get(oe);h.get(N)!==Te&&(i.uniformBlockBinding(N,Te,oe.__bindingPointIndex),h.set(N,Te))}l(te,"uniformBlockBinding");function et(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),n===!0&&(i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),p={},$=null,Z={},d={},m=new WeakMap,y=[],g=null,b=!1,x=null,w=null,E=null,M=null,C=null,I=null,F=null,A=!1,T=null,j=null,R=null,U=null,q=null,Me.set(0,0,i.canvas.width,i.canvas.height),Fe.set(0,0,i.canvas.width,i.canvas.height),o.reset(),c.reset(),u.reset()}return l(et,"reset"),{buffers:{color:o,depth:c,stencil:u},enable:ve,disable:we,bindFramebuffer:He,drawBuffers:Ke,useProgram:Ze,setBlending:Q,setMaterial:K,setFlipSided:J,setCullFace:me,setLineWidth:Se,setPolygonOffset:Ie,setScissorTest:Ce,activeTexture:Xe,bindTexture:nt,unbindTexture:z,compressedTexImage2D:B,compressedTexImage3D:Ae,texImage2D:be,texImage3D:Ue,updateUBOMapping:Re,uniformBlockBinding:te,texStorage2D:de,texStorage3D:O,texSubImage2D:W,texSubImage3D:L,compressedTexSubImage2D:P,compressedTexSubImage3D:se,scissor:We,viewport:_e,reset:et}}function ede(i,e,t,n,r,a,s){let o=r.isWebGL2,c=r.maxTextures,u=r.maxCubemapSize,h=r.maxTextureSize,f=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,y,g=new WeakMap,b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(z,B){return b?new OffscreenCanvas(z,B):E_("canvas")}l(x,"createCanvas");function w(z,B,Ae,W){let L=1;if((z.width>W||z.height>W)&&(L=W/Math.max(z.width,z.height)),L<1||B===!0)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap){let P=B?by:Math.floor,se=P(L*z.width),de=P(L*z.height);y===void 0&&(y=x(se,de));let O=Ae?x(se,de):y;return O.width=se,O.height=de,O.getContext("2d").drawImage(z,0,0,se,de),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+se+"x"+de+")."),O}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}l(w,"resizeImage");function E(z){return N3(z.width)&&N3(z.height)}l(E,"isPowerOfTwo$1");function M(z){return o?!1:z.wrapS!==br||z.wrapT!==br||z.minFilter!==Di&&z.minFilter!==rn}l(M,"textureNeedsPowerOfTwo");function C(z,B){return z.generateMipmaps&&B&&z.minFilter!==Di&&z.minFilter!==rn}l(C,"textureNeedsGenerateMipmaps");function I(z){i.generateMipmap(z)}l(I,"generateMipmap");function F(z,B,Ae,W,L=!1){if(o===!1)return B;if(z!==null){if(i[z]!==void 0)return i[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let P=B;return B===i.RED&&(Ae===i.FLOAT&&(P=i.R32F),Ae===i.HALF_FLOAT&&(P=i.R16F),Ae===i.UNSIGNED_BYTE&&(P=i.R8)),B===i.RG&&(Ae===i.FLOAT&&(P=i.RG32F),Ae===i.HALF_FLOAT&&(P=i.RG16F),Ae===i.UNSIGNED_BYTE&&(P=i.RG8)),B===i.RGBA&&(Ae===i.FLOAT&&(P=i.RGBA32F),Ae===i.HALF_FLOAT&&(P=i.RGBA16F),Ae===i.UNSIGNED_BYTE&&(P=W===ti&&L===!1?i.SRGB8_ALPHA8:i.RGBA8),Ae===i.UNSIGNED_SHORT_4_4_4_4&&(P=i.RGBA4),Ae===i.UNSIGNED_SHORT_5_5_5_1&&(P=i.RGB5_A1)),(P===i.R16F||P===i.R32F||P===i.RG16F||P===i.RG32F||P===i.RGBA16F||P===i.RGBA32F)&&e.get("EXT_color_buffer_float"),P}l(F,"getInternalFormat");function A(z,B,Ae){return C(z,Ae)===!0||z.isFramebufferTexture&&z.minFilter!==Di&&z.minFilter!==rn?Math.log2(Math.max(B.width,B.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?B.mipmaps.length:1}l(A,"getMipLevels");function T(z){return z===Di||z===_y||z===c_?i.NEAREST:i.LINEAR}l(T,"filterFallback");function j(z){let B=z.target;B.removeEventListener("dispose",j),U(B),B.isVideoTexture&&m.delete(B)}l(j,"onTextureDispose");function R(z){let B=z.target;B.removeEventListener("dispose",R),X(B)}l(R,"onRenderTargetDispose");function U(z){let B=n.get(z);if(B.__webglInit===void 0)return;let Ae=z.source,W=g.get(Ae);if(W){let L=W[B.__cacheKey];L.usedTimes--,L.usedTimes===0&&q(z),Object.keys(W).length===0&&g.delete(Ae)}n.remove(z)}l(U,"deallocateTexture");function q(z){let B=n.get(z);i.deleteTexture(B.__webglTexture);let Ae=z.source,W=g.get(Ae);delete W[B.__cacheKey],s.memory.textures--}l(q,"deleteTexture");function X(z){let B=z.texture,Ae=n.get(z),W=n.get(B);if(W.__webglTexture!==void 0&&(i.deleteTexture(W.__webglTexture),s.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let L=0;L<6;L++)i.deleteFramebuffer(Ae.__webglFramebuffer[L]),Ae.__webglDepthbuffer&&i.deleteRenderbuffer(Ae.__webglDepthbuffer[L]);else{if(i.deleteFramebuffer(Ae.__webglFramebuffer),Ae.__webglDepthbuffer&&i.deleteRenderbuffer(Ae.__webglDepthbuffer),Ae.__webglMultisampledFramebuffer&&i.deleteFramebuffer(Ae.__webglMultisampledFramebuffer),Ae.__webglColorRenderbuffer)for(let L=0;L<Ae.__webglColorRenderbuffer.length;L++)Ae.__webglColorRenderbuffer[L]&&i.deleteRenderbuffer(Ae.__webglColorRenderbuffer[L]);Ae.__webglDepthRenderbuffer&&i.deleteRenderbuffer(Ae.__webglDepthRenderbuffer)}if(z.isWebGLMultipleRenderTargets)for(let L=0,P=B.length;L<P;L++){let se=n.get(B[L]);se.__webglTexture&&(i.deleteTexture(se.__webglTexture),s.memory.textures--),n.remove(B[L])}n.remove(B),n.remove(z)}l(X,"deallocateRenderTarget");let fe=0;function H(){fe=0}l(H,"resetTextureUnits");function Y(){let z=fe;return z>=c&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+c),fe+=1,z}l(Y,"allocateTextureUnit");function $(z){let B=[];return B.push(z.wrapS),B.push(z.wrapT),B.push(z.wrapR||0),B.push(z.magFilter),B.push(z.minFilter),B.push(z.anisotropy),B.push(z.internalFormat),B.push(z.format),B.push(z.type),B.push(z.generateMipmaps),B.push(z.premultiplyAlpha),B.push(z.flipY),B.push(z.unpackAlignment),B.push(z.colorSpace),B.join()}l($,"getTextureCacheKey");function Z(z,B){let Ae=n.get(z);if(z.isVideoTexture&&Xe(z),z.isRenderTargetTexture===!1&&z.version>0&&Ae.__version!==z.version){let W=z.image;if(W===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(W.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{He(Ae,z,B);return}}t.bindTexture(i.TEXTURE_2D,Ae.__webglTexture,i.TEXTURE0+B)}l(Z,"setTexture2D");function ie(z,B){let Ae=n.get(z);if(z.version>0&&Ae.__version!==z.version){He(Ae,z,B);return}t.bindTexture(i.TEXTURE_2D_ARRAY,Ae.__webglTexture,i.TEXTURE0+B)}l(ie,"setTexture2DArray");function ue(z,B){let Ae=n.get(z);if(z.version>0&&Ae.__version!==z.version){He(Ae,z,B);return}t.bindTexture(i.TEXTURE_3D,Ae.__webglTexture,i.TEXTURE0+B)}l(ue,"setTexture3D");function Me(z,B){let Ae=n.get(z);if(z.version>0&&Ae.__version!==z.version){Ke(Ae,z,B);return}t.bindTexture(i.TEXTURE_CUBE_MAP,Ae.__webglTexture,i.TEXTURE0+B)}l(Me,"setTextureCube");let Fe={[g_]:i.REPEAT,[br]:i.CLAMP_TO_EDGE,[b_]:i.MIRRORED_REPEAT},De={[Di]:i.NEAREST,[_y]:i.NEAREST_MIPMAP_NEAREST,[c_]:i.NEAREST_MIPMAP_LINEAR,[rn]:i.LINEAR,[$T]:i.LINEAR_MIPMAP_NEAREST,[yc]:i.LINEAR_MIPMAP_LINEAR},Ge={[UU]:i.NEVER,[WU]:i.ALWAYS,[zU]:i.LESS,[VU]:i.LEQUAL,[DU]:i.EQUAL,[GU]:i.GEQUAL,[qU]:i.GREATER,[HU]:i.NOTEQUAL};function ve(z,B,Ae){if(Ae?(i.texParameteri(z,i.TEXTURE_WRAP_S,Fe[B.wrapS]),i.texParameteri(z,i.TEXTURE_WRAP_T,Fe[B.wrapT]),(z===i.TEXTURE_3D||z===i.TEXTURE_2D_ARRAY)&&i.texParameteri(z,i.TEXTURE_WRAP_R,Fe[B.wrapR]),i.texParameteri(z,i.TEXTURE_MAG_FILTER,De[B.magFilter]),i.texParameteri(z,i.TEXTURE_MIN_FILTER,De[B.minFilter])):(i.texParameteri(z,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(z,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),(z===i.TEXTURE_3D||z===i.TEXTURE_2D_ARRAY)&&i.texParameteri(z,i.TEXTURE_WRAP_R,i.CLAMP_TO_EDGE),(B.wrapS!==br||B.wrapT!==br)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(z,i.TEXTURE_MAG_FILTER,T(B.magFilter)),i.texParameteri(z,i.TEXTURE_MIN_FILTER,T(B.minFilter)),B.minFilter!==Di&&B.minFilter!==rn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),B.compareFunction&&(i.texParameteri(z,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(z,i.TEXTURE_COMPARE_FUNC,Ge[B.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){let W=e.get("EXT_texture_filter_anisotropic");if(B.magFilter===Di||B.minFilter!==c_&&B.minFilter!==yc||B.type===Ka&&e.has("OES_texture_float_linear")===!1||o===!1&&B.type===Ld&&e.has("OES_texture_half_float_linear")===!1)return;(B.anisotropy>1||n.get(B).__currentAnisotropy)&&(i.texParameterf(z,W.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,r.getMaxAnisotropy())),n.get(B).__currentAnisotropy=B.anisotropy)}}l(ve,"setTextureParameters");function we(z,B){let Ae=!1;z.__webglInit===void 0&&(z.__webglInit=!0,B.addEventListener("dispose",j));let W=B.source,L=g.get(W);L===void 0&&(L={},g.set(W,L));let P=$(B);if(P!==z.__cacheKey){L[P]===void 0&&(L[P]={texture:i.createTexture(),usedTimes:0},s.memory.textures++,Ae=!0),L[P].usedTimes++;let se=L[z.__cacheKey];se!==void 0&&(L[z.__cacheKey].usedTimes--,se.usedTimes===0&&q(B)),z.__cacheKey=P,z.__webglTexture=L[P].texture}return Ae}l(we,"initTexture");function He(z,B,Ae){let W=i.TEXTURE_2D;(B.isDataArrayTexture||B.isCompressedArrayTexture)&&(W=i.TEXTURE_2D_ARRAY),B.isData3DTexture&&(W=i.TEXTURE_3D);let L=we(z,B),P=B.source;t.bindTexture(W,z.__webglTexture,i.TEXTURE0+Ae);let se=n.get(P);if(P.version!==se.__version||L===!0){t.activeTexture(i.TEXTURE0+Ae),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,B.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,B.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,i.NONE);let de=M(B)&&E(B.image)===!1,O=w(B.image,de,!1,h);O=nt(B,O);let be=E(O)||o,Ue=a.convert(B.format,B.colorSpace),We=a.convert(B.type),_e=F(B.internalFormat,Ue,We,B.colorSpace);ve(W,B,be);let Re,te=B.mipmaps,et=o&&B.isVideoTexture!==!0,oe=se.__version===void 0||L===!0,N=A(B,O,be);if(B.isDepthTexture)_e=i.DEPTH_COMPONENT,o?B.type===Ka?_e=i.DEPTH_COMPONENT32F:B.type===Xo?_e=i.DEPTH_COMPONENT24:B.type===fc?_e=i.DEPTH24_STENCIL8:_e=i.DEPTH_COMPONENT16:B.type===Ka&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),B.format===dc&&_e===i.DEPTH_COMPONENT&&B.type!==vv&&B.type!==Xo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),B.type=Xo,We=a.convert(B.type)),B.format===th&&_e===i.DEPTH_COMPONENT&&(_e=i.DEPTH_STENCIL,B.type!==fc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),B.type=fc,We=a.convert(B.type))),oe&&(et?t.texStorage2D(i.TEXTURE_2D,1,_e,O.width,O.height):t.texImage2D(i.TEXTURE_2D,0,_e,O.width,O.height,0,Ue,We,null));else if(B.isDataTexture)if(te.length>0&&be){et&&oe&&t.texStorage2D(i.TEXTURE_2D,N,_e,te[0].width,te[0].height);for(let le=0,Te=te.length;le<Te;le++)Re=te[le],et?t.texSubImage2D(i.TEXTURE_2D,le,0,0,Re.width,Re.height,Ue,We,Re.data):t.texImage2D(i.TEXTURE_2D,le,_e,Re.width,Re.height,0,Ue,We,Re.data);B.generateMipmaps=!1}else et?(oe&&t.texStorage2D(i.TEXTURE_2D,N,_e,O.width,O.height),t.texSubImage2D(i.TEXTURE_2D,0,0,0,O.width,O.height,Ue,We,O.data)):t.texImage2D(i.TEXTURE_2D,0,_e,O.width,O.height,0,Ue,We,O.data);else if(B.isCompressedTexture)if(B.isCompressedArrayTexture){et&&oe&&t.texStorage3D(i.TEXTURE_2D_ARRAY,N,_e,te[0].width,te[0].height,O.depth);for(let le=0,Te=te.length;le<Te;le++)Re=te[le],B.format!==Or?Ue!==null?et?t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,le,0,0,0,Re.width,Re.height,O.depth,Ue,Re.data,0,0):t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,le,_e,Re.width,Re.height,O.depth,0,Re.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):et?t.texSubImage3D(i.TEXTURE_2D_ARRAY,le,0,0,0,Re.width,Re.height,O.depth,Ue,We,Re.data):t.texImage3D(i.TEXTURE_2D_ARRAY,le,_e,Re.width,Re.height,O.depth,0,Ue,We,Re.data)}else{et&&oe&&t.texStorage2D(i.TEXTURE_2D,N,_e,te[0].width,te[0].height);for(let le=0,Te=te.length;le<Te;le++)Re=te[le],B.format!==Or?Ue!==null?et?t.compressedTexSubImage2D(i.TEXTURE_2D,le,0,0,Re.width,Re.height,Ue,Re.data):t.compressedTexImage2D(i.TEXTURE_2D,le,_e,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):et?t.texSubImage2D(i.TEXTURE_2D,le,0,0,Re.width,Re.height,Ue,We,Re.data):t.texImage2D(i.TEXTURE_2D,le,_e,Re.width,Re.height,0,Ue,We,Re.data)}else if(B.isDataArrayTexture)et?(oe&&t.texStorage3D(i.TEXTURE_2D_ARRAY,N,_e,O.width,O.height,O.depth),t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,O.width,O.height,O.depth,Ue,We,O.data)):t.texImage3D(i.TEXTURE_2D_ARRAY,0,_e,O.width,O.height,O.depth,0,Ue,We,O.data);else if(B.isData3DTexture)et?(oe&&t.texStorage3D(i.TEXTURE_3D,N,_e,O.width,O.height,O.depth),t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,O.width,O.height,O.depth,Ue,We,O.data)):t.texImage3D(i.TEXTURE_3D,0,_e,O.width,O.height,O.depth,0,Ue,We,O.data);else if(B.isFramebufferTexture){if(oe)if(et)t.texStorage2D(i.TEXTURE_2D,N,_e,O.width,O.height);else{let le=O.width,Te=O.height;for(let ee=0;ee<N;ee++)t.texImage2D(i.TEXTURE_2D,ee,_e,le,Te,0,Ue,We,null),le>>=1,Te>>=1}}else if(te.length>0&&be){et&&oe&&t.texStorage2D(i.TEXTURE_2D,N,_e,te[0].width,te[0].height);for(let le=0,Te=te.length;le<Te;le++)Re=te[le],et?t.texSubImage2D(i.TEXTURE_2D,le,0,0,Ue,We,Re):t.texImage2D(i.TEXTURE_2D,le,_e,Ue,We,Re);B.generateMipmaps=!1}else et?(oe&&t.texStorage2D(i.TEXTURE_2D,N,_e,O.width,O.height),t.texSubImage2D(i.TEXTURE_2D,0,0,0,Ue,We,O)):t.texImage2D(i.TEXTURE_2D,0,_e,Ue,We,O);C(B,be)&&I(W),se.__version=P.version,B.onUpdate&&B.onUpdate(B)}z.__version=B.version}l(He,"uploadTexture");function Ke(z,B,Ae){if(B.image.length!==6)return;let W=we(z,B),L=B.source;t.bindTexture(i.TEXTURE_CUBE_MAP,z.__webglTexture,i.TEXTURE0+Ae);let P=n.get(L);if(L.version!==P.__version||W===!0){t.activeTexture(i.TEXTURE0+Ae),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,B.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,B.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,i.NONE);let se=B.isCompressedTexture||B.image[0].isCompressedTexture,de=B.image[0]&&B.image[0].isDataTexture,O=[];for(let le=0;le<6;le++)!se&&!de?O[le]=w(B.image[le],!1,!0,u):O[le]=de?B.image[le].image:B.image[le],O[le]=nt(B,O[le]);let be=O[0],Ue=E(be)||o,We=a.convert(B.format,B.colorSpace),_e=a.convert(B.type),Re=F(B.internalFormat,We,_e,B.colorSpace),te=o&&B.isVideoTexture!==!0,et=P.__version===void 0||W===!0,oe=A(B,be,Ue);ve(i.TEXTURE_CUBE_MAP,B,Ue);let N;if(se){te&&et&&t.texStorage2D(i.TEXTURE_CUBE_MAP,oe,Re,be.width,be.height);for(let le=0;le<6;le++){N=O[le].mipmaps;for(let Te=0;Te<N.length;Te++){let ee=N[Te];B.format!==Or?We!==null?te?t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te,0,0,ee.width,ee.height,We,ee.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te,Re,ee.width,ee.height,0,ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):te?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te,0,0,ee.width,ee.height,We,_e,ee.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te,Re,ee.width,ee.height,0,We,_e,ee.data)}}}else{N=B.mipmaps,te&&et&&(N.length>0&&oe++,t.texStorage2D(i.TEXTURE_CUBE_MAP,oe,Re,O[0].width,O[0].height));for(let le=0;le<6;le++)if(de){te?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,O[le].width,O[le].height,We,_e,O[le].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,Re,O[le].width,O[le].height,0,We,_e,O[le].data);for(let Te=0;Te<N.length;Te++){let Le=N[Te].image[le].image;te?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te+1,0,0,Le.width,Le.height,We,_e,Le.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te+1,Re,Le.width,Le.height,0,We,_e,Le.data)}}else{te?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,We,_e,O[le]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,Re,We,_e,O[le]);for(let Te=0;Te<N.length;Te++){let ee=N[Te];te?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te+1,0,0,We,_e,ee.image[le]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te+1,Re,We,_e,ee.image[le])}}}C(B,Ue)&&I(i.TEXTURE_CUBE_MAP),P.__version=L.version,B.onUpdate&&B.onUpdate(B)}z.__version=B.version}l(Ke,"uploadCubeTexture");function Ze(z,B,Ae,W,L){let P=a.convert(Ae.format,Ae.colorSpace),se=a.convert(Ae.type),de=F(Ae.internalFormat,P,se,Ae.colorSpace);n.get(B).__hasExternalTextures||(L===i.TEXTURE_3D||L===i.TEXTURE_2D_ARRAY?t.texImage3D(L,0,de,B.width,B.height,B.depth,0,P,se,null):t.texImage2D(L,0,de,B.width,B.height,0,P,se,null)),t.bindFramebuffer(i.FRAMEBUFFER,z),Ce(B)?p.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,W,L,n.get(Ae).__webglTexture,0,Ie(B)):(L===i.TEXTURE_2D||L>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&L<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,W,L,n.get(Ae).__webglTexture,0),t.bindFramebuffer(i.FRAMEBUFFER,null)}l(Ze,"setupFrameBufferTexture");function S(z,B,Ae){if(i.bindRenderbuffer(i.RENDERBUFFER,z),B.depthBuffer&&!B.stencilBuffer){let W=i.DEPTH_COMPONENT16;if(Ae||Ce(B)){let L=B.depthTexture;L&&L.isDepthTexture&&(L.type===Ka?W=i.DEPTH_COMPONENT32F:L.type===Xo&&(W=i.DEPTH_COMPONENT24));let P=Ie(B);Ce(B)?p.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,P,W,B.width,B.height):i.renderbufferStorageMultisample(i.RENDERBUFFER,P,W,B.width,B.height)}else i.renderbufferStorage(i.RENDERBUFFER,W,B.width,B.height);i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,z)}else if(B.depthBuffer&&B.stencilBuffer){let W=Ie(B);Ae&&Ce(B)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,W,i.DEPTH24_STENCIL8,B.width,B.height):Ce(B)?p.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,W,i.DEPTH24_STENCIL8,B.width,B.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,B.width,B.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,z)}else{let W=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let L=0;L<W.length;L++){let P=W[L],se=a.convert(P.format,P.colorSpace),de=a.convert(P.type),O=F(P.internalFormat,se,de,P.colorSpace),be=Ie(B);Ae&&Ce(B)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,be,O,B.width,B.height):Ce(B)?p.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,be,O,B.width,B.height):i.renderbufferStorage(i.RENDERBUFFER,O,B.width,B.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}l(S,"setupRenderBufferStorage");function G(z,B){if(B&&B.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,z),!(B.depthTexture&&B.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(B.depthTexture).__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),Z(B.depthTexture,0);let W=n.get(B.depthTexture).__webglTexture,L=Ie(B);if(B.depthTexture.format===dc)Ce(B)?p.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,W,0,L):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,W,0);else if(B.depthTexture.format===th)Ce(B)?p.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,W,0,L):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,W,0);else throw new Error("Unknown depthTexture format")}l(G,"setupDepthTexture");function Q(z){let B=n.get(z),Ae=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!B.__autoAllocateDepthBuffer){if(Ae)throw new Error("target.depthTexture not supported in Cube render targets");G(B.__webglFramebuffer,z)}else if(Ae){B.__webglDepthbuffer=[];for(let W=0;W<6;W++)t.bindFramebuffer(i.FRAMEBUFFER,B.__webglFramebuffer[W]),B.__webglDepthbuffer[W]=i.createRenderbuffer(),S(B.__webglDepthbuffer[W],z,!1)}else t.bindFramebuffer(i.FRAMEBUFFER,B.__webglFramebuffer),B.__webglDepthbuffer=i.createRenderbuffer(),S(B.__webglDepthbuffer,z,!1);t.bindFramebuffer(i.FRAMEBUFFER,null)}l(Q,"setupDepthRenderbuffer");function K(z,B,Ae){let W=n.get(z);B!==void 0&&Ze(W.__webglFramebuffer,z,z.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D),Ae!==void 0&&Q(z)}l(K,"rebindTextures");function J(z){let B=z.texture,Ae=n.get(z),W=n.get(B);z.addEventListener("dispose",R),z.isWebGLMultipleRenderTargets!==!0&&(W.__webglTexture===void 0&&(W.__webglTexture=i.createTexture()),W.__version=B.version,s.memory.textures++);let L=z.isWebGLCubeRenderTarget===!0,P=z.isWebGLMultipleRenderTargets===!0,se=E(z)||o;if(L){Ae.__webglFramebuffer=[];for(let de=0;de<6;de++)Ae.__webglFramebuffer[de]=i.createFramebuffer()}else{if(Ae.__webglFramebuffer=i.createFramebuffer(),P)if(r.drawBuffers){let de=z.texture;for(let O=0,be=de.length;O<be;O++){let Ue=n.get(de[O]);Ue.__webglTexture===void 0&&(Ue.__webglTexture=i.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&z.samples>0&&Ce(z)===!1){let de=P?B:[B];Ae.__webglMultisampledFramebuffer=i.createFramebuffer(),Ae.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer);for(let O=0;O<de.length;O++){let be=de[O];Ae.__webglColorRenderbuffer[O]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,Ae.__webglColorRenderbuffer[O]);let Ue=a.convert(be.format,be.colorSpace),We=a.convert(be.type),_e=F(be.internalFormat,Ue,We,be.colorSpace,z.isXRRenderTarget===!0),Re=Ie(z);i.renderbufferStorageMultisample(i.RENDERBUFFER,Re,_e,z.width,z.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+O,i.RENDERBUFFER,Ae.__webglColorRenderbuffer[O])}i.bindRenderbuffer(i.RENDERBUFFER,null),z.depthBuffer&&(Ae.__webglDepthRenderbuffer=i.createRenderbuffer(),S(Ae.__webglDepthRenderbuffer,z,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(L){t.bindTexture(i.TEXTURE_CUBE_MAP,W.__webglTexture),ve(i.TEXTURE_CUBE_MAP,B,se);for(let de=0;de<6;de++)Ze(Ae.__webglFramebuffer[de],z,B,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+de);C(B,se)&&I(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(P){let de=z.texture;for(let O=0,be=de.length;O<be;O++){let Ue=de[O],We=n.get(Ue);t.bindTexture(i.TEXTURE_2D,We.__webglTexture),ve(i.TEXTURE_2D,Ue,se),Ze(Ae.__webglFramebuffer,z,Ue,i.COLOR_ATTACHMENT0+O,i.TEXTURE_2D),C(Ue,se)&&I(i.TEXTURE_2D)}t.unbindTexture()}else{let de=i.TEXTURE_2D;(z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(o?de=z.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(de,W.__webglTexture),ve(de,B,se),Ze(Ae.__webglFramebuffer,z,B,i.COLOR_ATTACHMENT0,de),C(B,se)&&I(de),t.unbindTexture()}z.depthBuffer&&Q(z)}l(J,"setupRenderTarget");function me(z){let B=E(z)||o,Ae=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let W=0,L=Ae.length;W<L;W++){let P=Ae[W];if(C(P,B)){let se=z.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D,de=n.get(P).__webglTexture;t.bindTexture(se,de),I(se),t.unbindTexture()}}}l(me,"updateRenderTargetMipmap");function Se(z){if(o&&z.samples>0&&Ce(z)===!1){let B=z.isWebGLMultipleRenderTargets?z.texture:[z.texture],Ae=z.width,W=z.height,L=i.COLOR_BUFFER_BIT,P=[],se=z.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,de=n.get(z),O=z.isWebGLMultipleRenderTargets===!0;if(O)for(let be=0;be<B.length;be++)t.bindFramebuffer(i.FRAMEBUFFER,de.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+be,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,de.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+be,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,de.__webglMultisampledFramebuffer),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,de.__webglFramebuffer);for(let be=0;be<B.length;be++){P.push(i.COLOR_ATTACHMENT0+be),z.depthBuffer&&P.push(se);let Ue=de.__ignoreDepthValues!==void 0?de.__ignoreDepthValues:!1;if(Ue===!1&&(z.depthBuffer&&(L|=i.DEPTH_BUFFER_BIT),z.stencilBuffer&&(L|=i.STENCIL_BUFFER_BIT)),O&&i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,de.__webglColorRenderbuffer[be]),Ue===!0&&(i.invalidateFramebuffer(i.READ_FRAMEBUFFER,[se]),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[se])),O){let We=n.get(B[be]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,We,0)}i.blitFramebuffer(0,0,Ae,W,0,0,Ae,W,L,i.NEAREST),d&&i.invalidateFramebuffer(i.READ_FRAMEBUFFER,P)}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),O)for(let be=0;be<B.length;be++){t.bindFramebuffer(i.FRAMEBUFFER,de.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+be,i.RENDERBUFFER,de.__webglColorRenderbuffer[be]);let Ue=n.get(B[be]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,de.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+be,i.TEXTURE_2D,Ue,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,de.__webglMultisampledFramebuffer)}}l(Se,"updateMultisampleRenderTarget");function Ie(z){return Math.min(f,z.samples)}l(Ie,"getRenderTargetSamples");function Ce(z){let B=n.get(z);return o&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&B.__useRenderToTexture!==!1}l(Ce,"useMultisampledRTT");function Xe(z){let B=s.render.frame;m.get(z)!==B&&(m.set(z,B),z.update())}l(Xe,"updateVideoTexture");function nt(z,B){let Ae=z.colorSpace,W=z.format,L=z.type;return z.isCompressedTexture===!0||z.format===gy||Ae!==ya&&Ae!==mc&&(Ae===ti?o===!1?e.has("EXT_sRGB")===!0&&W===Or?(z.format=gy,z.minFilter=rn,z.generateMipmaps=!1):B=M_.sRGBToLinear(B):(W!==Or||L!==Jo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ae)),B}l(nt,"verifyColorSpace"),this.allocateTextureUnit=Y,this.resetTextureUnits=H,this.setTexture2D=Z,this.setTexture2DArray=ie,this.setTexture3D=ue,this.setTextureCube=Me,this.rebindTextures=K,this.setupRenderTarget=J,this.updateRenderTargetMipmap=me,this.updateMultisampleRenderTarget=Se,this.setupDepthRenderbuffer=Q,this.setupFrameBufferTexture=Ze,this.useMultisampledRTT=Ce}function tz(i,e,t){let n=t.isWebGL2;function r(a,s=mc){let o;if(a===Jo)return i.UNSIGNED_BYTE;if(a===YT)return i.UNSIGNED_SHORT_4_4_4_4;if(a===ZT)return i.UNSIGNED_SHORT_5_5_5_1;if(a===xU)return i.BYTE;if(a===SU)return i.SHORT;if(a===vv)return i.UNSIGNED_SHORT;if(a===XT)return i.INT;if(a===Xo)return i.UNSIGNED_INT;if(a===Ka)return i.FLOAT;if(a===Ld)return n?i.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(a===EU)return i.ALPHA;if(a===Or)return i.RGBA;if(a===MU)return i.LUMINANCE;if(a===AU)return i.LUMINANCE_ALPHA;if(a===dc)return i.DEPTH_COMPONENT;if(a===th)return i.DEPTH_STENCIL;if(a===gy)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(a===TU)return i.RED;if(a===JT)return i.RED_INTEGER;if(a===kU)return i.RG;if(a===KT)return i.RG_INTEGER;if(a===QT)return i.RGBA_INTEGER;if(a===ly||a===cy||a===uy||a===hy)if(s===ti)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(a===ly)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===cy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===uy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===hy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(a===ly)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===cy)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===uy)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===hy)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===u3||a===h3||a===f3||a===d3)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(a===u3)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===h3)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===f3)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===d3)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===RU)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===p3||a===m3)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(a===p3)return s===ti?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(a===m3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===_3||a===g3||a===b3||a===y3||a===v3||a===w3||a===x3||a===S3||a===E3||a===M3||a===A3||a===T3||a===k3||a===R3)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(a===_3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===g3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===b3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===y3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===v3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===w3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===x3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===S3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===E3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===M3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===A3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===T3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===k3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===R3)return s===ti?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===fy)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(a===fy)return s===ti?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(a===PU||a===P3||a===I3||a===C3)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(a===fy)return o.COMPRESSED_RED_RGTC1_EXT;if(a===P3)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===I3)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===C3)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===fc?n?i.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):i[a]!==void 0?i[a]:null}return l(r,"convert"),{convert:r}}function ide(i,e){function t(g,b){g.matrixAutoUpdate===!0&&g.updateMatrix(),b.value.copy(g.matrix)}l(t,"refreshTransformUniform");function n(g,b){b.color.getRGB(g.fogColor.value,YU(i)),b.isFog?(g.fogNear.value=b.near,g.fogFar.value=b.far):b.isFogExp2&&(g.fogDensity.value=b.density)}l(n,"refreshFogUniforms");function r(g,b,x,w,E){b.isMeshBasicMaterial||b.isMeshLambertMaterial?a(g,b):b.isMeshToonMaterial?(a(g,b),f(g,b)):b.isMeshPhongMaterial?(a(g,b),h(g,b)):b.isMeshStandardMaterial?(a(g,b),p(g,b),b.isMeshPhysicalMaterial&&d(g,b,E)):b.isMeshMatcapMaterial?(a(g,b),m(g,b)):b.isMeshDepthMaterial?a(g,b):b.isMeshDistanceMaterial?(a(g,b),y(g,b)):b.isMeshNormalMaterial?a(g,b):b.isLineBasicMaterial?(s(g,b),b.isLineDashedMaterial&&o(g,b)):b.isPointsMaterial?c(g,b,x,w):b.isSpriteMaterial?u(g,b):b.isShadowMaterial?(g.color.value.copy(b.color),g.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}l(r,"refreshMaterialUniforms");function a(g,b){g.opacity.value=b.opacity,b.color&&g.diffuse.value.copy(b.color),b.emissive&&g.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(g.map.value=b.map,t(b.map,g.mapTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,t(b.alphaMap,g.alphaMapTransform)),b.bumpMap&&(g.bumpMap.value=b.bumpMap,t(b.bumpMap,g.bumpMapTransform),g.bumpScale.value=b.bumpScale,b.side===Br&&(g.bumpScale.value*=-1)),b.normalMap&&(g.normalMap.value=b.normalMap,t(b.normalMap,g.normalMapTransform),g.normalScale.value.copy(b.normalScale),b.side===Br&&g.normalScale.value.negate()),b.displacementMap&&(g.displacementMap.value=b.displacementMap,t(b.displacementMap,g.displacementMapTransform),g.displacementScale.value=b.displacementScale,g.displacementBias.value=b.displacementBias),b.emissiveMap&&(g.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,g.emissiveMapTransform)),b.specularMap&&(g.specularMap.value=b.specularMap,t(b.specularMap,g.specularMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest);let x=e.get(b).envMap;if(x&&(g.envMap.value=x,g.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=b.reflectivity,g.ior.value=b.ior,g.refractionRatio.value=b.refractionRatio),b.lightMap){g.lightMap.value=b.lightMap;let w=i.useLegacyLights===!0?Math.PI:1;g.lightMapIntensity.value=b.lightMapIntensity*w,t(b.lightMap,g.lightMapTransform)}b.aoMap&&(g.aoMap.value=b.aoMap,g.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,g.aoMapTransform))}l(a,"refreshUniformsCommon");function s(g,b){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,b.map&&(g.map.value=b.map,t(b.map,g.mapTransform))}l(s,"refreshUniformsLine");function o(g,b){g.dashSize.value=b.dashSize,g.totalSize.value=b.dashSize+b.gapSize,g.scale.value=b.scale}l(o,"refreshUniformsDash");function c(g,b,x,w){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.size.value=b.size*x,g.scale.value=w*.5,b.map&&(g.map.value=b.map,t(b.map,g.uvTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,t(b.alphaMap,g.alphaMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest)}l(c,"refreshUniformsPoints");function u(g,b){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.rotation.value=b.rotation,b.map&&(g.map.value=b.map,t(b.map,g.mapTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,t(b.alphaMap,g.alphaMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest)}l(u,"refreshUniformsSprites");function h(g,b){g.specular.value.copy(b.specular),g.shininess.value=Math.max(b.shininess,1e-4)}l(h,"refreshUniformsPhong");function f(g,b){b.gradientMap&&(g.gradientMap.value=b.gradientMap)}l(f,"refreshUniformsToon");function p(g,b){g.metalness.value=b.metalness,b.metalnessMap&&(g.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,g.metalnessMapTransform)),g.roughness.value=b.roughness,b.roughnessMap&&(g.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,g.roughnessMapTransform)),e.get(b).envMap&&(g.envMapIntensity.value=b.envMapIntensity)}l(p,"refreshUniformsStandard");function d(g,b,x){g.ior.value=b.ior,b.sheen>0&&(g.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),g.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(g.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,g.sheenColorMapTransform)),b.sheenRoughnessMap&&(g.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,g.sheenRoughnessMapTransform))),b.clearcoat>0&&(g.clearcoat.value=b.clearcoat,g.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(g.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,g.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(g.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Br&&g.clearcoatNormalScale.value.negate())),b.iridescence>0&&(g.iridescence.value=b.iridescence,g.iridescenceIOR.value=b.iridescenceIOR,g.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(g.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,g.iridescenceMapTransform)),b.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),b.transmission>0&&(g.transmission.value=b.transmission,g.transmissionSamplerMap.value=x.texture,g.transmissionSamplerSize.value.set(x.width,x.height),b.transmissionMap&&(g.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,g.transmissionMapTransform)),g.thickness.value=b.thickness,b.thicknessMap&&(g.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=b.attenuationDistance,g.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(g.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(g.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=b.specularIntensity,g.specularColor.value.copy(b.specularColor),b.specularColorMap&&(g.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,g.specularColorMapTransform)),b.specularIntensityMap&&(g.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,g.specularIntensityMapTransform))}l(d,"refreshUniformsPhysical");function m(g,b){b.matcap&&(g.matcap.value=b.matcap)}l(m,"refreshUniformsMatcap");function y(g,b){let x=e.get(b).light;g.referencePosition.value.setFromMatrixPosition(x.matrixWorld),g.nearDistance.value=x.shadow.camera.near,g.farDistance.value=x.shadow.camera.far}return l(y,"refreshUniformsDistance"),{refreshFogUniforms:n,refreshMaterialUniforms:r}}function nde(i,e,t,n){let r={},a={},s=[],o=t.isWebGL2?i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS):0;function c(x,w){let E=w.program;n.uniformBlockBinding(x,E)}l(c,"bind");function u(x,w){let E=r[x.id];E===void 0&&(m(x),E=h(x),r[x.id]=E,x.addEventListener("dispose",g));let M=w.program;n.updateUBOMapping(x,M);let C=e.render.frame;a[x.id]!==C&&(p(x),a[x.id]=C)}l(u,"update");function h(x){let w=f();x.__bindingPointIndex=w;let E=i.createBuffer(),M=x.__size,C=x.usage;return i.bindBuffer(i.UNIFORM_BUFFER,E),i.bufferData(i.UNIFORM_BUFFER,M,C),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,w,E),E}l(h,"createBuffer");function f(){for(let x=0;x<o;x++)if(s.indexOf(x)===-1)return s.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}l(f,"allocateBindingPointIndex");function p(x){let w=r[x.id],E=x.uniforms,M=x.__cache;i.bindBuffer(i.UNIFORM_BUFFER,w);for(let C=0,I=E.length;C<I;C++){let F=E[C];if(d(F,C,M)===!0){let A=F.__offset,T=Array.isArray(F.value)?F.value:[F.value],j=0;for(let R=0;R<T.length;R++){let U=T[R],q=y(U);typeof U=="number"?(F.__data[0]=U,i.bufferSubData(i.UNIFORM_BUFFER,A+j,F.__data)):U.isMatrix3?(F.__data[0]=U.elements[0],F.__data[1]=U.elements[1],F.__data[2]=U.elements[2],F.__data[3]=U.elements[0],F.__data[4]=U.elements[3],F.__data[5]=U.elements[4],F.__data[6]=U.elements[5],F.__data[7]=U.elements[0],F.__data[8]=U.elements[6],F.__data[9]=U.elements[7],F.__data[10]=U.elements[8],F.__data[11]=U.elements[0]):(U.toArray(F.__data,j),j+=q.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,A,F.__data)}}i.bindBuffer(i.UNIFORM_BUFFER,null)}l(p,"updateBufferData");function d(x,w,E){let M=x.value;if(E[w]===void 0){if(typeof M=="number")E[w]=M;else{let C=Array.isArray(M)?M:[M],I=[];for(let F=0;F<C.length;F++)I.push(C[F].clone());E[w]=I}return!0}else if(typeof M=="number"){if(E[w]!==M)return E[w]=M,!0}else{let C=Array.isArray(E[w])?E[w]:[E[w]],I=Array.isArray(M)?M:[M];for(let F=0;F<C.length;F++){let A=C[F];if(A.equals(I[F])===!1)return A.copy(I[F]),!0}}return!1}l(d,"hasUniformChanged");function m(x){let w=x.uniforms,E=0,M=16,C=0;for(let I=0,F=w.length;I<F;I++){let A=w[I],T={boundary:0,storage:0},j=Array.isArray(A.value)?A.value:[A.value];for(let R=0,U=j.length;R<U;R++){let q=j[R],X=y(q);T.boundary+=X.boundary,T.storage+=X.storage}if(A.__data=new Float32Array(T.storage/Float32Array.BYTES_PER_ELEMENT),A.__offset=E,I>0){C=E%M;let R=M-C;C!==0&&R-T.boundary<0&&(E+=M-C,A.__offset=E)}E+=T.storage}return C=E%M,C>0&&(E+=M-C),x.__size=E,x.__cache={},this}l(m,"prepareUniformsGroup");function y(x){let w={boundary:0,storage:0};return typeof x=="number"?(w.boundary=4,w.storage=4):x.isVector2?(w.boundary=8,w.storage=8):x.isVector3||x.isColor?(w.boundary=16,w.storage=12):x.isVector4?(w.boundary=16,w.storage=16):x.isMatrix3?(w.boundary=48,w.storage=48):x.isMatrix4?(w.boundary=64,w.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),w}l(y,"getUniformSize");function g(x){let w=x.target;w.removeEventListener("dispose",g);let E=s.indexOf(w.__bindingPointIndex);s.splice(E,1),i.deleteBuffer(r[w.id]),delete r[w.id],delete a[w.id]}l(g,"onUniformsGroupsDispose");function b(){for(let x in r)i.deleteBuffer(r[x]);s=[],r={},a={}}return l(b,"dispose"),{bind:c,update:u,dispose:b}}function rde(){let i=E_("canvas");return i.style.display="block",i}function Hb(i,e,t,n,r,a){Md.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(i_.x=a*Md.x-r*Md.y,i_.y=r*Md.x+a*Md.y):i_.copy(Md),i.copy(e),i.x+=i_.x,i.y+=i_.y,i.applyMatrix4(iz)}function wF(i,e,t,n,r,a,s){let o=K3.distanceSqToPoint(i);if(o<t){let c=new Ne;K3.closestPointToPoint(i,c),c.applyMatrix4(n);let u=r.ray.origin.distanceTo(c);if(u<r.near||u>r.far)return;a.push({distance:u,distanceToRay:Math.sqrt(o),point:c,index:e,face:null,object:s})}}function a4(){let i=0,e=0,t=0,n=0;function r(a,s,o,c){i=a,e=o,t=-3*a+3*s-2*o-c,n=2*a-2*s+o+c}return l(r,"init"),{initCatmullRom:function(a,s,o,c,u){r(s,o,u*(o-a),u*(c-s))},initNonuniformCatmullRom:function(a,s,o,c,u,h,f){let p=(s-a)/u-(o-a)/(u+h)+(o-s)/h,d=(o-s)/h-(c-s)/(h+f)+(c-o)/f;p*=h,d*=h,r(s,o,p,d)},calc:function(a){let s=a*a,o=s*a;return i+e*a+t*s+n*o}}}function xF(i,e,t,n,r){let a=(n-e)*.5,s=(r-t)*.5,o=i*i,c=i*o;return(2*t-2*n+a+s)*c+(-3*t+3*n-2*a-s)*o+a*i+t}function lde(i,e){let t=1-i;return t*t*e}function cde(i,e){return 2*(1-i)*i*e}function ude(i,e){return i*i*e}function d_(i,e,t,n){return lde(i,e)+cde(i,t)+ude(i,n)}function hde(i,e){let t=1-i;return t*t*t*e}function fde(i,e){let t=1-i;return 3*t*t*i*e}function dde(i,e){return 3*(1-i)*i*i*e}function pde(i,e){return i*i*i*e}function p_(i,e,t,n,r){return hde(i,e)+fde(i,t)+dde(i,n)+pde(i,r)}function nz(i,e,t,n,r){let a,s;if(r===Ide(i,e,t,n)>0)for(a=e;a<t;a+=n)s=SF(a,i[a],i[a+1],s);else for(a=t-n;a>=e;a-=n)s=SF(a,i[a],i[a+1],s);return s&&Ev(s,s.next)&&(G_(s),s=s.next),s}function sh(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(Ev(t,t.next)||un(t.prev,t,t.next)===0)){if(G_(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function q_(i,e,t,n,r,a,s){if(!i)return;!s&&a&&Mde(i,n,r,a);let o=i,c,u;for(;i.prev!==i.next;){if(c=i.prev,u=i.next,a?gde(i,n,r,a):_de(i)){e.push(c.i/t|0),e.push(i.i/t|0),e.push(u.i/t|0),G_(i),i=u.next,o=u.next;continue}if(i=u,i===o){s?s===1?(i=bde(sh(i),e,t),q_(i,e,t,n,r,a,2)):s===2&&yde(i,e,t,n,r,a):q_(sh(i),e,t,n,r,a,1);break}}}function _de(i){let e=i.prev,t=i,n=i.next;if(un(e,t,n)>=0)return!1;let r=e.x,a=t.x,s=n.x,o=e.y,c=t.y,u=n.y,h=r<a?r<s?r:s:a<s?a:s,f=o<c?o<u?o:u:c<u?c:u,p=r>a?r>s?r:s:a>s?a:s,d=o>c?o>u?o:u:c>u?c:u,m=n.next;for(;m!==e;){if(m.x>=h&&m.x<=p&&m.y>=f&&m.y<=d&&Pd(r,o,a,c,s,u,m.x,m.y)&&un(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function gde(i,e,t,n){let r=i.prev,a=i,s=i.next;if(un(r,a,s)>=0)return!1;let o=r.x,c=a.x,u=s.x,h=r.y,f=a.y,p=s.y,d=o<c?o<u?o:u:c<u?c:u,m=h<f?h<p?h:p:f<p?f:p,y=o>c?o>u?o:u:c>u?c:u,g=h>f?h>p?h:p:f>p?f:p,b=iT(d,m,e,t,n),x=iT(y,g,e,t,n),w=i.prevZ,E=i.nextZ;for(;w&&w.z>=b&&E&&E.z<=x;){if(w.x>=d&&w.x<=y&&w.y>=m&&w.y<=g&&w!==r&&w!==s&&Pd(o,h,c,f,u,p,w.x,w.y)&&un(w.prev,w,w.next)>=0||(w=w.prevZ,E.x>=d&&E.x<=y&&E.y>=m&&E.y<=g&&E!==r&&E!==s&&Pd(o,h,c,f,u,p,E.x,E.y)&&un(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;w&&w.z>=b;){if(w.x>=d&&w.x<=y&&w.y>=m&&w.y<=g&&w!==r&&w!==s&&Pd(o,h,c,f,u,p,w.x,w.y)&&un(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=x;){if(E.x>=d&&E.x<=y&&E.y>=m&&E.y<=g&&E!==r&&E!==s&&Pd(o,h,c,f,u,p,E.x,E.y)&&un(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function bde(i,e,t){let n=i;do{let r=n.prev,a=n.next.next;!Ev(r,a)&&rz(r,n,n.next,a)&&H_(r,a)&&H_(a,r)&&(e.push(r.i/t|0),e.push(n.i/t|0),e.push(a.i/t|0),G_(n),G_(n.next),n=i=a),n=n.next}while(n!==i);return sh(n)}function yde(i,e,t,n,r,a){let s=i;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&kde(s,o)){let c=az(s,o);s=sh(s,s.next),c=sh(c,c.next),q_(s,e,t,n,r,a,0),q_(c,e,t,n,r,a,0);return}o=o.next}s=s.next}while(s!==i)}function vde(i,e,t,n){let r=[],a,s,o,c,u;for(a=0,s=e.length;a<s;a++)o=e[a]*n,c=a<s-1?e[a+1]*n:i.length,u=nz(i,o,c,n,!1),u===u.next&&(u.steiner=!0),r.push(Tde(u));for(r.sort(wde),a=0;a<r.length;a++)t=xde(r[a],t);return t}function wde(i,e){return i.x-e.x}function xde(i,e){let t=Sde(i,e);if(!t)return e;let n=az(t,i);return sh(n,n.next),sh(t,t.next)}function Sde(i,e){let t=e,n=-1/0,r,a=i.x,s=i.y;do{if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){let p=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=a&&p>n&&(n=p,r=t.x<t.next.x?t:t.next,p===a))return r}t=t.next}while(t!==e);if(!r)return null;let o=r,c=r.x,u=r.y,h=1/0,f;t=r;do a>=t.x&&t.x>=c&&a!==t.x&&Pd(s<u?a:n,s,c,u,s<u?n:a,s,t.x,t.y)&&(f=Math.abs(s-t.y)/(a-t.x),H_(t,i)&&(f<h||f===h&&(t.x>r.x||t.x===r.x&&Ede(r,t)))&&(r=t,h=f)),t=t.next;while(t!==o);return r}function Ede(i,e){return un(i.prev,i,e.prev)<0&&un(e.next,i,i.next)<0}function Mde(i,e,t,n){let r=i;do r.z===0&&(r.z=iT(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,Ade(r)}function Ade(i){let e,t,n,r,a,s,o,c,u=1;do{for(t=i,i=null,a=null,s=0;t;){for(s++,n=t,o=0,e=0;e<u&&(o++,n=n.nextZ,!!n);e++);for(c=u;o>0||c>0&&n;)o!==0&&(c===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,o--):(r=n,n=n.nextZ,c--),a?a.nextZ=r:i=r,r.prevZ=a,a=r;t=n}a.nextZ=null,u*=2}while(s>1);return i}function iT(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function Tde(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function Pd(i,e,t,n,r,a,s,o){return(r-s)*(e-o)>=(i-s)*(a-o)&&(i-s)*(n-o)>=(t-s)*(e-o)&&(t-s)*(a-o)>=(r-s)*(n-o)}function kde(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!Rde(i,e)&&(H_(i,e)&&H_(e,i)&&Pde(i,e)&&(un(i.prev,i,e.prev)||un(i,e.prev,e))||Ev(i,e)&&un(i.prev,i,i.next)>0&&un(e.prev,e,e.next)>0)}function un(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function Ev(i,e){return i.x===e.x&&i.y===e.y}function rz(i,e,t,n){let r=ey(un(i,e,t)),a=ey(un(i,e,n)),s=ey(un(t,n,i)),o=ey(un(t,n,e));return!!(r!==a&&s!==o||r===0&&Qb(i,t,e)||a===0&&Qb(i,n,e)||s===0&&Qb(t,i,n)||o===0&&Qb(t,e,n))}function Qb(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function ey(i){return i>0?1:i<0?-1:0}function Rde(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&rz(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function H_(i,e){return un(i.prev,i,i.next)<0?un(i,e,i.next)>=0&&un(i,i.prev,e)>=0:un(i,e,i.prev)<0||un(i,i.next,e)<0}function Pde(i,e){let t=i,n=!1,r=(i.x+e.x)/2,a=(i.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function az(i,e){let t=new nT(i.i,i.x,i.y),n=new nT(e.i,e.x,e.y),r=i.next,a=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,a.next=n,n.prev=a,n}function SF(i,e,t,n){let r=new nT(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function G_(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function nT(i,e,t){this.i=i,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ide(i,e,t,n){let r=0;for(let a=e,s=t-n;a<t;a+=n)r+=(i[s]-i[a])*(i[a+1]+i[s+1]),s=a;return r}function EF(i){let e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function MF(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}function Lde(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){let a=i[n];t.shapes.push(a.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}function Nde(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){let r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}function AF(i,e,t){let n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}function Ja(i,e,t){return o4(i)?new i.constructor(i.subarray(e,t!==void 0?t:i.length)):i.slice(e,t)}function Ku(i,e,t){return!i||!t&&i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function o4(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function sz(i){function e(r,a){return i[r]-i[a]}l(e,"compareTime");let t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function rT(i,e,t){let n=i.length,r=new i.constructor(n);for(let a=0,s=0;s!==n;++a){let o=t[a]*e;for(let c=0;c!==e;++c)r[s++]=i[o+c]}return r}function l4(i,e,t,n){let r=1,a=i[0];for(;a!==void 0&&a[n]===void 0;)a=i[r++];if(a===void 0)return;let s=a[n];if(s!==void 0)if(Array.isArray(s))do s=a[n],s!==void 0&&(e.push(a.time),t.push.apply(t,s)),a=i[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[n],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=i[r++];while(a!==void 0);else do s=a[n],s!==void 0&&(e.push(a.time),t.push(s)),a=i[r++];while(a!==void 0)}function Ode(i,e,t,n,r=30){let a=i.clone();a.name=e;let s=[];for(let c=0;c<a.tracks.length;++c){let u=a.tracks[c],h=u.getValueSize(),f=[],p=[];for(let d=0;d<u.times.length;++d){let m=u.times[d]*r;if(!(m<t||m>=n)){f.push(u.times[d]);for(let y=0;y<h;++y)p.push(u.values[d*h+y])}}f.length!==0&&(u.times=Ku(f,u.times.constructor),u.values=Ku(p,u.values.constructor),s.push(u))}a.tracks=s;let o=1/0;for(let c=0;c<a.tracks.length;++c)o>a.tracks[c].times[0]&&(o=a.tracks[c].times[0]);for(let c=0;c<a.tracks.length;++c)a.tracks[c].shift(-1*o);return a.resetDuration(),a}function Bde(i,e=0,t=i,n=30){n<=0&&(n=30);let r=t.tracks.length,a=e/n;for(let s=0;s<r;++s){let o=t.tracks[s],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;let u=i.tracks.find(function(b){return b.name===o.name&&b.ValueTypeName===c});if(u===void 0)continue;let h=0,f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=f/3);let p=0,d=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=d/3);let m=o.times.length-1,y;if(a<=o.times[0]){let b=h,x=f-h;y=Ja(o.values,b,x)}else if(a>=o.times[m]){let b=m*f+h,x=b+f-h;y=Ja(o.values,b,x)}else{let b=o.createInterpolant(),x=h,w=f-h;b.evaluate(a),y=Ja(b.resultBuffer,x,w)}c==="quaternion"&&new Dn().fromArray(y).normalize().conjugate().toArray(y);let g=u.times.length;for(let b=0;b<g;++b){let x=b*d+p;if(c==="quaternion")Dn.multiplyQuaternionsFlat(u.values,x,y,0,u.values,x);else{let w=d-p*2;for(let E=0;E<w;++E)u.values[x+E]-=y[E]}}}return i.blendMode=e4,i}function Ude(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return lh;case"vector":case"vector2":case"vector3":case"vector4":return ch;case"color":return X_;case"quaternion":return Sc;case"bool":case"boolean":return el;case"string":return tl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function zde(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let e=Ude(i.type);if(i.times===void 0){let t=[],n=[];l4(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}function OF(){return(typeof performance>"u"?Date:performance).now()}function UF(i,e){return i.distance-e.distance}function TT(i,e,t,n){if(i.layers.test(e.layers)&&i.raycast(e,t),n===!0){let r=i.children;for(let a=0,s=r.length;a<s;a++)TT(r[a],e,t,!0)}}function lz(i){let e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push.apply(e,lz(i.children[t]));return e}function An(i,e,t,n,r,a,s){ay.set(r,a,s).unproject(n);let o=e[i];if(o!==void 0){let c=t.getAttribute("position");for(let u=0,h=o.length;u<h;u++)c.setXYZ(o[u],ay.x,ay.y,ay.z)}}var bv,Ec,Mc,$F,r3,XF,voe,woe,GT,YF,Js,Qa,Br,ea,xoe,Ms,Qu,a3,s3,o3,ZF,Xu,JF,KF,l3,c3,QF,eU,tU,iU,WT,jT,nU,rU,aU,sU,oU,lU,cU,uU,my,hU,fU,dU,pU,r0,mU,_U,eo,gU,bU,yU,vU,wU,yv,gc,bc,m_,__,ep,g_,br,b_,Di,_y,Soe,c_,Eoe,rn,$T,Moe,yc,Aoe,Jo,xU,SU,vv,XT,Xo,Ka,Ld,YT,ZT,fc,EU,Or,MU,AU,dc,th,TU,JT,kU,KT,QT,ly,cy,uy,hy,u3,h3,f3,d3,RU,p3,m3,_3,g3,b3,y3,v3,w3,x3,S3,E3,M3,A3,T3,k3,R3,fy,PU,P3,I3,C3,IU,CU,LU,y_,v_,dy,Zu,Ju,w_,wv,e4,Toe,koe,Roe,t4,pc,NU,OU,Ac,BU,mc,ti,ya,i4,Poe,py,Ioe,Coe,Loe,Noe,Ooe,Boe,Foe,Uoe,zoe,Doe,Voe,qoe,Hoe,FU,UU,zU,DU,VU,qU,HU,GU,WU,x_,Goe,Woe,joe,$oe,Xoe,Yoe,Zoe,Joe,Koe,L3,gy,Qs,S_,va,_r,wB,eh,Nd,il,ot,fi,AA,fle,xB,dle,ple,gle,ble,Qr,sd,M_,yle,Yo,vle,kn,Vi,cr,Od,O3,A_,B3,F3,Dn,Ne,RA,SB,es,Do,Vo,od,ld,cd,ud,oc,lc,Uu,Jm,wb,xb,zu,wle,Km,IA,wa,qo,CA,Sb,cc,LA,Eb,NA,vc,ni,hd,ws,xle,Sle,uc,Mb,ma,EB,MB,T_,Bd,Ele,AB,fd,Ho,Ab,Qm,Mle,Ale,TB,kB,RB,Tle,PB,Ni,xs,Go,OA,Wo,dd,pd,IB,BA,FA,UA,Tb,Zo,kle,tr,XU,Ss,kb,Ct,gr,ts,$o,Ple,On,Rb,Ai,U3,z3,D3,V3,k_,q3,R_,H3,Ot,G3,Ile,Za,DA,md,_a,e_,er,ci,CB,Du,Pb,LB,_d,gd,bd,VA,Ib,Cb,Lb,Nb,NB,OB,BB,Ob,Bb,ii,sn,xv,Nle,Ole,Fr,Ud,Tn,yd,vd,yy,ih,vy,qA,Ble,Fle,Ks,Vu,Ub,zd,Qo,zle,Dle,Vle,qle,Hle,Gle,Wle,jle,$le,Xle,Yle,Zle,Jle,Kle,Qle,ece,tce,ice,nce,rce,ace,sce,oce,lce,cce,uce,hce,fce,dce,pce,mce,_ce,gce,bce,yce,vce,wce,xce,Sce,Ece,Mce,Ace,Tce,kce,Rce,Pce,Ice,Cce,Lce,Nce,Oce,Bce,Fce,Uce,zce,Dce,Vce,qce,Hce,Gce,Wce,jce,$ce,Xce,Yce,Zce,Jce,Kce,Qce,eue,tue,iue,nue,rue,aue,sue,oue,lue,cue,uue,hue,fue,due,pue,mue,_ue,gue,bue,yue,vue,wue,xue,Sue,Eue,Mue,Aue,Tue,kue,Rue,Pue,Iue,Cue,Lue,Nue,Oue,Bue,Fue,Uue,zue,Due,Vue,que,Hue,Gue,Wue,jue,$ue,Xue,Yue,Zue,Jue,Kue,Que,ehe,the,ihe,nhe,rhe,ahe,she,ohe,lhe,che,uhe,hhe,fhe,dhe,phe,mhe,li,kt,Es,zb,io,Rd,FB,Yu,HA,UB,GA,$u,wd,zB,P_,JU,KU,QU,ez,HB,GB,WB,jB,$B,W3,j3,$3,WA,Cd,vfe,kfe,Rfe,Ife,zfe,Y3,Z3,jfe,I_,C_,Zfe,Jfe,wy,an,tde,f_,Dd,J3,Vd,xy,Sy,Ey,qd,Hd,Lr,nh,rh,xd,t_,Sd,Ed,Md,i_,iz,Vb,n_,qb,rF,jA,aF,Gd,Gb,sF,My,oF,lF,cF,ade,uF,Ad,$A,hF,XA,Ay,L_,_c,fF,sde,Ty,wc,Td,dF,Wb,pF,ode,r_,a_,ky,ur,mF,_F,gF,YA,jb,no,bF,yF,is,Ry,N_,vF,K3,$b,Xb,Py,Q3,eT,O_,tT,B_,xa,Wd,Iy,Yb,ZA,JA,KA,Cy,F_,Ly,jd,Ny,U_,z_,D_,s4,Oy,ah,V_,By,Fy,$d,Uy,xc,zy,Zb,Jb,QA,Kb,Dy,Ko,mde,to,Vy,Cde,qy,W_,Hy,Gy,j_,Wy,jy,$y,Xy,Yy,TF,Zy,Jy,As,Ky,Qy,ev,tv,Xd,iv,nv,Fde,oh,rv,$_,av,Sa,el,X_,lh,sv,Sc,tl,ch,uh,hh,Y_,oz,yr,jo,aT,Ts,sT,oT,fh,lT,cT,uT,ro,ov,e3,kF,RF,Z_,hT,lv,PF,s_,t3,fT,cv,dT,Yd,Zd,uv,hv,Jd,fv,J_,dv,pv,pT,Dde,IF,CF,mT,ty,K_,Q_,_T,gT,LF,NF,qu,bT,Kd,Hu,BF,Vde,Gu,e0,mv,Wu,FF,qde,ju,t0,yT,_v,c4,Hde,u4,Gde,Wde,jde,$de,Xde,Yde,Zde,vT,zi,wT,gv,Jde,xT,ST,Kde,ET,MT,AT,i0,Qd,kT,zF,RT,DF,iy,PT,VF,IT,hc,ny,i3,CT,LT,Qde,qF,HF,NT,OT,BT,GF,ry,WF,FT,ay,_n,UT,sy,n0,zT,DT,jF,oy,n3,VT,qT,HT,ns=Gt(()=>{ne();ae();re();bv="154",Ec={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Mc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},$F=0,r3=1,XF=2,voe=3,woe=0,GT=1,YF=2,Js=3,Qa=0,Br=1,ea=2,xoe=2,Ms=0,Qu=1,a3=2,s3=3,o3=4,ZF=5,Xu=100,JF=101,KF=102,l3=103,c3=104,QF=200,eU=201,tU=202,iU=203,WT=204,jT=205,nU=206,rU=207,aU=208,sU=209,oU=210,lU=0,cU=1,uU=2,my=3,hU=4,fU=5,dU=6,pU=7,r0=0,mU=1,_U=2,eo=0,gU=1,bU=2,yU=3,vU=4,wU=5,yv=300,gc=301,bc=302,m_=303,__=304,ep=306,g_=1e3,br=1001,b_=1002,Di=1003,_y=1004,Soe=1004,c_=1005,Eoe=1005,rn=1006,$T=1007,Moe=1007,yc=1008,Aoe=1008,Jo=1009,xU=1010,SU=1011,vv=1012,XT=1013,Xo=1014,Ka=1015,Ld=1016,YT=1017,ZT=1018,fc=1020,EU=1021,Or=1023,MU=1024,AU=1025,dc=1026,th=1027,TU=1028,JT=1029,kU=1030,KT=1031,QT=1033,ly=33776,cy=33777,uy=33778,hy=33779,u3=35840,h3=35841,f3=35842,d3=35843,RU=36196,p3=37492,m3=37496,_3=37808,g3=37809,b3=37810,y3=37811,v3=37812,w3=37813,x3=37814,S3=37815,E3=37816,M3=37817,A3=37818,T3=37819,k3=37820,R3=37821,fy=36492,PU=36283,P3=36284,I3=36285,C3=36286,IU=2200,CU=2201,LU=2202,y_=2300,v_=2301,dy=2302,Zu=2400,Ju=2401,w_=2402,wv=2500,e4=2501,Toe=0,koe=1,Roe=2,t4=3e3,pc=3001,NU=3200,OU=3201,Ac=0,BU=1,mc="",ti="srgb",ya="srgb-linear",i4="display-p3",Poe=0,py=7680,Ioe=7681,Coe=7682,Loe=7683,Noe=34055,Ooe=34056,Boe=5386,Foe=512,Uoe=513,zoe=514,Doe=515,Voe=516,qoe=517,Hoe=518,FU=519,UU=512,zU=513,DU=514,VU=515,qU=516,HU=517,GU=518,WU=519,x_=35044,Goe=35048,Woe=35040,joe=35045,$oe=35049,Xoe=35041,Yoe=35046,Zoe=35050,Joe=35042,Koe="100",L3="300 es",gy=1035,Qs=2e3,S_=2001,va=class{static{l(this,"EventDispatcher")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let r=this._listeners[e];if(r!==void 0){let a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let n=this._listeners[e.type];if(n!==void 0){e.target=this;let r=n.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}},_r=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],wB=1234567,eh=Math.PI/180,Nd=180/Math.PI;l(ba,"generateUUID");l(gn,"clamp");l(n4,"euclideanModulo");l(Qoe,"mapLinear");l(ele,"inverseLerp");l(u_,"lerp");l(tle,"damp");l(ile,"pingpong");l(nle,"smoothstep");l(rle,"smootherstep");l(ale,"randInt");l(sle,"randFloat");l(ole,"randFloatSpread");l(lle,"seededRandom");l(cle,"degToRad");l(ule,"radToDeg");l(N3,"isPowerOfTwo");l(jU,"ceilPowerOfTwo");l(by,"floorPowerOfTwo");l(hle,"setQuaternionFromProperEuler");l(ga,"denormalize");l(di,"normalize");il={DEG2RAD:eh,RAD2DEG:Nd,generateUUID:ba,clamp:gn,euclideanModulo:n4,mapLinear:Qoe,inverseLerp:ele,lerp:u_,damp:tle,pingpong:ile,smoothstep:nle,smootherstep:rle,randInt:ale,randFloat:sle,randFloatSpread:ole,seededRandom:lle,degToRad:cle,radToDeg:ule,isPowerOfTwo:N3,ceilPowerOfTwo:jU,floorPowerOfTwo:by,setQuaternionFromProperEuler:hle,normalize:di,denormalize:ga},ot=class i{static{l(this,"Vector2")}constructor(e=0,t=0){i.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(gn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let n=Math.cos(t),r=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*n-s*r+e.x,this.y=a*r+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},fi=class i{static{l(this,"Matrix3")}constructor(e,t,n,r,a,s,o,c,u){i.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,a,s,o,c,u)}set(e,t,n,r,a,s,o,c,u){let h=this.elements;return h[0]=e,h[1]=r,h[2]=o,h[3]=t,h[4]=a,h[5]=c,h[6]=n,h[7]=s,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,r=t.elements,a=this.elements,s=n[0],o=n[3],c=n[6],u=n[1],h=n[4],f=n[7],p=n[2],d=n[5],m=n[8],y=r[0],g=r[3],b=r[6],x=r[1],w=r[4],E=r[7],M=r[2],C=r[5],I=r[8];return a[0]=s*y+o*x+c*M,a[3]=s*g+o*w+c*C,a[6]=s*b+o*E+c*I,a[1]=u*y+h*x+f*M,a[4]=u*g+h*w+f*C,a[7]=u*b+h*E+f*I,a[2]=p*y+d*x+m*M,a[5]=p*g+d*w+m*C,a[8]=p*b+d*E+m*I,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],s=e[4],o=e[5],c=e[6],u=e[7],h=e[8];return t*s*h-t*o*u-n*a*h+n*o*c+r*a*u-r*s*c}invert(){let e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],s=e[4],o=e[5],c=e[6],u=e[7],h=e[8],f=h*s-o*u,p=o*c-h*a,d=u*a-s*c,m=t*f+n*p+r*d;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);let y=1/m;return e[0]=f*y,e[1]=(r*u-h*n)*y,e[2]=(o*n-r*s)*y,e[3]=p*y,e[4]=(h*t-r*c)*y,e[5]=(r*a-o*t)*y,e[6]=d*y,e[7]=(n*c-u*t)*y,e[8]=(s*t-n*a)*y,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,a,s,o){let c=Math.cos(a),u=Math.sin(a);return this.set(n*c,n*u,-n*(c*s+u*o)+s+e,-r*u,r*c,-r*(-u*s+c*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(AA.makeScale(e,t)),this}rotate(e){return this.premultiply(AA.makeRotation(-e)),this}translate(e,t){return this.premultiply(AA.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}},AA=new fi;l($U,"arrayNeedsUint32");fle={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};l(kd,"getTypedArray");l(E_,"createElementNS");xB={};l(h_,"warnOnce");l(Id,"SRGBToLinear");l(TA,"LinearToSRGB");dle=new fi().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),ple=new fi().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);l(mle,"DisplayP3ToLinearSRGB");l(_le,"LinearSRGBToDisplayP3");gle={[ya]:i=>i,[ti]:i=>i.convertSRGBToLinear(),[i4]:mle},ble={[ya]:i=>i,[ti]:i=>i.convertLinearToSRGB(),[i4]:_le},Qr={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(i){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!i},get workingColorSpace(){return ya},set workingColorSpace(i){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(i,e,t){if(this.enabled===!1||e===t||!e||!t)return i;let n=gle[e],r=ble[t];if(n===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(n(i))},fromWorkingColorSpace:function(i,e){return this.convert(i,this.workingColorSpace,e)},toWorkingColorSpace:function(i,e){return this.convert(i,e,this.workingColorSpace)}},M_=class{static{l(this,"ImageUtils")}static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{sd===void 0&&(sd=E_("canvas")),sd.width=e.width,sd.height=e.height;let n=sd.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=sd}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=E_("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);let r=n.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=Id(a[s]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){let t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Id(t[n]/255)*255):t[n]=Id(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},yle=0,Yo=class{static{l(this,"Source")}constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:yle++}),this.uuid=ba(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,o=r.length;s<o;s++)r[s].isDataTexture?a.push(kA(r[s].image)):a.push(kA(r[s]))}else a=kA(r);n.url=a}return t||(e.images[this.uuid]=n),n}};l(kA,"serializeImage");vle=0,kn=class i extends va{static{l(this,"Texture")}constructor(e=i.DEFAULT_IMAGE,t=i.DEFAULT_MAPPING,n=br,r=br,a=rn,s=yc,o=Or,c=Jo,u=i.DEFAULT_ANISOTROPY,h=mc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:vle++}),this.uuid=ba(),this.name="",this.source=new Yo(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=c,this.offset=new ot(0,0),this.repeat=new ot(1,1),this.center=new ot(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(h_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===pc?ti:mc),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==yv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case g_:e.x=e.x-Math.floor(e.x);break;case br:e.x=e.x<0?0:1;break;case b_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case g_:e.y=e.y-Math.floor(e.y);break;case br:e.y=e.y<0?0:1;break;case b_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return h_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===ti?pc:t4}set encoding(e){h_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===pc?ti:mc}};kn.DEFAULT_IMAGE=null;kn.DEFAULT_MAPPING=yv;kn.DEFAULT_ANISOTROPY=1;Vi=class i{static{l(this,"Vector4")}constructor(e=0,t=0,n=0,r=1){i.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,n=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r+s[12]*a,this.y=s[1]*t+s[5]*n+s[9]*r+s[13]*a,this.z=s[2]*t+s[6]*n+s[10]*r+s[14]*a,this.w=s[3]*t+s[7]*n+s[11]*r+s[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,a,c=e.elements,u=c[0],h=c[4],f=c[8],p=c[1],d=c[5],m=c[9],y=c[2],g=c[6],b=c[10];if(Math.abs(h-p)<.01&&Math.abs(f-y)<.01&&Math.abs(m-g)<.01){if(Math.abs(h+p)<.1&&Math.abs(f+y)<.1&&Math.abs(m+g)<.1&&Math.abs(u+d+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let w=(u+1)/2,E=(d+1)/2,M=(b+1)/2,C=(h+p)/4,I=(f+y)/4,F=(m+g)/4;return w>E&&w>M?w<.01?(n=0,r=.707106781,a=.707106781):(n=Math.sqrt(w),r=C/n,a=I/n):E>M?E<.01?(n=.707106781,r=0,a=.707106781):(r=Math.sqrt(E),n=C/r,a=F/r):M<.01?(n=.707106781,r=.707106781,a=0):(a=Math.sqrt(M),n=I/a,r=F/a),this.set(n,r,a,t),this}let x=Math.sqrt((g-m)*(g-m)+(f-y)*(f-y)+(p-h)*(p-h));return Math.abs(x)<.001&&(x=1),this.x=(g-m)/x,this.y=(f-y)/x,this.z=(p-h)/x,this.w=Math.acos((u+d+b-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},cr=class extends va{static{l(this,"WebGLRenderTarget")}constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Vi(0,0,e,t),this.scissorTest=!1,this.viewport=new Vi(0,0,e,t);let r={width:e,height:t,depth:1};n.encoding!==void 0&&(h_("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===pc?ti:mc),this.texture=new kn(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:rn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new Yo(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},Od=class extends kn{static{l(this,"DataArrayTexture")}constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Di,this.minFilter=Di,this.wrapR=br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},O3=class extends cr{static{l(this,"WebGLArrayRenderTarget")}constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Od(null,e,t,n),this.texture.isRenderTargetTexture=!0}},A_=class extends kn{static{l(this,"Data3DTexture")}constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Di,this.minFilter=Di,this.wrapR=br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},B3=class extends cr{static{l(this,"WebGL3DRenderTarget")}constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new A_(null,e,t,n),this.texture.isRenderTargetTexture=!0}},F3=class extends cr{static{l(this,"WebGLMultipleRenderTargets")}constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;let a=this.texture;this.texture=[];for(let s=0;s<n;s++)this.texture[s]=a.clone(),this.texture[s].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,a=this.texture.length;r<a;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},Dn=class{static{l(this,"Quaternion")}constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,a,s,o){let c=n[r+0],u=n[r+1],h=n[r+2],f=n[r+3],p=a[s+0],d=a[s+1],m=a[s+2],y=a[s+3];if(o===0){e[t+0]=c,e[t+1]=u,e[t+2]=h,e[t+3]=f;return}if(o===1){e[t+0]=p,e[t+1]=d,e[t+2]=m,e[t+3]=y;return}if(f!==y||c!==p||u!==d||h!==m){let g=1-o,b=c*p+u*d+h*m+f*y,x=b>=0?1:-1,w=1-b*b;if(w>Number.EPSILON){let M=Math.sqrt(w),C=Math.atan2(M,b*x);g=Math.sin(g*C)/M,o=Math.sin(o*C)/M}let E=o*x;if(c=c*g+p*E,u=u*g+d*E,h=h*g+m*E,f=f*g+y*E,g===1-o){let M=1/Math.sqrt(c*c+u*u+h*h+f*f);c*=M,u*=M,h*=M,f*=M}}e[t]=c,e[t+1]=u,e[t+2]=h,e[t+3]=f}static multiplyQuaternionsFlat(e,t,n,r,a,s){let o=n[r],c=n[r+1],u=n[r+2],h=n[r+3],f=a[s],p=a[s+1],d=a[s+2],m=a[s+3];return e[t]=o*m+h*f+c*d-u*p,e[t+1]=c*m+h*p+u*f-o*d,e[t+2]=u*m+h*d+o*p-c*f,e[t+3]=h*m-o*f-c*p-u*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){let n=e._x,r=e._y,a=e._z,s=e._order,o=Math.cos,c=Math.sin,u=o(n/2),h=o(r/2),f=o(a/2),p=c(n/2),d=c(r/2),m=c(a/2);switch(s){case"XYZ":this._x=p*h*f+u*d*m,this._y=u*d*f-p*h*m,this._z=u*h*m+p*d*f,this._w=u*h*f-p*d*m;break;case"YXZ":this._x=p*h*f+u*d*m,this._y=u*d*f-p*h*m,this._z=u*h*m-p*d*f,this._w=u*h*f+p*d*m;break;case"ZXY":this._x=p*h*f-u*d*m,this._y=u*d*f+p*h*m,this._z=u*h*m+p*d*f,this._w=u*h*f-p*d*m;break;case"ZYX":this._x=p*h*f-u*d*m,this._y=u*d*f+p*h*m,this._z=u*h*m-p*d*f,this._w=u*h*f+p*d*m;break;case"YZX":this._x=p*h*f+u*d*m,this._y=u*d*f+p*h*m,this._z=u*h*m-p*d*f,this._w=u*h*f-p*d*m;break;case"XZY":this._x=p*h*f-u*d*m,this._y=u*d*f-p*h*m,this._z=u*h*m+p*d*f,this._w=u*h*f+p*d*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,n=t[0],r=t[4],a=t[8],s=t[1],o=t[5],c=t[9],u=t[2],h=t[6],f=t[10],p=n+o+f;if(p>0){let d=.5/Math.sqrt(p+1);this._w=.25/d,this._x=(h-c)*d,this._y=(a-u)*d,this._z=(s-r)*d}else if(n>o&&n>f){let d=2*Math.sqrt(1+n-o-f);this._w=(h-c)/d,this._x=.25*d,this._y=(r+s)/d,this._z=(a+u)/d}else if(o>f){let d=2*Math.sqrt(1+o-n-f);this._w=(a-u)/d,this._x=(r+s)/d,this._y=.25*d,this._z=(c+h)/d}else{let d=2*Math.sqrt(1+f-n-o);this._w=(s-r)/d,this._x=(a+u)/d,this._y=(c+h)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(gn(this.dot(e),-1,1)))}rotateTowards(e,t){let n=this.angleTo(e);if(n===0)return this;let r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let n=e._x,r=e._y,a=e._z,s=e._w,o=t._x,c=t._y,u=t._z,h=t._w;return this._x=n*h+s*o+r*u-a*c,this._y=r*h+s*c+a*o-n*u,this._z=a*h+s*u+n*c-r*o,this._w=s*h-n*o-r*c-a*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let n=this._x,r=this._y,a=this._z,s=this._w,o=s*e._w+n*e._x+r*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=n,this._y=r,this._z=a,this;let c=1-o*o;if(c<=Number.EPSILON){let d=1-t;return this._w=d*s+t*this._w,this._x=d*n+t*this._x,this._y=d*r+t*this._y,this._z=d*a+t*this._z,this.normalize(),this._onChangeCallback(),this}let u=Math.sqrt(c),h=Math.atan2(u,o),f=Math.sin((1-t)*h)/u,p=Math.sin(t*h)/u;return this._w=s*f+this._w*p,this._x=n*f+this._x*p,this._y=r*f+this._y*p,this._z=a*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){let e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(a),n*Math.cos(a),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},Ne=class i{static{l(this,"Vector3")}constructor(e=0,t=0,n=0){i.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(SB.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(SB.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*r,this.y=a[1]*t+a[4]*n+a[7]*r,this.z=a[2]*t+a[5]*n+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,n=this.y,r=this.z,a=e.elements,s=1/(a[3]*t+a[7]*n+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*r+a[12])*s,this.y=(a[1]*t+a[5]*n+a[9]*r+a[13])*s,this.z=(a[2]*t+a[6]*n+a[10]*r+a[14])*s,this}applyQuaternion(e){let t=this.x,n=this.y,r=this.z,a=e.x,s=e.y,o=e.z,c=e.w,u=c*t+s*r-o*n,h=c*n+o*t-a*r,f=c*r+a*n-s*t,p=-a*t-s*n-o*r;return this.x=u*c+p*-a+h*-o-f*-s,this.y=h*c+p*-s+f*-a-u*-o,this.z=f*c+p*-o+u*-s-h*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r,this.y=a[1]*t+a[5]*n+a[9]*r,this.z=a[2]*t+a[6]*n+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let n=e.x,r=e.y,a=e.z,s=t.x,o=t.y,c=t.z;return this.x=r*c-a*o,this.y=a*s-n*c,this.z=n*o-r*s,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return RA.copy(this).projectOnVector(e),this.sub(RA)}reflect(e){return this.sub(RA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(gn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){let r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},RA=new Ne,SB=new Dn,es=class{static{l(this,"Box3")}constructor(e=new Ne(1/0,1/0,1/0),t=new Ne(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Vo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Vo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=Vo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),od.copy(e.boundingBox),od.applyMatrix4(e.matrixWorld),this.union(od);else{let r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){let a=r.attributes.position;for(let s=0,o=a.count;s<o;s++)Vo.fromBufferAttribute(a,s).applyMatrix4(e.matrixWorld),this.expandByPoint(Vo)}else r.boundingBox===null&&r.computeBoundingBox(),od.copy(r.boundingBox),od.applyMatrix4(e.matrixWorld),this.union(od)}let n=e.children;for(let r=0,a=n.length;r<a;r++)this.expandByObject(n[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Vo),Vo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Jm),wb.subVectors(this.max,Jm),ld.subVectors(e.a,Jm),cd.subVectors(e.b,Jm),ud.subVectors(e.c,Jm),oc.subVectors(cd,ld),lc.subVectors(ud,cd),Uu.subVectors(ld,ud);let t=[0,-oc.z,oc.y,0,-lc.z,lc.y,0,-Uu.z,Uu.y,oc.z,0,-oc.x,lc.z,0,-lc.x,Uu.z,0,-Uu.x,-oc.y,oc.x,0,-lc.y,lc.x,0,-Uu.y,Uu.x,0];return!PA(t,ld,cd,ud,wb)||(t=[1,0,0,0,1,0,0,0,1],!PA(t,ld,cd,ud,wb))?!1:(xb.crossVectors(oc,lc),t=[xb.x,xb.y,xb.z],PA(t,ld,cd,ud,wb))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Vo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Vo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Do[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Do[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Do[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Do[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Do[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Do[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Do[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Do[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Do),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Do=[new Ne,new Ne,new Ne,new Ne,new Ne,new Ne,new Ne,new Ne],Vo=new Ne,od=new es,ld=new Ne,cd=new Ne,ud=new Ne,oc=new Ne,lc=new Ne,Uu=new Ne,Jm=new Ne,wb=new Ne,xb=new Ne,zu=new Ne;l(PA,"satForAxes");wle=new es,Km=new Ne,IA=new Ne,wa=class{static{l(this,"Sphere")}constructor(e=new Ne,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let n=this.center;t!==void 0?n.copy(t):wle.setFromPoints(e).getCenter(n);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Km.subVectors(e,this.center);let t=Km.lengthSq();if(t>this.radius*this.radius){let n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(Km,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(IA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Km.copy(e.center).add(IA)),this.expandByPoint(Km.copy(e.center).sub(IA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},qo=new Ne,CA=new Ne,Sb=new Ne,cc=new Ne,LA=new Ne,Eb=new Ne,NA=new Ne,vc=class{static{l(this,"Ray")}constructor(e=new Ne,t=new Ne(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,qo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=qo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(qo.copy(this.origin).addScaledVector(this.direction,t),qo.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){CA.copy(e).add(t).multiplyScalar(.5),Sb.copy(t).sub(e).normalize(),cc.copy(this.origin).sub(CA);let a=e.distanceTo(t)*.5,s=-this.direction.dot(Sb),o=cc.dot(this.direction),c=-cc.dot(Sb),u=cc.lengthSq(),h=Math.abs(1-s*s),f,p,d,m;if(h>0)if(f=s*c-o,p=s*o-c,m=a*h,f>=0)if(p>=-m)if(p<=m){let y=1/h;f*=y,p*=y,d=f*(f+s*p+2*o)+p*(s*f+p+2*c)+u}else p=a,f=Math.max(0,-(s*p+o)),d=-f*f+p*(p+2*c)+u;else p=-a,f=Math.max(0,-(s*p+o)),d=-f*f+p*(p+2*c)+u;else p<=-m?(f=Math.max(0,-(-s*a+o)),p=f>0?-a:Math.min(Math.max(-a,-c),a),d=-f*f+p*(p+2*c)+u):p<=m?(f=0,p=Math.min(Math.max(-a,-c),a),d=p*(p+2*c)+u):(f=Math.max(0,-(s*a+o)),p=f>0?a:Math.min(Math.max(-a,-c),a),d=-f*f+p*(p+2*c)+u);else p=s>0?-a:a,f=Math.max(0,-(s*p+o)),d=-f*f+p*(p+2*c)+u;return n&&n.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(CA).addScaledVector(Sb,p),d}intersectSphere(e,t){qo.subVectors(e.center,this.origin);let n=qo.dot(this.direction),r=qo.dot(qo)-n*n,a=e.radius*e.radius;if(r>a)return null;let s=Math.sqrt(a-r),o=n-s,c=n+s;return c<0?null:o<0?this.at(c,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){let n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,a,s,o,c,u=1/this.direction.x,h=1/this.direction.y,f=1/this.direction.z,p=this.origin;return u>=0?(n=(e.min.x-p.x)*u,r=(e.max.x-p.x)*u):(n=(e.max.x-p.x)*u,r=(e.min.x-p.x)*u),h>=0?(a=(e.min.y-p.y)*h,s=(e.max.y-p.y)*h):(a=(e.max.y-p.y)*h,s=(e.min.y-p.y)*h),n>s||a>r||((a>n||isNaN(n))&&(n=a),(s<r||isNaN(r))&&(r=s),f>=0?(o=(e.min.z-p.z)*f,c=(e.max.z-p.z)*f):(o=(e.max.z-p.z)*f,c=(e.min.z-p.z)*f),n>c||o>r)||((o>n||n!==n)&&(n=o),(c<r||r!==r)&&(r=c),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,qo)!==null}intersectTriangle(e,t,n,r,a){LA.subVectors(t,e),Eb.subVectors(n,e),NA.crossVectors(LA,Eb);let s=this.direction.dot(NA),o;if(s>0){if(r)return null;o=1}else if(s<0)o=-1,s=-s;else return null;cc.subVectors(this.origin,e);let c=o*this.direction.dot(Eb.crossVectors(cc,Eb));if(c<0)return null;let u=o*this.direction.dot(LA.cross(cc));if(u<0||c+u>s)return null;let h=-o*cc.dot(NA);return h<0?null:this.at(h/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},ni=class i{static{l(this,"Matrix4")}constructor(e,t,n,r,a,s,o,c,u,h,f,p,d,m,y,g){i.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,a,s,o,c,u,h,f,p,d,m,y,g)}set(e,t,n,r,a,s,o,c,u,h,f,p,d,m,y,g){let b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=r,b[1]=a,b[5]=s,b[9]=o,b[13]=c,b[2]=u,b[6]=h,b[10]=f,b[14]=p,b[3]=d,b[7]=m,b[11]=y,b[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new i().fromArray(this.elements)}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){let t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,n=e.elements,r=1/hd.setFromMatrixColumn(e,0).length(),a=1/hd.setFromMatrixColumn(e,1).length(),s=1/hd.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,n=e.x,r=e.y,a=e.z,s=Math.cos(n),o=Math.sin(n),c=Math.cos(r),u=Math.sin(r),h=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){let p=s*h,d=s*f,m=o*h,y=o*f;t[0]=c*h,t[4]=-c*f,t[8]=u,t[1]=d+m*u,t[5]=p-y*u,t[9]=-o*c,t[2]=y-p*u,t[6]=m+d*u,t[10]=s*c}else if(e.order==="YXZ"){let p=c*h,d=c*f,m=u*h,y=u*f;t[0]=p+y*o,t[4]=m*o-d,t[8]=s*u,t[1]=s*f,t[5]=s*h,t[9]=-o,t[2]=d*o-m,t[6]=y+p*o,t[10]=s*c}else if(e.order==="ZXY"){let p=c*h,d=c*f,m=u*h,y=u*f;t[0]=p-y*o,t[4]=-s*f,t[8]=m+d*o,t[1]=d+m*o,t[5]=s*h,t[9]=y-p*o,t[2]=-s*u,t[6]=o,t[10]=s*c}else if(e.order==="ZYX"){let p=s*h,d=s*f,m=o*h,y=o*f;t[0]=c*h,t[4]=m*u-d,t[8]=p*u+y,t[1]=c*f,t[5]=y*u+p,t[9]=d*u-m,t[2]=-u,t[6]=o*c,t[10]=s*c}else if(e.order==="YZX"){let p=s*c,d=s*u,m=o*c,y=o*u;t[0]=c*h,t[4]=y-p*f,t[8]=m*f+d,t[1]=f,t[5]=s*h,t[9]=-o*h,t[2]=-u*h,t[6]=d*f+m,t[10]=p-y*f}else if(e.order==="XZY"){let p=s*c,d=s*u,m=o*c,y=o*u;t[0]=c*h,t[4]=-f,t[8]=u*h,t[1]=p*f+y,t[5]=s*h,t[9]=d*f-m,t[2]=m*f-d,t[6]=o*h,t[10]=y*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(xle,e,Sle)}lookAt(e,t,n){let r=this.elements;return ma.subVectors(e,t),ma.lengthSq()===0&&(ma.z=1),ma.normalize(),uc.crossVectors(n,ma),uc.lengthSq()===0&&(Math.abs(n.z)===1?ma.x+=1e-4:ma.z+=1e-4,ma.normalize(),uc.crossVectors(n,ma)),uc.normalize(),Mb.crossVectors(ma,uc),r[0]=uc.x,r[4]=Mb.x,r[8]=ma.x,r[1]=uc.y,r[5]=Mb.y,r[9]=ma.y,r[2]=uc.z,r[6]=Mb.z,r[10]=ma.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,r=t.elements,a=this.elements,s=n[0],o=n[4],c=n[8],u=n[12],h=n[1],f=n[5],p=n[9],d=n[13],m=n[2],y=n[6],g=n[10],b=n[14],x=n[3],w=n[7],E=n[11],M=n[15],C=r[0],I=r[4],F=r[8],A=r[12],T=r[1],j=r[5],R=r[9],U=r[13],q=r[2],X=r[6],fe=r[10],H=r[14],Y=r[3],$=r[7],Z=r[11],ie=r[15];return a[0]=s*C+o*T+c*q+u*Y,a[4]=s*I+o*j+c*X+u*$,a[8]=s*F+o*R+c*fe+u*Z,a[12]=s*A+o*U+c*H+u*ie,a[1]=h*C+f*T+p*q+d*Y,a[5]=h*I+f*j+p*X+d*$,a[9]=h*F+f*R+p*fe+d*Z,a[13]=h*A+f*U+p*H+d*ie,a[2]=m*C+y*T+g*q+b*Y,a[6]=m*I+y*j+g*X+b*$,a[10]=m*F+y*R+g*fe+b*Z,a[14]=m*A+y*U+g*H+b*ie,a[3]=x*C+w*T+E*q+M*Y,a[7]=x*I+w*j+E*X+M*$,a[11]=x*F+w*R+E*fe+M*Z,a[15]=x*A+w*U+E*H+M*ie,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[4],r=e[8],a=e[12],s=e[1],o=e[5],c=e[9],u=e[13],h=e[2],f=e[6],p=e[10],d=e[14],m=e[3],y=e[7],g=e[11],b=e[15];return m*(+a*c*f-r*u*f-a*o*p+n*u*p+r*o*d-n*c*d)+y*(+t*c*d-t*u*p+a*s*p-r*s*d+r*u*h-a*c*h)+g*(+t*u*f-t*o*d-a*s*f+n*s*d+a*o*h-n*u*h)+b*(-r*o*h-t*c*f+t*o*p+r*s*f-n*s*p+n*c*h)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){let r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){let e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],s=e[4],o=e[5],c=e[6],u=e[7],h=e[8],f=e[9],p=e[10],d=e[11],m=e[12],y=e[13],g=e[14],b=e[15],x=f*g*u-y*p*u+y*c*d-o*g*d-f*c*b+o*p*b,w=m*p*u-h*g*u-m*c*d+s*g*d+h*c*b-s*p*b,E=h*y*u-m*f*u+m*o*d-s*y*d-h*o*b+s*f*b,M=m*f*c-h*y*c-m*o*p+s*y*p+h*o*g-s*f*g,C=t*x+n*w+r*E+a*M;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let I=1/C;return e[0]=x*I,e[1]=(y*p*a-f*g*a-y*r*d+n*g*d+f*r*b-n*p*b)*I,e[2]=(o*g*a-y*c*a+y*r*u-n*g*u-o*r*b+n*c*b)*I,e[3]=(f*c*a-o*p*a-f*r*u+n*p*u+o*r*d-n*c*d)*I,e[4]=w*I,e[5]=(h*g*a-m*p*a+m*r*d-t*g*d-h*r*b+t*p*b)*I,e[6]=(m*c*a-s*g*a-m*r*u+t*g*u+s*r*b-t*c*b)*I,e[7]=(s*p*a-h*c*a+h*r*u-t*p*u-s*r*d+t*c*d)*I,e[8]=E*I,e[9]=(m*f*a-h*y*a-m*n*d+t*y*d+h*n*b-t*f*b)*I,e[10]=(s*y*a-m*o*a+m*n*u-t*y*u-s*n*b+t*o*b)*I,e[11]=(h*o*a-s*f*a-h*n*u+t*f*u+s*n*d-t*o*d)*I,e[12]=M*I,e[13]=(h*y*r-m*f*r+m*n*p-t*y*p-h*n*g+t*f*g)*I,e[14]=(m*o*r-s*y*r-m*n*c+t*y*c+s*n*g-t*o*g)*I,e[15]=(s*f*r-h*o*r+h*n*c-t*f*c-s*n*p+t*o*p)*I,this}scale(e){let t=this.elements,n=e.x,r=e.y,a=e.z;return t[0]*=n,t[4]*=r,t[8]*=a,t[1]*=n,t[5]*=r,t[9]*=a,t[2]*=n,t[6]*=r,t[10]*=a,t[3]*=n,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let n=Math.cos(t),r=Math.sin(t),a=1-n,s=e.x,o=e.y,c=e.z,u=a*s,h=a*o;return this.set(u*s+n,u*o-r*c,u*c+r*o,0,u*o+r*c,h*o+n,h*c-r*s,0,u*c-r*o,h*c+r*s,a*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,a,s){return this.set(1,n,a,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){let r=this.elements,a=t._x,s=t._y,o=t._z,c=t._w,u=a+a,h=s+s,f=o+o,p=a*u,d=a*h,m=a*f,y=s*h,g=s*f,b=o*f,x=c*u,w=c*h,E=c*f,M=n.x,C=n.y,I=n.z;return r[0]=(1-(y+b))*M,r[1]=(d+E)*M,r[2]=(m-w)*M,r[3]=0,r[4]=(d-E)*C,r[5]=(1-(p+b))*C,r[6]=(g+x)*C,r[7]=0,r[8]=(m+w)*I,r[9]=(g-x)*I,r[10]=(1-(p+y))*I,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){let r=this.elements,a=hd.set(r[0],r[1],r[2]).length(),s=hd.set(r[4],r[5],r[6]).length(),o=hd.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],ws.copy(this);let u=1/a,h=1/s,f=1/o;return ws.elements[0]*=u,ws.elements[1]*=u,ws.elements[2]*=u,ws.elements[4]*=h,ws.elements[5]*=h,ws.elements[6]*=h,ws.elements[8]*=f,ws.elements[9]*=f,ws.elements[10]*=f,t.setFromRotationMatrix(ws),n.x=a,n.y=s,n.z=o,this}makePerspective(e,t,n,r,a,s,o=Qs){let c=this.elements,u=2*a/(t-e),h=2*a/(n-r),f=(t+e)/(t-e),p=(n+r)/(n-r),d,m;if(o===Qs)d=-(s+a)/(s-a),m=-2*s*a/(s-a);else if(o===S_)d=-s/(s-a),m=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=h,c[9]=p,c[13]=0,c[2]=0,c[6]=0,c[10]=d,c[14]=m,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,n,r,a,s,o=Qs){let c=this.elements,u=1/(t-e),h=1/(n-r),f=1/(s-a),p=(t+e)*u,d=(n+r)*h,m,y;if(o===Qs)m=(s+a)*f,y=-2*f;else if(o===S_)m=a*f,y=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-p,c[1]=0,c[5]=2*h,c[9]=0,c[13]=-d,c[2]=0,c[6]=0,c[10]=y,c[14]=-m,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){let t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}},hd=new Ne,ws=new ni,xle=new Ne(0,0,0),Sle=new Ne(1,1,1),uc=new Ne,Mb=new Ne,ma=new Ne,EB=new ni,MB=new Dn,T_=class i{static{l(this,"Euler")}constructor(e=0,t=0,n=0,r=i.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){let r=e.elements,a=r[0],s=r[4],o=r[8],c=r[1],u=r[5],h=r[9],f=r[2],p=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(gn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-gn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(gn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-gn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,d),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(gn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-gn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-h,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return EB.makeRotationFromQuaternion(e),this.setFromRotationMatrix(EB,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return MB.setFromEuler(this),this.setFromQuaternion(MB,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};T_.DEFAULT_ORDER="XYZ";Bd=class{static{l(this,"Layers")}constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},Ele=0,AB=new Ne,fd=new Dn,Ho=new ni,Ab=new Ne,Qm=new Ne,Mle=new Ne,Ale=new Dn,TB=new Ne(1,0,0),kB=new Ne(0,1,0),RB=new Ne(0,0,1),Tle={type:"added"},PB={type:"removed"},Ni=class i extends va{static{l(this,"Object3D")}constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Ele++}),this.uuid=ba(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=i.DEFAULT_UP.clone();let e=new Ne,t=new T_,n=new Dn,r=new Ne(1,1,1);function a(){n.setFromEuler(t,!1)}l(a,"onRotationChange");function s(){t.setFromQuaternion(n,void 0,!1)}l(s,"onQuaternionChange"),t._onChange(a),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ni},normalMatrix:{value:new fi}}),this.matrix=new ni,this.matrixWorld=new ni,this.matrixAutoUpdate=i.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Bd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return fd.setFromAxisAngle(e,t),this.quaternion.multiply(fd),this}rotateOnWorldAxis(e,t){return fd.setFromAxisAngle(e,t),this.quaternion.premultiply(fd),this}rotateX(e){return this.rotateOnAxis(TB,e)}rotateY(e){return this.rotateOnAxis(kB,e)}rotateZ(e){return this.rotateOnAxis(RB,e)}translateOnAxis(e,t){return AB.copy(e).applyQuaternion(this.quaternion),this.position.add(AB.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(TB,e)}translateY(e){return this.translateOnAxis(kB,e)}translateZ(e){return this.translateOnAxis(RB,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ho.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Ab.copy(e):Ab.set(e,t,n);let r=this.parent;this.updateWorldMatrix(!0,!1),Qm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ho.lookAt(Qm,Ab,this.up):Ho.lookAt(Ab,Qm,this.up),this.quaternion.setFromRotationMatrix(Ho),r&&(Ho.extractRotation(r.matrixWorld),fd.setFromRotationMatrix(Ho),this.quaternion.premultiply(fd.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Tle)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(PB)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(PB)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ho.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ho.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ho),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){let s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,a=this.children.length;r<a;r++){let s=this.children[r].getObjectsByProperty(e,t);s.length>0&&(n=n.concat(s))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qm,e,Mle),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qm,Ale,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let n=0,r=t.length;n<r;n++){let a=t[n];(a.matrixWorldAutoUpdate===!0||e===!0)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let r=this.children;for(let a=0,s=r.length;a<s;a++){let o=r[a];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});let r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function a(o,c){return o[c.uuid]===void 0&&(o[c.uuid]=c.toJSON(e)),c.uuid}if(l(a,"serialize"),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);let o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){let c=o.shapes;if(Array.isArray(c))for(let u=0,h=c.length;u<h;u++){let f=c[u];a(e.shapes,f)}else a(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let o=[];for(let c=0,u=this.material.length;c<u;c++)o.push(a(e.materials,this.material[c]));r.material=o}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){let c=this.animations[o];r.animations.push(a(e.animations,c))}}if(t){let o=s(e.geometries),c=s(e.materials),u=s(e.textures),h=s(e.images),f=s(e.shapes),p=s(e.skeletons),d=s(e.animations),m=s(e.nodes);o.length>0&&(n.geometries=o),c.length>0&&(n.materials=c),u.length>0&&(n.textures=u),h.length>0&&(n.images=h),f.length>0&&(n.shapes=f),p.length>0&&(n.skeletons=p),d.length>0&&(n.animations=d),m.length>0&&(n.nodes=m)}return n.object=r,n;function s(o){let c=[];for(let u in o){let h=o[u];delete h.metadata,c.push(h)}return c}l(s,"extractFromCache")}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){let r=e.children[n];this.add(r.clone())}return this}};Ni.DEFAULT_UP=new Ne(0,1,0);Ni.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ni.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;xs=new Ne,Go=new Ne,OA=new Ne,Wo=new Ne,dd=new Ne,pd=new Ne,IB=new Ne,BA=new Ne,FA=new Ne,UA=new Ne,Tb=!1,Zo=class i{static{l(this,"Triangle")}constructor(e=new Ne,t=new Ne,n=new Ne){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),xs.subVectors(e,t),r.cross(xs);let a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,n,r,a){xs.subVectors(r,t),Go.subVectors(n,t),OA.subVectors(e,t);let s=xs.dot(xs),o=xs.dot(Go),c=xs.dot(OA),u=Go.dot(Go),h=Go.dot(OA),f=s*u-o*o;if(f===0)return a.set(-2,-1,-1);let p=1/f,d=(u*c-o*h)*p,m=(s*h-o*c)*p;return a.set(1-d-m,m,d)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Wo),Wo.x>=0&&Wo.y>=0&&Wo.x+Wo.y<=1}static getUV(e,t,n,r,a,s,o,c){return Tb===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Tb=!0),this.getInterpolation(e,t,n,r,a,s,o,c)}static getInterpolation(e,t,n,r,a,s,o,c){return this.getBarycoord(e,t,n,r,Wo),c.setScalar(0),c.addScaledVector(a,Wo.x),c.addScaledVector(s,Wo.y),c.addScaledVector(o,Wo.z),c}static isFrontFacing(e,t,n,r){return xs.subVectors(n,t),Go.subVectors(e,t),xs.cross(Go).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return xs.subVectors(this.c,this.b),Go.subVectors(this.a,this.b),xs.cross(Go).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return i.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return i.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,a){return Tb===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Tb=!0),i.getInterpolation(e,this.a,this.b,this.c,t,n,r,a)}getInterpolation(e,t,n,r,a){return i.getInterpolation(e,this.a,this.b,this.c,t,n,r,a)}containsPoint(e){return i.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return i.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let n=this.a,r=this.b,a=this.c,s,o;dd.subVectors(r,n),pd.subVectors(a,n),BA.subVectors(e,n);let c=dd.dot(BA),u=pd.dot(BA);if(c<=0&&u<=0)return t.copy(n);FA.subVectors(e,r);let h=dd.dot(FA),f=pd.dot(FA);if(h>=0&&f<=h)return t.copy(r);let p=c*f-h*u;if(p<=0&&c>=0&&h<=0)return s=c/(c-h),t.copy(n).addScaledVector(dd,s);UA.subVectors(e,a);let d=dd.dot(UA),m=pd.dot(UA);if(m>=0&&d<=m)return t.copy(a);let y=d*u-c*m;if(y<=0&&u>=0&&m<=0)return o=u/(u-m),t.copy(n).addScaledVector(pd,o);let g=h*m-d*f;if(g<=0&&f-h>=0&&d-m>=0)return IB.subVectors(a,r),o=(f-h)/(f-h+(d-m)),t.copy(r).addScaledVector(IB,o);let b=1/(g+y+p);return s=y*b,o=p*b,t.copy(n).addScaledVector(dd,s).addScaledVector(pd,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},kle=0,tr=class extends va{static{l(this,"Material")}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:kle++}),this.uuid=ba(),this.name="",this.type="Material",this.blending=Qu,this.side=Qa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=WT,this.blendDst=jT,this.blendEquation=Xu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=my,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=FU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=py,this.stencilZFail=py,this.stencilZPass=py,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}let r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Qu&&(n.blending=this.blending),this.side!==Qa&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(n.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(a){let s=[];for(let o in a){let c=a[o];delete c.metadata,s.push(c)}return s}if(l(r,"extractFromCache"),t){let a=r(e.textures),s=r(e.images);a.length>0&&(n.textures=a),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,n=null;if(t!==null){let r=t.length;n=new Array(r);for(let a=0;a!==r;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},XU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ss={h:0,s:0,l:0},kb={h:0,s:0,l:0};l(zA,"hue2rgb");Ct=class{static{l(this,"Color")}constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){let r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ti){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Qr.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=Qr.workingColorSpace){return this.r=e,this.g=t,this.b=n,Qr.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=Qr.workingColorSpace){if(e=n4(e,1),t=gn(t,0,1),n=gn(n,0,1),t===0)this.r=this.g=this.b=n;else{let a=n<=.5?n*(1+t):n+t-n*t,s=2*n-a;this.r=zA(s,a,e+1/3),this.g=zA(s,a,e),this.b=zA(s,a,e-1/3)}return Qr.toWorkingColorSpace(this,r),this}setStyle(e,t=ti){function n(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}l(n,"handleAlpha");let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a,s=r[1],o=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){let a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ti){let n=XU[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Id(e.r),this.g=Id(e.g),this.b=Id(e.b),this}copyLinearToSRGB(e){return this.r=TA(e.r),this.g=TA(e.g),this.b=TA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ti){return Qr.fromWorkingColorSpace(gr.copy(this),e),Math.round(gn(gr.r*255,0,255))*65536+Math.round(gn(gr.g*255,0,255))*256+Math.round(gn(gr.b*255,0,255))}getHexString(e=ti){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Qr.workingColorSpace){Qr.fromWorkingColorSpace(gr.copy(this),t);let n=gr.r,r=gr.g,a=gr.b,s=Math.max(n,r,a),o=Math.min(n,r,a),c,u,h=(o+s)/2;if(o===s)c=0,u=0;else{let f=s-o;switch(u=h<=.5?f/(s+o):f/(2-s-o),s){case n:c=(r-a)/f+(r<a?6:0);break;case r:c=(a-n)/f+2;break;case a:c=(n-r)/f+4;break}c/=6}return e.h=c,e.s=u,e.l=h,e}getRGB(e,t=Qr.workingColorSpace){return Qr.fromWorkingColorSpace(gr.copy(this),t),e.r=gr.r,e.g=gr.g,e.b=gr.b,e}getStyle(e=ti){Qr.fromWorkingColorSpace(gr.copy(this),e);let t=gr.r,n=gr.g,r=gr.b;return e!==ti?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(Ss),Ss.h+=e,Ss.s+=t,Ss.l+=n,this.setHSL(Ss.h,Ss.s,Ss.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ss),e.getHSL(kb);let n=u_(Ss.h,kb.h,t),r=u_(Ss.s,kb.s,t),a=u_(Ss.l,kb.l,t);return this.setHSL(n,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){let t=this.r,n=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*n+a[6]*r,this.g=a[1]*t+a[4]*n+a[7]*r,this.b=a[2]*t+a[5]*n+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}},gr=new Ct;Ct.NAMES=XU;ts=class extends tr{static{l(this,"MeshBasicMaterial")}constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=r0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},$o=Rle();l(Rle,"_generateTables");l(Kr,"toHalfFloat");l(o_,"fromHalfFloat");Ple={toHalfFloat:Kr,fromHalfFloat:o_},On=new Ne,Rb=new ot,Ai=class{static{l(this,"BufferAttribute")}constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=x_,this.updateRange={offset:0,count:-1},this.gpuType=Ka,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Rb.fromBufferAttribute(this,t),Rb.applyMatrix3(e),this.setXY(t,Rb.x,Rb.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)On.fromBufferAttribute(this,t),On.applyMatrix3(e),this.setXYZ(t,On.x,On.y,On.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)On.fromBufferAttribute(this,t),On.applyMatrix4(e),this.setXYZ(t,On.x,On.y,On.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)On.fromBufferAttribute(this,t),On.applyNormalMatrix(e),this.setXYZ(t,On.x,On.y,On.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)On.fromBufferAttribute(this,t),On.transformDirection(e),this.setXYZ(t,On.x,On.y,On.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ga(t,this.array)),t}setX(e,t){return this.normalized&&(t=di(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ga(t,this.array)),t}setY(e,t){return this.normalized&&(t=di(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ga(t,this.array)),t}setZ(e,t){return this.normalized&&(t=di(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ga(t,this.array)),t}setW(e,t){return this.normalized&&(t=di(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=di(t,this.array),n=di(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=di(t,this.array),n=di(n,this.array),r=di(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,a){return e*=this.itemSize,this.normalized&&(t=di(t,this.array),n=di(n,this.array),r=di(r,this.array),a=di(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==x_&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}},U3=class extends Ai{static{l(this,"Int8BufferAttribute")}constructor(e,t,n){super(new Int8Array(e),t,n)}},z3=class extends Ai{static{l(this,"Uint8BufferAttribute")}constructor(e,t,n){super(new Uint8Array(e),t,n)}},D3=class extends Ai{static{l(this,"Uint8ClampedBufferAttribute")}constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}},V3=class extends Ai{static{l(this,"Int16BufferAttribute")}constructor(e,t,n){super(new Int16Array(e),t,n)}},k_=class extends Ai{static{l(this,"Uint16BufferAttribute")}constructor(e,t,n){super(new Uint16Array(e),t,n)}},q3=class extends Ai{static{l(this,"Int32BufferAttribute")}constructor(e,t,n){super(new Int32Array(e),t,n)}},R_=class extends Ai{static{l(this,"Uint32BufferAttribute")}constructor(e,t,n){super(new Uint32Array(e),t,n)}},H3=class extends Ai{static{l(this,"Float16BufferAttribute")}constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=o_(this.array[e*this.itemSize]);return this.normalized&&(t=ga(t,this.array)),t}setX(e,t){return this.normalized&&(t=di(t,this.array)),this.array[e*this.itemSize]=Kr(t),this}getY(e){let t=o_(this.array[e*this.itemSize+1]);return this.normalized&&(t=ga(t,this.array)),t}setY(e,t){return this.normalized&&(t=di(t,this.array)),this.array[e*this.itemSize+1]=Kr(t),this}getZ(e){let t=o_(this.array[e*this.itemSize+2]);return this.normalized&&(t=ga(t,this.array)),t}setZ(e,t){return this.normalized&&(t=di(t,this.array)),this.array[e*this.itemSize+2]=Kr(t),this}getW(e){let t=o_(this.array[e*this.itemSize+3]);return this.normalized&&(t=ga(t,this.array)),t}setW(e,t){return this.normalized&&(t=di(t,this.array)),this.array[e*this.itemSize+3]=Kr(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=di(t,this.array),n=di(n,this.array)),this.array[e+0]=Kr(t),this.array[e+1]=Kr(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=di(t,this.array),n=di(n,this.array),r=di(r,this.array)),this.array[e+0]=Kr(t),this.array[e+1]=Kr(n),this.array[e+2]=Kr(r),this}setXYZW(e,t,n,r,a){return e*=this.itemSize,this.normalized&&(t=di(t,this.array),n=di(n,this.array),r=di(r,this.array),a=di(a,this.array)),this.array[e+0]=Kr(t),this.array[e+1]=Kr(n),this.array[e+2]=Kr(r),this.array[e+3]=Kr(a),this}},Ot=class extends Ai{static{l(this,"Float32BufferAttribute")}constructor(e,t,n){super(new Float32Array(e),t,n)}},G3=class extends Ai{static{l(this,"Float64BufferAttribute")}constructor(e,t,n){super(new Float64Array(e),t,n)}},Ile=0,Za=new ni,DA=new Ni,md=new Ne,_a=new es,e_=new es,er=new Ne,ci=class i extends va{static{l(this,"BufferGeometry")}constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ile++}),this.uuid=ba(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new($U(e)?R_:k_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let n=this.attributes.normal;if(n!==void 0){let a=new fi().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}let r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Za.makeRotationFromQuaternion(e),this.applyMatrix4(Za),this}rotateX(e){return Za.makeRotationX(e),this.applyMatrix4(Za),this}rotateY(e){return Za.makeRotationY(e),this.applyMatrix4(Za),this}rotateZ(e){return Za.makeRotationZ(e),this.applyMatrix4(Za),this}translate(e,t,n){return Za.makeTranslation(e,t,n),this.applyMatrix4(Za),this}scale(e,t,n){return Za.makeScale(e,t,n),this.applyMatrix4(Za),this}lookAt(e){return DA.lookAt(e),DA.updateMatrix(),this.applyMatrix4(DA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(md).negate(),this.translate(md.x,md.y,md.z),this}setFromPoints(e){let t=[];for(let n=0,r=e.length;n<r;n++){let a=e[n];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new Ot(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new es);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ne(-1/0,-1/0,-1/0),new Ne(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){let a=t[n];_a.setFromBufferAttribute(a),this.morphTargetsRelative?(er.addVectors(this.boundingBox.min,_a.min),this.boundingBox.expandByPoint(er),er.addVectors(this.boundingBox.max,_a.max),this.boundingBox.expandByPoint(er)):(this.boundingBox.expandByPoint(_a.min),this.boundingBox.expandByPoint(_a.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new wa);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ne,1/0);return}if(e){let n=this.boundingSphere.center;if(_a.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){let o=t[a];e_.setFromBufferAttribute(o),this.morphTargetsRelative?(er.addVectors(_a.min,e_.min),_a.expandByPoint(er),er.addVectors(_a.max,e_.max),_a.expandByPoint(er)):(_a.expandByPoint(e_.min),_a.expandByPoint(e_.max))}_a.getCenter(n);let r=0;for(let a=0,s=e.count;a<s;a++)er.fromBufferAttribute(e,a),r=Math.max(r,n.distanceToSquared(er));if(t)for(let a=0,s=t.length;a<s;a++){let o=t[a],c=this.morphTargetsRelative;for(let u=0,h=o.count;u<h;u++)er.fromBufferAttribute(o,u),c&&(md.fromBufferAttribute(e,u),er.add(md)),r=Math.max(r,n.distanceToSquared(er))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let n=e.array,r=t.position.array,a=t.normal.array,s=t.uv.array,o=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ai(new Float32Array(4*o),4));let c=this.getAttribute("tangent").array,u=[],h=[];for(let T=0;T<o;T++)u[T]=new Ne,h[T]=new Ne;let f=new Ne,p=new Ne,d=new Ne,m=new ot,y=new ot,g=new ot,b=new Ne,x=new Ne;function w(T,j,R){f.fromArray(r,T*3),p.fromArray(r,j*3),d.fromArray(r,R*3),m.fromArray(s,T*2),y.fromArray(s,j*2),g.fromArray(s,R*2),p.sub(f),d.sub(f),y.sub(m),g.sub(m);let U=1/(y.x*g.y-g.x*y.y);isFinite(U)&&(b.copy(p).multiplyScalar(g.y).addScaledVector(d,-y.y).multiplyScalar(U),x.copy(d).multiplyScalar(y.x).addScaledVector(p,-g.x).multiplyScalar(U),u[T].add(b),u[j].add(b),u[R].add(b),h[T].add(x),h[j].add(x),h[R].add(x))}l(w,"handleTriangle");let E=this.groups;E.length===0&&(E=[{start:0,count:n.length}]);for(let T=0,j=E.length;T<j;++T){let R=E[T],U=R.start,q=R.count;for(let X=U,fe=U+q;X<fe;X+=3)w(n[X+0],n[X+1],n[X+2])}let M=new Ne,C=new Ne,I=new Ne,F=new Ne;function A(T){I.fromArray(a,T*3),F.copy(I);let j=u[T];M.copy(j),M.sub(I.multiplyScalar(I.dot(j))).normalize(),C.crossVectors(F,j);let U=C.dot(h[T])<0?-1:1;c[T*4]=M.x,c[T*4+1]=M.y,c[T*4+2]=M.z,c[T*4+3]=U}l(A,"handleVertex");for(let T=0,j=E.length;T<j;++T){let R=E[T],U=R.start,q=R.count;for(let X=U,fe=U+q;X<fe;X+=3)A(n[X+0]),A(n[X+1]),A(n[X+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Ai(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let p=0,d=n.count;p<d;p++)n.setXYZ(p,0,0,0);let r=new Ne,a=new Ne,s=new Ne,o=new Ne,c=new Ne,u=new Ne,h=new Ne,f=new Ne;if(e)for(let p=0,d=e.count;p<d;p+=3){let m=e.getX(p+0),y=e.getX(p+1),g=e.getX(p+2);r.fromBufferAttribute(t,m),a.fromBufferAttribute(t,y),s.fromBufferAttribute(t,g),h.subVectors(s,a),f.subVectors(r,a),h.cross(f),o.fromBufferAttribute(n,m),c.fromBufferAttribute(n,y),u.fromBufferAttribute(n,g),o.add(h),c.add(h),u.add(h),n.setXYZ(m,o.x,o.y,o.z),n.setXYZ(y,c.x,c.y,c.z),n.setXYZ(g,u.x,u.y,u.z)}else for(let p=0,d=t.count;p<d;p+=3)r.fromBufferAttribute(t,p+0),a.fromBufferAttribute(t,p+1),s.fromBufferAttribute(t,p+2),h.subVectors(s,a),f.subVectors(r,a),h.cross(f),n.setXYZ(p+0,h.x,h.y,h.z),n.setXYZ(p+1,h.x,h.y,h.z),n.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){let e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)er.fromBufferAttribute(e,t),er.normalize(),e.setXYZ(t,er.x,er.y,er.z)}toNonIndexed(){function e(o,c){let u=o.array,h=o.itemSize,f=o.normalized,p=new u.constructor(c.length*h),d=0,m=0;for(let y=0,g=c.length;y<g;y++){o.isInterleavedBufferAttribute?d=c[y]*o.data.stride+o.offset:d=c[y]*h;for(let b=0;b<h;b++)p[m++]=u[d++]}return new Ai(p,h,f)}if(l(e,"convertBufferAttribute"),this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new i,n=this.index.array,r=this.attributes;for(let o in r){let c=r[o],u=e(c,n);t.setAttribute(o,u)}let a=this.morphAttributes;for(let o in a){let c=[],u=a[o];for(let h=0,f=u.length;h<f;h++){let p=u[h],d=e(p,n);c.push(d)}t.morphAttributes[o]=c}t.morphTargetsRelative=this.morphTargetsRelative;let s=this.groups;for(let o=0,c=s.length;o<c;o++){let u=s[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){let e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let c=this.parameters;for(let u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let n=this.attributes;for(let c in n){let u=n[c];e.data.attributes[c]=u.toJSON(e.data)}let r={},a=!1;for(let c in this.morphAttributes){let u=this.morphAttributes[c],h=[];for(let f=0,p=u.length;f<p;f++){let d=u[f];h.push(d.toJSON(e.data))}h.length>0&&(r[c]=h,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);let s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));let o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let n=e.index;n!==null&&this.setIndex(n.clone(t));let r=e.attributes;for(let u in r){let h=r[u];this.setAttribute(u,h.clone(t))}let a=e.morphAttributes;for(let u in a){let h=[],f=a[u];for(let p=0,d=f.length;p<d;p++)h.push(f[p].clone(t));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;let s=e.groups;for(let u=0,h=s.length;u<h;u++){let f=s[u];this.addGroup(f.start,f.count,f.materialIndex)}let o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());let c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}},CB=new ni,Du=new vc,Pb=new wa,LB=new Ne,_d=new Ne,gd=new Ne,bd=new Ne,VA=new Ne,Ib=new Ne,Cb=new ot,Lb=new ot,Nb=new ot,NB=new Ne,OB=new Ne,BB=new Ne,Ob=new Ne,Bb=new Ne,ii=class extends Ni{static{l(this,"Mesh")}constructor(e=new ci,t=new ts){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){let r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){let o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){let n=this.geometry,r=n.attributes.position,a=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(r,e);let o=this.morphTargetInfluences;if(a&&o){Ib.set(0,0,0);for(let c=0,u=a.length;c<u;c++){let h=o[c],f=a[c];h!==0&&(VA.fromBufferAttribute(f,e),s?Ib.addScaledVector(VA,h):Ib.addScaledVector(VA.sub(t),h))}t.add(Ib)}return t}raycast(e,t){let n=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Pb.copy(n.boundingSphere),Pb.applyMatrix4(a),Du.copy(e.ray).recast(e.near),!(Pb.containsPoint(Du.origin)===!1&&(Du.intersectSphere(Pb,LB)===null||Du.origin.distanceToSquared(LB)>(e.far-e.near)**2))&&(CB.copy(a).invert(),Du.copy(e.ray).applyMatrix4(CB),!(n.boundingBox!==null&&Du.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Du)))}_computeIntersections(e,t,n){let r,a=this.geometry,s=this.material,o=a.index,c=a.attributes.position,u=a.attributes.uv,h=a.attributes.uv1,f=a.attributes.normal,p=a.groups,d=a.drawRange;if(o!==null)if(Array.isArray(s))for(let m=0,y=p.length;m<y;m++){let g=p[m],b=s[g.materialIndex],x=Math.max(g.start,d.start),w=Math.min(o.count,Math.min(g.start+g.count,d.start+d.count));for(let E=x,M=w;E<M;E+=3){let C=o.getX(E),I=o.getX(E+1),F=o.getX(E+2);r=Fb(this,b,e,n,u,h,f,C,I,F),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=g.materialIndex,t.push(r))}}else{let m=Math.max(0,d.start),y=Math.min(o.count,d.start+d.count);for(let g=m,b=y;g<b;g+=3){let x=o.getX(g),w=o.getX(g+1),E=o.getX(g+2);r=Fb(this,s,e,n,u,h,f,x,w,E),r&&(r.faceIndex=Math.floor(g/3),t.push(r))}}else if(c!==void 0)if(Array.isArray(s))for(let m=0,y=p.length;m<y;m++){let g=p[m],b=s[g.materialIndex],x=Math.max(g.start,d.start),w=Math.min(c.count,Math.min(g.start+g.count,d.start+d.count));for(let E=x,M=w;E<M;E+=3){let C=E,I=E+1,F=E+2;r=Fb(this,b,e,n,u,h,f,C,I,F),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=g.materialIndex,t.push(r))}}else{let m=Math.max(0,d.start),y=Math.min(c.count,d.start+d.count);for(let g=m,b=y;g<b;g+=3){let x=g,w=g+1,E=g+2;r=Fb(this,s,e,n,u,h,f,x,w,E),r&&(r.faceIndex=Math.floor(g/3),t.push(r))}}}};l(Cle,"checkIntersection");l(Fb,"checkGeometryIntersection");sn=class i extends ci{static{l(this,"BoxGeometry")}constructor(e=1,t=1,n=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:a,depthSegments:s};let o=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);let c=[],u=[],h=[],f=[],p=0,d=0;m("z","y","x",-1,-1,n,t,e,s,a,0),m("z","y","x",1,-1,n,t,-e,s,a,1),m("x","z","y",1,1,e,n,t,r,s,2),m("x","z","y",1,-1,e,n,-t,r,s,3),m("x","y","z",1,-1,e,t,n,r,a,4),m("x","y","z",-1,-1,e,t,-n,r,a,5),this.setIndex(c),this.setAttribute("position",new Ot(u,3)),this.setAttribute("normal",new Ot(h,3)),this.setAttribute("uv",new Ot(f,2));function m(y,g,b,x,w,E,M,C,I,F,A){let T=E/I,j=M/F,R=E/2,U=M/2,q=C/2,X=I+1,fe=F+1,H=0,Y=0,$=new Ne;for(let Z=0;Z<fe;Z++){let ie=Z*j-U;for(let ue=0;ue<X;ue++){let Me=ue*T-R;$[y]=Me*x,$[g]=ie*w,$[b]=q,u.push($.x,$.y,$.z),$[y]=0,$[g]=0,$[b]=C>0?1:-1,h.push($.x,$.y,$.z),f.push(ue/I),f.push(1-Z/F),H+=1}}for(let Z=0;Z<F;Z++)for(let ie=0;ie<I;ie++){let ue=p+ie+X*Z,Me=p+ie+X*(Z+1),Fe=p+(ie+1)+X*(Z+1),De=p+(ie+1)+X*Z;c.push(ue,Me,De),c.push(Me,Fe,De),Y+=6}o.addGroup(d,Y,A),d+=Y,p+=H}l(m,"buildPlane")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};l(Fd,"cloneUniforms");l(Nr,"mergeUniforms");l(Lle,"cloneUniformsGroups");l(YU,"getUnlitUniformColorSpace");xv={clone:Fd,merge:Nr},Nle=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Ole=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,Fr=class extends tr{static{l(this,"ShaderMaterial")}constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Nle,this.fragmentShader=Ole,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Fd(e.uniforms),this.uniformsGroups=Lle(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let r in this.uniforms){let s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;let n={};for(let r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}},Ud=class extends Ni{static{l(this,"Camera")}constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ni,this.projectionMatrix=new ni,this.projectionMatrixInverse=new ni,this.coordinateSystem=Qs}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},Tn=class extends Ud{static{l(this,"PerspectiveCamera")}constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=Nd*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(eh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Nd*2*Math.atan(Math.tan(eh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(eh*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,a=-.5*r,s=this.view;if(this.view!==null&&this.view.enabled){let c=s.fullWidth,u=s.fullHeight;a+=s.offsetX*r/c,t-=s.offsetY*n/u,r*=s.width/c,n*=s.height/u}let o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},yd=-90,vd=1,yy=class extends Ni{static{l(this,"CubeCamera")}constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null;let r=new Tn(yd,vd,e,t);r.layers=this.layers,this.add(r);let a=new Tn(yd,vd,e,t);a.layers=this.layers,this.add(a);let s=new Tn(yd,vd,e,t);s.layers=this.layers,this.add(s);let o=new Tn(yd,vd,e,t);o.layers=this.layers,this.add(o);let c=new Tn(yd,vd,e,t);c.layers=this.layers,this.add(c);let u=new Tn(yd,vd,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){let e=this.coordinateSystem,t=this.children.concat(),[n,r,a,s,o,c]=t;for(let u of t)this.remove(u);if(e===Qs)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===S_)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(let u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();let n=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());let[r,a,s,o,c,u]=this.children,h=e.getRenderTarget(),f=e.toneMapping,p=e.xr.enabled;e.toneMapping=eo,e.xr.enabled=!1;let d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,s),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,c),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,u),e.setRenderTarget(h),e.toneMapping=f,e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}},ih=class extends kn{static{l(this,"CubeTexture")}constructor(e,t,n,r,a,s,o,c,u,h){e=e!==void 0?e:[],t=t!==void 0?t:gc,super(e,t,n,r,a,s,o,c,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},vy=class extends cr{static{l(this,"WebGLCubeRenderTarget")}constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];t.encoding!==void 0&&(h_("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===pc?ti:mc),this.texture=new ih(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:rn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new sn(5,5,5),a=new Fr({name:"CubemapFromEquirect",uniforms:Fd(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Br,blending:Ms});a.uniforms.tEquirect.value=t;let s=new ii(r,a),o=t.minFilter;return t.minFilter===yc&&(t.minFilter=rn),new yy(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,n,r){let a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,n,r);e.setRenderTarget(a)}},qA=new Ne,Ble=new Ne,Fle=new fi,Ks=class{static{l(this,"Plane")}constructor(e=new Ne(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){let r=qA.subVectors(n,t).cross(Ble.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){let n=e.delta(qA),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(n,a)}intersectsLine(e){let t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let n=t||Fle.getNormalMatrix(e),r=this.coplanarPoint(qA).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}},Vu=new wa,Ub=new Ne,zd=class{static{l(this,"Frustum")}constructor(e=new Ks,t=new Ks,n=new Ks,r=new Ks,a=new Ks,s=new Ks){this.planes=[e,t,n,r,a,s]}set(e,t,n,r,a,s){let o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(a),o[5].copy(s),this}copy(e){let t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Qs){let n=this.planes,r=e.elements,a=r[0],s=r[1],o=r[2],c=r[3],u=r[4],h=r[5],f=r[6],p=r[7],d=r[8],m=r[9],y=r[10],g=r[11],b=r[12],x=r[13],w=r[14],E=r[15];if(n[0].setComponents(c-a,p-u,g-d,E-b).normalize(),n[1].setComponents(c+a,p+u,g+d,E+b).normalize(),n[2].setComponents(c+s,p+h,g+m,E+x).normalize(),n[3].setComponents(c-s,p-h,g-m,E-x).normalize(),n[4].setComponents(c-o,p-f,g-y,E-w).normalize(),t===Qs)n[5].setComponents(c+o,p+f,g+y,E+w).normalize();else if(t===S_)n[5].setComponents(o,f,y,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Vu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{let t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Vu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Vu)}intersectsSprite(e){return Vu.center.set(0,0,0),Vu.radius=.7071067811865476,Vu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Vu)}intersectsSphere(e){let t=this.planes,n=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){let t=this.planes;for(let n=0;n<6;n++){let r=t[n];if(Ub.x=r.normal.x>0?e.max.x:e.min.x,Ub.y=r.normal.y>0?e.max.y:e.min.y,Ub.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Ub)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};l(ZU,"WebGLAnimation");l(Ule,"WebGLAttributes");Qo=class i extends ci{static{l(this,"PlaneGeometry")}constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};let a=e/2,s=t/2,o=Math.floor(n),c=Math.floor(r),u=o+1,h=c+1,f=e/o,p=t/c,d=[],m=[],y=[],g=[];for(let b=0;b<h;b++){let x=b*p-s;for(let w=0;w<u;w++){let E=w*f-a;m.push(E,-x,0),y.push(0,0,1),g.push(w/o),g.push(1-b/c)}}for(let b=0;b<c;b++)for(let x=0;x<o;x++){let w=x+u*b,E=x+u*(b+1),M=x+1+u*(b+1),C=x+1+u*b;d.push(w,E,C),d.push(E,M,C)}this.setIndex(d),this.setAttribute("position",new Ot(m,3)),this.setAttribute("normal",new Ot(y,3)),this.setAttribute("uv",new Ot(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.width,e.height,e.widthSegments,e.heightSegments)}},zle=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Dle=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Vle=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,qle=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Hle=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Gle=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Wle=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,jle=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,$le=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Xle=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Yle=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Zle=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Jle=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Kle=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Qle=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ece=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,tce=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ice=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,nce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,rce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,ace=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,sce=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,oce=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,lce=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,cce=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,uce=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,hce=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,fce=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,dce="gl_FragColor = linearToOutputTexel( gl_FragColor );",pce=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,mce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,_ce=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,gce=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,bce=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,yce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,vce=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,wce=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,xce=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Sce=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Ece=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Mce=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Ace=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Tce=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,kce=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Rce=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Pce=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Ice=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Cce=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Lce=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Nce=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Oce=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,Bce=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Fce=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Uce=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,zce=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Dce=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Vce=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,qce=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Hce=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Gce=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,Wce=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,jce=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,$ce=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Xce=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Yce=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Zce=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Jce=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Kce=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Qce=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,eue=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,tue=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,iue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,nue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rue=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,aue=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,sue=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,oue=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,lue=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,cue=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,uue=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,hue=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,fue=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,due=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,pue=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,mue=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,_ue=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,gue=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,bue=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,yue=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,vue=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,wue=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,xue=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Sue=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Eue=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Mue=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Aue=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Tue=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,kue=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Rue=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Pue=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Iue=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Cue=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Lue=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Nue=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Oue=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,Bue=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Fue=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Uue=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,zue=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Due=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Vue=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,que=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Hue=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Gue=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Wue=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,jue=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,$ue=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Xue=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Yue=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Zue=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Jue=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kue=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Que=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ehe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,the=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ihe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,nhe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,rhe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ahe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,she=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,ohe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lhe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,che=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uhe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,hhe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,fhe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dhe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,phe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,mhe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,li={alphahash_fragment:zle,alphahash_pars_fragment:Dle,alphamap_fragment:Vle,alphamap_pars_fragment:qle,alphatest_fragment:Hle,alphatest_pars_fragment:Gle,aomap_fragment:Wle,aomap_pars_fragment:jle,begin_vertex:$le,beginnormal_vertex:Xle,bsdfs:Yle,iridescence_fragment:Zle,bumpmap_pars_fragment:Jle,clipping_planes_fragment:Kle,clipping_planes_pars_fragment:Qle,clipping_planes_pars_vertex:ece,clipping_planes_vertex:tce,color_fragment:ice,color_pars_fragment:nce,color_pars_vertex:rce,color_vertex:ace,common:sce,cube_uv_reflection_fragment:oce,defaultnormal_vertex:lce,displacementmap_pars_vertex:cce,displacementmap_vertex:uce,emissivemap_fragment:hce,emissivemap_pars_fragment:fce,colorspace_fragment:dce,colorspace_pars_fragment:pce,envmap_fragment:mce,envmap_common_pars_fragment:_ce,envmap_pars_fragment:gce,envmap_pars_vertex:bce,envmap_physical_pars_fragment:Pce,envmap_vertex:yce,fog_vertex:vce,fog_pars_vertex:wce,fog_fragment:xce,fog_pars_fragment:Sce,gradientmap_pars_fragment:Ece,lightmap_fragment:Mce,lightmap_pars_fragment:Ace,lights_lambert_fragment:Tce,lights_lambert_pars_fragment:kce,lights_pars_begin:Rce,lights_toon_fragment:Ice,lights_toon_pars_fragment:Cce,lights_phong_fragment:Lce,lights_phong_pars_fragment:Nce,lights_physical_fragment:Oce,lights_physical_pars_fragment:Bce,lights_fragment_begin:Fce,lights_fragment_maps:Uce,lights_fragment_end:zce,logdepthbuf_fragment:Dce,logdepthbuf_pars_fragment:Vce,logdepthbuf_pars_vertex:qce,logdepthbuf_vertex:Hce,map_fragment:Gce,map_pars_fragment:Wce,map_particle_fragment:jce,map_particle_pars_fragment:$ce,metalnessmap_fragment:Xce,metalnessmap_pars_fragment:Yce,morphcolor_vertex:Zce,morphnormal_vertex:Jce,morphtarget_pars_vertex:Kce,morphtarget_vertex:Qce,normal_fragment_begin:eue,normal_fragment_maps:tue,normal_pars_fragment:iue,normal_pars_vertex:nue,normal_vertex:rue,normalmap_pars_fragment:aue,clearcoat_normal_fragment_begin:sue,clearcoat_normal_fragment_maps:oue,clearcoat_pars_fragment:lue,iridescence_pars_fragment:cue,opaque_fragment:uue,packing:hue,premultiplied_alpha_fragment:fue,project_vertex:due,dithering_fragment:pue,dithering_pars_fragment:mue,roughnessmap_fragment:_ue,roughnessmap_pars_fragment:gue,shadowmap_pars_fragment:bue,shadowmap_pars_vertex:yue,shadowmap_vertex:vue,shadowmask_pars_fragment:wue,skinbase_vertex:xue,skinning_pars_vertex:Sue,skinning_vertex:Eue,skinnormal_vertex:Mue,specularmap_fragment:Aue,specularmap_pars_fragment:Tue,tonemapping_fragment:kue,tonemapping_pars_fragment:Rue,transmission_fragment:Pue,transmission_pars_fragment:Iue,uv_pars_fragment:Cue,uv_pars_vertex:Lue,uv_vertex:Nue,worldpos_vertex:Oue,background_vert:Bue,background_frag:Fue,backgroundCube_vert:Uue,backgroundCube_frag:zue,cube_vert:Due,cube_frag:Vue,depth_vert:que,depth_frag:Hue,distanceRGBA_vert:Gue,distanceRGBA_frag:Wue,equirect_vert:jue,equirect_frag:$ue,linedashed_vert:Xue,linedashed_frag:Yue,meshbasic_vert:Zue,meshbasic_frag:Jue,meshlambert_vert:Kue,meshlambert_frag:Que,meshmatcap_vert:ehe,meshmatcap_frag:the,meshnormal_vert:ihe,meshnormal_frag:nhe,meshphong_vert:rhe,meshphong_frag:ahe,meshphysical_vert:she,meshphysical_frag:ohe,meshtoon_vert:lhe,meshtoon_frag:che,points_vert:uhe,points_frag:hhe,shadow_vert:fhe,shadow_frag:dhe,sprite_vert:phe,sprite_frag:mhe},kt={common:{diffuse:{value:new Ct(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fi},alphaMap:{value:null},alphaMapTransform:{value:new fi},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fi}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fi}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fi}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fi},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fi},normalScale:{value:new ot(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fi},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fi}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fi}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fi}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ct(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ct(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fi},alphaTest:{value:0},uvTransform:{value:new fi}},sprite:{diffuse:{value:new Ct(16777215)},opacity:{value:1},center:{value:new ot(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fi},alphaMap:{value:null},alphaMapTransform:{value:new fi},alphaTest:{value:0}}},Es={basic:{uniforms:Nr([kt.common,kt.specularmap,kt.envmap,kt.aomap,kt.lightmap,kt.fog]),vertexShader:li.meshbasic_vert,fragmentShader:li.meshbasic_frag},lambert:{uniforms:Nr([kt.common,kt.specularmap,kt.envmap,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.fog,kt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:li.meshlambert_vert,fragmentShader:li.meshlambert_frag},phong:{uniforms:Nr([kt.common,kt.specularmap,kt.envmap,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.fog,kt.lights,{emissive:{value:new Ct(0)},specular:{value:new Ct(1118481)},shininess:{value:30}}]),vertexShader:li.meshphong_vert,fragmentShader:li.meshphong_frag},standard:{uniforms:Nr([kt.common,kt.envmap,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.roughnessmap,kt.metalnessmap,kt.fog,kt.lights,{emissive:{value:new Ct(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:li.meshphysical_vert,fragmentShader:li.meshphysical_frag},toon:{uniforms:Nr([kt.common,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.gradientmap,kt.fog,kt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:li.meshtoon_vert,fragmentShader:li.meshtoon_frag},matcap:{uniforms:Nr([kt.common,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.fog,{matcap:{value:null}}]),vertexShader:li.meshmatcap_vert,fragmentShader:li.meshmatcap_frag},points:{uniforms:Nr([kt.points,kt.fog]),vertexShader:li.points_vert,fragmentShader:li.points_frag},dashed:{uniforms:Nr([kt.common,kt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:li.linedashed_vert,fragmentShader:li.linedashed_frag},depth:{uniforms:Nr([kt.common,kt.displacementmap]),vertexShader:li.depth_vert,fragmentShader:li.depth_frag},normal:{uniforms:Nr([kt.common,kt.bumpmap,kt.normalmap,kt.displacementmap,{opacity:{value:1}}]),vertexShader:li.meshnormal_vert,fragmentShader:li.meshnormal_frag},sprite:{uniforms:Nr([kt.sprite,kt.fog]),vertexShader:li.sprite_vert,fragmentShader:li.sprite_frag},background:{uniforms:{uvTransform:{value:new fi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:li.background_vert,fragmentShader:li.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:li.backgroundCube_vert,fragmentShader:li.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:li.cube_vert,fragmentShader:li.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:li.equirect_vert,fragmentShader:li.equirect_frag},distanceRGBA:{uniforms:Nr([kt.common,kt.displacementmap,{referencePosition:{value:new Ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:li.distanceRGBA_vert,fragmentShader:li.distanceRGBA_frag},shadow:{uniforms:Nr([kt.lights,kt.fog,{color:{value:new Ct(0)},opacity:{value:1}}]),vertexShader:li.shadow_vert,fragmentShader:li.shadow_frag}};Es.physical={uniforms:Nr([Es.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fi},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fi},clearcoatNormalScale:{value:new ot(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fi},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fi},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fi},sheen:{value:0},sheenColor:{value:new Ct(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fi},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fi},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fi},transmissionSamplerSize:{value:new ot},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fi},attenuationDistance:{value:0},attenuationColor:{value:new Ct(0)},specularColor:{value:new Ct(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fi},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fi},anisotropyVector:{value:new ot},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fi}}]),vertexShader:li.meshphysical_vert,fragmentShader:li.meshphysical_frag};zb={r:0,b:0,g:0};l(_he,"WebGLBackground");l(ghe,"WebGLBindingStates");l(bhe,"WebGLBufferRenderer");l(yhe,"WebGLCapabilities");l(vhe,"WebGLClipping");l(whe,"WebGLCubeMaps");io=class extends Ud{static{l(this,"OrthographicCamera")}constructor(e=-1,t=1,n=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,a=n-e,s=n+e,o=r+t,c=r-t;if(this.view!==null&&this.view.enabled){let u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,s=a+u*this.view.width,o-=h*this.view.offsetY,c=o-h*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}},Rd=4,FB=[.125,.215,.35,.446,.526,.582],Yu=20,HA=new io,UB=new Ct,GA=null,$u=(1+Math.sqrt(5))/2,wd=1/$u,zB=[new Ne(1,1,1),new Ne(-1,1,1),new Ne(1,1,-1),new Ne(-1,1,-1),new Ne(0,$u,wd),new Ne(0,$u,-wd),new Ne(wd,0,$u),new Ne(-wd,0,$u),new Ne($u,wd,0),new Ne(-$u,wd,0)],P_=class{static{l(this,"PMREMGenerator")}constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){GA=this._renderer.getRenderTarget(),this._setSize(256);let a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,n,r,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=qB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=VB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(GA),e.scissorTest=!1,Db(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===gc||e.mapping===bc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),GA=this._renderer.getRenderTarget();let n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:rn,minFilter:rn,generateMipmaps:!1,type:Ld,format:Or,colorSpace:ya,depthBuffer:!1},r=DB(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=DB(e,t,n);let{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=xhe(a)),this._blurMaterial=She(a,e,t)}return r}_compileMaterial(e){let t=new ii(this._lodPlanes[0],e);this._renderer.compile(t,HA)}_sceneToCubeUV(e,t,n,r){let o=new Tn(90,1,t,n),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,f=h.autoClear,p=h.toneMapping;h.getClearColor(UB),h.toneMapping=eo,h.autoClear=!1;let d=new ts({name:"PMREM.Background",side:Br,depthWrite:!1,depthTest:!1}),m=new ii(new sn,d),y=!1,g=e.background;g?g.isColor&&(d.color.copy(g),e.background=null,y=!0):(d.color.copy(UB),y=!0);for(let b=0;b<6;b++){let x=b%3;x===0?(o.up.set(0,c[b],0),o.lookAt(u[b],0,0)):x===1?(o.up.set(0,0,c[b]),o.lookAt(0,u[b],0)):(o.up.set(0,c[b],0),o.lookAt(0,0,u[b]));let w=this._cubeSize;Db(r,x*w,b>2?w:0,w,w),h.setRenderTarget(r),y&&h.render(m,o),h.render(e,o)}m.geometry.dispose(),m.material.dispose(),h.toneMapping=p,h.autoClear=f,e.background=g}_textureToCubeUV(e,t){let n=this._renderer,r=e.mapping===gc||e.mapping===bc;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=qB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=VB());let a=r?this._cubemapMaterial:this._equirectMaterial,s=new ii(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;let c=this._cubeSize;Db(t,0,0,3*c,2*c),n.setRenderTarget(t),n.render(s,HA)}_applyPMREM(e){let t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){let a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),s=zB[(r-1)%zB.length];this._blur(e,r-1,r,a,s)}t.autoClear=n}_blur(e,t,n,r,a){let s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,r,"latitudinal",a),this._halfBlur(s,e,n,n,r,"longitudinal",a)}_halfBlur(e,t,n,r,a,s,o){let c=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let h=3,f=new ii(this._lodPlanes[r],u),p=u.uniforms,d=this._sizeLods[n]-1,m=isFinite(a)?Math.PI/(2*d):2*Math.PI/(2*Yu-1),y=a/m,g=isFinite(a)?1+Math.floor(h*y):Yu;g>Yu&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${Yu}`);let b=[],x=0;for(let I=0;I<Yu;++I){let F=I/y,A=Math.exp(-F*F/2);b.push(A),I===0?x+=A:I<g&&(x+=2*A)}for(let I=0;I<b.length;I++)b[I]=b[I]/x;p.envMap.value=e.texture,p.samples.value=g,p.weights.value=b,p.latitudinal.value=s==="latitudinal",o&&(p.poleAxis.value=o);let{_lodMax:w}=this;p.dTheta.value=m,p.mipInt.value=w-n;let E=this._sizeLods[r],M=3*E*(r>w-Rd?r-w+Rd:0),C=4*(this._cubeSize-E);Db(t,M,C,3*E,2*E),c.setRenderTarget(t),c.render(f,HA)}};l(xhe,"_createPlanes");l(DB,"_createRenderTarget");l(Db,"_setViewport");l(She,"_getBlurShader");l(VB,"_getEquirectMaterial");l(qB,"_getCubemapMaterial");l(r4,"_getCommonVertexShader");l(Ehe,"WebGLCubeUVMaps");l(Mhe,"WebGLExtensions");l(Ahe,"WebGLGeometries");l(The,"WebGLIndexedBufferRenderer");l(khe,"WebGLInfo");l(Rhe,"numericalSort");l(Phe,"absNumericalSort");l(Ihe,"WebGLMorphtargets");l(Che,"WebGLObjects");JU=new kn,KU=new Od,QU=new A_,ez=new ih,HB=[],GB=[],WB=new Float32Array(16),jB=new Float32Array(9),$B=new Float32Array(4);l(tp,"flatten");l(Vn,"arraysEqual");l(qn,"copyArray");l(Sv,"allocTexUnits");l(Lhe,"setValueV1f");l(Nhe,"setValueV2f");l(Ohe,"setValueV3f");l(Bhe,"setValueV4f");l(Fhe,"setValueM2");l(Uhe,"setValueM3");l(zhe,"setValueM4");l(Dhe,"setValueV1i");l(Vhe,"setValueV2i");l(qhe,"setValueV3i");l(Hhe,"setValueV4i");l(Ghe,"setValueV1ui");l(Whe,"setValueV2ui");l(jhe,"setValueV3ui");l($he,"setValueV4ui");l(Xhe,"setValueT1");l(Yhe,"setValueT3D1");l(Zhe,"setValueT6");l(Jhe,"setValueT2DArray1");l(Khe,"getSingularSetter");l(Qhe,"setValueV1fArray");l(efe,"setValueV2fArray");l(tfe,"setValueV3fArray");l(ife,"setValueV4fArray");l(nfe,"setValueM2Array");l(rfe,"setValueM3Array");l(afe,"setValueM4Array");l(sfe,"setValueV1iArray");l(ofe,"setValueV2iArray");l(lfe,"setValueV3iArray");l(cfe,"setValueV4iArray");l(ufe,"setValueV1uiArray");l(hfe,"setValueV2uiArray");l(ffe,"setValueV3uiArray");l(dfe,"setValueV4uiArray");l(pfe,"setValueT1Array");l(mfe,"setValueT3DArray");l(_fe,"setValueT6Array");l(gfe,"setValueT2DArrayArray");l(bfe,"getPureArraySetter");W3=class{static{l(this,"SingleUniform")}constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=Khe(t.type)}},j3=class{static{l(this,"PureArrayUniform")}constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=bfe(t.type)}},$3=class{static{l(this,"StructuredUniform")}constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){let r=this.seq;for(let a=0,s=r.length;a!==s;++a){let o=r[a];o.setValue(e,t[o.id],n)}}},WA=/(\w+)(\])?(\[|\.)?/g;l(XB,"addUniform");l(yfe,"parseUniform");Cd=class{static{l(this,"WebGLUniforms")}constructor(e,t){this.seq=[],this.map={};let n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){let a=e.getActiveUniform(t,r),s=e.getUniformLocation(t,a.name);yfe(a,s,this)}}setValue(e,t,n,r){let a=this.map[t];a!==void 0&&a.setValue(e,n,r)}setOptional(e,t,n){let r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let a=0,s=t.length;a!==s;++a){let o=t[a],c=n[o.id];c.needsUpdate!==!1&&o.setValue(e,c.value,r)}}static seqWithValue(e,t){let n=[];for(let r=0,a=e.length;r!==a;++r){let s=e[r];s.id in t&&n.push(s)}return n}};l(YB,"WebGLShader");vfe=0;l(wfe,"handleSource");l(xfe,"getEncodingComponents");l(ZB,"getShaderErrors");l(Sfe,"getTexelEncodingFunction");l(Efe,"getToneMappingFunction");l(Mfe,"generateExtensions");l(Afe,"generateDefines");l(Tfe,"fetchAttributeLocations");l(l_,"filterEmptyLine");l(JB,"replaceLightNums");l(KB,"replaceClippingPlaneNums");kfe=/^[ \t]*#include +<([\w\d./]+)>/gm;l(X3,"resolveIncludes");Rfe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);l(Pfe,"includeReplacer");Ife=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;l(QB,"unrollLoops");l(Cfe,"loopReplacer");l(eF,"generatePrecision");l(Lfe,"generateShadowMapTypeDefine");l(Nfe,"generateEnvMapTypeDefine");l(Ofe,"generateEnvMapModeDefine");l(Bfe,"generateEnvMapBlendingDefine");l(Ffe,"generateCubeUVSize");l(Ufe,"WebGLProgram");zfe=0,Y3=class{static{l(this,"WebGLShaderCache")}constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){let t=this.shaderCache,n=t.get(e);return n===void 0&&(n=new Z3(e),t.set(e,n)),n}},Z3=class{static{l(this,"WebGLShaderStage")}constructor(e){this.id=zfe++,this.code=e,this.usedTimes=0}};l(Dfe,"WebGLPrograms");l(Vfe,"WebGLProperties");l(qfe,"painterSortStable");l(tF,"reversePainterSortStable");l(iF,"WebGLRenderList");l(Hfe,"WebGLRenderLists");l(Gfe,"UniformsCache");l(Wfe,"ShadowUniformsCache");jfe=0;l($fe,"shadowCastingAndTexturingLightsFirst");l(Xfe,"WebGLLights");l(nF,"WebGLRenderState");l(Yfe,"WebGLRenderStates");I_=class extends tr{static{l(this,"MeshDepthMaterial")}constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=NU,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},C_=class extends tr{static{l(this,"MeshDistanceMaterial")}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},Zfe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Jfe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;l(Kfe,"WebGLShadowMap");l(Qfe,"WebGLState");l(ede,"WebGLTextures");l(tz,"WebGLUtils");wy=class extends Tn{static{l(this,"ArrayCamera")}constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},an=class extends Ni{static{l(this,"Group")}constructor(){super(),this.isGroup=!0,this.type="Group"}},tde={type:"move"},f_=class{static{l(this,"WebXRController")}constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new an,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new an,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ne),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new an,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ne),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,a=null,s=null,o=this._targetRay,c=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(let y of e.hand.values()){let g=t.getJointPose(y,n),b=this._getHandJoint(u,y);g!==null&&(b.matrix.fromArray(g.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=g.radius),b.visible=g!==null}let h=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],p=h.position.distanceTo(f.position),d=.02,m=.005;u.inputState.pinching&&p>d+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=d-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&a!==null&&(r=a),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(tde)))}return o!==null&&(o.visible=r!==null),c!==null&&(c.visible=a!==null),u!==null&&(u.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){let n=new an;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}},Dd=class extends kn{static{l(this,"DepthTexture")}constructor(e,t,n,r,a,s,o,c,u,h){if(h=h!==void 0?h:dc,h!==dc&&h!==th)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&h===dc&&(n=Xo),n===void 0&&h===th&&(n=fc),super(null,r,a,s,o,c,h,n,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:Di,this.minFilter=c!==void 0?c:Di,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){let t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}},J3=class extends va{static{l(this,"WebXRManager")}constructor(e,t){super();let n=this,r=null,a=1,s=null,o="local-floor",c=1,u=null,h=null,f=null,p=null,d=null,m=null,y=t.getContextAttributes(),g=null,b=null,x=[],w=[],E=new Tn;E.layers.enable(1),E.viewport=new Vi;let M=new Tn;M.layers.enable(2),M.viewport=new Vi;let C=[E,M],I=new wy;I.layers.enable(1),I.layers.enable(2);let F=null,A=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ie){let ue=x[ie];return ue===void 0&&(ue=new f_,x[ie]=ue),ue.getTargetRaySpace()},this.getControllerGrip=function(ie){let ue=x[ie];return ue===void 0&&(ue=new f_,x[ie]=ue),ue.getGripSpace()},this.getHand=function(ie){let ue=x[ie];return ue===void 0&&(ue=new f_,x[ie]=ue),ue.getHandSpace()};function T(ie){let ue=w.indexOf(ie.inputSource);if(ue===-1)return;let Me=x[ue];Me!==void 0&&(Me.update(ie.inputSource,ie.frame,u||s),Me.dispatchEvent({type:ie.type,data:ie.inputSource}))}l(T,"onSessionEvent");function j(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",j),r.removeEventListener("inputsourceschange",R);for(let ie=0;ie<x.length;ie++){let ue=w[ie];ue!==null&&(w[ie]=null,x[ie].disconnect(ue))}F=null,A=null,e.setRenderTarget(g),d=null,p=null,f=null,r=null,b=null,Z.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}l(j,"onSessionEnd"),this.setFramebufferScaleFactor=function(ie){a=ie,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ie){o=ie,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(ie){u=ie},this.getBaseLayer=function(){return p!==null?p:d},this.getBinding=function(){return f},this.getFrame=function(){return m},this.getSession=function(){return r},this.setSession=async function(ie){if(r=ie,r!==null){if(g=e.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",j),r.addEventListener("inputsourceschange",R),y.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let ue={antialias:r.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:a};d=new XRWebGLLayer(r,t,ue),r.updateRenderState({baseLayer:d}),b=new cr(d.framebufferWidth,d.framebufferHeight,{format:Or,type:Jo,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ue=null,Me=null,Fe=null;y.depth&&(Fe=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ue=y.stencil?th:dc,Me=y.stencil?fc:Xo);let De={colorFormat:t.RGBA8,depthFormat:Fe,scaleFactor:a};f=new XRWebGLBinding(r,t),p=f.createProjectionLayer(De),r.updateRenderState({layers:[p]}),b=new cr(p.textureWidth,p.textureHeight,{format:Or,type:Jo,depthTexture:new Dd(p.textureWidth,p.textureHeight,Me,void 0,void 0,void 0,void 0,void 0,void 0,ue),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});let Ge=e.properties.get(b);Ge.__ignoreDepthValues=p.ignoreDepthValues}b.isXRRenderTarget=!0,this.setFoveation(c),u=null,s=await r.requestReferenceSpace(o),Z.setContext(r),Z.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function R(ie){for(let ue=0;ue<ie.removed.length;ue++){let Me=ie.removed[ue],Fe=w.indexOf(Me);Fe>=0&&(w[Fe]=null,x[Fe].disconnect(Me))}for(let ue=0;ue<ie.added.length;ue++){let Me=ie.added[ue],Fe=w.indexOf(Me);if(Fe===-1){for(let Ge=0;Ge<x.length;Ge++)if(Ge>=w.length){w.push(Me),Fe=Ge;break}else if(w[Ge]===null){w[Ge]=Me,Fe=Ge;break}if(Fe===-1)break}let De=x[Fe];De&&De.connect(Me)}}l(R,"onInputSourcesChange");let U=new Ne,q=new Ne;function X(ie,ue,Me){U.setFromMatrixPosition(ue.matrixWorld),q.setFromMatrixPosition(Me.matrixWorld);let Fe=U.distanceTo(q),De=ue.projectionMatrix.elements,Ge=Me.projectionMatrix.elements,ve=De[14]/(De[10]-1),we=De[14]/(De[10]+1),He=(De[9]+1)/De[5],Ke=(De[9]-1)/De[5],Ze=(De[8]-1)/De[0],S=(Ge[8]+1)/Ge[0],G=ve*Ze,Q=ve*S,K=Fe/(-Ze+S),J=K*-Ze;ue.matrixWorld.decompose(ie.position,ie.quaternion,ie.scale),ie.translateX(J),ie.translateZ(K),ie.matrixWorld.compose(ie.position,ie.quaternion,ie.scale),ie.matrixWorldInverse.copy(ie.matrixWorld).invert();let me=ve+K,Se=we+K,Ie=G-J,Ce=Q+(Fe-J),Xe=He*we/Se*me,nt=Ke*we/Se*me;ie.projectionMatrix.makePerspective(Ie,Ce,Xe,nt,me,Se),ie.projectionMatrixInverse.copy(ie.projectionMatrix).invert()}l(X,"setProjectionFromUnion");function fe(ie,ue){ue===null?ie.matrixWorld.copy(ie.matrix):ie.matrixWorld.multiplyMatrices(ue.matrixWorld,ie.matrix),ie.matrixWorldInverse.copy(ie.matrixWorld).invert()}l(fe,"updateCamera"),this.updateCamera=function(ie){if(r===null)return;I.near=M.near=E.near=ie.near,I.far=M.far=E.far=ie.far,(F!==I.near||A!==I.far)&&(r.updateRenderState({depthNear:I.near,depthFar:I.far}),F=I.near,A=I.far);let ue=ie.parent,Me=I.cameras;fe(I,ue);for(let Fe=0;Fe<Me.length;Fe++)fe(Me[Fe],ue);Me.length===2?X(I,E,M):I.projectionMatrix.copy(E.projectionMatrix),H(ie,I,ue)};function H(ie,ue,Me){Me===null?ie.matrix.copy(ue.matrixWorld):(ie.matrix.copy(Me.matrixWorld),ie.matrix.invert(),ie.matrix.multiply(ue.matrixWorld)),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale),ie.updateMatrixWorld(!0);let Fe=ie.children;for(let De=0,Ge=Fe.length;De<Ge;De++)Fe[De].updateMatrixWorld(!0);ie.projectionMatrix.copy(ue.projectionMatrix),ie.projectionMatrixInverse.copy(ue.projectionMatrixInverse),ie.isPerspectiveCamera&&(ie.fov=Nd*2*Math.atan(1/ie.projectionMatrix.elements[5]),ie.zoom=1)}l(H,"updateUserCamera"),this.getCamera=function(){return I},this.getFoveation=function(){if(!(p===null&&d===null))return c},this.setFoveation=function(ie){c=ie,p!==null&&(p.fixedFoveation=ie),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=ie)};let Y=null;function $(ie,ue){if(h=ue.getViewerPose(u||s),m=ue,h!==null){let Me=h.views;d!==null&&(e.setRenderTargetFramebuffer(b,d.framebuffer),e.setRenderTarget(b));let Fe=!1;Me.length!==I.cameras.length&&(I.cameras.length=0,Fe=!0);for(let De=0;De<Me.length;De++){let Ge=Me[De],ve=null;if(d!==null)ve=d.getViewport(Ge);else{let He=f.getViewSubImage(p,Ge);ve=He.viewport,De===0&&(e.setRenderTargetTextures(b,He.colorTexture,p.ignoreDepthValues?void 0:He.depthStencilTexture),e.setRenderTarget(b))}let we=C[De];we===void 0&&(we=new Tn,we.layers.enable(De),we.viewport=new Vi,C[De]=we),we.matrix.fromArray(Ge.transform.matrix),we.matrix.decompose(we.position,we.quaternion,we.scale),we.projectionMatrix.fromArray(Ge.projectionMatrix),we.projectionMatrixInverse.copy(we.projectionMatrix).invert(),we.viewport.set(ve.x,ve.y,ve.width,ve.height),De===0&&(I.matrix.copy(we.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),Fe===!0&&I.cameras.push(we)}}for(let Me=0;Me<x.length;Me++){let Fe=w[Me],De=x[Me];Fe!==null&&De!==void 0&&De.update(Fe,ue,u||s)}Y&&Y(ie,ue),ue.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:ue}),m=null}l($,"onAnimationFrame");let Z=new ZU;Z.setAnimationLoop($),this.setAnimationLoop=function(ie){Y=ie},this.dispose=function(){}}};l(ide,"WebGLMaterials");l(nde,"WebGLUniformsGroups");l(rde,"createCanvasElement");Vd=class{static{l(this,"WebGLRenderer")}constructor(e={}){let{canvas:t=rde(),context:n=null,depth:r=!0,stencil:a=!0,alpha:s=!1,antialias:o=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;n!==null?p=n.getContextAttributes().alpha:p=s;let d=new Uint32Array(4),m=new Int32Array(4),y=null,g=null,b=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=ti,this.useLegacyLights=!0,this.toneMapping=eo,this.toneMappingExposure=1;let w=this,E=!1,M=0,C=0,I=null,F=-1,A=null,T=new Vi,j=new Vi,R=null,U=new Ct(0),q=0,X=t.width,fe=t.height,H=1,Y=null,$=null,Z=new Vi(0,0,X,fe),ie=new Vi(0,0,X,fe),ue=!1,Me=new zd,Fe=!1,De=!1,Ge=null,ve=new ni,we=new ot,He=new Ne,Ke={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ze(){return I===null?H:1}l(Ze,"getTargetPixelRatio");let S=n;function G(V,xe){for(let Pe=0;Pe<V.length;Pe++){let ge=V[Pe],Be=t.getContext(ge,xe);if(Be!==null)return Be}return null}l(G,"getContext");try{let V={alpha:!0,depth:r,stencil:a,antialias:o,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${bv}`),t.addEventListener("webglcontextlost",N,!1),t.addEventListener("webglcontextrestored",le,!1),t.addEventListener("webglcontextcreationerror",Te,!1),S===null){let xe=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&xe.shift(),S=G(xe,V),S===null)throw G(xe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&S instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),S.getShaderPrecisionFormat===void 0&&(S.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let Q,K,J,me,Se,Ie,Ce,Xe,nt,z,B,Ae,W,L,P,se,de,O,be,Ue,We,_e,Re,te;function et(){Q=new Mhe(S),K=new yhe(S,Q,e),Q.init(K),_e=new tz(S,Q,K),J=new Qfe(S,Q,K),me=new khe(S),Se=new Vfe,Ie=new ede(S,Q,J,Se,K,_e,me),Ce=new whe(w),Xe=new Ehe(w),nt=new Ule(S,K),Re=new ghe(S,Q,nt,K),z=new Ahe(S,nt,me,Re),B=new Che(S,z,nt,me),be=new Ihe(S,K,Ie),se=new vhe(Se),Ae=new Dfe(w,Ce,Xe,Q,K,Re,se),W=new ide(w,Se),L=new Hfe,P=new Yfe(Q,K),O=new _he(w,Ce,Xe,J,B,p,c),de=new Kfe(w,B,K),te=new nde(S,me,K,J),Ue=new bhe(S,Q,me,K),We=new The(S,Q,me,K),me.programs=Ae.programs,w.capabilities=K,w.extensions=Q,w.properties=Se,w.renderLists=L,w.shadowMap=de,w.state=J,w.info=me}l(et,"initGLContext"),et();let oe=new J3(w,S);this.xr=oe,this.getContext=function(){return S},this.getContextAttributes=function(){return S.getContextAttributes()},this.forceContextLoss=function(){let V=Q.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){let V=Q.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function(V){V!==void 0&&(H=V,this.setSize(X,fe,!1))},this.getSize=function(V){return V.set(X,fe)},this.setSize=function(V,xe,Pe=!0){if(oe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=V,fe=xe,t.width=Math.floor(V*H),t.height=Math.floor(xe*H),Pe===!0&&(t.style.width=V+"px",t.style.height=xe+"px"),this.setViewport(0,0,V,xe)},this.getDrawingBufferSize=function(V){return V.set(X*H,fe*H).floor()},this.setDrawingBufferSize=function(V,xe,Pe){X=V,fe=xe,H=Pe,t.width=Math.floor(V*Pe),t.height=Math.floor(xe*Pe),this.setViewport(0,0,V,xe)},this.getCurrentViewport=function(V){return V.copy(T)},this.getViewport=function(V){return V.copy(Z)},this.setViewport=function(V,xe,Pe,ge){V.isVector4?Z.set(V.x,V.y,V.z,V.w):Z.set(V,xe,Pe,ge),J.viewport(T.copy(Z).multiplyScalar(H).floor())},this.getScissor=function(V){return V.copy(ie)},this.setScissor=function(V,xe,Pe,ge){V.isVector4?ie.set(V.x,V.y,V.z,V.w):ie.set(V,xe,Pe,ge),J.scissor(j.copy(ie).multiplyScalar(H).floor())},this.getScissorTest=function(){return ue},this.setScissorTest=function(V){J.setScissorTest(ue=V)},this.setOpaqueSort=function(V){Y=V},this.setTransparentSort=function(V){$=V},this.getClearColor=function(V){return V.copy(O.getClearColor())},this.setClearColor=function(){O.setClearColor.apply(O,arguments)},this.getClearAlpha=function(){return O.getClearAlpha()},this.setClearAlpha=function(){O.setClearAlpha.apply(O,arguments)},this.clear=function(V=!0,xe=!0,Pe=!0){let ge=0;if(V){let Be=!1;if(I!==null){let it=I.texture.format;Be=it===QT||it===KT||it===JT}if(Be){let it=I.texture.type,st=it===Jo||it===Xo||it===vv||it===fc||it===YT||it===ZT,dt=O.getClearColor(),ht=O.getClearAlpha(),Mt=dt.r,yt=dt.g,Et=dt.b;st?(d[0]=Mt,d[1]=yt,d[2]=Et,d[3]=ht,S.clearBufferuiv(S.COLOR,0,d)):(m[0]=Mt,m[1]=yt,m[2]=Et,m[3]=ht,S.clearBufferiv(S.COLOR,0,m))}else ge|=S.COLOR_BUFFER_BIT}xe&&(ge|=S.DEPTH_BUFFER_BIT),Pe&&(ge|=S.STENCIL_BUFFER_BIT),S.clear(ge)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",N,!1),t.removeEventListener("webglcontextrestored",le,!1),t.removeEventListener("webglcontextcreationerror",Te,!1),L.dispose(),P.dispose(),Se.dispose(),Ce.dispose(),Xe.dispose(),B.dispose(),Re.dispose(),te.dispose(),Ae.dispose(),oe.dispose(),oe.removeEventListener("sessionstart",ft),oe.removeEventListener("sessionend",Ft),Ge&&(Ge.dispose(),Ge=null),Yt.stop()};function N(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}l(N,"onContextLost");function le(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;let V=me.autoReset,xe=de.enabled,Pe=de.autoUpdate,ge=de.needsUpdate,Be=de.type;et(),me.autoReset=V,de.enabled=xe,de.autoUpdate=Pe,de.needsUpdate=ge,de.type=Be}l(le,"onContextRestore");function Te(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}l(Te,"onContextCreationError");function ee(V){let xe=V.target;xe.removeEventListener("dispose",ee),Le(xe)}l(ee,"onMaterialDispose");function Le(V){Ye(V),Se.remove(V)}l(Le,"deallocateMaterial");function Ye(V){let xe=Se.get(V).programs;xe!==void 0&&(xe.forEach(function(Pe){Ae.releaseProgram(Pe)}),V.isShaderMaterial&&Ae.releaseShaderCache(V))}l(Ye,"releaseMaterialProgramReferences"),this.renderBufferDirect=function(V,xe,Pe,ge,Be,it){xe===null&&(xe=Ke);let st=Be.isMesh&&Be.matrixWorld.determinant()<0,dt=St(V,xe,Pe,ge,Be);J.setMaterial(ge,st);let ht=Pe.index,Mt=1;ge.wireframe===!0&&(ht=z.getWireframeAttribute(Pe),Mt=2);let yt=Pe.drawRange,Et=Pe.attributes.position,Pt=yt.start*Mt,zt=(yt.start+yt.count)*Mt;it!==null&&(Pt=Math.max(Pt,it.start*Mt),zt=Math.min(zt,(it.start+it.count)*Mt)),ht!==null?(Pt=Math.max(Pt,0),zt=Math.min(zt,ht.count)):Et!=null&&(Pt=Math.max(Pt,0),zt=Math.min(zt,Et.count));let gi=zt-Pt;if(gi<0||gi===1/0)return;Re.setup(Be,ge,dt,Pe,ht);let Ri,Wt=Ue;if(ht!==null&&(Ri=nt.get(ht),Wt=We,Wt.setIndex(Ri)),Be.isMesh)ge.wireframe===!0?(J.setLineWidth(ge.wireframeLinewidth*Ze()),Wt.setMode(S.LINES)):Wt.setMode(S.TRIANGLES);else if(Be.isLine){let Tt=ge.linewidth;Tt===void 0&&(Tt=1),J.setLineWidth(Tt*Ze()),Be.isLineSegments?Wt.setMode(S.LINES):Be.isLineLoop?Wt.setMode(S.LINE_LOOP):Wt.setMode(S.LINE_STRIP)}else Be.isPoints?Wt.setMode(S.POINTS):Be.isSprite&&Wt.setMode(S.TRIANGLES);if(Be.isInstancedMesh)Wt.renderInstances(Pt,gi,Be.count);else if(Pe.isInstancedBufferGeometry){let Tt=Pe._maxInstanceCount!==void 0?Pe._maxInstanceCount:1/0,Tr=Math.min(Pe.instanceCount,Tt);Wt.renderInstances(Pt,gi,Tr)}else Wt.render(Pt,gi)},this.compile=function(V,xe){function Pe(ge,Be,it){ge.transparent===!0&&ge.side===ea&&ge.forceSinglePass===!1?(ge.side=Br,ge.needsUpdate=!0,tt(ge,Be,it),ge.side=Qa,ge.needsUpdate=!0,tt(ge,Be,it),ge.side=ea):tt(ge,Be,it)}l(Pe,"prepare"),g=P.get(V),g.init(),x.push(g),V.traverseVisible(function(ge){ge.isLight&&ge.layers.test(xe.layers)&&(g.pushLight(ge),ge.castShadow&&g.pushShadow(ge))}),g.setupLights(w.useLegacyLights),V.traverse(function(ge){let Be=ge.material;if(Be)if(Array.isArray(Be))for(let it=0;it<Be.length;it++){let st=Be[it];Pe(st,V,ge)}else Pe(Be,V,ge)}),x.pop(),g=null};let vt=null;function wt(V){vt&&vt(V)}l(wt,"onAnimationFrame");function ft(){Yt.stop()}l(ft,"onXRSessionStart");function Ft(){Yt.start()}l(Ft,"onXRSessionEnd");let Yt=new ZU;Yt.setAnimationLoop(wt),typeof self<"u"&&Yt.setContext(self),this.setAnimationLoop=function(V){vt=V,oe.setAnimationLoop(V),V===null?Yt.stop():Yt.start()},oe.addEventListener("sessionstart",ft),oe.addEventListener("sessionend",Ft),this.render=function(V,xe){if(xe!==void 0&&xe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),xe.parent===null&&xe.matrixWorldAutoUpdate===!0&&xe.updateMatrixWorld(),oe.enabled===!0&&oe.isPresenting===!0&&(oe.cameraAutoUpdate===!0&&oe.updateCamera(xe),xe=oe.getCamera()),V.isScene===!0&&V.onBeforeRender(w,V,xe,I),g=P.get(V,x.length),g.init(),x.push(g),ve.multiplyMatrices(xe.projectionMatrix,xe.matrixWorldInverse),Me.setFromProjectionMatrix(ve),De=this.localClippingEnabled,Fe=se.init(this.clippingPlanes,De),y=L.get(V,b.length),y.init(),b.push(y),Mi(V,xe,0,w.sortObjects),y.finish(),w.sortObjects===!0&&y.sort(Y,$),this.info.render.frame++,Fe===!0&&se.beginShadows();let Pe=g.state.shadowsArray;if(de.render(Pe,V,xe),Fe===!0&&se.endShadows(),this.info.autoReset===!0&&this.info.reset(),O.render(y,V),g.setupLights(w.useLegacyLights),xe.isArrayCamera){let ge=xe.cameras;for(let Be=0,it=ge.length;Be<it;Be++){let st=ge[Be];Kt(y,V,st,st.viewport)}}else Kt(y,V,xe);I!==null&&(Ie.updateMultisampleRenderTarget(I),Ie.updateRenderTargetMipmap(I)),V.isScene===!0&&V.onAfterRender(w,V,xe),Re.resetDefaultState(),F=-1,A=null,x.pop(),x.length>0?g=x[x.length-1]:g=null,b.pop(),b.length>0?y=b[b.length-1]:y=null};function Mi(V,xe,Pe,ge){if(V.visible===!1)return;if(V.layers.test(xe.layers)){if(V.isGroup)Pe=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(xe);else if(V.isLight)g.pushLight(V),V.castShadow&&g.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||Me.intersectsSprite(V)){ge&&He.setFromMatrixPosition(V.matrixWorld).applyMatrix4(ve);let st=B.update(V),dt=V.material;dt.visible&&y.push(V,st,dt,Pe,He.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||Me.intersectsObject(V))){let st=B.update(V),dt=V.material;if(ge&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),He.copy(V.boundingSphere.center)):(st.boundingSphere===null&&st.computeBoundingSphere(),He.copy(st.boundingSphere.center)),He.applyMatrix4(V.matrixWorld).applyMatrix4(ve)),Array.isArray(dt)){let ht=st.groups;for(let Mt=0,yt=ht.length;Mt<yt;Mt++){let Et=ht[Mt],Pt=dt[Et.materialIndex];Pt&&Pt.visible&&y.push(V,st,Pt,Pe,He.z,Et)}}else dt.visible&&y.push(V,st,dt,Pe,He.z,null)}}let it=V.children;for(let st=0,dt=it.length;st<dt;st++)Mi(it[st],xe,Pe,ge)}l(Mi,"projectObject");function Kt(V,xe,Pe,ge){let Be=V.opaque,it=V.transmissive,st=V.transparent;g.setupLightsView(Pe),Fe===!0&&se.setGlobalState(w.clippingPlanes,Pe),it.length>0&&Ve(Be,it,xe,Pe),ge&&J.viewport(T.copy(ge)),Be.length>0&&ke(Be,xe,Pe),it.length>0&&ke(it,xe,Pe),st.length>0&&ke(st,xe,Pe),J.buffers.depth.setTest(!0),J.buffers.depth.setMask(!0),J.buffers.color.setMask(!0),J.setPolygonOffset(!1)}l(Kt,"renderScene");function Ve(V,xe,Pe,ge){let Be=K.isWebGL2;Ge===null&&(Ge=new cr(1,1,{generateMipmaps:!0,type:Q.has("EXT_color_buffer_half_float")?Ld:Jo,minFilter:yc,samples:Be?4:0})),w.getDrawingBufferSize(we),Be?Ge.setSize(we.x,we.y):Ge.setSize(by(we.x),by(we.y));let it=w.getRenderTarget();w.setRenderTarget(Ge),w.getClearColor(U),q=w.getClearAlpha(),q<1&&w.setClearColor(16777215,.5),w.clear();let st=w.toneMapping;w.toneMapping=eo,ke(V,Pe,ge),Ie.updateMultisampleRenderTarget(Ge),Ie.updateRenderTargetMipmap(Ge);let dt=!1;for(let ht=0,Mt=xe.length;ht<Mt;ht++){let yt=xe[ht],Et=yt.object,Pt=yt.geometry,zt=yt.material,gi=yt.group;if(zt.side===ea&&Et.layers.test(ge.layers)){let Ri=zt.side;zt.side=Br,zt.needsUpdate=!0,je(Et,Pe,ge,Pt,zt,gi),zt.side=Ri,zt.needsUpdate=!0,dt=!0}}dt===!0&&(Ie.updateMultisampleRenderTarget(Ge),Ie.updateRenderTargetMipmap(Ge)),w.setRenderTarget(it),w.setClearColor(U,q),w.toneMapping=st}l(Ve,"renderTransmissionPass");function ke(V,xe,Pe){let ge=xe.isScene===!0?xe.overrideMaterial:null;for(let Be=0,it=V.length;Be<it;Be++){let st=V[Be],dt=st.object,ht=st.geometry,Mt=ge===null?st.material:ge,yt=st.group;dt.layers.test(Pe.layers)&&je(dt,xe,Pe,ht,Mt,yt)}}l(ke,"renderObjects");function je(V,xe,Pe,ge,Be,it){V.onBeforeRender(w,xe,Pe,ge,Be,it),V.modelViewMatrix.multiplyMatrices(Pe.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),Be.onBeforeRender(w,xe,Pe,ge,V,it),Be.transparent===!0&&Be.side===ea&&Be.forceSinglePass===!1?(Be.side=Br,Be.needsUpdate=!0,w.renderBufferDirect(Pe,xe,ge,Be,V,it),Be.side=Qa,Be.needsUpdate=!0,w.renderBufferDirect(Pe,xe,ge,Be,V,it),Be.side=ea):w.renderBufferDirect(Pe,xe,ge,Be,V,it),V.onAfterRender(w,xe,Pe,ge,Be,it)}l(je,"renderObject");function tt(V,xe,Pe){xe.isScene!==!0&&(xe=Ke);let ge=Se.get(V),Be=g.state.lights,it=g.state.shadowsArray,st=Be.state.version,dt=Ae.getParameters(V,Be.state,it,xe,Pe),ht=Ae.getProgramCacheKey(dt),Mt=ge.programs;ge.environment=V.isMeshStandardMaterial?xe.environment:null,ge.fog=xe.fog,ge.envMap=(V.isMeshStandardMaterial?Xe:Ce).get(V.envMap||ge.environment),Mt===void 0&&(V.addEventListener("dispose",ee),Mt=new Map,ge.programs=Mt);let yt=Mt.get(ht);if(yt!==void 0){if(ge.currentProgram===yt&&ge.lightsStateVersion===st)return rt(V,dt),yt}else dt.uniforms=Ae.getUniforms(V),V.onBuild(Pe,dt,w),V.onBeforeCompile(dt,w),yt=Ae.acquireProgram(dt,ht),Mt.set(ht,yt),ge.uniforms=dt.uniforms;let Et=ge.uniforms;(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(Et.clippingPlanes=se.uniform),rt(V,dt),ge.needsLights=Vt(V),ge.lightsStateVersion=st,ge.needsLights&&(Et.ambientLightColor.value=Be.state.ambient,Et.lightProbe.value=Be.state.probe,Et.directionalLights.value=Be.state.directional,Et.directionalLightShadows.value=Be.state.directionalShadow,Et.spotLights.value=Be.state.spot,Et.spotLightShadows.value=Be.state.spotShadow,Et.rectAreaLights.value=Be.state.rectArea,Et.ltc_1.value=Be.state.rectAreaLTC1,Et.ltc_2.value=Be.state.rectAreaLTC2,Et.pointLights.value=Be.state.point,Et.pointLightShadows.value=Be.state.pointShadow,Et.hemisphereLights.value=Be.state.hemi,Et.directionalShadowMap.value=Be.state.directionalShadowMap,Et.directionalShadowMatrix.value=Be.state.directionalShadowMatrix,Et.spotShadowMap.value=Be.state.spotShadowMap,Et.spotLightMatrix.value=Be.state.spotLightMatrix,Et.spotLightMap.value=Be.state.spotLightMap,Et.pointShadowMap.value=Be.state.pointShadowMap,Et.pointShadowMatrix.value=Be.state.pointShadowMatrix);let Pt=yt.getUniforms(),zt=Cd.seqWithValue(Pt.seq,Et);return ge.currentProgram=yt,ge.uniformsList=zt,yt}l(tt,"getProgram");function rt(V,xe){let Pe=Se.get(V);Pe.outputColorSpace=xe.outputColorSpace,Pe.instancing=xe.instancing,Pe.skinning=xe.skinning,Pe.morphTargets=xe.morphTargets,Pe.morphNormals=xe.morphNormals,Pe.morphColors=xe.morphColors,Pe.morphTargetsCount=xe.morphTargetsCount,Pe.numClippingPlanes=xe.numClippingPlanes,Pe.numIntersection=xe.numClipIntersection,Pe.vertexAlphas=xe.vertexAlphas,Pe.vertexTangents=xe.vertexTangents,Pe.toneMapping=xe.toneMapping}l(rt,"updateCommonMaterialProperties");function St(V,xe,Pe,ge,Be){xe.isScene!==!0&&(xe=Ke),Ie.resetTextureUnits();let it=xe.fog,st=ge.isMeshStandardMaterial?xe.environment:null,dt=I===null?w.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:ya,ht=(ge.isMeshStandardMaterial?Xe:Ce).get(ge.envMap||st),Mt=ge.vertexColors===!0&&!!Pe.attributes.color&&Pe.attributes.color.itemSize===4,yt=!!Pe.attributes.tangent&&(!!ge.normalMap||ge.anisotropy>0),Et=!!Pe.morphAttributes.position,Pt=!!Pe.morphAttributes.normal,zt=!!Pe.morphAttributes.color,gi=ge.toneMapped?w.toneMapping:eo,Ri=Pe.morphAttributes.position||Pe.morphAttributes.normal||Pe.morphAttributes.color,Wt=Ri!==void 0?Ri.length:0,Tt=Se.get(ge),Tr=g.state.lights;if(Fe===!0&&(De===!0||V!==A)){let Ii=V===A&&ge.id===F;se.setState(ge,V,Ii)}let Jt=!1;ge.version===Tt.__version?(Tt.needsLights&&Tt.lightsStateVersion!==Tr.state.version||Tt.outputColorSpace!==dt||Be.isInstancedMesh&&Tt.instancing===!1||!Be.isInstancedMesh&&Tt.instancing===!0||Be.isSkinnedMesh&&Tt.skinning===!1||!Be.isSkinnedMesh&&Tt.skinning===!0||Tt.envMap!==ht||ge.fog===!0&&Tt.fog!==it||Tt.numClippingPlanes!==void 0&&(Tt.numClippingPlanes!==se.numPlanes||Tt.numIntersection!==se.numIntersection)||Tt.vertexAlphas!==Mt||Tt.vertexTangents!==yt||Tt.morphTargets!==Et||Tt.morphNormals!==Pt||Tt.morphColors!==zt||Tt.toneMapping!==gi||K.isWebGL2===!0&&Tt.morphTargetsCount!==Wt)&&(Jt=!0):(Jt=!0,Tt.__version=ge.version);let ln=Tt.currentProgram;Jt===!0&&(ln=tt(ge,xe,Be));let kr=!1,pn=!1,Fn=!1,si=ln.getUniforms(),tn=Tt.uniforms;if(J.useProgram(ln.program)&&(kr=!0,pn=!0,Fn=!0),ge.id!==F&&(F=ge.id,pn=!0),kr||A!==V){if(si.setValue(S,"projectionMatrix",V.projectionMatrix),K.logarithmicDepthBuffer&&si.setValue(S,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),A!==V&&(A=V,pn=!0,Fn=!0),ge.isShaderMaterial||ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshStandardMaterial||ge.envMap){let Ii=si.map.cameraPosition;Ii!==void 0&&Ii.setValue(S,He.setFromMatrixPosition(V.matrixWorld))}(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial)&&si.setValue(S,"isOrthographic",V.isOrthographicCamera===!0),(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial||ge.isShadowMaterial||Be.isSkinnedMesh)&&si.setValue(S,"viewMatrix",V.matrixWorldInverse)}if(Be.isSkinnedMesh){si.setOptional(S,Be,"bindMatrix"),si.setOptional(S,Be,"bindMatrixInverse");let Ii=Be.skeleton;Ii&&(K.floatVertexTextures?(Ii.boneTexture===null&&Ii.computeBoneTexture(),si.setValue(S,"boneTexture",Ii.boneTexture,Ie),si.setValue(S,"boneTextureSize",Ii.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let Zn=Pe.morphAttributes;if((Zn.position!==void 0||Zn.normal!==void 0||Zn.color!==void 0&&K.isWebGL2===!0)&&be.update(Be,Pe,ln),(pn||Tt.receiveShadow!==Be.receiveShadow)&&(Tt.receiveShadow=Be.receiveShadow,si.setValue(S,"receiveShadow",Be.receiveShadow)),ge.isMeshGouraudMaterial&&ge.envMap!==null&&(tn.envMap.value=ht,tn.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),pn&&(si.setValue(S,"toneMappingExposure",w.toneMappingExposure),Tt.needsLights&&Ut(tn,Fn),it&&ge.fog===!0&&W.refreshFogUniforms(tn,it),W.refreshMaterialUniforms(tn,ge,H,fe,Ge),Cd.upload(S,Tt.uniformsList,tn,Ie)),ge.isShaderMaterial&&ge.uniformsNeedUpdate===!0&&(Cd.upload(S,Tt.uniformsList,tn,Ie),ge.uniformsNeedUpdate=!1),ge.isSpriteMaterial&&si.setValue(S,"center",Be.center),si.setValue(S,"modelViewMatrix",Be.modelViewMatrix),si.setValue(S,"normalMatrix",Be.normalMatrix),si.setValue(S,"modelMatrix",Be.matrixWorld),ge.isShaderMaterial||ge.isRawShaderMaterial){let Ii=ge.uniformsGroups;for(let Fa=0,Eo=Ii.length;Fa<Eo;Fa++)if(K.isWebGL2){let Rr=Ii[Fa];te.update(Rr,ln),te.bind(Rr,ln)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ln}l(St,"setProgram");function Ut(V,xe){V.ambientLightColor.needsUpdate=xe,V.lightProbe.needsUpdate=xe,V.directionalLights.needsUpdate=xe,V.directionalLightShadows.needsUpdate=xe,V.pointLights.needsUpdate=xe,V.pointLightShadows.needsUpdate=xe,V.spotLights.needsUpdate=xe,V.spotLightShadows.needsUpdate=xe,V.rectAreaLights.needsUpdate=xe,V.hemisphereLights.needsUpdate=xe}l(Ut,"markUniformsLightsNeedsUpdate");function Vt(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}l(Vt,"materialNeedsLights"),this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(V,xe,Pe){Se.get(V.texture).__webglTexture=xe,Se.get(V.depthTexture).__webglTexture=Pe;let ge=Se.get(V);ge.__hasExternalTextures=!0,ge.__hasExternalTextures&&(ge.__autoAllocateDepthBuffer=Pe===void 0,ge.__autoAllocateDepthBuffer||Q.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ge.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(V,xe){let Pe=Se.get(V);Pe.__webglFramebuffer=xe,Pe.__useDefaultFramebuffer=xe===void 0},this.setRenderTarget=function(V,xe=0,Pe=0){I=V,M=xe,C=Pe;let ge=!0,Be=null,it=!1,st=!1;if(V){let ht=Se.get(V);ht.__useDefaultFramebuffer!==void 0?(J.bindFramebuffer(S.FRAMEBUFFER,null),ge=!1):ht.__webglFramebuffer===void 0?Ie.setupRenderTarget(V):ht.__hasExternalTextures&&Ie.rebindTextures(V,Se.get(V.texture).__webglTexture,Se.get(V.depthTexture).__webglTexture);let Mt=V.texture;(Mt.isData3DTexture||Mt.isDataArrayTexture||Mt.isCompressedArrayTexture)&&(st=!0);let yt=Se.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Be=yt[xe],it=!0):K.isWebGL2&&V.samples>0&&Ie.useMultisampledRTT(V)===!1?Be=Se.get(V).__webglMultisampledFramebuffer:Be=yt,T.copy(V.viewport),j.copy(V.scissor),R=V.scissorTest}else T.copy(Z).multiplyScalar(H).floor(),j.copy(ie).multiplyScalar(H).floor(),R=ue;if(J.bindFramebuffer(S.FRAMEBUFFER,Be)&&K.drawBuffers&&ge&&J.drawBuffers(V,Be),J.viewport(T),J.scissor(j),J.setScissorTest(R),it){let ht=Se.get(V.texture);S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_CUBE_MAP_POSITIVE_X+xe,ht.__webglTexture,Pe)}else if(st){let ht=Se.get(V.texture),Mt=xe||0;S.framebufferTextureLayer(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,ht.__webglTexture,Pe||0,Mt)}F=-1},this.readRenderTargetPixels=function(V,xe,Pe,ge,Be,it,st){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dt=Se.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&st!==void 0&&(dt=dt[st]),dt){J.bindFramebuffer(S.FRAMEBUFFER,dt);try{let ht=V.texture,Mt=ht.format,yt=ht.type;if(Mt!==Or&&_e.convert(Mt)!==S.getParameter(S.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let Et=yt===Ld&&(Q.has("EXT_color_buffer_half_float")||K.isWebGL2&&Q.has("EXT_color_buffer_float"));if(yt!==Jo&&_e.convert(yt)!==S.getParameter(S.IMPLEMENTATION_COLOR_READ_TYPE)&&!(yt===Ka&&(K.isWebGL2||Q.has("OES_texture_float")||Q.has("WEBGL_color_buffer_float")))&&!Et){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}xe>=0&&xe<=V.width-ge&&Pe>=0&&Pe<=V.height-Be&&S.readPixels(xe,Pe,ge,Be,_e.convert(Mt),_e.convert(yt),it)}finally{let ht=I!==null?Se.get(I).__webglFramebuffer:null;J.bindFramebuffer(S.FRAMEBUFFER,ht)}}},this.copyFramebufferToTexture=function(V,xe,Pe=0){let ge=Math.pow(2,-Pe),Be=Math.floor(xe.image.width*ge),it=Math.floor(xe.image.height*ge);Ie.setTexture2D(xe,0),S.copyTexSubImage2D(S.TEXTURE_2D,Pe,0,0,V.x,V.y,Be,it),J.unbindTexture()},this.copyTextureToTexture=function(V,xe,Pe,ge=0){let Be=xe.image.width,it=xe.image.height,st=_e.convert(Pe.format),dt=_e.convert(Pe.type);Ie.setTexture2D(Pe,0),S.pixelStorei(S.UNPACK_FLIP_Y_WEBGL,Pe.flipY),S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Pe.premultiplyAlpha),S.pixelStorei(S.UNPACK_ALIGNMENT,Pe.unpackAlignment),xe.isDataTexture?S.texSubImage2D(S.TEXTURE_2D,ge,V.x,V.y,Be,it,st,dt,xe.image.data):xe.isCompressedTexture?S.compressedTexSubImage2D(S.TEXTURE_2D,ge,V.x,V.y,xe.mipmaps[0].width,xe.mipmaps[0].height,st,xe.mipmaps[0].data):S.texSubImage2D(S.TEXTURE_2D,ge,V.x,V.y,st,dt,xe.image),ge===0&&Pe.generateMipmaps&&S.generateMipmap(S.TEXTURE_2D),J.unbindTexture()},this.copyTextureToTexture3D=function(V,xe,Pe,ge,Be=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let it=V.max.x-V.min.x+1,st=V.max.y-V.min.y+1,dt=V.max.z-V.min.z+1,ht=_e.convert(ge.format),Mt=_e.convert(ge.type),yt;if(ge.isData3DTexture)Ie.setTexture3D(ge,0),yt=S.TEXTURE_3D;else if(ge.isDataArrayTexture)Ie.setTexture2DArray(ge,0),yt=S.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}S.pixelStorei(S.UNPACK_FLIP_Y_WEBGL,ge.flipY),S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ge.premultiplyAlpha),S.pixelStorei(S.UNPACK_ALIGNMENT,ge.unpackAlignment);let Et=S.getParameter(S.UNPACK_ROW_LENGTH),Pt=S.getParameter(S.UNPACK_IMAGE_HEIGHT),zt=S.getParameter(S.UNPACK_SKIP_PIXELS),gi=S.getParameter(S.UNPACK_SKIP_ROWS),Ri=S.getParameter(S.UNPACK_SKIP_IMAGES),Wt=Pe.isCompressedTexture?Pe.mipmaps[0]:Pe.image;S.pixelStorei(S.UNPACK_ROW_LENGTH,Wt.width),S.pixelStorei(S.UNPACK_IMAGE_HEIGHT,Wt.height),S.pixelStorei(S.UNPACK_SKIP_PIXELS,V.min.x),S.pixelStorei(S.UNPACK_SKIP_ROWS,V.min.y),S.pixelStorei(S.UNPACK_SKIP_IMAGES,V.min.z),Pe.isDataTexture||Pe.isData3DTexture?S.texSubImage3D(yt,Be,xe.x,xe.y,xe.z,it,st,dt,ht,Mt,Wt.data):Pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),S.compressedTexSubImage3D(yt,Be,xe.x,xe.y,xe.z,it,st,dt,ht,Wt.data)):S.texSubImage3D(yt,Be,xe.x,xe.y,xe.z,it,st,dt,ht,Mt,Wt),S.pixelStorei(S.UNPACK_ROW_LENGTH,Et),S.pixelStorei(S.UNPACK_IMAGE_HEIGHT,Pt),S.pixelStorei(S.UNPACK_SKIP_PIXELS,zt),S.pixelStorei(S.UNPACK_SKIP_ROWS,gi),S.pixelStorei(S.UNPACK_SKIP_IMAGES,Ri),Be===0&&ge.generateMipmaps&&S.generateMipmap(yt),J.unbindTexture()},this.initTexture=function(V){V.isCubeTexture?Ie.setTextureCube(V,0):V.isData3DTexture?Ie.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?Ie.setTexture2DArray(V,0):Ie.setTexture2D(V,0),J.unbindTexture()},this.resetState=function(){M=0,C=0,I=null,J.reset(),Re.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Qs}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===ti?pc:t4}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===pc?ti:ya}},xy=class extends Vd{static{l(this,"WebGL1Renderer")}};xy.prototype.isWebGL1Renderer=!0;Sy=class i{static{l(this,"FogExp2")}constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ct(e),this.density=t}clone(){return new i(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}},Ey=class i{static{l(this,"Fog")}constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Ct(e),this.near=t,this.far=n}clone(){return new i(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},qd=class extends Ni{static{l(this,"Scene")}constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}},Hd=class{static{l(this,"InterleavedBuffer")}constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=x_,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ba()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ba()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ba()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},Lr=new Ne,nh=class i{static{l(this,"InterleavedBufferAttribute")}constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Lr.fromBufferAttribute(this,t),Lr.applyMatrix4(e),this.setXYZ(t,Lr.x,Lr.y,Lr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Lr.fromBufferAttribute(this,t),Lr.applyNormalMatrix(e),this.setXYZ(t,Lr.x,Lr.y,Lr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Lr.fromBufferAttribute(this,t),Lr.transformDirection(e),this.setXYZ(t,Lr.x,Lr.y,Lr.z);return this}setX(e,t){return this.normalized&&(t=di(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=di(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=di(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=di(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ga(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ga(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ga(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ga(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=di(t,this.array),n=di(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=di(t,this.array),n=di(n,this.array),r=di(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=di(t,this.array),n=di(n,this.array),r=di(r,this.array),a=di(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Ai(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new i(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},rh=class extends tr{static{l(this,"SpriteMaterial")}constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}},t_=new Ne,Sd=new Ne,Ed=new Ne,Md=new ot,i_=new ot,iz=new ni,Vb=new Ne,n_=new Ne,qb=new Ne,rF=new ot,jA=new ot,aF=new ot,Gd=class extends Ni{static{l(this,"Sprite")}constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",xd===void 0){xd=new ci;let t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Hd(t,5);xd.setIndex([0,1,2,0,2,3]),xd.setAttribute("position",new nh(n,3,0,!1)),xd.setAttribute("uv",new nh(n,2,3,!1))}this.geometry=xd,this.material=e!==void 0?e:new rh,this.center=new ot(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Sd.setFromMatrixScale(this.matrixWorld),iz.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ed.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Sd.multiplyScalar(-Ed.z);let n=this.material.rotation,r,a;n!==0&&(a=Math.cos(n),r=Math.sin(n));let s=this.center;Hb(Vb.set(-.5,-.5,0),Ed,s,Sd,r,a),Hb(n_.set(.5,-.5,0),Ed,s,Sd,r,a),Hb(qb.set(.5,.5,0),Ed,s,Sd,r,a),rF.set(0,0),jA.set(1,0),aF.set(1,1);let o=e.ray.intersectTriangle(Vb,n_,qb,!1,t_);if(o===null&&(Hb(n_.set(-.5,.5,0),Ed,s,Sd,r,a),jA.set(0,1),o=e.ray.intersectTriangle(Vb,qb,n_,!1,t_),o===null))return;let c=e.ray.origin.distanceTo(t_);c<e.near||c>e.far||t.push({distance:c,point:t_.clone(),uv:Zo.getInterpolation(t_,Vb,n_,qb,rF,jA,aF,new ot),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}};l(Hb,"transformVertex");Gb=new Ne,sF=new Ne,My=class extends Ni{static{l(this,"LOD")}constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);let t=e.levels;for(let n=0,r=t.length;n<r;n++){let a=t[n];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);let r=this.levels,a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){let t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),e<a)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Gb.setFromMatrixPosition(this.matrixWorld);let r=e.ray.origin.distanceTo(Gb);this.getObjectForDistance(r).raycast(e,t)}}update(e){let t=this.levels;if(t.length>1){Gb.setFromMatrixPosition(e.matrixWorld),sF.setFromMatrixPosition(this.matrixWorld);let n=Gb.distanceTo(sF)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),n>=s)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){let t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];let n=this.levels;for(let r=0,a=n.length;r<a;r++){let s=n[r];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}},oF=new Ne,lF=new Vi,cF=new Vi,ade=new Ne,uF=new ni,Ad=new Ne,$A=new wa,hF=new ni,XA=new vc,Ay=class extends ii{static{l(this,"SkinnedMesh")}constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ni,this.bindMatrixInverse=new ni,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){let e=this.geometry;this.boundingBox===null&&(this.boundingBox=new es),this.boundingBox.makeEmpty();let t=e.getAttribute("position");for(let n=0;n<t.count;n++)Ad.fromBufferAttribute(t,n),this.applyBoneTransform(n,Ad),this.boundingBox.expandByPoint(Ad)}computeBoundingSphere(){let e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new wa),this.boundingSphere.makeEmpty();let t=e.getAttribute("position");for(let n=0;n<t.count;n++)Ad.fromBufferAttribute(t,n),this.applyBoneTransform(n,Ad),this.boundingSphere.expandByPoint(Ad)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){let n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),$A.copy(this.boundingSphere),$A.applyMatrix4(r),e.ray.intersectsSphere($A)!==!1&&(hF.copy(r).invert(),XA.copy(e.ray).applyMatrix4(hF),!(this.boundingBox!==null&&XA.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,XA)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let e=new Vi,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);let a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){let n=this.skeleton,r=this.geometry;lF.fromBufferAttribute(r.attributes.skinIndex,e),cF.fromBufferAttribute(r.attributes.skinWeight,e),oF.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){let s=cF.getComponent(a);if(s!==0){let o=lF.getComponent(a);uF.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(ade.copy(oF).applyMatrix4(uF),s)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}},L_=class extends Ni{static{l(this,"Bone")}constructor(){super(),this.isBone=!0,this.type="Bone"}},_c=class extends kn{static{l(this,"DataTexture")}constructor(e=null,t=1,n=1,r,a,s,o,c,u=Di,h=Di,f,p){super(null,s,o,c,u,h,r,a,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},fF=new ni,sde=new ni,Ty=class i{static{l(this,"Skeleton")}constructor(e=[],t=[]){this.uuid=ba(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new ni)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let n=new ni;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){let e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){let o=e[a]?e[a].matrixWorld:sde;fF.multiplyMatrices(o,t[a]),fF.toArray(n,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new i(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=jU(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let n=new _c(t,e,e,Or,Ka);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){let r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){let a=e.bones[n],s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new L_),this.bones.push(s),this.boneInverses.push(new ni().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){let e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,n=this.boneInverses;for(let r=0,a=t.length;r<a;r++){let s=t[r];e.bones.push(s.uuid);let o=n[r];e.boneInverses.push(o.toArray())}return e}},wc=class extends Ai{static{l(this,"InstancedBufferAttribute")}constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},Td=new ni,dF=new ni,Wb=[],pF=new es,ode=new ni,r_=new ii,a_=new wa,ky=class extends ii{static{l(this,"InstancedMesh")}constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new wc(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,ode)}computeBoundingBox(){let e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new es),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Td),pF.copy(e.boundingBox).applyMatrix4(Td),this.boundingBox.union(pF)}computeBoundingSphere(){let e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new wa),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Td),a_.copy(e.boundingSphere).applyMatrix4(Td),this.boundingSphere.union(a_)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){let n=this.matrixWorld,r=this.count;if(r_.geometry=this.geometry,r_.material=this.material,r_.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),a_.copy(this.boundingSphere),a_.applyMatrix4(n),e.ray.intersectsSphere(a_)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Td),dF.multiplyMatrices(n,Td),r_.matrixWorld=dF,r_.raycast(e,Wb);for(let s=0,o=Wb.length;s<o;s++){let c=Wb[s];c.instanceId=a,c.object=this,t.push(c)}Wb.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new wc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}},ur=class extends tr{static{l(this,"LineBasicMaterial")}constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ct(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},mF=new Ne,_F=new Ne,gF=new ni,YA=new vc,jb=new wa,no=class extends Ni{static{l(this,"Line")}constructor(e=new ci,t=new ur){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,n=[0];for(let r=1,a=t.count;r<a;r++)mF.fromBufferAttribute(t,r-1),_F.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=mF.distanceTo(_F);e.setAttribute("lineDistance",new Ot(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let n=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),jb.copy(n.boundingSphere),jb.applyMatrix4(r),jb.radius+=a,e.ray.intersectsSphere(jb)===!1)return;gF.copy(r).invert(),YA.copy(e.ray).applyMatrix4(gF);let o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=new Ne,h=new Ne,f=new Ne,p=new Ne,d=this.isLineSegments?2:1,m=n.index,g=n.attributes.position;if(m!==null){let b=Math.max(0,s.start),x=Math.min(m.count,s.start+s.count);for(let w=b,E=x-1;w<E;w+=d){let M=m.getX(w),C=m.getX(w+1);if(u.fromBufferAttribute(g,M),h.fromBufferAttribute(g,C),YA.distanceSqToSegment(u,h,p,f)>c)continue;p.applyMatrix4(this.matrixWorld);let F=e.ray.origin.distanceTo(p);F<e.near||F>e.far||t.push({distance:F,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{let b=Math.max(0,s.start),x=Math.min(g.count,s.start+s.count);for(let w=b,E=x-1;w<E;w+=d){if(u.fromBufferAttribute(g,w),h.fromBufferAttribute(g,w+1),YA.distanceSqToSegment(u,h,p,f)>c)continue;p.applyMatrix4(this.matrixWorld);let C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){let t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){let r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){let o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}},bF=new Ne,yF=new Ne,is=class extends no{static{l(this,"LineSegments")}constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,n=[];for(let r=0,a=t.count;r<a;r+=2)bF.fromBufferAttribute(t,r),yF.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+bF.distanceTo(yF);e.setAttribute("lineDistance",new Ot(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},Ry=class extends no{static{l(this,"LineLoop")}constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}},N_=class extends tr{static{l(this,"PointsMaterial")}constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}},vF=new ni,K3=new vc,$b=new wa,Xb=new Ne,Py=class extends Ni{static{l(this,"Points")}constructor(e=new ci,t=new N_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){let n=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),$b.copy(n.boundingSphere),$b.applyMatrix4(r),$b.radius+=a,e.ray.intersectsSphere($b)===!1)return;vF.copy(r).invert(),K3.copy(e.ray).applyMatrix4(vF);let o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=n.index,f=n.attributes.position;if(u!==null){let p=Math.max(0,s.start),d=Math.min(u.count,s.start+s.count);for(let m=p,y=d;m<y;m++){let g=u.getX(m);Xb.fromBufferAttribute(f,g),wF(Xb,g,c,r,e,t,this)}}else{let p=Math.max(0,s.start),d=Math.min(f.count,s.start+s.count);for(let m=p,y=d;m<y;m++)Xb.fromBufferAttribute(f,m),wF(Xb,m,c,r,e,t,this)}}updateMorphTargets(){let t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){let r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){let o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}};l(wF,"testPoint");Q3=class extends kn{static{l(this,"VideoTexture")}constructor(e,t,n,r,a,s,o,c,u){super(e,t,n,r,a,s,o,c,u),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:rn,this.magFilter=a!==void 0?a:rn,this.generateMipmaps=!1;let h=this;function f(){h.needsUpdate=!0,e.requestVideoFrameCallback(f)}l(f,"updateVideo"),"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},eT=class extends kn{static{l(this,"FramebufferTexture")}constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Di,this.minFilter=Di,this.generateMipmaps=!1,this.needsUpdate=!0}},O_=class extends kn{static{l(this,"CompressedTexture")}constructor(e,t,n,r,a,s,o,c,u,h,f,p){super(null,s,o,c,u,h,r,a,f,p),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}},tT=class extends O_{static{l(this,"CompressedArrayTexture")}constructor(e,t,n,r,a,s){super(e,t,n,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=br}},B_=class extends kn{static{l(this,"CanvasTexture")}constructor(e,t,n,r,a,s,o,c,u){super(e,t,n,r,a,s,o,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}},xa=class{static{l(this,"Curve")}constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],n,r=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),a+=n.distanceTo(r),t.push(a),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let n=this.getLengths(),r=0,a=n.length,s;t?s=t:s=e*n[a-1];let o=0,c=a-1,u;for(;o<=c;)if(r=Math.floor(o+(c-o)/2),u=n[r]-s,u<0)o=r+1;else if(u>0)c=r-1;else{c=r;break}if(r=c,n[r]===s)return r/(a-1);let h=n[r],p=n[r+1]-h,d=(s-h)/p;return(r+d)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);let s=this.getPoint(r),o=this.getPoint(a),c=t||(s.isVector2?new ot:new Ne);return c.copy(o).sub(s).normalize(),c}getTangentAt(e,t){let n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){let n=new Ne,r=[],a=[],s=[],o=new Ne,c=new ni;for(let d=0;d<=e;d++){let m=d/e;r[d]=this.getTangentAt(m,new Ne)}a[0]=new Ne,s[0]=new Ne;let u=Number.MAX_VALUE,h=Math.abs(r[0].x),f=Math.abs(r[0].y),p=Math.abs(r[0].z);h<=u&&(u=h,n.set(1,0,0)),f<=u&&(u=f,n.set(0,1,0)),p<=u&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),a[0].crossVectors(r[0],o),s[0].crossVectors(r[0],a[0]);for(let d=1;d<=e;d++){if(a[d]=a[d-1].clone(),s[d]=s[d-1].clone(),o.crossVectors(r[d-1],r[d]),o.length()>Number.EPSILON){o.normalize();let m=Math.acos(gn(r[d-1].dot(r[d]),-1,1));a[d].applyMatrix4(c.makeRotationAxis(o,m))}s[d].crossVectors(r[d],a[d])}if(t===!0){let d=Math.acos(gn(a[0].dot(a[e]),-1,1));d/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(d=-d);for(let m=1;m<=e;m++)a[m].applyMatrix4(c.makeRotationAxis(r[m],d*m)),s[m].crossVectors(r[m],a[m])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},Wd=class extends xa{static{l(this,"EllipseCurve")}constructor(e=0,t=0,n=1,r=1,a=0,s=Math.PI*2,o=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=c}getPoint(e,t){let n=t||new ot,r=Math.PI*2,a=this.aEndAngle-this.aStartAngle,s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);let o=this.aStartAngle+e*a,c=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){let h=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=c-this.aX,d=u-this.aY;c=p*h-d*f+this.aX,u=p*f+d*h+this.aY}return n.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},Iy=class extends Wd{static{l(this,"ArcCurve")}constructor(e,t,n,r,a,s){super(e,t,n,n,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}};l(a4,"CubicPoly");Yb=new Ne,ZA=new a4,JA=new a4,KA=new a4,Cy=class extends xa{static{l(this,"CatmullRomCurve3")}constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new Ne){let n=t,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e,o=Math.floor(s),c=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:c===0&&o===a-1&&(o=a-2,c=1);let u,h;this.closed||o>0?u=r[(o-1)%a]:(Yb.subVectors(r[0],r[1]).add(r[0]),u=Yb);let f=r[o%a],p=r[(o+1)%a];if(this.closed||o+2<a?h=r[(o+2)%a]:(Yb.subVectors(r[a-1],r[a-2]).add(r[a-1]),h=Yb),this.curveType==="centripetal"||this.curveType==="chordal"){let d=this.curveType==="chordal"?.5:.25,m=Math.pow(u.distanceToSquared(f),d),y=Math.pow(f.distanceToSquared(p),d),g=Math.pow(p.distanceToSquared(h),d);y<1e-4&&(y=1),m<1e-4&&(m=y),g<1e-4&&(g=y),ZA.initNonuniformCatmullRom(u.x,f.x,p.x,h.x,m,y,g),JA.initNonuniformCatmullRom(u.y,f.y,p.y,h.y,m,y,g),KA.initNonuniformCatmullRom(u.z,f.z,p.z,h.z,m,y,g)}else this.curveType==="catmullrom"&&(ZA.initCatmullRom(u.x,f.x,p.x,h.x,this.tension),JA.initCatmullRom(u.y,f.y,p.y,h.y,this.tension),KA.initCatmullRom(u.z,f.z,p.z,h.z,this.tension));return n.set(ZA.calc(c),JA.calc(c),KA.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let r=e.points[t];this.points.push(new Ne().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};l(xF,"CatmullRom");l(lde,"QuadraticBezierP0");l(cde,"QuadraticBezierP1");l(ude,"QuadraticBezierP2");l(d_,"QuadraticBezier");l(hde,"CubicBezierP0");l(fde,"CubicBezierP1");l(dde,"CubicBezierP2");l(pde,"CubicBezierP3");l(p_,"CubicBezier");F_=class extends xa{static{l(this,"CubicBezierCurve")}constructor(e=new ot,t=new ot,n=new ot,r=new ot){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new ot){let n=t,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return n.set(p_(e,r.x,a.x,s.x,o.x),p_(e,r.y,a.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},Ly=class extends xa{static{l(this,"CubicBezierCurve3")}constructor(e=new Ne,t=new Ne,n=new Ne,r=new Ne){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Ne){let n=t,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return n.set(p_(e,r.x,a.x,s.x,o.x),p_(e,r.y,a.y,s.y,o.y),p_(e,r.z,a.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},jd=class extends xa{static{l(this,"LineCurve")}constructor(e=new ot,t=new ot){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ot){let n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ot){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Ny=class extends xa{static{l(this,"LineCurve3")}constructor(e=new Ne,t=new Ne){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Ne){let n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ne){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},U_=class extends xa{static{l(this,"QuadraticBezierCurve")}constructor(e=new ot,t=new ot,n=new ot){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ot){let n=t,r=this.v0,a=this.v1,s=this.v2;return n.set(d_(e,r.x,a.x,s.x),d_(e,r.y,a.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},z_=class extends xa{static{l(this,"QuadraticBezierCurve3")}constructor(e=new Ne,t=new Ne,n=new Ne){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ne){let n=t,r=this.v0,a=this.v1,s=this.v2;return n.set(d_(e,r.x,a.x,s.x),d_(e,r.y,a.y,s.y),d_(e,r.z,a.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},D_=class extends xa{static{l(this,"SplineCurve")}constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ot){let n=t,r=this.points,a=(r.length-1)*e,s=Math.floor(a),o=a-s,c=r[s===0?s:s-1],u=r[s],h=r[s>r.length-2?r.length-1:s+1],f=r[s>r.length-3?r.length-1:s+2];return n.set(xF(o,c.x,u.x,h.x,f.x),xF(o,c.y,u.y,h.y,f.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let r=e.points[t];this.points.push(r.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let r=e.points[t];this.points.push(new ot().fromArray(r))}return this}},s4=Object.freeze({__proto__:null,ArcCurve:Iy,CatmullRomCurve3:Cy,CubicBezierCurve:F_,CubicBezierCurve3:Ly,EllipseCurve:Wd,LineCurve:jd,LineCurve3:Ny,QuadraticBezierCurve:U_,QuadraticBezierCurve3:z_,SplineCurve:D_}),Oy=class extends xa{static{l(this,"CurvePath")}constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new jd(t,e))}getPoint(e,t){let n=e*this.getLength(),r=this.getCurveLengths(),a=0;for(;a<r.length;){if(r[a]>=n){let s=r[a]-n,o=this.curves[a],c=o.getLength(),u=c===0?0:1-s/c;return o.getPointAt(u,t)}a++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],n;for(let r=0,a=this.curves;r<a.length;r++){let s=a[r],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,c=s.getPoints(o);for(let u=0;u<c.length;u++){let h=c[u];n&&n.equals(h)||(t.push(h),n=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){let r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let r=e.curves[t];this.curves.push(new s4[r.type]().fromJSON(r))}return this}},ah=class extends Oy{static{l(this,"Path")}constructor(e){super(),this.type="Path",this.currentPoint=new ot,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let n=new jd(this.currentPoint.clone(),new ot(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){let a=new U_(this.currentPoint.clone(),new ot(e,t),new ot(n,r));return this.curves.push(a),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,a,s){let o=new F_(this.currentPoint.clone(),new ot(e,t),new ot(n,r),new ot(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),n=new D_(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,a,s){let o=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+o,t+c,n,r,a,s),this}absarc(e,t,n,r,a,s){return this.absellipse(e,t,n,n,r,a,s),this}ellipse(e,t,n,r,a,s,o,c){let u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,t+h,n,r,a,s,o,c),this}absellipse(e,t,n,r,a,s,o,c){let u=new Wd(e,t,n,r,a,s,o,c);if(this.curves.length>0){let f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);let h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},V_=class i extends ci{static{l(this,"LatheGeometry")}constructor(e=[new ot(0,-.5),new ot(.5,0),new ot(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=gn(r,0,Math.PI*2);let a=[],s=[],o=[],c=[],u=[],h=1/t,f=new Ne,p=new ot,d=new Ne,m=new Ne,y=new Ne,g=0,b=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:g=e[x+1].x-e[x].x,b=e[x+1].y-e[x].y,d.x=b*1,d.y=-g,d.z=b*0,y.copy(d),d.normalize(),c.push(d.x,d.y,d.z);break;case e.length-1:c.push(y.x,y.y,y.z);break;default:g=e[x+1].x-e[x].x,b=e[x+1].y-e[x].y,d.x=b*1,d.y=-g,d.z=b*0,m.copy(d),d.x+=y.x,d.y+=y.y,d.z+=y.z,d.normalize(),c.push(d.x,d.y,d.z),y.copy(m)}for(let x=0;x<=t;x++){let w=n+x*h*r,E=Math.sin(w),M=Math.cos(w);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*E,f.y=e[C].y,f.z=e[C].x*M,s.push(f.x,f.y,f.z),p.x=x/t,p.y=C/(e.length-1),o.push(p.x,p.y);let I=c[3*C+0]*E,F=c[3*C+1],A=c[3*C+0]*M;u.push(I,F,A)}}for(let x=0;x<t;x++)for(let w=0;w<e.length-1;w++){let E=w+x*e.length,M=E,C=E+e.length,I=E+e.length+1,F=E+1;a.push(M,C,F),a.push(I,F,C)}this.setIndex(a),this.setAttribute("position",new Ot(s,3)),this.setAttribute("uv",new Ot(o,2)),this.setAttribute("normal",new Ot(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.points,e.segments,e.phiStart,e.phiLength)}},By=class i extends V_{static{l(this,"CapsuleGeometry")}constructor(e=1,t=1,n=4,r=8){let a=new ah;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new i(e.radius,e.length,e.capSegments,e.radialSegments)}},Fy=class i extends ci{static{l(this,"CircleGeometry")}constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);let a=[],s=[],o=[],c=[],u=new Ne,h=new ot;s.push(0,0,0),o.push(0,0,1),c.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){let d=n+f/t*r;u.x=e*Math.cos(d),u.y=e*Math.sin(d),s.push(u.x,u.y,u.z),o.push(0,0,1),h.x=(s[p]/e+1)/2,h.y=(s[p+1]/e+1)/2,c.push(h.x,h.y)}for(let f=1;f<=t;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new Ot(s,3)),this.setAttribute("normal",new Ot(o,3)),this.setAttribute("uv",new Ot(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.radius,e.segments,e.thetaStart,e.thetaLength)}},$d=class i extends ci{static{l(this,"CylinderGeometry")}constructor(e=1,t=1,n=1,r=32,a=1,s=!1,o=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:c};let u=this;r=Math.floor(r),a=Math.floor(a);let h=[],f=[],p=[],d=[],m=0,y=[],g=n/2,b=0;x(),s===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(h),this.setAttribute("position",new Ot(f,3)),this.setAttribute("normal",new Ot(p,3)),this.setAttribute("uv",new Ot(d,2));function x(){let E=new Ne,M=new Ne,C=0,I=(t-e)/n;for(let F=0;F<=a;F++){let A=[],T=F/a,j=T*(t-e)+e;for(let R=0;R<=r;R++){let U=R/r,q=U*c+o,X=Math.sin(q),fe=Math.cos(q);M.x=j*X,M.y=-T*n+g,M.z=j*fe,f.push(M.x,M.y,M.z),E.set(X,I,fe).normalize(),p.push(E.x,E.y,E.z),d.push(U,1-T),A.push(m++)}y.push(A)}for(let F=0;F<r;F++)for(let A=0;A<a;A++){let T=y[A][F],j=y[A+1][F],R=y[A+1][F+1],U=y[A][F+1];h.push(T,j,U),h.push(j,R,U),C+=6}u.addGroup(b,C,0),b+=C}l(x,"generateTorso");function w(E){let M=m,C=new ot,I=new Ne,F=0,A=E===!0?e:t,T=E===!0?1:-1;for(let R=1;R<=r;R++)f.push(0,g*T,0),p.push(0,T,0),d.push(.5,.5),m++;let j=m;for(let R=0;R<=r;R++){let q=R/r*c+o,X=Math.cos(q),fe=Math.sin(q);I.x=A*fe,I.y=g*T,I.z=A*X,f.push(I.x,I.y,I.z),p.push(0,T,0),C.x=X*.5+.5,C.y=fe*.5*T+.5,d.push(C.x,C.y),m++}for(let R=0;R<r;R++){let U=M+R,q=j+R;E===!0?h.push(q,q+1,U):h.push(q+1,q,U),F+=3}u.addGroup(b,F,E===!0?1:2),b+=F}l(w,"generateCap")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},Uy=class i extends $d{static{l(this,"ConeGeometry")}constructor(e=1,t=1,n=32,r=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,n,r,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new i(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},xc=class i extends ci{static{l(this,"PolyhedronGeometry")}constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};let a=[],s=[];o(r),u(n),h(),this.setAttribute("position",new Ot(a,3)),this.setAttribute("normal",new Ot(a.slice(),3)),this.setAttribute("uv",new Ot(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(x){let w=new Ne,E=new Ne,M=new Ne;for(let C=0;C<t.length;C+=3)d(t[C+0],w),d(t[C+1],E),d(t[C+2],M),c(w,E,M,x)}l(o,"subdivide");function c(x,w,E,M){let C=M+1,I=[];for(let F=0;F<=C;F++){I[F]=[];let A=x.clone().lerp(E,F/C),T=w.clone().lerp(E,F/C),j=C-F;for(let R=0;R<=j;R++)R===0&&F===C?I[F][R]=A:I[F][R]=A.clone().lerp(T,R/j)}for(let F=0;F<C;F++)for(let A=0;A<2*(C-F)-1;A++){let T=Math.floor(A/2);A%2===0?(p(I[F][T+1]),p(I[F+1][T]),p(I[F][T])):(p(I[F][T+1]),p(I[F+1][T+1]),p(I[F+1][T]))}}l(c,"subdivideFace");function u(x){let w=new Ne;for(let E=0;E<a.length;E+=3)w.x=a[E+0],w.y=a[E+1],w.z=a[E+2],w.normalize().multiplyScalar(x),a[E+0]=w.x,a[E+1]=w.y,a[E+2]=w.z}l(u,"applyRadius");function h(){let x=new Ne;for(let w=0;w<a.length;w+=3){x.x=a[w+0],x.y=a[w+1],x.z=a[w+2];let E=g(x)/2/Math.PI+.5,M=b(x)/Math.PI+.5;s.push(E,1-M)}m(),f()}l(h,"generateUVs");function f(){for(let x=0;x<s.length;x+=6){let w=s[x+0],E=s[x+2],M=s[x+4],C=Math.max(w,E,M),I=Math.min(w,E,M);C>.9&&I<.1&&(w<.2&&(s[x+0]+=1),E<.2&&(s[x+2]+=1),M<.2&&(s[x+4]+=1))}}l(f,"correctSeam");function p(x){a.push(x.x,x.y,x.z)}l(p,"pushVertex");function d(x,w){let E=x*3;w.x=e[E+0],w.y=e[E+1],w.z=e[E+2]}l(d,"getVertexByIndex");function m(){let x=new Ne,w=new Ne,E=new Ne,M=new Ne,C=new ot,I=new ot,F=new ot;for(let A=0,T=0;A<a.length;A+=9,T+=6){x.set(a[A+0],a[A+1],a[A+2]),w.set(a[A+3],a[A+4],a[A+5]),E.set(a[A+6],a[A+7],a[A+8]),C.set(s[T+0],s[T+1]),I.set(s[T+2],s[T+3]),F.set(s[T+4],s[T+5]),M.copy(x).add(w).add(E).divideScalar(3);let j=g(M);y(C,T+0,x,j),y(I,T+2,w,j),y(F,T+4,E,j)}}l(m,"correctUVs");function y(x,w,E,M){M<0&&x.x===1&&(s[w]=x.x-1),E.x===0&&E.z===0&&(s[w]=M/2/Math.PI+.5)}l(y,"correctUV");function g(x){return Math.atan2(x.z,-x.x)}l(g,"azimuth");function b(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}l(b,"inclination")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.vertices,e.indices,e.radius,e.details)}},zy=class i extends xc{static{l(this,"DodecahedronGeometry")}constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,r=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i(e.radius,e.detail)}},Zb=new Ne,Jb=new Ne,QA=new Ne,Kb=new Zo,Dy=class extends ci{static{l(this,"EdgesGeometry")}constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){let r=Math.pow(10,4),a=Math.cos(eh*t),s=e.getIndex(),o=e.getAttribute("position"),c=s?s.count:o.count,u=[0,0,0],h=["a","b","c"],f=new Array(3),p={},d=[];for(let m=0;m<c;m+=3){s?(u[0]=s.getX(m),u[1]=s.getX(m+1),u[2]=s.getX(m+2)):(u[0]=m,u[1]=m+1,u[2]=m+2);let{a:y,b:g,c:b}=Kb;if(y.fromBufferAttribute(o,u[0]),g.fromBufferAttribute(o,u[1]),b.fromBufferAttribute(o,u[2]),Kb.getNormal(QA),f[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,f[1]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,f[2]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){let w=(x+1)%3,E=f[x],M=f[w],C=Kb[h[x]],I=Kb[h[w]],F=`${E}_${M}`,A=`${M}_${E}`;A in p&&p[A]?(QA.dot(p[A].normal)<=a&&(d.push(C.x,C.y,C.z),d.push(I.x,I.y,I.z)),p[A]=null):F in p||(p[F]={index0:u[x],index1:u[w],normal:QA.clone()})}}for(let m in p)if(p[m]){let{index0:y,index1:g}=p[m];Zb.fromBufferAttribute(o,y),Jb.fromBufferAttribute(o,g),d.push(Zb.x,Zb.y,Zb.z),d.push(Jb.x,Jb.y,Jb.z)}this.setAttribute("position",new Ot(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}},Ko=class extends ah{static{l(this,"Shape")}constructor(e){super(e),this.uuid=ba(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){let r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let r=e.holes[t];this.holes.push(new ah().fromJSON(r))}return this}},mde={triangulate:function(i,e,t=2){let n=e&&e.length,r=n?e[0]*t:i.length,a=nz(i,0,r,t,!0),s=[];if(!a||a.next===a.prev)return s;let o,c,u,h,f,p,d;if(n&&(a=vde(i,e,a,t)),i.length>80*t){o=u=i[0],c=h=i[1];for(let m=t;m<r;m+=t)f=i[m],p=i[m+1],f<o&&(o=f),p<c&&(c=p),f>u&&(u=f),p>h&&(h=p);d=Math.max(u-o,h-c),d=d!==0?32767/d:0}return q_(a,s,t,o,c,d,0),s}};l(nz,"linkedList");l(sh,"filterPoints");l(q_,"earcutLinked");l(_de,"isEar");l(gde,"isEarHashed");l(bde,"cureLocalIntersections");l(yde,"splitEarcut");l(vde,"eliminateHoles");l(wde,"compareX");l(xde,"eliminateHole");l(Sde,"findHoleBridge");l(Ede,"sectorContainsSector");l(Mde,"indexCurve");l(Ade,"sortLinked");l(iT,"zOrder");l(Tde,"getLeftmost");l(Pd,"pointInTriangle");l(kde,"isValidDiagonal");l(un,"area");l(Ev,"equals");l(rz,"intersects");l(Qb,"onSegment");l(ey,"sign");l(Rde,"intersectsPolygon");l(H_,"locallyInside");l(Pde,"middleInside");l(az,"splitPolygon");l(SF,"insertNode");l(G_,"removeNode");l(nT,"Node");l(Ide,"signedArea");to=class i{static{l(this,"ShapeUtils")}static area(e){let t=e.length,n=0;for(let r=t-1,a=0;a<t;r=a++)n+=e[r].x*e[a].y-e[a].x*e[r].y;return n*.5}static isClockWise(e){return i.area(e)<0}static triangulateShape(e,t){let n=[],r=[],a=[];EF(e),MF(n,e);let s=e.length;t.forEach(EF);for(let c=0;c<t.length;c++)r.push(s),s+=t[c].length,MF(n,t[c]);let o=mde.triangulate(n,r);for(let c=0;c<o.length;c+=3)a.push(o.slice(c,c+3));return a}};l(EF,"removeDupEndPts");l(MF,"addContour");Vy=class i extends ci{static{l(this,"ExtrudeGeometry")}constructor(e=new Ko([new ot(.5,.5),new ot(-.5,.5),new ot(-.5,-.5),new ot(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];let n=this,r=[],a=[];for(let o=0,c=e.length;o<c;o++){let u=e[o];s(u)}this.setAttribute("position",new Ot(r,3)),this.setAttribute("uv",new Ot(a,2)),this.computeVertexNormals();function s(o){let c=[],u=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1,p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,d=t.bevelThickness!==void 0?t.bevelThickness:.2,m=t.bevelSize!==void 0?t.bevelSize:d-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,g=t.bevelSegments!==void 0?t.bevelSegments:3,b=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:Cde,w,E=!1,M,C,I,F;b&&(w=b.getSpacedPoints(h),E=!0,p=!1,M=b.computeFrenetFrames(h,!1),C=new Ne,I=new Ne,F=new Ne),p||(g=0,d=0,m=0,y=0);let A=o.extractPoints(u),T=A.shape,j=A.holes;if(!to.isClockWise(T)){T=T.reverse();for(let S=0,G=j.length;S<G;S++){let Q=j[S];to.isClockWise(Q)&&(j[S]=Q.reverse())}}let U=to.triangulateShape(T,j),q=T;for(let S=0,G=j.length;S<G;S++){let Q=j[S];T=T.concat(Q)}function X(S,G,Q){return G||console.error("THREE.ExtrudeGeometry: vec does not exist"),S.clone().addScaledVector(G,Q)}l(X,"scalePt2");let fe=T.length,H=U.length;function Y(S,G,Q){let K,J,me,Se=S.x-G.x,Ie=S.y-G.y,Ce=Q.x-S.x,Xe=Q.y-S.y,nt=Se*Se+Ie*Ie,z=Se*Xe-Ie*Ce;if(Math.abs(z)>Number.EPSILON){let B=Math.sqrt(nt),Ae=Math.sqrt(Ce*Ce+Xe*Xe),W=G.x-Ie/B,L=G.y+Se/B,P=Q.x-Xe/Ae,se=Q.y+Ce/Ae,de=((P-W)*Xe-(se-L)*Ce)/(Se*Xe-Ie*Ce);K=W+Se*de-S.x,J=L+Ie*de-S.y;let O=K*K+J*J;if(O<=2)return new ot(K,J);me=Math.sqrt(O/2)}else{let B=!1;Se>Number.EPSILON?Ce>Number.EPSILON&&(B=!0):Se<-Number.EPSILON?Ce<-Number.EPSILON&&(B=!0):Math.sign(Ie)===Math.sign(Xe)&&(B=!0),B?(K=-Ie,J=Se,me=Math.sqrt(nt)):(K=Se,J=Ie,me=Math.sqrt(nt/2))}return new ot(K/me,J/me)}l(Y,"getBevelVec");let $=[];for(let S=0,G=q.length,Q=G-1,K=S+1;S<G;S++,Q++,K++)Q===G&&(Q=0),K===G&&(K=0),$[S]=Y(q[S],q[Q],q[K]);let Z=[],ie,ue=$.concat();for(let S=0,G=j.length;S<G;S++){let Q=j[S];ie=[];for(let K=0,J=Q.length,me=J-1,Se=K+1;K<J;K++,me++,Se++)me===J&&(me=0),Se===J&&(Se=0),ie[K]=Y(Q[K],Q[me],Q[Se]);Z.push(ie),ue=ue.concat(ie)}for(let S=0;S<g;S++){let G=S/g,Q=d*Math.cos(G*Math.PI/2),K=m*Math.sin(G*Math.PI/2)+y;for(let J=0,me=q.length;J<me;J++){let Se=X(q[J],$[J],K);ve(Se.x,Se.y,-Q)}for(let J=0,me=j.length;J<me;J++){let Se=j[J];ie=Z[J];for(let Ie=0,Ce=Se.length;Ie<Ce;Ie++){let Xe=X(Se[Ie],ie[Ie],K);ve(Xe.x,Xe.y,-Q)}}}let Me=m+y;for(let S=0;S<fe;S++){let G=p?X(T[S],ue[S],Me):T[S];E?(I.copy(M.normals[0]).multiplyScalar(G.x),C.copy(M.binormals[0]).multiplyScalar(G.y),F.copy(w[0]).add(I).add(C),ve(F.x,F.y,F.z)):ve(G.x,G.y,0)}for(let S=1;S<=h;S++)for(let G=0;G<fe;G++){let Q=p?X(T[G],ue[G],Me):T[G];E?(I.copy(M.normals[S]).multiplyScalar(Q.x),C.copy(M.binormals[S]).multiplyScalar(Q.y),F.copy(w[S]).add(I).add(C),ve(F.x,F.y,F.z)):ve(Q.x,Q.y,f/h*S)}for(let S=g-1;S>=0;S--){let G=S/g,Q=d*Math.cos(G*Math.PI/2),K=m*Math.sin(G*Math.PI/2)+y;for(let J=0,me=q.length;J<me;J++){let Se=X(q[J],$[J],K);ve(Se.x,Se.y,f+Q)}for(let J=0,me=j.length;J<me;J++){let Se=j[J];ie=Z[J];for(let Ie=0,Ce=Se.length;Ie<Ce;Ie++){let Xe=X(Se[Ie],ie[Ie],K);E?ve(Xe.x,Xe.y+w[h-1].y,w[h-1].x+Q):ve(Xe.x,Xe.y,f+Q)}}}Fe(),De();function Fe(){let S=r.length/3;if(p){let G=0,Q=fe*G;for(let K=0;K<H;K++){let J=U[K];we(J[2]+Q,J[1]+Q,J[0]+Q)}G=h+g*2,Q=fe*G;for(let K=0;K<H;K++){let J=U[K];we(J[0]+Q,J[1]+Q,J[2]+Q)}}else{for(let G=0;G<H;G++){let Q=U[G];we(Q[2],Q[1],Q[0])}for(let G=0;G<H;G++){let Q=U[G];we(Q[0]+fe*h,Q[1]+fe*h,Q[2]+fe*h)}}n.addGroup(S,r.length/3-S,0)}l(Fe,"buildLidFaces");function De(){let S=r.length/3,G=0;Ge(q,G),G+=q.length;for(let Q=0,K=j.length;Q<K;Q++){let J=j[Q];Ge(J,G),G+=J.length}n.addGroup(S,r.length/3-S,1)}l(De,"buildSideFaces");function Ge(S,G){let Q=S.length;for(;--Q>=0;){let K=Q,J=Q-1;J<0&&(J=S.length-1);for(let me=0,Se=h+g*2;me<Se;me++){let Ie=fe*me,Ce=fe*(me+1),Xe=G+K+Ie,nt=G+J+Ie,z=G+J+Ce,B=G+K+Ce;He(Xe,nt,z,B)}}}l(Ge,"sidewalls");function ve(S,G,Q){c.push(S),c.push(G),c.push(Q)}l(ve,"v");function we(S,G,Q){Ke(S),Ke(G),Ke(Q);let K=r.length/3,J=x.generateTopUV(n,r,K-3,K-2,K-1);Ze(J[0]),Ze(J[1]),Ze(J[2])}l(we,"f3");function He(S,G,Q,K){Ke(S),Ke(G),Ke(K),Ke(G),Ke(Q),Ke(K);let J=r.length/3,me=x.generateSideWallUV(n,r,J-6,J-3,J-2,J-1);Ze(me[0]),Ze(me[1]),Ze(me[3]),Ze(me[1]),Ze(me[2]),Ze(me[3])}l(He,"f4");function Ke(S){r.push(c[S*3+0]),r.push(c[S*3+1]),r.push(c[S*3+2])}l(Ke,"addVertex");function Ze(S){a.push(S.x),a.push(S.y)}l(Ze,"addUV")}l(s,"addShape")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return Lde(t,n,e)}static fromJSON(e,t){let n=[];for(let a=0,s=e.shapes.length;a<s;a++){let o=t[e.shapes[a]];n.push(o)}let r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new s4[r.type]().fromJSON(r)),new i(n,e.options)}},Cde={generateTopUV:function(i,e,t,n,r){let a=e[t*3],s=e[t*3+1],o=e[n*3],c=e[n*3+1],u=e[r*3],h=e[r*3+1];return[new ot(a,s),new ot(o,c),new ot(u,h)]},generateSideWallUV:function(i,e,t,n,r,a){let s=e[t*3],o=e[t*3+1],c=e[t*3+2],u=e[n*3],h=e[n*3+1],f=e[n*3+2],p=e[r*3],d=e[r*3+1],m=e[r*3+2],y=e[a*3],g=e[a*3+1],b=e[a*3+2];return Math.abs(o-h)<Math.abs(s-u)?[new ot(s,1-c),new ot(u,1-f),new ot(p,1-m),new ot(y,1-b)]:[new ot(o,1-c),new ot(h,1-f),new ot(d,1-m),new ot(g,1-b)]}};l(Lde,"toJSON$1");qy=class i extends xc{static{l(this,"IcosahedronGeometry")}constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i(e.radius,e.detail)}},W_=class i extends xc{static{l(this,"OctahedronGeometry")}constructor(e=1,t=0){let n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i(e.radius,e.detail)}},Hy=class i extends ci{static{l(this,"RingGeometry")}constructor(e=.5,t=1,n=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:a,thetaLength:s},n=Math.max(3,n),r=Math.max(1,r);let o=[],c=[],u=[],h=[],f=e,p=(t-e)/r,d=new Ne,m=new ot;for(let y=0;y<=r;y++){for(let g=0;g<=n;g++){let b=a+g/n*s;d.x=f*Math.cos(b),d.y=f*Math.sin(b),c.push(d.x,d.y,d.z),u.push(0,0,1),m.x=(d.x/t+1)/2,m.y=(d.y/t+1)/2,h.push(m.x,m.y)}f+=p}for(let y=0;y<r;y++){let g=y*(n+1);for(let b=0;b<n;b++){let x=b+g,w=x,E=x+n+1,M=x+n+2,C=x+1;o.push(w,E,C),o.push(E,M,C)}}this.setIndex(o),this.setAttribute("position",new Ot(c,3)),this.setAttribute("normal",new Ot(u,3)),this.setAttribute("uv",new Ot(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}},Gy=class i extends ci{static{l(this,"ShapeGeometry")}constructor(e=new Ko([new ot(0,.5),new ot(-.5,-.5),new ot(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};let n=[],r=[],a=[],s=[],o=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(o,c,h),o+=c,c=0;this.setIndex(n),this.setAttribute("position",new Ot(r,3)),this.setAttribute("normal",new Ot(a,3)),this.setAttribute("uv",new Ot(s,2));function u(h){let f=r.length/3,p=h.extractPoints(t),d=p.shape,m=p.holes;to.isClockWise(d)===!1&&(d=d.reverse());for(let g=0,b=m.length;g<b;g++){let x=m[g];to.isClockWise(x)===!0&&(m[g]=x.reverse())}let y=to.triangulateShape(d,m);for(let g=0,b=m.length;g<b;g++){let x=m[g];d=d.concat(x)}for(let g=0,b=d.length;g<b;g++){let x=d[g];r.push(x.x,x.y,0),a.push(0,0,1),s.push(x.x,x.y)}for(let g=0,b=y.length;g<b;g++){let x=y[g],w=x[0]+f,E=x[1]+f,M=x[2]+f;n.push(w,E,M),c+=3}}l(u,"addShape")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON(),t=this.parameters.shapes;return Nde(t,e)}static fromJSON(e,t){let n=[];for(let r=0,a=e.shapes.length;r<a;r++){let s=t[e.shapes[r]];n.push(s)}return new i(n,e.curveSegments)}};l(Nde,"toJSON");j_=class i extends ci{static{l(this,"SphereGeometry")}constructor(e=1,t=32,n=16,r=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));let c=Math.min(s+o,Math.PI),u=0,h=[],f=new Ne,p=new Ne,d=[],m=[],y=[],g=[];for(let b=0;b<=n;b++){let x=[],w=b/n,E=0;b===0&&s===0?E=.5/t:b===n&&c===Math.PI&&(E=-.5/t);for(let M=0;M<=t;M++){let C=M/t;f.x=-e*Math.cos(r+C*a)*Math.sin(s+w*o),f.y=e*Math.cos(s+w*o),f.z=e*Math.sin(r+C*a)*Math.sin(s+w*o),m.push(f.x,f.y,f.z),p.copy(f).normalize(),y.push(p.x,p.y,p.z),g.push(C+E,1-w),x.push(u++)}h.push(x)}for(let b=0;b<n;b++)for(let x=0;x<t;x++){let w=h[b][x+1],E=h[b][x],M=h[b+1][x],C=h[b+1][x+1];(b!==0||s>0)&&d.push(w,E,C),(b!==n-1||c<Math.PI)&&d.push(E,M,C)}this.setIndex(d),this.setAttribute("position",new Ot(m,3)),this.setAttribute("normal",new Ot(y,3)),this.setAttribute("uv",new Ot(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},Wy=class i extends xc{static{l(this,"TetrahedronGeometry")}constructor(e=1,t=0){let n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i(e.radius,e.detail)}},jy=class i extends ci{static{l(this,"TorusGeometry")}constructor(e=1,t=.4,n=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:a},n=Math.floor(n),r=Math.floor(r);let s=[],o=[],c=[],u=[],h=new Ne,f=new Ne,p=new Ne;for(let d=0;d<=n;d++)for(let m=0;m<=r;m++){let y=m/r*a,g=d/n*Math.PI*2;f.x=(e+t*Math.cos(g))*Math.cos(y),f.y=(e+t*Math.cos(g))*Math.sin(y),f.z=t*Math.sin(g),o.push(f.x,f.y,f.z),h.x=e*Math.cos(y),h.y=e*Math.sin(y),p.subVectors(f,h).normalize(),c.push(p.x,p.y,p.z),u.push(m/r),u.push(d/n)}for(let d=1;d<=n;d++)for(let m=1;m<=r;m++){let y=(r+1)*d+m-1,g=(r+1)*(d-1)+m-1,b=(r+1)*(d-1)+m,x=(r+1)*d+m;s.push(y,g,x),s.push(g,b,x)}this.setIndex(s),this.setAttribute("position",new Ot(o,3)),this.setAttribute("normal",new Ot(c,3)),this.setAttribute("uv",new Ot(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},$y=class i extends ci{static{l(this,"TorusKnotGeometry")}constructor(e=1,t=.4,n=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:a,q:s},n=Math.floor(n),r=Math.floor(r);let o=[],c=[],u=[],h=[],f=new Ne,p=new Ne,d=new Ne,m=new Ne,y=new Ne,g=new Ne,b=new Ne;for(let w=0;w<=n;++w){let E=w/n*a*Math.PI*2;x(E,a,s,e,d),x(E+.01,a,s,e,m),g.subVectors(m,d),b.addVectors(m,d),y.crossVectors(g,b),b.crossVectors(y,g),y.normalize(),b.normalize();for(let M=0;M<=r;++M){let C=M/r*Math.PI*2,I=-t*Math.cos(C),F=t*Math.sin(C);f.x=d.x+(I*b.x+F*y.x),f.y=d.y+(I*b.y+F*y.y),f.z=d.z+(I*b.z+F*y.z),c.push(f.x,f.y,f.z),p.subVectors(f,d).normalize(),u.push(p.x,p.y,p.z),h.push(w/n),h.push(M/r)}}for(let w=1;w<=n;w++)for(let E=1;E<=r;E++){let M=(r+1)*(w-1)+(E-1),C=(r+1)*w+(E-1),I=(r+1)*w+E,F=(r+1)*(w-1)+E;o.push(M,C,F),o.push(C,I,F)}this.setIndex(o),this.setAttribute("position",new Ot(c,3)),this.setAttribute("normal",new Ot(u,3)),this.setAttribute("uv",new Ot(h,2));function x(w,E,M,C,I){let F=Math.cos(w),A=Math.sin(w),T=M/E*w,j=Math.cos(T);I.x=C*(2+j)*.5*F,I.y=C*(2+j)*A*.5,I.z=C*Math.sin(T)*.5}l(x,"calculatePositionOnCurve")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}},Xy=class i extends ci{static{l(this,"TubeGeometry")}constructor(e=new z_(new Ne(-1,-1,0),new Ne(-1,1,0),new Ne(1,1,0)),t=64,n=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:a};let s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;let o=new Ne,c=new Ne,u=new ot,h=new Ne,f=[],p=[],d=[],m=[];y(),this.setIndex(m),this.setAttribute("position",new Ot(f,3)),this.setAttribute("normal",new Ot(p,3)),this.setAttribute("uv",new Ot(d,2));function y(){for(let w=0;w<t;w++)g(w);g(a===!1?t:0),x(),b()}l(y,"generateBufferData");function g(w){h=e.getPointAt(w/t,h);let E=s.normals[w],M=s.binormals[w];for(let C=0;C<=r;C++){let I=C/r*Math.PI*2,F=Math.sin(I),A=-Math.cos(I);c.x=A*E.x+F*M.x,c.y=A*E.y+F*M.y,c.z=A*E.z+F*M.z,c.normalize(),p.push(c.x,c.y,c.z),o.x=h.x+n*c.x,o.y=h.y+n*c.y,o.z=h.z+n*c.z,f.push(o.x,o.y,o.z)}}l(g,"generateSegment");function b(){for(let w=1;w<=t;w++)for(let E=1;E<=r;E++){let M=(r+1)*(w-1)+(E-1),C=(r+1)*w+(E-1),I=(r+1)*w+E,F=(r+1)*(w-1)+E;m.push(M,C,F),m.push(C,I,F)}}l(b,"generateIndices");function x(){for(let w=0;w<=t;w++)for(let E=0;E<=r;E++)u.x=w/t,u.y=E/r,d.push(u.x,u.y)}l(x,"generateUVs")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new i(new s4[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}},Yy=class extends ci{static{l(this,"WireframeGeometry")}constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){let t=[],n=new Set,r=new Ne,a=new Ne;if(e.index!==null){let s=e.attributes.position,o=e.index,c=e.groups;c.length===0&&(c=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,h=c.length;u<h;++u){let f=c[u],p=f.start,d=f.count;for(let m=p,y=p+d;m<y;m+=3)for(let g=0;g<3;g++){let b=o.getX(m+g),x=o.getX(m+(g+1)%3);r.fromBufferAttribute(s,b),a.fromBufferAttribute(s,x),AF(r,a,n)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{let s=e.attributes.position;for(let o=0,c=s.count/3;o<c;o++)for(let u=0;u<3;u++){let h=3*o+u,f=3*o+(u+1)%3;r.fromBufferAttribute(s,h),a.fromBufferAttribute(s,f),AF(r,a,n)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Ot(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}};l(AF,"isUniqueEdge");TF=Object.freeze({__proto__:null,BoxGeometry:sn,CapsuleGeometry:By,CircleGeometry:Fy,ConeGeometry:Uy,CylinderGeometry:$d,DodecahedronGeometry:zy,EdgesGeometry:Dy,ExtrudeGeometry:Vy,IcosahedronGeometry:qy,LatheGeometry:V_,OctahedronGeometry:W_,PlaneGeometry:Qo,PolyhedronGeometry:xc,RingGeometry:Hy,ShapeGeometry:Gy,SphereGeometry:j_,TetrahedronGeometry:Wy,TorusGeometry:jy,TorusKnotGeometry:$y,TubeGeometry:Xy,WireframeGeometry:Yy}),Zy=class extends tr{static{l(this,"ShadowMaterial")}constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ct(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}},Jy=class extends Fr{static{l(this,"RawShaderMaterial")}constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}},As=class extends tr{static{l(this,"MeshStandardMaterial")}constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ct(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ac,this.normalScale=new ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},Ky=class extends As{static{l(this,"MeshPhysicalMaterial")}constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ot(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return gn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ct(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ct(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ct(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}},Qy=class extends tr{static{l(this,"MeshPhongMaterial")}constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ct(16777215),this.specular=new Ct(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ac,this.normalScale=new ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=r0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},ev=class extends tr{static{l(this,"MeshToonMaterial")}constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ct(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ac,this.normalScale=new ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},tv=class extends tr{static{l(this,"MeshNormalMaterial")}constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ac,this.normalScale=new ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}},Xd=class extends tr{static{l(this,"MeshLambertMaterial")}constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ac,this.normalScale=new ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=r0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},iv=class extends tr{static{l(this,"MeshMatcapMaterial")}constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ct(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ac,this.normalScale=new ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}},nv=class extends ur{static{l(this,"LineDashedMaterial")}constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}};l(Ja,"arraySlice");l(Ku,"convertArray");l(o4,"isTypedArray");l(sz,"getKeyframeOrder");l(rT,"sortedArray");l(l4,"flattenJSON");l(Ode,"subclip");l(Bde,"makeClipAdditive");Fde={arraySlice:Ja,convertArray:Ku,isTypedArray:o4,getKeyframeOrder:sz,sortedArray:rT,flattenJSON:l4,subclip:Ode,makeClipAdditive:Bde},oh=class{static{l(this,"Interpolant")}constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,n=this._cachedIndex,r=t[n],a=t[n-1];e:{t:{let s;i:{n:if(!(e<r)){for(let o=n+2;;){if(r===void 0){if(e<a)break n;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(a=r,r=t[++n],e<r)break t}s=t.length;break i}if(!(e>=a)){let o=t[1];e<o&&(n=2,a=o);for(let c=n-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===c)break;if(r=a,a=t[--n-1],e>=a)break t}s=n,n=0;break i}break e}for(;n<s;){let o=n+s>>>1;e<t[o]?s=o:n=o+1}if(r=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,r)}return this.interpolate_(n,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)t[s]=n[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},rv=class extends oh{static{l(this,"CubicInterpolant")}constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Zu,endingEnd:Zu}}intervalChanged_(e,t,n){let r=this.parameterPositions,a=e-2,s=e+1,o=r[a],c=r[s];if(o===void 0)switch(this.getSettings_().endingStart){case Ju:a=e,o=2*t-n;break;case w_:a=r.length-2,o=t+r[a]-r[a+1];break;default:a=e,o=n}if(c===void 0)switch(this.getSettings_().endingEnd){case Ju:s=e,c=2*n-t;break;case w_:s=1,c=n+r[1]-r[0];break;default:s=e-1,c=t}let u=(n-t)*.5,h=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(c-n),this._offsetPrev=a*h,this._offsetNext=s*h}interpolate_(e,t,n,r){let a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,h=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,d=this._weightNext,m=(n-t)/(r-t),y=m*m,g=y*m,b=-p*g+2*p*y-p*m,x=(1+p)*g+(-1.5-2*p)*y+(-.5+p)*m+1,w=(-1-d)*g+(1.5+d)*y+.5*m,E=d*g-d*y;for(let M=0;M!==o;++M)a[M]=b*s[h+M]+x*s[u+M]+w*s[c+M]+E*s[f+M];return a}},$_=class extends oh{static{l(this,"LinearInterpolant")}constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){let a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,h=(n-t)/(r-t),f=1-h;for(let p=0;p!==o;++p)a[p]=s[u+p]*f+s[c+p]*h;return a}},av=class extends oh{static{l(this,"DiscreteInterpolant")}constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}},Sa=class{static{l(this,"KeyframeTrack")}constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ku(t,this.TimeBufferType),this.values=Ku(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Ku(e.times,Array),values:Ku(e.values,Array)};let r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new av(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new $_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new rv(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case y_:t=this.InterpolantFactoryMethodDiscrete;break;case v_:t=this.InterpolantFactoryMethodLinear;break;case dy:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return y_;case this.InterpolantFactoryMethodLinear:return v_;case this.InterpolantFactoryMethodSmooth:return dy}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){let n=this.times,r=n.length,a=0,s=r-1;for(;a!==r&&n[a]<e;)++a;for(;s!==-1&&n[s]>t;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);let o=this.getValueSize();this.times=Ja(n,a,s),this.values=Ja(this.values,a*o,s*o)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let n=this.times,r=this.values,a=n.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){let c=n[o];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(s!==null&&s>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,c,s),e=!1;break}s=c}if(r!==void 0&&o4(r))for(let o=0,c=r.length;o!==c;++o){let u=r[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){let e=Ja(this.times),t=Ja(this.values),n=this.getValueSize(),r=this.getInterpolation()===dy,a=e.length-1,s=1;for(let o=1;o<a;++o){let c=!1,u=e[o],h=e[o+1];if(u!==h&&(o!==1||u!==e[0]))if(r)c=!0;else{let f=o*n,p=f-n,d=f+n;for(let m=0;m!==n;++m){let y=t[f+m];if(y!==t[p+m]||y!==t[d+m]){c=!0;break}}}if(c){if(o!==s){e[s]=e[o];let f=o*n,p=s*n;for(let d=0;d!==n;++d)t[p+d]=t[f+d]}++s}}if(a>0){e[s]=e[a];for(let o=a*n,c=s*n,u=0;u!==n;++u)t[c+u]=t[o+u];++s}return s!==e.length?(this.times=Ja(e,0,s),this.values=Ja(t,0,s*n)):(this.times=e,this.values=t),this}clone(){let e=Ja(this.times,0),t=Ja(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}};Sa.prototype.TimeBufferType=Float32Array;Sa.prototype.ValueBufferType=Float32Array;Sa.prototype.DefaultInterpolation=v_;el=class extends Sa{static{l(this,"BooleanKeyframeTrack")}};el.prototype.ValueTypeName="bool";el.prototype.ValueBufferType=Array;el.prototype.DefaultInterpolation=y_;el.prototype.InterpolantFactoryMethodLinear=void 0;el.prototype.InterpolantFactoryMethodSmooth=void 0;X_=class extends Sa{static{l(this,"ColorKeyframeTrack")}};X_.prototype.ValueTypeName="color";lh=class extends Sa{static{l(this,"NumberKeyframeTrack")}};lh.prototype.ValueTypeName="number";sv=class extends oh{static{l(this,"QuaternionLinearInterpolant")}constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){let a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=(n-t)/(r-t),u=e*o;for(let h=u+o;u!==h;u+=4)Dn.slerpFlat(a,0,s,u-o,s,u,c);return a}},Sc=class extends Sa{static{l(this,"QuaternionKeyframeTrack")}InterpolantFactoryMethodLinear(e){return new sv(this.times,this.values,this.getValueSize(),e)}};Sc.prototype.ValueTypeName="quaternion";Sc.prototype.DefaultInterpolation=v_;Sc.prototype.InterpolantFactoryMethodSmooth=void 0;tl=class extends Sa{static{l(this,"StringKeyframeTrack")}};tl.prototype.ValueTypeName="string";tl.prototype.ValueBufferType=Array;tl.prototype.DefaultInterpolation=y_;tl.prototype.InterpolantFactoryMethodLinear=void 0;tl.prototype.InterpolantFactoryMethodSmooth=void 0;ch=class extends Sa{static{l(this,"VectorKeyframeTrack")}};ch.prototype.ValueTypeName="vector";uh=class{static{l(this,"AnimationClip")}constructor(e,t=-1,n,r=wv){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=ba(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],n=e.tracks,r=1/(e.fps||1);for(let s=0,o=n.length;s!==o;++s)t.push(zde(n[s]).scale(r));let a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){let t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=n.length;a!==s;++a)t.push(Sa.toJSON(n[a]));return r}static CreateFromMorphTargetSequence(e,t,n,r){let a=t.length,s=[];for(let o=0;o<a;o++){let c=[],u=[];c.push((o+a-1)%a,o,(o+1)%a),u.push(0,1,0);let h=sz(c);c=rT(c,1,h),u=rT(u,1,h),!r&&c[0]===0&&(c.push(a),u.push(u[0])),s.push(new lh(".morphTargetInfluences["+t[o].name+"]",c,u).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){let r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){let r={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,c=e.length;o<c;o++){let u=e[o],h=u.name.match(a);if(h&&h.length>1){let f=h[1],p=r[f];p||(r[f]=p=[]),p.push(u)}}let s=[];for(let o in r)s.push(this.CreateFromMorphTargetSequence(o,r[o],t,n));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let n=l(function(f,p,d,m,y){if(d.length!==0){let g=[],b=[];l4(d,g,b,m),g.length!==0&&y.push(new f(p,g,b))}},"addNonemptyTrack"),r=[],a=e.name||"default",s=e.fps||30,o=e.blendMode,c=e.length||-1,u=e.hierarchy||[];for(let f=0;f<u.length;f++){let p=u[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){let d={},m;for(m=0;m<p.length;m++)if(p[m].morphTargets)for(let y=0;y<p[m].morphTargets.length;y++)d[p[m].morphTargets[y]]=-1;for(let y in d){let g=[],b=[];for(let x=0;x!==p[m].morphTargets.length;++x){let w=p[m];g.push(w.time),b.push(w.morphTarget===y?1:0)}r.push(new lh(".morphTargetInfluence["+y+"]",g,b))}c=d.length*s}else{let d=".bones["+t[f].name+"]";n(ch,d+".position",p,"pos",r),n(Sc,d+".quaternion",p,"rot",r),n(ch,d+".scale",p,"scl",r)}}return r.length===0?null:new this(a,c,r,o)}resetDuration(){let e=this.tracks,t=0;for(let n=0,r=e.length;n!==r;++n){let a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};l(Ude,"getTrackTypeForValueTypeName");l(zde,"parseKeyframeTrack");hh={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}},Y_=class{static{l(this,"LoadingManager")}constructor(e,t,n){let r=this,a=!1,s=0,o=0,c,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(h){o++,a===!1&&r.onStart!==void 0&&r.onStart(h,s,o),a=!0},this.itemEnd=function(h){s++,r.onProgress!==void 0&&r.onProgress(h,s,o),s===o&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return c?c(h):h},this.setURLModifier=function(h){return c=h,this},this.addHandler=function(h,f){return u.push(h,f),this},this.removeHandler=function(h){let f=u.indexOf(h);return f!==-1&&u.splice(f,2),this},this.getHandler=function(h){for(let f=0,p=u.length;f<p;f+=2){let d=u[f],m=u[f+1];if(d.global&&(d.lastIndex=0),d.test(h))return m}return null}}},oz=new Y_,yr=class{static{l(this,"Loader")}constructor(e){this.manager=e!==void 0?e:oz,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let n=this;return new Promise(function(r,a){n.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};yr.DEFAULT_MATERIAL_NAME="__DEFAULT";jo={},aT=class extends Error{static{l(this,"HttpError")}constructor(e,t){super(e),this.response=t}},Ts=class extends yr{static{l(this,"FileLoader")}constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=hh.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(jo[e]!==void 0){jo[e].push({onLoad:t,onProgress:n,onError:r});return}jo[e]=[],jo[e].push({onLoad:t,onProgress:n,onError:r});let s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,c=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;let h=jo[e],f=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),d=p?parseInt(p):0,m=d!==0,y=0,g=new ReadableStream({start(b){x();function x(){f.read().then(({done:w,value:E})=>{if(w)b.close();else{y+=E.byteLength;let M=new ProgressEvent("progress",{lengthComputable:m,loaded:y,total:d});for(let C=0,I=h.length;C<I;C++){let F=h[C];F.onProgress&&F.onProgress(M)}b.enqueue(E),x()}})}l(x,"readData")}});return new Response(g)}else throw new aT(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,o));case"json":return u.json();default:if(o===void 0)return u.text();{let f=/charset="?([^;"\s]*)"?/i.exec(o),p=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(p);return u.arrayBuffer().then(m=>d.decode(m))}}}).then(u=>{hh.add(e,u);let h=jo[e];delete jo[e];for(let f=0,p=h.length;f<p;f++){let d=h[f];d.onLoad&&d.onLoad(u)}}).catch(u=>{let h=jo[e];if(h===void 0)throw this.manager.itemError(e),u;delete jo[e];for(let f=0,p=h.length;f<p;f++){let d=h[f];d.onError&&d.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},sT=class extends yr{static{l(this,"AnimationLoader")}constructor(e){super(e)}load(e,t,n,r){let a=this,s=new Ts(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),a.manager.itemError(e)}},n,r)}parse(e){let t=[];for(let n=0;n<e.length;n++){let r=uh.parse(e[n]);t.push(r)}return t}},oT=class extends yr{static{l(this,"CompressedTextureLoader")}constructor(e){super(e)}load(e,t,n,r){let a=this,s=[],o=new O_,c=new Ts(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(a.withCredentials);let u=0;function h(f){c.load(e[f],function(p){let d=a.parse(p,!0);s[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},u+=1,u===6&&(d.mipmapCount===1&&(o.minFilter=rn),o.image=s,o.format=d.format,o.needsUpdate=!0,t&&t(o))},n,r)}if(l(h,"loadTexture"),Array.isArray(e))for(let f=0,p=e.length;f<p;++f)h(f);else c.load(e,function(f){let p=a.parse(f,!0);if(p.isCubemap){let d=p.mipmaps.length/p.mipmapCount;for(let m=0;m<d;m++){s[m]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)s[m].mipmaps.push(p.mipmaps[m*p.mipmapCount+y]),s[m].format=p.format,s[m].width=p.width,s[m].height=p.height}o.image=s}else o.image.width=p.width,o.image.height=p.height,o.mipmaps=p.mipmaps;p.mipmapCount===1&&(o.minFilter=rn),o.format=p.format,o.needsUpdate=!0,t&&t(o)},n,r);return o}},fh=class extends yr{static{l(this,"ImageLoader")}constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=this,s=hh.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;let o=E_("img");function c(){h(),hh.add(e,this),t&&t(this),a.manager.itemEnd(e)}l(c,"onImageLoad");function u(f){h(),r&&r(f),a.manager.itemError(e),a.manager.itemEnd(e)}l(u,"onImageError");function h(){o.removeEventListener("load",c,!1),o.removeEventListener("error",u,!1)}return l(h,"removeEventListeners"),o.addEventListener("load",c,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}},lT=class extends yr{static{l(this,"CubeTextureLoader")}constructor(e){super(e)}load(e,t,n,r){let a=new ih;a.colorSpace=ti;let s=new fh(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function c(u){s.load(e[u],function(h){a.images[u]=h,o++,o===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}l(c,"loadTexture");for(let u=0;u<e.length;++u)c(u);return a}},cT=class extends yr{static{l(this,"DataTextureLoader")}constructor(e){super(e)}load(e,t,n,r){let a=this,s=new _c,o=new Ts(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(c){let u=a.parse(c);u&&(u.image!==void 0?s.image=u.image:u.data!==void 0&&(s.image.width=u.width,s.image.height=u.height,s.image.data=u.data),s.wrapS=u.wrapS!==void 0?u.wrapS:br,s.wrapT=u.wrapT!==void 0?u.wrapT:br,s.magFilter=u.magFilter!==void 0?u.magFilter:rn,s.minFilter=u.minFilter!==void 0?u.minFilter:rn,s.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?s.colorSpace=u.colorSpace:u.encoding!==void 0&&(s.encoding=u.encoding),u.flipY!==void 0&&(s.flipY=u.flipY),u.format!==void 0&&(s.format=u.format),u.type!==void 0&&(s.type=u.type),u.mipmaps!==void 0&&(s.mipmaps=u.mipmaps,s.minFilter=yc),u.mipmapCount===1&&(s.minFilter=rn),u.generateMipmaps!==void 0&&(s.generateMipmaps=u.generateMipmaps),s.needsUpdate=!0,t&&t(s,u))},n,r),s}},uT=class extends yr{static{l(this,"TextureLoader")}constructor(e){super(e)}load(e,t,n,r){let a=new kn,s=new fh(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},n,r),a}},ro=class extends Ni{static{l(this,"Light")}constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ct(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}},ov=class extends ro{static{l(this,"HemisphereLight")}constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ni.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ct(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},e3=new ni,kF=new Ne,RF=new Ne,Z_=class{static{l(this,"LightShadow")}constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ot(512,512),this.map=null,this.mapPass=null,this.matrix=new ni,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new zd,this._frameExtents=new ot(1,1),this._viewportCount=1,this._viewports=[new Vi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,n=this.matrix;kF.setFromMatrixPosition(e.matrixWorld),t.position.copy(kF),RF.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(RF),t.updateMatrixWorld(),e3.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(e3),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e3)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},hT=class extends Z_{static{l(this,"SpotLightShadow")}constructor(){super(new Tn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,n=Nd*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(n!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},lv=class extends ro{static{l(this,"SpotLight")}constructor(e,t,n=0,r=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ni.DEFAULT_UP),this.updateMatrix(),this.target=new Ni,this.distance=n,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new hT}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},PF=new ni,s_=new Ne,t3=new Ne,fT=class extends Z_{static{l(this,"PointLightShadow")}constructor(){super(new Tn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ot(4,2),this._viewportCount=6,this._viewports=[new Vi(2,1,1,1),new Vi(0,1,1,1),new Vi(3,1,1,1),new Vi(1,1,1,1),new Vi(3,0,1,1),new Vi(1,0,1,1)],this._cubeDirections=[new Ne(1,0,0),new Ne(-1,0,0),new Ne(0,0,1),new Ne(0,0,-1),new Ne(0,1,0),new Ne(0,-1,0)],this._cubeUps=[new Ne(0,1,0),new Ne(0,1,0),new Ne(0,1,0),new Ne(0,1,0),new Ne(0,0,1),new Ne(0,0,-1)]}updateMatrices(e,t=0){let n=this.camera,r=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),s_.setFromMatrixPosition(e.matrixWorld),n.position.copy(s_),t3.copy(n.position),t3.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(t3),n.updateMatrixWorld(),r.makeTranslation(-s_.x,-s_.y,-s_.z),PF.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(PF)}},cv=class extends ro{static{l(this,"PointLight")}constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new fT}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},dT=class extends Z_{static{l(this,"DirectionalLightShadow")}constructor(){super(new io(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},Yd=class extends ro{static{l(this,"DirectionalLight")}constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ni.DEFAULT_UP),this.updateMatrix(),this.target=new Ni,this.shadow=new dT}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},Zd=class extends ro{static{l(this,"AmbientLight")}constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}},uv=class extends ro{static{l(this,"RectAreaLight")}constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){let t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}},hv=class{static{l(this,"SphericalHarmonics3")}constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ne)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){let n=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],1.092548*(n*r)),t.addScaledVector(s[5],1.092548*(r*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(n*a)),t.addScaledVector(s[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){let n=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*r),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*n),t.addScaledVector(s[4],2*.429043*n*r),t.addScaledVector(s[5],2*.429043*r*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*n*a),t.addScaledVector(s[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){let n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){let n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){let n=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-r*r)}},Jd=class extends ro{static{l(this,"LightProbe")}constructor(e=new hv,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){let t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}},fv=class i extends yr{static{l(this,"MaterialLoader")}constructor(e){super(e),this.textures={}}load(e,t,n,r){let a=this,s=new Ts(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),a.manager.itemError(e)}},n,r)}parse(e){let t=this.textures;function n(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}l(n,"getTexture");let r=i.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ct().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(let a in e.uniforms){let s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=n(s.value);break;case"c":r.uniforms[a].value=new Ct().setHex(s.value);break;case"v2":r.uniforms[a].value=new ot().fromArray(s.value);break;case"v3":r.uniforms[a].value=new Ne().fromArray(s.value);break;case"v4":r.uniforms[a].value=new Vi().fromArray(s.value);break;case"m3":r.uniforms[a].value=new fi().fromArray(s.value);break;case"m4":r.uniforms[a].value=new ni().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(let a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new ot().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ot().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){let t={ShadowMaterial:Zy,SpriteMaterial:rh,RawShaderMaterial:Jy,ShaderMaterial:Fr,PointsMaterial:N_,MeshPhysicalMaterial:Ky,MeshStandardMaterial:As,MeshPhongMaterial:Qy,MeshToonMaterial:ev,MeshNormalMaterial:tv,MeshLambertMaterial:Xd,MeshDepthMaterial:I_,MeshDistanceMaterial:C_,MeshBasicMaterial:ts,MeshMatcapMaterial:iv,LineDashedMaterial:nv,LineBasicMaterial:ur,Material:tr};return new t[e]}},J_=class{static{l(this,"LoaderUtils")}static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){let t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}},dv=class extends ci{static{l(this,"InstancedBufferGeometry")}constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},pv=class extends yr{static{l(this,"BufferGeometryLoader")}constructor(e){super(e)}load(e,t,n,r){let a=this,s=new Ts(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),a.manager.itemError(e)}},n,r)}parse(e){let t={},n={};function r(d,m){if(t[m]!==void 0)return t[m];let g=d.interleavedBuffers[m],b=a(d,g.buffer),x=kd(g.type,b),w=new Hd(x,g.stride);return w.uuid=g.uuid,t[m]=w,w}l(r,"getInterleavedBuffer");function a(d,m){if(n[m]!==void 0)return n[m];let g=d.arrayBuffers[m],b=new Uint32Array(g).buffer;return n[m]=b,b}l(a,"getArrayBuffer");let s=e.isInstancedBufferGeometry?new dv:new ci,o=e.data.index;if(o!==void 0){let d=kd(o.type,o.array);s.setIndex(new Ai(d,1))}let c=e.data.attributes;for(let d in c){let m=c[d],y;if(m.isInterleavedBufferAttribute){let g=r(e.data,m.data);y=new nh(g,m.itemSize,m.offset,m.normalized)}else{let g=kd(m.type,m.array),b=m.isInstancedBufferAttribute?wc:Ai;y=new b(g,m.itemSize,m.normalized)}m.name!==void 0&&(y.name=m.name),m.usage!==void 0&&y.setUsage(m.usage),m.updateRange!==void 0&&(y.updateRange.offset=m.updateRange.offset,y.updateRange.count=m.updateRange.count),s.setAttribute(d,y)}let u=e.data.morphAttributes;if(u)for(let d in u){let m=u[d],y=[];for(let g=0,b=m.length;g<b;g++){let x=m[g],w;if(x.isInterleavedBufferAttribute){let E=r(e.data,x.data);w=new nh(E,x.itemSize,x.offset,x.normalized)}else{let E=kd(x.type,x.array);w=new Ai(E,x.itemSize,x.normalized)}x.name!==void 0&&(w.name=x.name),y.push(w)}s.morphAttributes[d]=y}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);let f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,m=f.length;d!==m;++d){let y=f[d];s.addGroup(y.start,y.count,y.materialIndex)}let p=e.data.boundingSphere;if(p!==void 0){let d=new Ne;p.center!==void 0&&d.fromArray(p.center),s.boundingSphere=new wa(d,p.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}},pT=class extends yr{static{l(this,"ObjectLoader")}constructor(e){super(e)}load(e,t,n,r){let a=this,s=this.path===""?J_.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;let o=new Ts(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){let u=null;try{u=JSON.parse(c)}catch(f){r!==void 0&&r(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}let h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(u,t)},n,r)}async loadAsync(e,t){let n=this,r=this.path===""?J_.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;let a=new Ts(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);let s=await a.loadAsync(e,t),o=JSON.parse(s),c=o.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(o)}parse(e,t){let n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,s),c=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,a,c,o,n),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),t!==void 0){let f=!1;for(let p in s)if(s[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){let t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,r,o,s,t),u=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,u),c}parseShapes(e){let t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){let a=new Ko().fromJSON(e[n]);t[a.uuid]=a}return t}parseSkeletons(e,t){let n={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){let o=new Ty().fromJSON(e[a],r);n[o.uuid]=o}return n}parseGeometries(e,t){let n={};if(e!==void 0){let r=new pv;for(let a=0,s=e.length;a<s;a++){let o,c=e[a];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(c);break;default:c.type in TF?o=TF[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}o.uuid=c.uuid,c.name!==void 0&&(o.name=c.name),c.userData!==void 0&&(o.userData=c.userData),n[c.uuid]=o}}return n}parseMaterials(e,t){let n={},r={};if(e!==void 0){let a=new fv;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){let c=e[s];n[c.uuid]===void 0&&(n[c.uuid]=a.parse(c)),r[c.uuid]=n[c.uuid]}}return r}parseAnimations(e){let t={};if(e!==void 0)for(let n=0;n<e.length;n++){let r=e[n],a=uh.parse(r);t[a.uuid]=a}return t}parseImages(e,t){let n=this,r={},a;function s(c){return n.manager.itemStart(c),a.load(c,function(){n.manager.itemEnd(c)},void 0,function(){n.manager.itemError(c),n.manager.itemEnd(c)})}l(s,"loadImage");function o(c){if(typeof c=="string"){let u=c,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:n.resourcePath+u;return s(h)}else return c.data?{data:kd(c.type,c.data),width:c.width,height:c.height}:null}if(l(o,"deserializeImage"),e!==void 0&&e.length>0){let c=new Y_(t);a=new fh(c),a.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){let f=e[u],p=f.url;if(Array.isArray(p)){let d=[];for(let m=0,y=p.length;m<y;m++){let g=p[m],b=o(g);b!==null&&(b instanceof HTMLImageElement?d.push(b):d.push(new _c(b.data,b.width,b.height)))}r[f.uuid]=new Yo(d)}else{let d=o(f.url);r[f.uuid]=new Yo(d)}}}return r}async parseImagesAsync(e){let t=this,n={},r;async function a(s){if(typeof s=="string"){let o=s,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(c)}else return s.data?{data:kd(s.type,s.data),width:s.width,height:s.height}:null}if(l(a,"deserializeImage"),e!==void 0&&e.length>0){r=new fh(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){let c=e[s],u=c.url;if(Array.isArray(u)){let h=[];for(let f=0,p=u.length;f<p;f++){let d=u[f],m=await a(d);m!==null&&(m instanceof HTMLImageElement?h.push(m):h.push(new _c(m.data,m.width,m.height)))}n[c.uuid]=new Yo(h)}else{let h=await a(c.url);n[c.uuid]=new Yo(h)}}}return n}parseTextures(e,t){function n(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}l(n,"parseConstant");let r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){let o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);let c=t[o.image],u=c.data,h;Array.isArray(u)?(h=new ih,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new _c:h=new kn,u&&(h.needsUpdate=!0)),h.source=c,h.uuid=o.uuid,o.name!==void 0&&(h.name=o.name),o.mapping!==void 0&&(h.mapping=n(o.mapping,Dde)),o.channel!==void 0&&(h.channel=o.channel),o.offset!==void 0&&h.offset.fromArray(o.offset),o.repeat!==void 0&&h.repeat.fromArray(o.repeat),o.center!==void 0&&h.center.fromArray(o.center),o.rotation!==void 0&&(h.rotation=o.rotation),o.wrap!==void 0&&(h.wrapS=n(o.wrap[0],IF),h.wrapT=n(o.wrap[1],IF)),o.format!==void 0&&(h.format=o.format),o.internalFormat!==void 0&&(h.internalFormat=o.internalFormat),o.type!==void 0&&(h.type=o.type),o.colorSpace!==void 0&&(h.colorSpace=o.colorSpace),o.encoding!==void 0&&(h.encoding=o.encoding),o.minFilter!==void 0&&(h.minFilter=n(o.minFilter,CF)),o.magFilter!==void 0&&(h.magFilter=n(o.magFilter,CF)),o.anisotropy!==void 0&&(h.anisotropy=o.anisotropy),o.flipY!==void 0&&(h.flipY=o.flipY),o.generateMipmaps!==void 0&&(h.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(h.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(h.compareFunction=o.compareFunction),o.userData!==void 0&&(h.userData=o.userData),r[o.uuid]=h}return r}parseObject(e,t,n,r,a){let s;function o(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}l(o,"getGeometry");function c(p){if(p!==void 0){if(Array.isArray(p)){let d=[];for(let m=0,y=p.length;m<y;m++){let g=p[m];n[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),d.push(n[g])}return d}return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),n[p]}}l(c,"getMaterial");function u(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}l(u,"getTexture");let h,f;switch(e.type){case"Scene":s=new qd,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Ct(e.background):s.background=u(e.background)),e.environment!==void 0&&(s.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Ey(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Sy(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":s=new Tn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new io(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new Zd(e.color,e.intensity);break;case"DirectionalLight":s=new Yd(e.color,e.intensity);break;case"PointLight":s=new cv(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new uv(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new lv(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new ov(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new Jd().fromJSON(e);break;case"SkinnedMesh":h=o(e.geometry),f=c(e.material),s=new Ay(h,f),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":h=o(e.geometry),f=c(e.material),s=new ii(h,f);break;case"InstancedMesh":h=o(e.geometry),f=c(e.material);let p=e.count,d=e.instanceMatrix,m=e.instanceColor;s=new ky(h,f,p),s.instanceMatrix=new wc(new Float32Array(d.array),16),m!==void 0&&(s.instanceColor=new wc(new Float32Array(m.array),m.itemSize));break;case"LOD":s=new My;break;case"Line":s=new no(o(e.geometry),c(e.material));break;case"LineLoop":s=new Ry(o(e.geometry),c(e.material));break;case"LineSegments":s=new is(o(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new Py(o(e.geometry),c(e.material));break;case"Sprite":s=new Gd(c(e.material));break;case"Group":s=new an;break;case"Bone":s=new L_;break;default:s=new Ni}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){let p=e.children;for(let d=0;d<p.length;d++)s.add(this.parseObject(p[d],t,n,r,a))}if(e.animations!==void 0){let p=e.animations;for(let d=0;d<p.length;d++){let m=p[d];s.animations.push(a[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);let p=e.levels;for(let d=0;d<p.length;d++){let m=p[d],y=s.getObjectByProperty("uuid",m.object);y!==void 0&&s.addLevel(y,m.distance,m.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){let r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}},Dde={UVMapping:yv,CubeReflectionMapping:gc,CubeRefractionMapping:bc,EquirectangularReflectionMapping:m_,EquirectangularRefractionMapping:__,CubeUVReflectionMapping:ep},IF={RepeatWrapping:g_,ClampToEdgeWrapping:br,MirroredRepeatWrapping:b_},CF={NearestFilter:Di,NearestMipmapNearestFilter:_y,NearestMipmapLinearFilter:c_,LinearFilter:rn,LinearMipmapNearestFilter:$T,LinearMipmapLinearFilter:yc},mT=class extends yr{static{l(this,"ImageBitmapLoader")}constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=this,s=hh.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;let o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){hh.add(e,c),t&&t(c),a.manager.itemEnd(e)}).catch(function(c){r&&r(c),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}},K_=class{static{l(this,"AudioContext")}static getContext(){return ty===void 0&&(ty=new(window.AudioContext||window.webkitAudioContext)),ty}static setContext(e){ty=e}},Q_=class extends yr{static{l(this,"AudioLoader")}constructor(e){super(e)}load(e,t,n,r){let a=this,s=new Ts(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(c){try{let u=c.slice(0);K_.getContext().decodeAudioData(u,function(f){t(f)},o)}catch(u){o(u)}},n,r);function o(c){r?r(c):console.error(c),a.manager.itemError(e)}l(o,"handleError")}},_T=class extends Jd{static{l(this,"HemisphereLightProbe")}constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;let r=new Ct().set(e),a=new Ct().set(t),s=new Ne(r.r,r.g,r.b),o=new Ne(a.r,a.g,a.b),c=Math.sqrt(Math.PI),u=c*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(o).multiplyScalar(c),this.sh.coefficients[1].copy(s).sub(o).multiplyScalar(u)}},gT=class extends Jd{static{l(this,"AmbientLightProbe")}constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;let n=new Ct().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}},LF=new ni,NF=new ni,qu=new ni,bT=class{static{l(this,"StereoCamera")}constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Tn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Tn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){let t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,qu.copy(e.projectionMatrix);let r=t.eyeSep/2,a=r*t.near/t.focus,s=t.near*Math.tan(eh*t.fov*.5)/t.zoom,o,c;NF.elements[12]=-r,LF.elements[12]=r,o=-s*t.aspect+a,c=s*t.aspect+a,qu.elements[0]=2*t.near/(c-o),qu.elements[8]=(c+o)/(c-o),this.cameraL.projectionMatrix.copy(qu),o=-s*t.aspect-a,c=s*t.aspect-a,qu.elements[0]=2*t.near/(c-o),qu.elements[8]=(c+o)/(c-o),this.cameraR.projectionMatrix.copy(qu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(NF),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(LF)}},Kd=class{static{l(this,"Clock")}constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=OF(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=OF();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};l(OF,"now");Hu=new Ne,BF=new Dn,Vde=new Ne,Gu=new Ne,e0=class extends Ni{static{l(this,"AudioListener")}constructor(){super(),this.type="AudioListener",this.context=K_.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Kd}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);let t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Hu,BF,Vde),Gu.set(0,0,-1).applyQuaternion(BF),t.positionX){let r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Hu.x,r),t.positionY.linearRampToValueAtTime(Hu.y,r),t.positionZ.linearRampToValueAtTime(Hu.z,r),t.forwardX.linearRampToValueAtTime(Gu.x,r),t.forwardY.linearRampToValueAtTime(Gu.y,r),t.forwardZ.linearRampToValueAtTime(Gu.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(Hu.x,Hu.y,Hu.z),t.setOrientation(Gu.x,Gu.y,Gu.z,n.x,n.y,n.z)}},mv=class extends Ni{static{l(this,"Audio")}constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;let t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},Wu=new Ne,FF=new Dn,qde=new Ne,ju=new Ne,t0=class extends mv{static{l(this,"PositionalAudio")}constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Wu,FF,qde),ju.set(0,0,1).applyQuaternion(FF);let t=this.panner;if(t.positionX){let n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Wu.x,n),t.positionY.linearRampToValueAtTime(Wu.y,n),t.positionZ.linearRampToValueAtTime(Wu.z,n),t.orientationX.linearRampToValueAtTime(ju.x,n),t.orientationY.linearRampToValueAtTime(ju.y,n),t.orientationZ.linearRampToValueAtTime(ju.z,n)}else t.setPosition(Wu.x,Wu.y,Wu.z),t.setOrientation(ju.x,ju.y,ju.z)}},yT=class{static{l(this,"AudioAnalyser")}constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0,t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}},_v=class{static{l(this,"PropertyMixer")}constructor(e,t,n){this.binding=e,this.valueSize=n;let r,a,s;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let n=this.buffer,r=this.valueSize,a=e*r+r,s=this.cumulativeWeight;if(s===0){for(let o=0;o!==r;++o)n[a+o]=n[o];s=t}else{s+=t;let o=t/s;this._mixBufferRegion(n,a,0,o,r)}this.cumulativeWeight=s}accumulateAdditive(e){let t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,n=this.buffer,r=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){let c=t*this._origIndex;this._mixBufferRegion(n,r,c,1-a,t)}s>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let c=t,u=t+t;c!==u;++c)if(n[c]!==n[c+t]){o.setValue(n,r);break}}saveOriginalState(){let e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let a=n,s=r;a!==s;++a)t[a]=t[r+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[t+s]=e[n+s]}_slerp(e,t,n,r){Dn.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,a){let s=this._workIndex*a;Dn.multiplyQuaternionsFlat(e,s,e,t,e,n),Dn.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,n,r,a){let s=1-r;for(let o=0;o!==a;++o){let c=t+o;e[c]=e[c]*s+e[n+o]*r}}_lerpAdditive(e,t,n,r,a){for(let s=0;s!==a;++s){let o=t+s;e[o]=e[o]+e[n+s]*r}}},c4="\\[\\]\\.:\\/",Hde=new RegExp("["+c4+"]","g"),u4="[^"+c4+"]",Gde="[^"+c4.replace("\\.","")+"]",Wde=/((?:WC+[\/:])*)/.source.replace("WC",u4),jde=/(WCOD+)?/.source.replace("WCOD",Gde),$de=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",u4),Xde=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",u4),Yde=new RegExp("^"+Wde+jde+$de+Xde+"$"),Zde=["material","materials","bones","map"],vT=class{static{l(this,"Composite")}constructor(e,t,n){let r=n||zi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();let n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){let n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=n.length;r!==a;++r)n[r].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},zi=class i{static{l(this,"PropertyBinding")}constructor(e,t,n){this.path=t,this.parsedPath=n||i.parseTrackName(t),this.node=i.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new i.Composite(e,t,n):new i(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Hde,"")}static parseTrackName(e){let t=Yde.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){let a=n.nodeName.substring(r+1);Zde.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){let n=l(function(a){for(let s=0;s<a.length;s++){let o=a[s];if(o.name===t||o.uuid===t)return o;let c=n(o.children);if(c)return c}return null},"searchNodeSubtree"),r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,a=t.propertyIndex;if(e||(e=i.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let u=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}let s=e[r];if(s===void 0){let u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};zi.Composite=vT;zi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};zi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};zi.prototype.GetterByBindingType=[zi.prototype._getValue_direct,zi.prototype._getValue_array,zi.prototype._getValue_arrayElement,zi.prototype._getValue_toArray];zi.prototype.SetterByBindingTypeAndVersioning=[[zi.prototype._setValue_direct,zi.prototype._setValue_direct_setNeedsUpdate,zi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[zi.prototype._setValue_array,zi.prototype._setValue_array_setNeedsUpdate,zi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[zi.prototype._setValue_arrayElement,zi.prototype._setValue_arrayElement_setNeedsUpdate,zi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[zi.prototype._setValue_fromArray,zi.prototype._setValue_fromArray_setNeedsUpdate,zi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];wT=class{static{l(this,"AnimationObjectGroup")}constructor(){this.isAnimationObjectGroup=!0,this.uuid=ba(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;let e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};let t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){let e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length,o,c=e.length,u=this.nCachedObjects_;for(let h=0,f=arguments.length;h!==f;++h){let p=arguments[h],d=p.uuid,m=t[d];if(m===void 0){m=c++,t[d]=m,e.push(p);for(let y=0,g=s;y!==g;++y)a[y].push(new zi(p,n[y],r[y]))}else if(m<u){o=e[m];let y=--u,g=e[y];t[g.uuid]=m,e[m]=g,t[d]=y,e[y]=p;for(let b=0,x=s;b!==x;++b){let w=a[b],E=w[y],M=w[m];w[m]=E,M===void 0&&(M=new zi(p,n[b],r[b])),w[y]=M}}else e[m]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){let e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){let c=arguments[s],u=c.uuid,h=t[u];if(h!==void 0&&h>=a){let f=a++,p=e[f];t[p.uuid]=h,e[h]=p,t[u]=f,e[f]=c;for(let d=0,m=r;d!==m;++d){let y=n[d],g=y[f],b=y[h];y[h]=g,y[f]=b}}}this.nCachedObjects_=a}uncache(){let e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,a=this.nCachedObjects_,s=e.length;for(let o=0,c=arguments.length;o!==c;++o){let u=arguments[o],h=u.uuid,f=t[h];if(f!==void 0)if(delete t[h],f<a){let p=--a,d=e[p],m=--s,y=e[m];t[d.uuid]=f,e[f]=d,t[y.uuid]=p,e[p]=y,e.pop();for(let g=0,b=r;g!==b;++g){let x=n[g],w=x[p],E=x[m];x[f]=w,x[p]=E,x.pop()}}else{let p=--s,d=e[p];p>0&&(t[d.uuid]=f),e[f]=d,e.pop();for(let m=0,y=r;m!==y;++m){let g=n[m];g[f]=g[p],g.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){let n=this._bindingsIndicesByPath,r=n[e],a=this._bindings;if(r!==void 0)return a[r];let s=this._paths,o=this._parsedPaths,c=this._objects,u=c.length,h=this.nCachedObjects_,f=new Array(u);r=a.length,n[e]=r,s.push(e),o.push(t),a.push(f);for(let p=h,d=c.length;p!==d;++p){let m=c[p];f[p]=new zi(m,e,t)}return f}unsubscribe_(e){let t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){let r=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,c=s[o],u=e[o];t[u]=n,s[n]=c,s.pop(),a[n]=a[o],a.pop(),r[n]=r[o],r.pop()}}},gv=class{static{l(this,"AnimationAction")}constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;let a=t.tracks,s=a.length,o=new Array(s),c={endingStart:Zu,endingEnd:Zu};for(let u=0;u!==s;++u){let h=a[u].createInterpolant(null);o[u]=h,h.settings=c}this._interpolantSettings=c,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=CU,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){let r=this._clip.duration,a=e._clip.duration,s=a/r,o=r/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){let r=this._mixer,a=r.time,s=this.timeScale,o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);let c=o.parameterPositions,u=o.sampleValues;return c[0]=a,c[1]=a+n,u[0]=e/s,u[1]=t/s,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}let a=this._startTime;if(a!==null){let c=(e-a)*n;c<0||n===0?t=0:(this._startTime=null,t=n*c)}t*=this._updateTimeScale(e);let s=this._updateTime(t),o=this._updateWeight(e);if(o>0){let c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case e4:for(let h=0,f=c.length;h!==f;++h)c[h].evaluate(s),u[h].accumulateAdditive(o);break;case wv:default:for(let h=0,f=c.length;h!==f;++h)c[h].evaluate(s),u[h].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let n=this._weightInterpolant;if(n!==null){let r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let n=this._timeScaleInterpolant;if(n!==null){let r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,n=this.loop,r=this.time+e,a=this._loopCount,s=n===LU;if(e===0)return a===-1?r:s&&(a&1)===1?t-r:r;if(n===IU){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=t||r<0){let o=Math.floor(r/t);r-=t*o,a+=Math.abs(o);let c=this.repetitions-a;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){let u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(s&&(a&1)===1)return t-r}return r}_setEndings(e,t,n){let r=this._interpolantSettings;n?(r.endingStart=Ju,r.endingEnd=Ju):(e?r.endingStart=this.zeroSlopeAtStart?Ju:Zu:r.endingStart=w_,t?r.endingEnd=this.zeroSlopeAtEnd?Ju:Zu:r.endingEnd=w_)}_scheduleFading(e,t,n){let r=this._mixer,a=r.time,s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);let o=s.parameterPositions,c=s.sampleValues;return o[0]=a,c[0]=t,o[1]=a+e,c[1]=n,this}},Jde=new Float32Array(1),xT=class extends va{static{l(this,"AnimationMixer")}constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let n=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,o=e._interpolants,c=n.uuid,u=this._bindingsByRootAndName,h=u[c];h===void 0&&(h={},u[c]=h);for(let f=0;f!==a;++f){let p=r[f],d=p.name,m=h[d];if(m!==void 0)++m.referenceCount,s[f]=m;else{if(m=s[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,c,d));continue}let y=t&&t._propertyBindings[f].binding.parsedPath;m=new _v(zi.create(n,d,y),p.ValueTypeName,p.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,c,d),s[f]=m}o[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let n=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,n)}let t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){let a=t[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){let a=t[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){let r=this._actions,a=this._actionsByClip,s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{let o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){let t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;let a=e._clip.uuid,s=this._actionsByClip,o=s[a],c=o.knownActions,u=c[c.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,c[h]=u,c.pop(),e._byClipCacheIndex=null;let f=o.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],c.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){let a=t[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){let t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_takeBackAction(e){let t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_addInactiveBinding(e,t,n){let r=this._bindingsByRootAndName,a=this._bindings,s=r[t];s===void 0&&(s={},r[t]=s),s[n]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){let t=this._bindings,n=e.binding,r=n.rootNode.uuid,a=n.path,s=this._bindingsByRootAndName,o=s[r],c=t[t.length-1],u=e._cacheIndex;c._cacheIndex=u,t[u]=c,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[r]}_lendBinding(e){let t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_takeBackBinding(e){let t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return n===void 0&&(n=new $_(new Float32Array(2),new Float32Array(2),1,Jde),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){let t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=n,t[n]=a}clipAction(e,t,n){let r=t||this._root,a=r.uuid,s=typeof e=="string"?uh.findByName(r,e):e,o=s!==null?s.uuid:e,c=this._actionsByClip[o],u=null;if(n===void 0&&(s!==null?n=s.blendMode:n=wv),c!==void 0){let f=c.actionByRoot[a];if(f!==void 0&&f.blendMode===n)return f;u=c.knownActions[0],s===null&&(s=u._clip)}if(s===null)return null;let h=new gv(this,s,t,n);return this._bindAction(h,u),this._addInactiveAction(h,o,a),h}existingAction(e,t){let n=t||this._root,r=n.uuid,a=typeof e=="string"?uh.findByName(n,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;let t=this._actions,n=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let u=0;u!==n;++u)t[u]._update(r,e,a,s);let o=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)o[u].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,n=e.uuid,r=this._actionsByClip,a=r[n];if(a!==void 0){let s=a.knownActions;for(let o=0,c=s.length;o!==c;++o){let u=s[o];this._deactivateAction(u);let h=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=h,t[h]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}uncacheRoot(e){let t=e.uuid,n=this._actionsByClip;for(let s in n){let o=n[s].actionByRoot,c=o[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}let r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(let s in a){let o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){let n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}},ST=class i{static{l(this,"Uniform")}constructor(e){this.value=e}clone(){return new i(this.value.clone===void 0?this.value:this.value.clone())}},Kde=0,ET=class extends va{static{l(this,"UniformsGroup")}constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Kde++}),this.name="",this.usage=x_,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){let t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;let t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}clone(){return new this.constructor().copy(this)}},MT=class extends Hd{static{l(this,"InstancedInterleavedBuffer")}constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){let t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){let t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}},AT=class{static{l(this,"GLBufferAttribute")}constructor(e,t,n,r,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},i0=class{static{l(this,"Raycaster")}constructor(e,t,n=0,r=1/0){this.ray=new vc(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Bd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return TT(e,this,n,t),n.sort(UF),n}intersectObjects(e,t=!0,n=[]){for(let r=0,a=e.length;r<a;r++)TT(e[r],this,n,t);return n.sort(UF),n}};l(UF,"ascSort");l(TT,"intersectObject");Qd=class{static{l(this,"Spherical")}constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(gn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},kT=class{static{l(this,"Cylindrical")}constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}},zF=new ot,RT=class{static{l(this,"Box2")}constructor(e=new ot(1/0,1/0),t=new ot(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=zF.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,zF).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},DF=new Ne,iy=new Ne,PT=class{static{l(this,"Line3")}constructor(e=new Ne,t=new Ne){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){DF.subVectors(e,this.start),iy.subVectors(this.end,this.start);let n=iy.dot(iy),a=iy.dot(DF)/n;return t&&(a=gn(a,0,1)),a}closestPointToPoint(e,t,n){let r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},VF=new Ne,IT=class extends Ni{static{l(this,"SpotLightHelper")}constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";let n=new ci,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,c=32;s<c;s++,o++){let u=s/c*Math.PI*2,h=o/c*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}n.setAttribute("position",new Ot(r,3));let a=new ur({fog:!1,toneMapped:!1});this.cone=new is(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),VF.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(VF),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},hc=new Ne,ny=new ni,i3=new ni,CT=class extends is{static{l(this,"SkeletonHelper")}constructor(e){let t=lz(e),n=new ci,r=[],a=[],s=new Ct(0,0,1),o=new Ct(0,1,0);for(let u=0;u<t.length;u++){let h=t[u];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(s.r,s.g,s.b),a.push(o.r,o.g,o.b))}n.setAttribute("position",new Ot(r,3)),n.setAttribute("color",new Ot(a,3));let c=new ur({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){let t=this.bones,n=this.geometry,r=n.getAttribute("position");i3.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){let o=t[a];o.parent&&o.parent.isBone&&(ny.multiplyMatrices(i3,o.matrixWorld),hc.setFromMatrixPosition(ny),r.setXYZ(s,hc.x,hc.y,hc.z),ny.multiplyMatrices(i3,o.parent.matrixWorld),hc.setFromMatrixPosition(ny),r.setXYZ(s+1,hc.x,hc.y,hc.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}};l(lz,"getBoneList");LT=class extends ii{static{l(this,"PointLightHelper")}constructor(e,t,n){let r=new j_(t,4,2),a=new ts({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},Qde=new Ne,qF=new Ct,HF=new Ct,NT=class extends Ni{static{l(this,"HemisphereLightHelper")}constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";let r=new W_(t);r.rotateY(Math.PI*.5),this.material=new ts({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);let a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new Ai(s,3)),this.add(new ii(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){let e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{let t=e.geometry.getAttribute("color");qF.copy(this.light.color),HF.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){let a=n<r/2?qF:HF;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Qde.setFromMatrixPosition(this.light.matrixWorld).negate())}},OT=class extends is{static{l(this,"GridHelper")}constructor(e=10,t=10,n=4473924,r=8947848){n=new Ct(n),r=new Ct(r);let a=t/2,s=e/t,o=e/2,c=[],u=[];for(let p=0,d=0,m=-o;p<=t;p++,m+=s){c.push(-o,0,m,o,0,m),c.push(m,0,-o,m,0,o);let y=p===a?n:r;y.toArray(u,d),d+=3,y.toArray(u,d),d+=3,y.toArray(u,d),d+=3,y.toArray(u,d),d+=3}let h=new ci;h.setAttribute("position",new Ot(c,3)),h.setAttribute("color",new Ot(u,3));let f=new ur({vertexColors:!0,toneMapped:!1});super(h,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},BT=class extends is{static{l(this,"PolarGridHelper")}constructor(e=10,t=16,n=8,r=64,a=4473924,s=8947848){a=new Ct(a),s=new Ct(s);let o=[],c=[];if(t>1)for(let f=0;f<t;f++){let p=f/t*(Math.PI*2),d=Math.sin(p)*e,m=Math.cos(p)*e;o.push(0,0,0),o.push(d,0,m);let y=f&1?a:s;c.push(y.r,y.g,y.b),c.push(y.r,y.g,y.b)}for(let f=0;f<n;f++){let p=f&1?a:s,d=e-e/n*f;for(let m=0;m<r;m++){let y=m/r*(Math.PI*2),g=Math.sin(y)*d,b=Math.cos(y)*d;o.push(g,0,b),c.push(p.r,p.g,p.b),y=(m+1)/r*(Math.PI*2),g=Math.sin(y)*d,b=Math.cos(y)*d,o.push(g,0,b),c.push(p.r,p.g,p.b)}}let u=new ci;u.setAttribute("position",new Ot(o,3)),u.setAttribute("color",new Ot(c,3));let h=new ur({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},GF=new Ne,ry=new Ne,WF=new Ne,FT=class extends Ni{static{l(this,"DirectionalLightHelper")}constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ci;r.setAttribute("position",new Ot([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let a=new ur({fog:!1,toneMapped:!1});this.lightPlane=new no(r,a),this.add(this.lightPlane),r=new ci,r.setAttribute("position",new Ot([0,0,0,0,0,1],3)),this.targetLine=new no(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),GF.setFromMatrixPosition(this.light.matrixWorld),ry.setFromMatrixPosition(this.light.target.matrixWorld),WF.subVectors(ry,GF),this.lightPlane.lookAt(ry),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ry),this.targetLine.scale.z=WF.length()}},ay=new Ne,_n=new Ud,UT=class extends is{static{l(this,"CameraHelper")}constructor(e){let t=new ci,n=new ur({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(m,y){c(m),c(y)}l(o,"addLine");function c(m){r.push(0,0,0),a.push(0,0,0),s[m]===void 0&&(s[m]=[]),s[m].push(r.length/3-1)}l(c,"addPoint"),t.setAttribute("position",new Ot(r,3)),t.setAttribute("color",new Ot(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();let u=new Ct(16755200),h=new Ct(16711680),f=new Ct(43775),p=new Ct(16777215),d=new Ct(3355443);this.setColors(u,h,f,p,d)}setColors(e,t,n,r,a){let o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0}update(){let e=this.geometry,t=this.pointMap,n=1,r=1;_n.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),An("c",t,e,_n,0,0,-1),An("t",t,e,_n,0,0,1),An("n1",t,e,_n,-n,-r,-1),An("n2",t,e,_n,n,-r,-1),An("n3",t,e,_n,-n,r,-1),An("n4",t,e,_n,n,r,-1),An("f1",t,e,_n,-n,-r,1),An("f2",t,e,_n,n,-r,1),An("f3",t,e,_n,-n,r,1),An("f4",t,e,_n,n,r,1),An("u1",t,e,_n,n*.7,r*1.1,-1),An("u2",t,e,_n,-n*.7,r*1.1,-1),An("u3",t,e,_n,0,r*2,-1),An("cf1",t,e,_n,-n,0,1),An("cf2",t,e,_n,n,0,1),An("cf3",t,e,_n,0,-r,1),An("cf4",t,e,_n,0,r,1),An("cn1",t,e,_n,-n,0,-1),An("cn2",t,e,_n,n,0,-1),An("cn3",t,e,_n,0,-r,-1),An("cn4",t,e,_n,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};l(An,"setPoint");sy=new es,n0=class extends is{static{l(this,"BoxHelper")}constructor(e,t=16776960){let n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),a=new ci;a.setIndex(new Ai(n,1)),a.setAttribute("position",new Ai(r,3)),super(a,new ur({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&sy.setFromObject(this.object),sy.isEmpty())return;let t=sy.min,n=sy.max,r=this.geometry.attributes.position,a=r.array;a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=t.x,a[4]=n.y,a[5]=n.z,a[6]=t.x,a[7]=t.y,a[8]=n.z,a[9]=n.x,a[10]=t.y,a[11]=n.z,a[12]=n.x,a[13]=n.y,a[14]=t.z,a[15]=t.x,a[16]=n.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=n.x,a[22]=t.y,a[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},zT=class extends is{static{l(this,"Box3Helper")}constructor(e,t=16776960){let n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new ci;a.setIndex(new Ai(n,1)),a.setAttribute("position",new Ot(r,3)),super(a,new ur({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},DT=class extends no{static{l(this,"PlaneHelper")}constructor(e,t=1,n=16776960){let r=n,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new ci;s.setAttribute("position",new Ot(a,3)),s.computeBoundingSphere(),super(s,new ur({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;let o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new ci;c.setAttribute("position",new Ot(o,3)),c.computeBoundingSphere(),this.add(new ii(c,new ts({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},jF=new Ne,VT=class extends Ni{static{l(this,"ArrowHelper")}constructor(e=new Ne(0,0,1),t=new Ne(0,0,0),n=1,r=16776960,a=n*.2,s=a*.2){super(),this.type="ArrowHelper",oy===void 0&&(oy=new ci,oy.setAttribute("position",new Ot([0,0,0,0,1,0],3)),n3=new $d(0,.5,1,5,1),n3.translate(0,-.5,0)),this.position.copy(t),this.line=new no(oy,new ur({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ii(n3,new ts({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{jF.set(e.z,0,-e.x).normalize();let t=Math.acos(e.y);this.quaternion.setFromAxisAngle(jF,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},qT=class extends is{static{l(this,"AxesHelper")}constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ci;r.setAttribute("position",new Ot(t,3)),r.setAttribute("color",new Ot(n,3));let a=new ur({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,n){let r=new Ct,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(n),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},HT=class{static{l(this,"ShapePath")}constructor(){this.type="ShapePath",this.color=new Ct,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ah,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,a,s){return this.currentPath.bezierCurveTo(e,t,n,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){let x=[];for(let w=0,E=b.length;w<E;w++){let M=b[w],C=new Ko;C.curves=M.curves,x.push(C)}return x}l(t,"toShapesNoHoles");function n(b,x){let w=x.length,E=!1;for(let M=w-1,C=0;C<w;M=C++){let I=x[M],F=x[C],A=F.x-I.x,T=F.y-I.y;if(Math.abs(T)>Number.EPSILON){if(T<0&&(I=x[C],A=-A,F=x[M],T=-T),b.y<I.y||b.y>F.y)continue;if(b.y===I.y){if(b.x===I.x)return!0}else{let j=T*(b.x-I.x)-A*(b.y-I.y);if(j===0)return!0;if(j<0)continue;E=!E}}else{if(b.y!==I.y)continue;if(F.x<=b.x&&b.x<=I.x||I.x<=b.x&&b.x<=F.x)return!0}}return E}l(n,"isPointInsidePolygon");let r=to.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,c,u=[];if(a.length===1)return o=a[0],c=new Ko,c.curves=o.curves,u.push(c),u;let h=!r(a[0].getPoints());h=e?!h:h;let f=[],p=[],d=[],m=0,y;p[m]=void 0,d[m]=[];for(let b=0,x=a.length;b<x;b++)o=a[b],y=o.getPoints(),s=r(y),s=e?!s:s,s?(!h&&p[m]&&m++,p[m]={s:new Ko,p:y},p[m].s.curves=o.curves,h&&m++,d[m]=[]):d[m].push({h:o,p:y[0]});if(!p[0])return t(a);if(p.length>1){let b=!1,x=0;for(let w=0,E=p.length;w<E;w++)f[w]=[];for(let w=0,E=p.length;w<E;w++){let M=d[w];for(let C=0;C<M.length;C++){let I=M[C],F=!0;for(let A=0;A<p.length;A++)n(I.p,p[A].p)&&(w!==A&&x++,F?(F=!1,f[A].push(I)):b=!0);F&&f[w].push(I)}}x>0&&b===!1&&(d=f)}let g;for(let b=0,x=p.length;b<x;b++){c=p[b].s,u.push(c),g=d[b];for(let w=0,E=g.length;w<E;w++)c.holes.push(g[w].h)}return u}};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:bv}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=bv)});var d4={};Xa(d4,{Easing:()=>ph,Group:()=>f4,Interpolation:()=>Tc,Sequence:()=>Mv,Tween:()=>Av,VERSION:()=>cz,add:()=>dz,default:()=>epe,getAll:()=>hz,nextId:()=>uz,now:()=>dh,remove:()=>pz,removeAll:()=>fz,update:()=>Tv});var ph,dh,f4,Tc,Mv,h4,Av,cz,uz,ao,hz,fz,dz,pz,Tv,epe,p4=Gt(()=>{ne();ae();re();ph=Object.freeze({Linear:Object.freeze({None:function(i){return i},In:function(i){return this.None(i)},Out:function(i){return this.None(i)},InOut:function(i){return this.None(i)}}),Quadratic:Object.freeze({In:function(i){return i*i},Out:function(i){return i*(2-i)},InOut:function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)}}),Cubic:Object.freeze({In:function(i){return i*i*i},Out:function(i){return--i*i*i+1},InOut:function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)}}),Quartic:Object.freeze({In:function(i){return i*i*i*i},Out:function(i){return 1- --i*i*i*i},InOut:function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)}}),Quintic:Object.freeze({In:function(i){return i*i*i*i*i},Out:function(i){return--i*i*i*i*i+1},InOut:function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)}}),Sinusoidal:Object.freeze({In:function(i){return 1-Math.sin((1-i)*Math.PI/2)},Out:function(i){return Math.sin(i*Math.PI/2)},InOut:function(i){return .5*(1-Math.sin(Math.PI*(.5-i)))}}),Exponential:Object.freeze({In:function(i){return i===0?0:Math.pow(1024,i-1)},Out:function(i){return i===1?1:1-Math.pow(2,-10*i)},InOut:function(i){return i===0?0:i===1?1:(i*=2)<1?.5*Math.pow(1024,i-1):.5*(-Math.pow(2,-10*(i-1))+2)}}),Circular:Object.freeze({In:function(i){return 1-Math.sqrt(1-i*i)},Out:function(i){return Math.sqrt(1- --i*i)},InOut:function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)}}),Elastic:Object.freeze({In:function(i){return i===0?0:i===1?1:-Math.pow(2,10*(i-1))*Math.sin((i-1.1)*5*Math.PI)},Out:function(i){return i===0?0:i===1?1:Math.pow(2,-10*i)*Math.sin((i-.1)*5*Math.PI)+1},InOut:function(i){return i===0?0:i===1?1:(i*=2,i<1?-.5*Math.pow(2,10*(i-1))*Math.sin((i-1.1)*5*Math.PI):.5*Math.pow(2,-10*(i-1))*Math.sin((i-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(i){var e=1.70158;return i===1?1:i*i*((e+1)*i-e)},Out:function(i){var e=1.70158;return i===0?0:--i*i*((e+1)*i+e)+1},InOut:function(i){var e=2.5949095;return(i*=2)<1?.5*(i*i*((e+1)*i-e)):.5*((i-=2)*i*((e+1)*i+e)+2)}}),Bounce:Object.freeze({In:function(i){return 1-ph.Bounce.Out(1-i)},Out:function(i){return i<.36363636363636365?7.5625*i*i:i<.7272727272727273?7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?7.5625*(i-=.8181818181818182)*i+.9375:7.5625*(i-=.9545454545454546)*i+.984375},InOut:function(i){return i<.5?ph.Bounce.In(i*2)*.5:ph.Bounce.Out(i*2-1)*.5+.5}}),generatePow:function(i){return i===void 0&&(i=4),i=i<Number.EPSILON?Number.EPSILON:i,i=i>1e4?1e4:i,{In:function(e){return Math.pow(e,i)},Out:function(e){return 1-Math.pow(1-e,i)},InOut:function(e){return e<.5?Math.pow(e*2,i)/2:(1-Math.pow(2-e*2,i))/2+.5}}}}),dh=l(function(){return performance.now()},"now"),f4=function(){function i(){this._tweens={},this._tweensAddedDuringUpdate={}}return l(i,"Group"),i.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},i.prototype.removeAll=function(){this._tweens={}},i.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},i.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},i.prototype.update=function(e,t){e===void 0&&(e=dh()),t===void 0&&(t=!1);var n=Object.keys(this._tweens);if(n.length===0)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var a=this._tweens[n[r]],s=!t;a&&a.update(e,s)===!1&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},i}(),Tc={Linear:function(i,e){var t=i.length-1,n=t*e,r=Math.floor(n),a=Tc.Utils.Linear;return e<0?a(i[0],i[1],n):e>1?a(i[t],i[t-1],t-n):a(i[r],i[r+1>t?t:r+1],n-r)},Bezier:function(i,e){for(var t=0,n=i.length-1,r=Math.pow,a=Tc.Utils.Bernstein,s=0;s<=n;s++)t+=r(1-e,n-s)*r(e,s)*i[s]*a(n,s);return t},CatmullRom:function(i,e){var t=i.length-1,n=t*e,r=Math.floor(n),a=Tc.Utils.CatmullRom;return i[0]===i[t]?(e<0&&(r=Math.floor(n=t*(1+e))),a(i[(r-1+t)%t],i[r],i[(r+1)%t],i[(r+2)%t],n-r)):e<0?i[0]-(a(i[0],i[0],i[1],i[1],-n)-i[0]):e>1?i[t]-(a(i[t],i[t],i[t-1],i[t-1],n-t)-i[t]):a(i[r?r-1:0],i[r],i[t<r+1?t:r+1],i[t<r+2?t:r+2],n-r)},Utils:{Linear:function(i,e,t){return(e-i)*t+i},Bernstein:function(i,e){var t=Tc.Utils.Factorial;return t(i)/t(e)/t(i-e)},Factorial:function(){var i=[1];return function(e){var t=1;if(i[e])return i[e];for(var n=e;n>1;n--)t*=n;return i[e]=t,t}}(),CatmullRom:function(i,e,t,n,r){var a=(t-i)*.5,s=(n-e)*.5,o=r*r,c=r*o;return(2*e-2*t+a+s)*c+(-3*e+3*t-2*a-s)*o+a*r+e}}},Mv=function(){function i(){}return l(i,"Sequence"),i.nextId=function(){return i._nextId++},i._nextId=0,i}(),h4=new f4,Av=function(){function i(e,t){t===void 0&&(t=h4),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ph.Linear.None,this._interpolationFunction=Tc.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Mv.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return l(i,"Tween"),i.prototype.getId=function(){return this._id},i.prototype.isPlaying=function(){return this._isPlaying},i.prototype.isPaused=function(){return this._isPaused},i.prototype.to=function(e,t){if(t===void 0&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t,this},i.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e,this},i.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},i.prototype.start=function(e,t){if(e===void 0&&(e=dh()),t===void 0&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var a in this._valuesEnd)r[a]=this._valuesEnd[a];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},i.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},i.prototype._setupProperties=function(e,t,n,r,a){for(var s in n){var o=e[s],c=Array.isArray(o),u=c?"array":typeof o,h=!c&&Array.isArray(n[s]);if(!(u==="undefined"||u==="function")){if(h){var f=n[s];if(f.length===0)continue;for(var p=[o],d=0,m=f.length;d<m;d+=1){var y=this._handleRelativeValue(o,f[d]);if(isNaN(y)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}p.push(y)}h&&(n[s]=p)}if((u==="object"||c)&&o&&!h){t[s]=c?[]:{};var g=o;for(var b in g)t[s][b]=g[b];r[s]=c?[]:{};var f=n[s];if(!this._isDynamic){var x={};for(var b in f)x[b]=f[b];n[s]=f=x}this._setupProperties(g,t[s],f,r[s],a)}else(typeof t[s]>"u"||a)&&(t[s]=o),c||(t[s]*=1),h?r[s]=n[s].slice().reverse():r[s]=t[s]||0}}},i.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},i.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},i.prototype.pause=function(e){return e===void 0&&(e=dh()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},i.prototype.resume=function(e){return e===void 0&&(e=dh()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},i.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},i.prototype.group=function(e){return e===void 0&&(e=h4),this._group=e,this},i.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},i.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},i.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},i.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},i.prototype.easing=function(e){return e===void 0&&(e=ph.Linear.None),this._easingFunction=e,this},i.prototype.interpolation=function(e){return e===void 0&&(e=Tc.Linear),this._interpolationFunction=e,this},i.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},i.prototype.onStart=function(e){return this._onStartCallback=e,this},i.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},i.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},i.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},i.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},i.prototype.onStop=function(e){return this._onStopCallback=e,this},i.prototype.update=function(e,t){if(e===void 0&&(e=dh()),t===void 0&&(t=!0),this._isPaused)return!0;var n,r,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>a)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=this._duration===0||r>1?1:r;var s=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,s),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),r===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(n in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[n]=="string"&&(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,c=this._chainedTweens.length;o<c;o++)this._chainedTweens[o].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},i.prototype._updateProperties=function(e,t,n,r){for(var a in n)if(t[a]!==void 0){var s=t[a]||0,o=n[a],c=Array.isArray(e[a]),u=Array.isArray(o),h=!c&&u;h?e[a]=this._interpolationFunction(o,r):typeof o=="object"&&o?this._updateProperties(e[a],s,o,r):(o=this._handleRelativeValue(s,o),typeof o=="number"&&(e[a]=s+(o-s)*r))}},i.prototype._handleRelativeValue=function(e,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?e+parseFloat(t):parseFloat(t)},i.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];typeof n=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(n):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},i}(),cz="20.0.3",uz=Mv.nextId,ao=h4,hz=ao.getAll.bind(ao),fz=ao.removeAll.bind(ao),dz=ao.add.bind(ao),pz=ao.remove.bind(ao),Tv=ao.update.bind(ao),epe={Easing:ph,Group:f4,Interpolation:Tc,now:dh,Sequence:Mv,nextId:uz,Tween:Av,VERSION:cz,getAll:hz,removeAll:fz,add:dz,remove:pz,update:Tv}});var nl=qe((yCe,_z)=>{ne();ae();re();var tpe=/\((-?[.\d]+), (-?[.\d]+), (-?[.\d]+)\)/,kc=class i{static{l(this,"Vec3")}constructor(e,t,n){this.x=e,this.y=t,this.z=n}set(e,t,n){return this.x=e,this.y=t,this.z=n,this}update(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}rounded(){return new i(Math.round(this.x),Math.round(this.y),Math.round(this.z))}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}floored(){return new i(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}offset(e,t,n){return new i(this.x+e,this.y+t,this.z+n)}translate(e,t,n){return this.x+=e,this.y+=t,this.z+=n,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}subtract(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}plus(e){return this.offset(e.x,e.y,e.z)}minus(e){return this.offset(-e.x,-e.y,-e.z)}scaled(e){return new i(this.x*e,this.y*e,this.z*e)}abs(){return new i(Math.abs(this.x),Math.abs(this.y),Math.abs(this.z))}volume(){return this.x*this.y*this.z}modulus(e){return new i(m4(this.x,e.x),m4(this.y,e.y),m4(this.z,e.z))}distanceTo(e){let t=e.x-this.x,n=e.y-this.y,r=e.z-this.z;return Math.sqrt(t*t+n*n+r*r)}distanceSquared(e){let t=e.x-this.x,n=e.y-this.y,r=e.z-this.z;return t*t+n*n+r*r}equals(e){return this.x===e.x&&this.y===e.y&&this.z===e.z}toString(){return"("+this.x+", "+this.y+", "+this.z+")"}clone(){return this.offset(0,0,0)}min(e){return new i(Math.min(this.x,e.x),Math.min(this.y,e.y),Math.min(this.z,e.z))}max(e){return new i(Math.max(this.x,e.x),Math.max(this.y,e.y),Math.max(this.z,e.z))}norm(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}cross(e){return new i(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}unit(){let e=this.norm();return e===0?this.clone():this.scaled(1/e)}normalize(){let e=this.norm();return e!==0&&(this.x/=e,this.y/=e,this.z/=e),this}scale(e){return this.x*=e,this.y*=e,this.z*=e,this}xyDistanceTo(e){let t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)}xzDistanceTo(e){let t=e.x-this.x,n=e.z-this.z;return Math.sqrt(t*t+n*n)}yzDistanceTo(e){let t=e.y-this.y,n=e.z-this.z;return Math.sqrt(t*t+n*n)}innerProduct(e){return this.x*e.x+this.y*e.y+this.z*e.z}manhattanDistanceTo(e){return Math.abs(e.x-this.x)+Math.abs(e.y-this.y)+Math.abs(e.z-this.z)}toArray(){return[this.x,this.y,this.z]}};function mz(i,e,t){if(i==null)return new kc(0,0,0);if(Array.isArray(i))return new kc(parseFloat(i[0]),parseFloat(i[1]),parseFloat(i[2]));if(typeof i=="object")return new kc(parseFloat(i.x),parseFloat(i.y),parseFloat(i.z));if(typeof i=="string"&&e==null){let n=i.match(tpe);if(n)return new kc(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]));throw new Error("vec3: cannot parse: "+i)}else return new kc(parseFloat(i),parseFloat(e),parseFloat(t))}l(mz,"v");function m4(i,e){let t=i%e;return t<0?t+e:t}l(m4,"euclideanMod");_z.exports=mz;mz.Vec3=kc});var gz,ir,s0=Gt(()=>{ne();ae();re();gz=Mn(nl(),1),ir=gz.default.Vec3});function ipe(){if(bz)return _4;bz=!0;var i=_4={},e,t;function n(){throw new Error("setTimeout has not been defined")}l(n,"defaultSetTimout");function r(){throw new Error("clearTimeout has not been defined")}l(r,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?t=clearTimeout:t=r}catch{t=r}}();function a(y){if(e===setTimeout)return setTimeout(y,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(y,0);try{return e(y,0)}catch{try{return e.call(null,y,0)}catch{return e.call(this||ip,y,0)}}}l(a,"runTimeout");function s(y){if(t===clearTimeout)return clearTimeout(y);if((t===r||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(y);try{return t(y)}catch{try{return t.call(null,y)}catch{return t.call(this||ip,y)}}}l(s,"runClearTimeout");var o=[],c=!1,u,h=-1;function f(){!c||!u||(c=!1,u.length?o=u.concat(o):h=-1,o.length&&p())}l(f,"cleanUpNextTick");function p(){if(!c){var y=a(f);c=!0;for(var g=o.length;g;){for(u=o,o=[];++h<g;)u&&u[h].run();h=-1,g=o.length}u=null,c=!1,s(y)}}l(p,"drainQueue"),i.nextTick=function(y){var g=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)g[b-1]=arguments[b];o.push(new d(y,g)),o.length===1&&!c&&a(p)};function d(y,g){(this||ip).fun=y,(this||ip).array=g}l(d,"Item"),d.prototype.run=function(){(this||ip).fun.apply(null,(this||ip).array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function m(){}return l(m,"noop"),i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(y){return[]},i.binding=function(y){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(y){throw new Error("process.chdir is not supported")},i.umask=function(){return 0},_4}var _4,bz,ip,Ti,np=Gt(()=>{ne();ae();re();_4={},bz=!1,ip=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;l(ipe,"dew");Ti=ipe();Ti.platform="browser";Ti.addListener;Ti.argv;Ti.binding;Ti.browser;Ti.chdir;Ti.cwd;Ti.emit;Ti.env;Ti.listeners;Ti.nextTick;Ti.off;Ti.on;Ti.once;Ti.prependListener;Ti.prependOnceListener;Ti.removeAllListeners;Ti.removeListener;Ti.title;Ti.umask;Ti.version;Ti.versions});function npe(){if(yz)return g4;yz=!0;var i=Ti;function e(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}l(e,"assertPath");function t(a,s){for(var o="",c=0,u=-1,h=0,f,p=0;p<=a.length;++p){if(p<a.length)f=a.charCodeAt(p);else{if(f===47)break;f=47}if(f===47){if(!(u===p-1||h===1))if(u!==p-1&&h===2){if(o.length<2||c!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var d=o.lastIndexOf("/");if(d!==o.length-1){d===-1?(o="",c=0):(o=o.slice(0,d),c=o.length-1-o.lastIndexOf("/")),u=p,h=0;continue}}else if(o.length===2||o.length===1){o="",c=0,u=p,h=0;continue}}s&&(o.length>0?o+="/..":o="..",c=2)}else o.length>0?o+="/"+a.slice(u+1,p):o=a.slice(u+1,p),c=p-u-1;u=p,h=0}else f===46&&h!==-1?++h:h=-1}return o}l(t,"normalizeStringPosix");function n(a,s){var o=s.dir||s.root,c=s.base||(s.name||"")+(s.ext||"");return o?o===s.root?o+c:o+a+c:c}l(n,"_format");var r={resolve:l(function(){for(var s="",o=!1,c,u=arguments.length-1;u>=-1&&!o;u--){var h;u>=0?h=arguments[u]:(c===void 0&&(c=i.cwd()),h=c),e(h),h.length!==0&&(s=h+"/"+s,o=h.charCodeAt(0)===47)}return s=t(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},"resolve"),normalize:l(function(s){if(e(s),s.length===0)return".";var o=s.charCodeAt(0)===47,c=s.charCodeAt(s.length-1)===47;return s=t(s,!o),s.length===0&&!o&&(s="."),s.length>0&&c&&(s+="/"),o?"/"+s:s},"normalize"),isAbsolute:l(function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},"isAbsolute"),join:l(function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var c=arguments[o];e(c),c.length>0&&(s===void 0?s=c:s+="/"+c)}return s===void 0?".":r.normalize(s)},"join"),relative:l(function(s,o){if(e(s),e(o),s===o||(s=r.resolve(s),o=r.resolve(o),s===o))return"";for(var c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var u=s.length,h=u-c,f=1;f<o.length&&o.charCodeAt(f)===47;++f);for(var p=o.length,d=p-f,m=h<d?h:d,y=-1,g=0;g<=m;++g){if(g===m){if(d>m){if(o.charCodeAt(f+g)===47)return o.slice(f+g+1);if(g===0)return o.slice(f+g)}else h>m&&(s.charCodeAt(c+g)===47?y=g:g===0&&(y=0));break}var b=s.charCodeAt(c+g),x=o.charCodeAt(f+g);if(b!==x)break;b===47&&(y=g)}var w="";for(g=c+y+1;g<=u;++g)(g===u||s.charCodeAt(g)===47)&&(w.length===0?w+="..":w+="/..");return w.length>0?w+o.slice(f+y):(f+=y,o.charCodeAt(f)===47&&++f,o.slice(f))},"relative"),_makeLong:l(function(s){return s},"_makeLong"),dirname:l(function(s){if(e(s),s.length===0)return".";for(var o=s.charCodeAt(0),c=o===47,u=-1,h=!0,f=s.length-1;f>=1;--f)if(o=s.charCodeAt(f),o===47){if(!h){u=f;break}}else h=!1;return u===-1?c?"/":".":c&&u===1?"//":s.slice(0,u)},"dirname"),basename:l(function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(s);var c=0,u=-1,h=!0,f;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var p=o.length-1,d=-1;for(f=s.length-1;f>=0;--f){var m=s.charCodeAt(f);if(m===47){if(!h){c=f+1;break}}else d===-1&&(h=!1,d=f+1),p>=0&&(m===o.charCodeAt(p)?--p===-1&&(u=f):(p=-1,u=d))}return c===u?u=d:u===-1&&(u=s.length),s.slice(c,u)}else{for(f=s.length-1;f>=0;--f)if(s.charCodeAt(f)===47){if(!h){c=f+1;break}}else u===-1&&(h=!1,u=f+1);return u===-1?"":s.slice(c,u)}},"basename"),extname:l(function(s){e(s);for(var o=-1,c=0,u=-1,h=!0,f=0,p=s.length-1;p>=0;--p){var d=s.charCodeAt(p);if(d===47){if(!h){c=p+1;break}continue}u===-1&&(h=!1,u=p+1),d===46?o===-1?o=p:f!==1&&(f=1):o!==-1&&(f=-1)}return o===-1||u===-1||f===0||f===1&&o===u-1&&o===c+1?"":s.slice(o,u)},"extname"),format:l(function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},"format"),parse:l(function(s){e(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var c=s.charCodeAt(0),u=c===47,h;u?(o.root="/",h=1):h=0;for(var f=-1,p=0,d=-1,m=!0,y=s.length-1,g=0;y>=h;--y){if(c=s.charCodeAt(y),c===47){if(!m){p=y+1;break}continue}d===-1&&(m=!1,d=y+1),c===46?f===-1?f=y:g!==1&&(g=1):f!==-1&&(g=-1)}return f===-1||d===-1||g===0||g===1&&f===d-1&&f===p+1?d!==-1&&(p===0&&u?o.base=o.name=s.slice(1,d):o.base=o.name=s.slice(p,d)):(p===0&&u?(o.name=s.slice(1,f),o.base=s.slice(1,d)):(o.name=s.slice(p,f),o.base=s.slice(p,d)),o.ext=s.slice(f,d)),p>0?o.dir=s.slice(0,p-1):u&&(o.dir="/"),o},"parse"),sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,g4=r,g4}var g4,yz,nr,b4=Gt(()=>{ne();ae();re();np();g4={},yz=!1;l(npe,"dew");nr=npe()});var y4={};Xa(y4,{_makeLong:()=>rpe,basename:()=>ape,default:()=>nr,delimiter:()=>spe,dirname:()=>ope,extname:()=>lpe,format:()=>cpe,isAbsolute:()=>upe,join:()=>hpe,normalize:()=>fpe,parse:()=>dpe,posix:()=>ppe,relative:()=>mpe,resolve:()=>_pe,sep:()=>gpe,win32:()=>bpe});var rpe,ape,spe,ope,lpe,cpe,upe,hpe,fpe,dpe,ppe,mpe,_pe,gpe,bpe,v4=Gt(()=>{ne();ae();re();b4();b4();np();rpe=nr._makeLong,ape=nr.basename,spe=nr.delimiter,ope=nr.dirname,lpe=nr.extname,cpe=nr.format,upe=nr.isAbsolute,hpe=nr.join,fpe=nr.normalize,dpe=nr.parse,ppe=nr.posix,mpe=nr.relative,_pe=nr.resolve,gpe=nr.sep,bpe=nr.win32});var Gh=qe(he=>{"use strict";ne();ae();re();var L2="154",ype={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},vpe={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},jD=0,Q4=1,$D=2,wpe=3,xpe=0,j5=1,XD=2,so=3,bl=0,Dr=1,lo=2,Spe=2,ml=0,Ph=1,ek=2,tk=3,ik=4,YD=5,Mh=100,ZD=101,JD=102,nk=103,rk=104,KD=200,QD=201,eV=202,tV=203,$5=204,X5=205,iV=206,nV=207,rV=208,aV=209,sV=210,oV=0,lV=1,cV=2,xw=3,uV=4,hV=5,fV=6,dV=7,hg=0,pV=1,mV=2,ho=0,_V=1,gV=2,bV=3,yV=4,vV=5,N2=300,Dc=301,Vc=302,M0=303,A0=304,Gp=306,T0=1e3,xr=1001,k0=1002,Pn=1003,Sw=1004,Epe=1004,y0=1005,Mpe=1005,In=1006,Y5=1007,Ape=1007,qc=1008,Tpe=1008,_l=1009,wV=1010,xV=1011,O2=1012,Z5=1013,fl=1014,co=1015,Ip=1016,J5=1017,K5=1018,Oc=1020,SV=1021,Aa=1023,EV=1024,MV=1025,Bc=1026,Ch=1027,AV=1028,Q5=1029,TV=1030,eR=1031,tR=1033,mw=33776,_w=33777,gw=33778,bw=33779,ak=35840,sk=35841,ok=35842,lk=35843,kV=36196,ck=37492,uk=37496,hk=37808,fk=37809,dk=37810,pk=37811,mk=37812,_k=37813,gk=37814,bk=37815,yk=37816,vk=37817,wk=37818,xk=37819,Sk=37820,Ek=37821,yw=36492,RV=36283,Mk=36284,Ak=36285,Tk=36286,PV=2200,IV=2201,CV=2202,R0=2300,P0=2301,vw=2302,Th=2400,kh=2401,I0=2402,B2=2500,iR=2501,kpe=0,Rpe=1,Ppe=2,nR=3e3,Fc=3001,LV=3200,NV=3201,$c=0,OV=1,Uc="",ri="srgb",Cs="srgb-linear",rR="display-p3",Ipe=0,ww=7680,Cpe=7681,Lpe=7682,Npe=7683,Ope=34055,Bpe=34056,Fpe=5386,Upe=512,zpe=513,Dpe=514,Vpe=515,qpe=516,Hpe=517,Gpe=518,BV=519,FV=512,UV=513,zV=514,DV=515,VV=516,qV=517,HV=518,GV=519,C0=35044,Wpe=35048,jpe=35040,$pe=35045,Xpe=35049,Ype=35041,Zpe=35046,Jpe=35050,Kpe=35042,Qpe="100",kk="300 es",Ew=1035,uo=2e3,L0=2001,Ls=class{static{l(this,"EventDispatcher")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let r=this._listeners[e];if(r!==void 0){let a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let n=this._listeners[e.type];if(n!==void 0){e.target=this;let r=n.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}},vr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],vz=1234567,Ih=Math.PI/180,Cp=180/Math.PI;function ka(){let i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(vr[i&255]+vr[i>>8&255]+vr[i>>16&255]+vr[i>>24&255]+"-"+vr[e&255]+vr[e>>8&255]+"-"+vr[e>>16&15|64]+vr[e>>24&255]+"-"+vr[t&63|128]+vr[t>>8&255]+"-"+vr[t>>16&255]+vr[t>>24&255]+vr[n&255]+vr[n>>8&255]+vr[n>>16&255]+vr[n>>24&255]).toLowerCase()}l(ka,"generateUUID");function yn(i,e,t){return Math.max(e,Math.min(t,i))}l(yn,"clamp");function aR(i,e){return(i%e+e)%e}l(aR,"euclideanModulo");function eme(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}l(eme,"mapLinear");function tme(i,e,t){return i!==e?(t-i)/(e-i):0}l(tme,"inverseLerp");function v0(i,e,t){return(1-t)*i+t*e}l(v0,"lerp");function ime(i,e,t,n){return v0(i,e,1-Math.exp(-t*n))}l(ime,"damp");function nme(i,e=1){return e-Math.abs(aR(i,e*2)-e)}l(nme,"pingpong");function rme(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}l(rme,"smoothstep");function ame(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}l(ame,"smootherstep");function sme(i,e){return i+Math.floor(Math.random()*(e-i+1))}l(sme,"randInt");function ome(i,e){return i+Math.random()*(e-i)}l(ome,"randFloat");function lme(i){return i*(.5-Math.random())}l(lme,"randFloatSpread");function cme(i){i!==void 0&&(vz=i);let e=vz+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}l(cme,"seededRandom");function ume(i){return i*Ih}l(ume,"degToRad");function hme(i){return i*Cp}l(hme,"radToDeg");function Rk(i){return(i&i-1)===0&&i!==0}l(Rk,"isPowerOfTwo");function WV(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}l(WV,"ceilPowerOfTwo");function Mw(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}l(Mw,"floorPowerOfTwo");function fme(i,e,t,n,r){let a=Math.cos,s=Math.sin,o=a(t/2),c=s(t/2),u=a((e+n)/2),h=s((e+n)/2),f=a((e-n)/2),p=s((e-n)/2),d=a((n-e)/2),m=s((n-e)/2);switch(r){case"XYX":i.set(o*h,c*f,c*p,o*u);break;case"YZY":i.set(c*p,o*h,c*f,o*u);break;case"ZXZ":i.set(c*f,c*p,o*h,o*u);break;case"XZX":i.set(o*h,c*m,c*d,o*u);break;case"YXY":i.set(c*d,o*h,c*m,o*u);break;case"ZYZ":i.set(c*m,c*d,o*h,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}l(fme,"setQuaternionFromProperEuler");function Ta(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}l(Ta,"denormalize");function mi(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}l(mi,"normalize");var dme={DEG2RAD:Ih,RAD2DEG:Cp,generateUUID:ka,clamp:yn,euclideanModulo:aR,mapLinear:eme,inverseLerp:tme,lerp:v0,damp:ime,pingpong:nme,smoothstep:rme,smootherstep:ame,randInt:sme,randFloat:ome,randFloatSpread:lme,seededRandom:cme,degToRad:ume,radToDeg:hme,isPowerOfTwo:Rk,ceilPowerOfTwo:WV,floorPowerOfTwo:Mw,setQuaternionFromProperEuler:fme,normalize:mi,denormalize:Ta},_t=class i{static{l(this,"Vector2")}constructor(e=0,t=0){i.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(yn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let n=Math.cos(t),r=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*n-s*r+e.x,this.y=a*r+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},pi=class i{static{l(this,"Matrix3")}constructor(e,t,n,r,a,s,o,c,u){i.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,a,s,o,c,u)}set(e,t,n,r,a,s,o,c,u){let h=this.elements;return h[0]=e,h[1]=r,h[2]=o,h[3]=t,h[4]=a,h[5]=c,h[6]=n,h[7]=s,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,r=t.elements,a=this.elements,s=n[0],o=n[3],c=n[6],u=n[1],h=n[4],f=n[7],p=n[2],d=n[5],m=n[8],y=r[0],g=r[3],b=r[6],x=r[1],w=r[4],E=r[7],M=r[2],C=r[5],I=r[8];return a[0]=s*y+o*x+c*M,a[3]=s*g+o*w+c*C,a[6]=s*b+o*E+c*I,a[1]=u*y+h*x+f*M,a[4]=u*g+h*w+f*C,a[7]=u*b+h*E+f*I,a[2]=p*y+d*x+m*M,a[5]=p*g+d*w+m*C,a[8]=p*b+d*E+m*I,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],s=e[4],o=e[5],c=e[6],u=e[7],h=e[8];return t*s*h-t*o*u-n*a*h+n*o*c+r*a*u-r*s*c}invert(){let e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],s=e[4],o=e[5],c=e[6],u=e[7],h=e[8],f=h*s-o*u,p=o*c-h*a,d=u*a-s*c,m=t*f+n*p+r*d;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);let y=1/m;return e[0]=f*y,e[1]=(r*u-h*n)*y,e[2]=(o*n-r*s)*y,e[3]=p*y,e[4]=(h*t-r*c)*y,e[5]=(r*a-o*t)*y,e[6]=d*y,e[7]=(n*c-u*t)*y,e[8]=(s*t-n*a)*y,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,a,s,o){let c=Math.cos(a),u=Math.sin(a);return this.set(n*c,n*u,-n*(c*s+u*o)+s+e,-r*u,r*c,-r*(-u*s+c*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(w4.makeScale(e,t)),this}rotate(e){return this.premultiply(w4.makeRotation(-e)),this}translate(e,t){return this.premultiply(w4.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}},w4=new pi;function jV(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}l(jV,"arrayNeedsUint32");var pme={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ap(i,e){return new pme[i](e)}l(Ap,"getTypedArray");function N0(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}l(N0,"createElementNS");var wz={};function w0(i){i in wz||(wz[i]=!0,console.warn(i))}l(w0,"warnOnce");function Rp(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}l(Rp,"SRGBToLinear");function x4(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}l(x4,"LinearToSRGB");var mme=new pi().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),_me=new pi().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function gme(i){return i.convertSRGBToLinear().applyMatrix3(_me)}l(gme,"DisplayP3ToLinearSRGB");function bme(i){return i.applyMatrix3(mme).convertLinearToSRGB()}l(bme,"LinearSRGBToDisplayP3");var yme={[Cs]:i=>i,[ri]:i=>i.convertSRGBToLinear(),[rR]:gme},vme={[Cs]:i=>i,[ri]:i=>i.convertLinearToSRGB(),[rR]:bme},as={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(i){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!i},get workingColorSpace(){return Cs},set workingColorSpace(i){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(i,e,t){if(this.enabled===!1||e===t||!e||!t)return i;let n=yme[e],r=vme[t];if(n===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(n(i))},fromWorkingColorSpace:function(i,e){return this.convert(i,this.workingColorSpace,e)},toWorkingColorSpace:function(i,e){return this.convert(i,e,this.workingColorSpace)}},rp,O0=class{static{l(this,"ImageUtils")}static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{rp===void 0&&(rp=N0("canvas")),rp.width=e.width,rp.height=e.height;let n=rp.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=rp}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=N0("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);let r=n.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=Rp(a[s]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){let t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Rp(t[n]/255)*255):t[n]=Rp(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},wme=0,dl=class{static{l(this,"Source")}constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:wme++}),this.uuid=ka(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,o=r.length;s<o;s++)r[s].isDataTexture?a.push(S4(r[s].image)):a.push(S4(r[s]))}else a=S4(r);n.url=a}return t||(e.images[this.uuid]=n),n}};function S4(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?O0.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}l(S4,"serializeImage");var xme=0,Wn=class i extends Ls{static{l(this,"Texture")}constructor(e=i.DEFAULT_IMAGE,t=i.DEFAULT_MAPPING,n=xr,r=xr,a=In,s=qc,o=Aa,c=_l,u=i.DEFAULT_ANISOTROPY,h=Uc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:xme++}),this.uuid=ka(),this.name="",this.source=new dl(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=c,this.offset=new _t(0,0),this.repeat=new _t(1,1),this.center=new _t(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new pi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(w0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===Fc?ri:Uc),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==N2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case T0:e.x=e.x-Math.floor(e.x);break;case xr:e.x=e.x<0?0:1;break;case k0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case T0:e.y=e.y-Math.floor(e.y);break;case xr:e.y=e.y<0?0:1;break;case k0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return w0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===ri?Fc:nR}set encoding(e){w0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Fc?ri:Uc}};Wn.DEFAULT_IMAGE=null;Wn.DEFAULT_MAPPING=N2;Wn.DEFAULT_ANISOTROPY=1;var Hi=class i{static{l(this,"Vector4")}constructor(e=0,t=0,n=0,r=1){i.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,n=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r+s[12]*a,this.y=s[1]*t+s[5]*n+s[9]*r+s[13]*a,this.z=s[2]*t+s[6]*n+s[10]*r+s[14]*a,this.w=s[3]*t+s[7]*n+s[11]*r+s[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,a,c=e.elements,u=c[0],h=c[4],f=c[8],p=c[1],d=c[5],m=c[9],y=c[2],g=c[6],b=c[10];if(Math.abs(h-p)<.01&&Math.abs(f-y)<.01&&Math.abs(m-g)<.01){if(Math.abs(h+p)<.1&&Math.abs(f+y)<.1&&Math.abs(m+g)<.1&&Math.abs(u+d+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let w=(u+1)/2,E=(d+1)/2,M=(b+1)/2,C=(h+p)/4,I=(f+y)/4,F=(m+g)/4;return w>E&&w>M?w<.01?(n=0,r=.707106781,a=.707106781):(n=Math.sqrt(w),r=C/n,a=I/n):E>M?E<.01?(n=.707106781,r=0,a=.707106781):(r=Math.sqrt(E),n=C/r,a=F/r):M<.01?(n=.707106781,r=.707106781,a=0):(a=Math.sqrt(M),n=I/a,r=F/a),this.set(n,r,a,t),this}let x=Math.sqrt((g-m)*(g-m)+(f-y)*(f-y)+(p-h)*(p-h));return Math.abs(x)<.001&&(x=1),this.x=(g-m)/x,this.y=(f-y)/x,this.z=(p-h)/x,this.w=Math.acos((u+d+b-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},Ra=class extends Ls{static{l(this,"WebGLRenderTarget")}constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Hi(0,0,e,t),this.scissorTest=!1,this.viewport=new Hi(0,0,e,t);let r={width:e,height:t,depth:1};n.encoding!==void 0&&(w0("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Fc?ri:Uc),this.texture=new Wn(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:In,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new dl(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},Lp=class extends Wn{static{l(this,"DataArrayTexture")}constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Pn,this.minFilter=Pn,this.wrapR=xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},Pk=class extends Ra{static{l(this,"WebGLArrayRenderTarget")}constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Lp(null,e,t,n),this.texture.isRenderTargetTexture=!0}},B0=class extends Wn{static{l(this,"Data3DTexture")}constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Pn,this.minFilter=Pn,this.wrapR=xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},Ik=class extends Ra{static{l(this,"WebGL3DRenderTarget")}constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new B0(null,e,t,n),this.texture.isRenderTargetTexture=!0}},Ck=class extends Ra{static{l(this,"WebGLMultipleRenderTargets")}constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;let a=this.texture;this.texture=[];for(let s=0;s<n;s++)this.texture[s]=a.clone(),this.texture[s].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,a=this.texture.length;r<a;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},Sr=class{static{l(this,"Quaternion")}constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,a,s,o){let c=n[r+0],u=n[r+1],h=n[r+2],f=n[r+3],p=a[s+0],d=a[s+1],m=a[s+2],y=a[s+3];if(o===0){e[t+0]=c,e[t+1]=u,e[t+2]=h,e[t+3]=f;return}if(o===1){e[t+0]=p,e[t+1]=d,e[t+2]=m,e[t+3]=y;return}if(f!==y||c!==p||u!==d||h!==m){let g=1-o,b=c*p+u*d+h*m+f*y,x=b>=0?1:-1,w=1-b*b;if(w>Number.EPSILON){let M=Math.sqrt(w),C=Math.atan2(M,b*x);g=Math.sin(g*C)/M,o=Math.sin(o*C)/M}let E=o*x;if(c=c*g+p*E,u=u*g+d*E,h=h*g+m*E,f=f*g+y*E,g===1-o){let M=1/Math.sqrt(c*c+u*u+h*h+f*f);c*=M,u*=M,h*=M,f*=M}}e[t]=c,e[t+1]=u,e[t+2]=h,e[t+3]=f}static multiplyQuaternionsFlat(e,t,n,r,a,s){let o=n[r],c=n[r+1],u=n[r+2],h=n[r+3],f=a[s],p=a[s+1],d=a[s+2],m=a[s+3];return e[t]=o*m+h*f+c*d-u*p,e[t+1]=c*m+h*p+u*f-o*d,e[t+2]=u*m+h*d+o*p-c*f,e[t+3]=h*m-o*f-c*p-u*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){let n=e._x,r=e._y,a=e._z,s=e._order,o=Math.cos,c=Math.sin,u=o(n/2),h=o(r/2),f=o(a/2),p=c(n/2),d=c(r/2),m=c(a/2);switch(s){case"XYZ":this._x=p*h*f+u*d*m,this._y=u*d*f-p*h*m,this._z=u*h*m+p*d*f,this._w=u*h*f-p*d*m;break;case"YXZ":this._x=p*h*f+u*d*m,this._y=u*d*f-p*h*m,this._z=u*h*m-p*d*f,this._w=u*h*f+p*d*m;break;case"ZXY":this._x=p*h*f-u*d*m,this._y=u*d*f+p*h*m,this._z=u*h*m+p*d*f,this._w=u*h*f-p*d*m;break;case"ZYX":this._x=p*h*f-u*d*m,this._y=u*d*f+p*h*m,this._z=u*h*m-p*d*f,this._w=u*h*f+p*d*m;break;case"YZX":this._x=p*h*f+u*d*m,this._y=u*d*f+p*h*m,this._z=u*h*m-p*d*f,this._w=u*h*f-p*d*m;break;case"XZY":this._x=p*h*f-u*d*m,this._y=u*d*f-p*h*m,this._z=u*h*m+p*d*f,this._w=u*h*f+p*d*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,n=t[0],r=t[4],a=t[8],s=t[1],o=t[5],c=t[9],u=t[2],h=t[6],f=t[10],p=n+o+f;if(p>0){let d=.5/Math.sqrt(p+1);this._w=.25/d,this._x=(h-c)*d,this._y=(a-u)*d,this._z=(s-r)*d}else if(n>o&&n>f){let d=2*Math.sqrt(1+n-o-f);this._w=(h-c)/d,this._x=.25*d,this._y=(r+s)/d,this._z=(a+u)/d}else if(o>f){let d=2*Math.sqrt(1+o-n-f);this._w=(a-u)/d,this._x=(r+s)/d,this._y=.25*d,this._z=(c+h)/d}else{let d=2*Math.sqrt(1+f-n-o);this._w=(s-r)/d,this._x=(a+u)/d,this._y=(c+h)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(yn(this.dot(e),-1,1)))}rotateTowards(e,t){let n=this.angleTo(e);if(n===0)return this;let r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let n=e._x,r=e._y,a=e._z,s=e._w,o=t._x,c=t._y,u=t._z,h=t._w;return this._x=n*h+s*o+r*u-a*c,this._y=r*h+s*c+a*o-n*u,this._z=a*h+s*u+n*c-r*o,this._w=s*h-n*o-r*c-a*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let n=this._x,r=this._y,a=this._z,s=this._w,o=s*e._w+n*e._x+r*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=n,this._y=r,this._z=a,this;let c=1-o*o;if(c<=Number.EPSILON){let d=1-t;return this._w=d*s+t*this._w,this._x=d*n+t*this._x,this._y=d*r+t*this._y,this._z=d*a+t*this._z,this.normalize(),this._onChangeCallback(),this}let u=Math.sqrt(c),h=Math.atan2(u,o),f=Math.sin((1-t)*h)/u,p=Math.sin(t*h)/u;return this._w=s*f+this._w*p,this._x=n*f+this._x*p,this._y=r*f+this._y*p,this._z=a*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){let e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(a),n*Math.cos(a),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},Oe=class i{static{l(this,"Vector3")}constructor(e=0,t=0,n=0){i.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(xz.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(xz.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*r,this.y=a[1]*t+a[4]*n+a[7]*r,this.z=a[2]*t+a[5]*n+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,n=this.y,r=this.z,a=e.elements,s=1/(a[3]*t+a[7]*n+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*r+a[12])*s,this.y=(a[1]*t+a[5]*n+a[9]*r+a[13])*s,this.z=(a[2]*t+a[6]*n+a[10]*r+a[14])*s,this}applyQuaternion(e){let t=this.x,n=this.y,r=this.z,a=e.x,s=e.y,o=e.z,c=e.w,u=c*t+s*r-o*n,h=c*n+o*t-a*r,f=c*r+a*n-s*t,p=-a*t-s*n-o*r;return this.x=u*c+p*-a+h*-o-f*-s,this.y=h*c+p*-s+f*-a-u*-o,this.z=f*c+p*-o+u*-s-h*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r,this.y=a[1]*t+a[5]*n+a[9]*r,this.z=a[2]*t+a[6]*n+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let n=e.x,r=e.y,a=e.z,s=t.x,o=t.y,c=t.z;return this.x=r*c-a*o,this.y=a*s-n*c,this.z=n*o-r*s,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return E4.copy(this).projectOnVector(e),this.sub(E4)}reflect(e){return this.sub(E4.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(yn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){let r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},E4=new Oe,xz=new Sr,os=class{static{l(this,"Box3")}constructor(e=new Oe(1/0,1/0,1/0),t=new Oe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(al.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(al.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=al.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),ap.copy(e.boundingBox),ap.applyMatrix4(e.matrixWorld),this.union(ap);else{let r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){let a=r.attributes.position;for(let s=0,o=a.count;s<o;s++)al.fromBufferAttribute(a,s).applyMatrix4(e.matrixWorld),this.expandByPoint(al)}else r.boundingBox===null&&r.computeBoundingBox(),ap.copy(r.boundingBox),ap.applyMatrix4(e.matrixWorld),this.union(ap)}let n=e.children;for(let r=0,a=n.length;r<a;r++)this.expandByObject(n[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,al),al.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(o0),kv.subVectors(this.max,o0),sp.subVectors(e.a,o0),op.subVectors(e.b,o0),lp.subVectors(e.c,o0),Rc.subVectors(op,sp),Pc.subVectors(lp,op),mh.subVectors(sp,lp);let t=[0,-Rc.z,Rc.y,0,-Pc.z,Pc.y,0,-mh.z,mh.y,Rc.z,0,-Rc.x,Pc.z,0,-Pc.x,mh.z,0,-mh.x,-Rc.y,Rc.x,0,-Pc.y,Pc.x,0,-mh.y,mh.x,0];return!M4(t,sp,op,lp,kv)||(t=[1,0,0,0,1,0,0,0,1],!M4(t,sp,op,lp,kv))?!1:(Rv.crossVectors(Rc,Pc),t=[Rv.x,Rv.y,Rv.z],M4(t,sp,op,lp,kv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,al).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(al).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(rl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),rl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),rl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),rl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),rl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),rl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),rl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),rl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(rl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},rl=[new Oe,new Oe,new Oe,new Oe,new Oe,new Oe,new Oe,new Oe],al=new Oe,ap=new os,sp=new Oe,op=new Oe,lp=new Oe,Rc=new Oe,Pc=new Oe,mh=new Oe,o0=new Oe,kv=new Oe,Rv=new Oe,_h=new Oe;function M4(i,e,t,n,r){for(let a=0,s=i.length-3;a<=s;a+=3){_h.fromArray(i,a);let o=r.x*Math.abs(_h.x)+r.y*Math.abs(_h.y)+r.z*Math.abs(_h.z),c=e.dot(_h),u=t.dot(_h),h=n.dot(_h);if(Math.max(-Math.max(c,u,h),Math.min(c,u,h))>o)return!1}return!0}l(M4,"satForAxes");var Sme=new os,l0=new Oe,A4=new Oe,Pa=class{static{l(this,"Sphere")}constructor(e=new Oe,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let n=this.center;t!==void 0?n.copy(t):Sme.setFromPoints(e).getCenter(n);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;l0.subVectors(e,this.center);let t=l0.lengthSq();if(t>this.radius*this.radius){let n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(l0,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(A4.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(l0.copy(e.center).add(A4)),this.expandByPoint(l0.copy(e.center).sub(A4))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},sl=new Oe,T4=new Oe,Pv=new Oe,Ic=new Oe,k4=new Oe,Iv=new Oe,R4=new Oe,Hc=class{static{l(this,"Ray")}constructor(e=new Oe,t=new Oe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,sl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=sl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(sl.copy(this.origin).addScaledVector(this.direction,t),sl.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){T4.copy(e).add(t).multiplyScalar(.5),Pv.copy(t).sub(e).normalize(),Ic.copy(this.origin).sub(T4);let a=e.distanceTo(t)*.5,s=-this.direction.dot(Pv),o=Ic.dot(this.direction),c=-Ic.dot(Pv),u=Ic.lengthSq(),h=Math.abs(1-s*s),f,p,d,m;if(h>0)if(f=s*c-o,p=s*o-c,m=a*h,f>=0)if(p>=-m)if(p<=m){let y=1/h;f*=y,p*=y,d=f*(f+s*p+2*o)+p*(s*f+p+2*c)+u}else p=a,f=Math.max(0,-(s*p+o)),d=-f*f+p*(p+2*c)+u;else p=-a,f=Math.max(0,-(s*p+o)),d=-f*f+p*(p+2*c)+u;else p<=-m?(f=Math.max(0,-(-s*a+o)),p=f>0?-a:Math.min(Math.max(-a,-c),a),d=-f*f+p*(p+2*c)+u):p<=m?(f=0,p=Math.min(Math.max(-a,-c),a),d=p*(p+2*c)+u):(f=Math.max(0,-(s*a+o)),p=f>0?a:Math.min(Math.max(-a,-c),a),d=-f*f+p*(p+2*c)+u);else p=s>0?-a:a,f=Math.max(0,-(s*p+o)),d=-f*f+p*(p+2*c)+u;return n&&n.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(T4).addScaledVector(Pv,p),d}intersectSphere(e,t){sl.subVectors(e.center,this.origin);let n=sl.dot(this.direction),r=sl.dot(sl)-n*n,a=e.radius*e.radius;if(r>a)return null;let s=Math.sqrt(a-r),o=n-s,c=n+s;return c<0?null:o<0?this.at(c,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){let n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,a,s,o,c,u=1/this.direction.x,h=1/this.direction.y,f=1/this.direction.z,p=this.origin;return u>=0?(n=(e.min.x-p.x)*u,r=(e.max.x-p.x)*u):(n=(e.max.x-p.x)*u,r=(e.min.x-p.x)*u),h>=0?(a=(e.min.y-p.y)*h,s=(e.max.y-p.y)*h):(a=(e.max.y-p.y)*h,s=(e.min.y-p.y)*h),n>s||a>r||((a>n||isNaN(n))&&(n=a),(s<r||isNaN(r))&&(r=s),f>=0?(o=(e.min.z-p.z)*f,c=(e.max.z-p.z)*f):(o=(e.max.z-p.z)*f,c=(e.min.z-p.z)*f),n>c||o>r)||((o>n||n!==n)&&(n=o),(c<r||r!==r)&&(r=c),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,sl)!==null}intersectTriangle(e,t,n,r,a){k4.subVectors(t,e),Iv.subVectors(n,e),R4.crossVectors(k4,Iv);let s=this.direction.dot(R4),o;if(s>0){if(r)return null;o=1}else if(s<0)o=-1,s=-s;else return null;Ic.subVectors(this.origin,e);let c=o*this.direction.dot(Iv.crossVectors(Ic,Iv));if(c<0)return null;let u=o*this.direction.dot(k4.cross(Ic));if(u<0||c+u>s)return null;let h=-o*Ic.dot(R4);return h<0?null:this.at(h/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},ai=class i{static{l(this,"Matrix4")}constructor(e,t,n,r,a,s,o,c,u,h,f,p,d,m,y,g){i.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,a,s,o,c,u,h,f,p,d,m,y,g)}set(e,t,n,r,a,s,o,c,u,h,f,p,d,m,y,g){let b=this.elements;return b[0]=e,b[4]=t,b[8]=n,b[12]=r,b[1]=a,b[5]=s,b[9]=o,b[13]=c,b[2]=u,b[6]=h,b[10]=f,b[14]=p,b[3]=d,b[7]=m,b[11]=y,b[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new i().fromArray(this.elements)}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){let t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,n=e.elements,r=1/cp.setFromMatrixColumn(e,0).length(),a=1/cp.setFromMatrixColumn(e,1).length(),s=1/cp.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,n=e.x,r=e.y,a=e.z,s=Math.cos(n),o=Math.sin(n),c=Math.cos(r),u=Math.sin(r),h=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){let p=s*h,d=s*f,m=o*h,y=o*f;t[0]=c*h,t[4]=-c*f,t[8]=u,t[1]=d+m*u,t[5]=p-y*u,t[9]=-o*c,t[2]=y-p*u,t[6]=m+d*u,t[10]=s*c}else if(e.order==="YXZ"){let p=c*h,d=c*f,m=u*h,y=u*f;t[0]=p+y*o,t[4]=m*o-d,t[8]=s*u,t[1]=s*f,t[5]=s*h,t[9]=-o,t[2]=d*o-m,t[6]=y+p*o,t[10]=s*c}else if(e.order==="ZXY"){let p=c*h,d=c*f,m=u*h,y=u*f;t[0]=p-y*o,t[4]=-s*f,t[8]=m+d*o,t[1]=d+m*o,t[5]=s*h,t[9]=y-p*o,t[2]=-s*u,t[6]=o,t[10]=s*c}else if(e.order==="ZYX"){let p=s*h,d=s*f,m=o*h,y=o*f;t[0]=c*h,t[4]=m*u-d,t[8]=p*u+y,t[1]=c*f,t[5]=y*u+p,t[9]=d*u-m,t[2]=-u,t[6]=o*c,t[10]=s*c}else if(e.order==="YZX"){let p=s*c,d=s*u,m=o*c,y=o*u;t[0]=c*h,t[4]=y-p*f,t[8]=m*f+d,t[1]=f,t[5]=s*h,t[9]=-o*h,t[2]=-u*h,t[6]=d*f+m,t[10]=p-y*f}else if(e.order==="XZY"){let p=s*c,d=s*u,m=o*c,y=o*u;t[0]=c*h,t[4]=-f,t[8]=u*h,t[1]=p*f+y,t[5]=s*h,t[9]=d*f-m,t[2]=m*f-d,t[6]=o*h,t[10]=y*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Eme,e,Mme)}lookAt(e,t,n){let r=this.elements;return Ea.subVectors(e,t),Ea.lengthSq()===0&&(Ea.z=1),Ea.normalize(),Cc.crossVectors(n,Ea),Cc.lengthSq()===0&&(Math.abs(n.z)===1?Ea.x+=1e-4:Ea.z+=1e-4,Ea.normalize(),Cc.crossVectors(n,Ea)),Cc.normalize(),Cv.crossVectors(Ea,Cc),r[0]=Cc.x,r[4]=Cv.x,r[8]=Ea.x,r[1]=Cc.y,r[5]=Cv.y,r[9]=Ea.y,r[2]=Cc.z,r[6]=Cv.z,r[10]=Ea.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,r=t.elements,a=this.elements,s=n[0],o=n[4],c=n[8],u=n[12],h=n[1],f=n[5],p=n[9],d=n[13],m=n[2],y=n[6],g=n[10],b=n[14],x=n[3],w=n[7],E=n[11],M=n[15],C=r[0],I=r[4],F=r[8],A=r[12],T=r[1],j=r[5],R=r[9],U=r[13],q=r[2],X=r[6],fe=r[10],H=r[14],Y=r[3],$=r[7],Z=r[11],ie=r[15];return a[0]=s*C+o*T+c*q+u*Y,a[4]=s*I+o*j+c*X+u*$,a[8]=s*F+o*R+c*fe+u*Z,a[12]=s*A+o*U+c*H+u*ie,a[1]=h*C+f*T+p*q+d*Y,a[5]=h*I+f*j+p*X+d*$,a[9]=h*F+f*R+p*fe+d*Z,a[13]=h*A+f*U+p*H+d*ie,a[2]=m*C+y*T+g*q+b*Y,a[6]=m*I+y*j+g*X+b*$,a[10]=m*F+y*R+g*fe+b*Z,a[14]=m*A+y*U+g*H+b*ie,a[3]=x*C+w*T+E*q+M*Y,a[7]=x*I+w*j+E*X+M*$,a[11]=x*F+w*R+E*fe+M*Z,a[15]=x*A+w*U+E*H+M*ie,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[4],r=e[8],a=e[12],s=e[1],o=e[5],c=e[9],u=e[13],h=e[2],f=e[6],p=e[10],d=e[14],m=e[3],y=e[7],g=e[11],b=e[15];return m*(+a*c*f-r*u*f-a*o*p+n*u*p+r*o*d-n*c*d)+y*(+t*c*d-t*u*p+a*s*p-r*s*d+r*u*h-a*c*h)+g*(+t*u*f-t*o*d-a*s*f+n*s*d+a*o*h-n*u*h)+b*(-r*o*h-t*c*f+t*o*p+r*s*f-n*s*p+n*c*h)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){let r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){let e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],s=e[4],o=e[5],c=e[6],u=e[7],h=e[8],f=e[9],p=e[10],d=e[11],m=e[12],y=e[13],g=e[14],b=e[15],x=f*g*u-y*p*u+y*c*d-o*g*d-f*c*b+o*p*b,w=m*p*u-h*g*u-m*c*d+s*g*d+h*c*b-s*p*b,E=h*y*u-m*f*u+m*o*d-s*y*d-h*o*b+s*f*b,M=m*f*c-h*y*c-m*o*p+s*y*p+h*o*g-s*f*g,C=t*x+n*w+r*E+a*M;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let I=1/C;return e[0]=x*I,e[1]=(y*p*a-f*g*a-y*r*d+n*g*d+f*r*b-n*p*b)*I,e[2]=(o*g*a-y*c*a+y*r*u-n*g*u-o*r*b+n*c*b)*I,e[3]=(f*c*a-o*p*a-f*r*u+n*p*u+o*r*d-n*c*d)*I,e[4]=w*I,e[5]=(h*g*a-m*p*a+m*r*d-t*g*d-h*r*b+t*p*b)*I,e[6]=(m*c*a-s*g*a-m*r*u+t*g*u+s*r*b-t*c*b)*I,e[7]=(s*p*a-h*c*a+h*r*u-t*p*u-s*r*d+t*c*d)*I,e[8]=E*I,e[9]=(m*f*a-h*y*a-m*n*d+t*y*d+h*n*b-t*f*b)*I,e[10]=(s*y*a-m*o*a+m*n*u-t*y*u-s*n*b+t*o*b)*I,e[11]=(h*o*a-s*f*a-h*n*u+t*f*u+s*n*d-t*o*d)*I,e[12]=M*I,e[13]=(h*y*r-m*f*r+m*n*p-t*y*p-h*n*g+t*f*g)*I,e[14]=(m*o*r-s*y*r-m*n*c+t*y*c+s*n*g-t*o*g)*I,e[15]=(s*f*r-h*o*r+h*n*c-t*f*c-s*n*p+t*o*p)*I,this}scale(e){let t=this.elements,n=e.x,r=e.y,a=e.z;return t[0]*=n,t[4]*=r,t[8]*=a,t[1]*=n,t[5]*=r,t[9]*=a,t[2]*=n,t[6]*=r,t[10]*=a,t[3]*=n,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let n=Math.cos(t),r=Math.sin(t),a=1-n,s=e.x,o=e.y,c=e.z,u=a*s,h=a*o;return this.set(u*s+n,u*o-r*c,u*c+r*o,0,u*o+r*c,h*o+n,h*c-r*s,0,u*c-r*o,h*c+r*s,a*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,a,s){return this.set(1,n,a,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){let r=this.elements,a=t._x,s=t._y,o=t._z,c=t._w,u=a+a,h=s+s,f=o+o,p=a*u,d=a*h,m=a*f,y=s*h,g=s*f,b=o*f,x=c*u,w=c*h,E=c*f,M=n.x,C=n.y,I=n.z;return r[0]=(1-(y+b))*M,r[1]=(d+E)*M,r[2]=(m-w)*M,r[3]=0,r[4]=(d-E)*C,r[5]=(1-(p+b))*C,r[6]=(g+x)*C,r[7]=0,r[8]=(m+w)*I,r[9]=(g-x)*I,r[10]=(1-(p+y))*I,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){let r=this.elements,a=cp.set(r[0],r[1],r[2]).length(),s=cp.set(r[4],r[5],r[6]).length(),o=cp.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],ks.copy(this);let u=1/a,h=1/s,f=1/o;return ks.elements[0]*=u,ks.elements[1]*=u,ks.elements[2]*=u,ks.elements[4]*=h,ks.elements[5]*=h,ks.elements[6]*=h,ks.elements[8]*=f,ks.elements[9]*=f,ks.elements[10]*=f,t.setFromRotationMatrix(ks),n.x=a,n.y=s,n.z=o,this}makePerspective(e,t,n,r,a,s,o=uo){let c=this.elements,u=2*a/(t-e),h=2*a/(n-r),f=(t+e)/(t-e),p=(n+r)/(n-r),d,m;if(o===uo)d=-(s+a)/(s-a),m=-2*s*a/(s-a);else if(o===L0)d=-s/(s-a),m=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=h,c[9]=p,c[13]=0,c[2]=0,c[6]=0,c[10]=d,c[14]=m,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,n,r,a,s,o=uo){let c=this.elements,u=1/(t-e),h=1/(n-r),f=1/(s-a),p=(t+e)*u,d=(n+r)*h,m,y;if(o===uo)m=(s+a)*f,y=-2*f;else if(o===L0)m=a*f,y=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-p,c[1]=0,c[5]=2*h,c[9]=0,c[13]=-d,c[2]=0,c[6]=0,c[10]=y,c[14]=-m,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){let t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}},cp=new Oe,ks=new ai,Eme=new Oe(0,0,0),Mme=new Oe(1,1,1),Cc=new Oe,Cv=new Oe,Ea=new Oe,Sz=new ai,Ez=new Sr,F0=class i{static{l(this,"Euler")}constructor(e=0,t=0,n=0,r=i.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){let r=e.elements,a=r[0],s=r[4],o=r[8],c=r[1],u=r[5],h=r[9],f=r[2],p=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(yn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-yn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(yn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-yn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,d),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(yn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-yn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-h,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Sz.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Sz,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Ez.setFromEuler(this),this.setFromQuaternion(Ez,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};F0.DEFAULT_ORDER="XYZ";var Np=class{static{l(this,"Layers")}constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},Ame=0,Mz=new Oe,up=new Sr,ol=new ai,Lv=new Oe,c0=new Oe,Tme=new Oe,kme=new Sr,Az=new Oe(1,0,0),Tz=new Oe(0,1,0),kz=new Oe(0,0,1),Rme={type:"added"},Rz={type:"removed"},Oi=class i extends Ls{static{l(this,"Object3D")}constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Ame++}),this.uuid=ka(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=i.DEFAULT_UP.clone();let e=new Oe,t=new F0,n=new Sr,r=new Oe(1,1,1);function a(){n.setFromEuler(t,!1)}l(a,"onRotationChange");function s(){t.setFromQuaternion(n,void 0,!1)}l(s,"onQuaternionChange"),t._onChange(a),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ai},normalMatrix:{value:new pi}}),this.matrix=new ai,this.matrixWorld=new ai,this.matrixAutoUpdate=i.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Np,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return up.setFromAxisAngle(e,t),this.quaternion.multiply(up),this}rotateOnWorldAxis(e,t){return up.setFromAxisAngle(e,t),this.quaternion.premultiply(up),this}rotateX(e){return this.rotateOnAxis(Az,e)}rotateY(e){return this.rotateOnAxis(Tz,e)}rotateZ(e){return this.rotateOnAxis(kz,e)}translateOnAxis(e,t){return Mz.copy(e).applyQuaternion(this.quaternion),this.position.add(Mz.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Az,e)}translateY(e){return this.translateOnAxis(Tz,e)}translateZ(e){return this.translateOnAxis(kz,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ol.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Lv.copy(e):Lv.set(e,t,n);let r=this.parent;this.updateWorldMatrix(!0,!1),c0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ol.lookAt(c0,Lv,this.up):ol.lookAt(Lv,c0,this.up),this.quaternion.setFromRotationMatrix(ol),r&&(ol.extractRotation(r.matrixWorld),up.setFromRotationMatrix(ol),this.quaternion.premultiply(up.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Rme)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Rz)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(Rz)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ol.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ol.multiply(e.parent.matrixWorld)),e.applyMatrix4(ol),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){let s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,a=this.children.length;r<a;r++){let s=this.children[r].getObjectsByProperty(e,t);s.length>0&&(n=n.concat(s))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(c0,e,Tme),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(c0,kme,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let n=0,r=t.length;n<r;n++){let a=t[n];(a.matrixWorldAutoUpdate===!0||e===!0)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let r=this.children;for(let a=0,s=r.length;a<s;a++){let o=r[a];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});let r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function a(o,c){return o[c.uuid]===void 0&&(o[c.uuid]=c.toJSON(e)),c.uuid}if(l(a,"serialize"),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);let o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){let c=o.shapes;if(Array.isArray(c))for(let u=0,h=c.length;u<h;u++){let f=c[u];a(e.shapes,f)}else a(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let o=[];for(let c=0,u=this.material.length;c<u;c++)o.push(a(e.materials,this.material[c]));r.material=o}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){let c=this.animations[o];r.animations.push(a(e.animations,c))}}if(t){let o=s(e.geometries),c=s(e.materials),u=s(e.textures),h=s(e.images),f=s(e.shapes),p=s(e.skeletons),d=s(e.animations),m=s(e.nodes);o.length>0&&(n.geometries=o),c.length>0&&(n.materials=c),u.length>0&&(n.textures=u),h.length>0&&(n.images=h),f.length>0&&(n.shapes=f),p.length>0&&(n.skeletons=p),d.length>0&&(n.animations=d),m.length>0&&(n.nodes=m)}return n.object=r,n;function s(o){let c=[];for(let u in o){let h=o[u];delete h.metadata,c.push(h)}return c}l(s,"extractFromCache")}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){let r=e.children[n];this.add(r.clone())}return this}};Oi.DEFAULT_UP=new Oe(0,1,0);Oi.DEFAULT_MATRIX_AUTO_UPDATE=!0;Oi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Rs=new Oe,ll=new Oe,P4=new Oe,cl=new Oe,hp=new Oe,fp=new Oe,Pz=new Oe,I4=new Oe,C4=new Oe,L4=new Oe,Nv=!1,pl=class i{static{l(this,"Triangle")}constructor(e=new Oe,t=new Oe,n=new Oe){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Rs.subVectors(e,t),r.cross(Rs);let a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,n,r,a){Rs.subVectors(r,t),ll.subVectors(n,t),P4.subVectors(e,t);let s=Rs.dot(Rs),o=Rs.dot(ll),c=Rs.dot(P4),u=ll.dot(ll),h=ll.dot(P4),f=s*u-o*o;if(f===0)return a.set(-2,-1,-1);let p=1/f,d=(u*c-o*h)*p,m=(s*h-o*c)*p;return a.set(1-d-m,m,d)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,cl),cl.x>=0&&cl.y>=0&&cl.x+cl.y<=1}static getUV(e,t,n,r,a,s,o,c){return Nv===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Nv=!0),this.getInterpolation(e,t,n,r,a,s,o,c)}static getInterpolation(e,t,n,r,a,s,o,c){return this.getBarycoord(e,t,n,r,cl),c.setScalar(0),c.addScaledVector(a,cl.x),c.addScaledVector(s,cl.y),c.addScaledVector(o,cl.z),c}static isFrontFacing(e,t,n,r){return Rs.subVectors(n,t),ll.subVectors(e,t),Rs.cross(ll).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Rs.subVectors(this.c,this.b),ll.subVectors(this.a,this.b),Rs.cross(ll).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return i.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return i.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,a){return Nv===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Nv=!0),i.getInterpolation(e,this.a,this.b,this.c,t,n,r,a)}getInterpolation(e,t,n,r,a){return i.getInterpolation(e,this.a,this.b,this.c,t,n,r,a)}containsPoint(e){return i.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return i.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let n=this.a,r=this.b,a=this.c,s,o;hp.subVectors(r,n),fp.subVectors(a,n),I4.subVectors(e,n);let c=hp.dot(I4),u=fp.dot(I4);if(c<=0&&u<=0)return t.copy(n);C4.subVectors(e,r);let h=hp.dot(C4),f=fp.dot(C4);if(h>=0&&f<=h)return t.copy(r);let p=c*f-h*u;if(p<=0&&c>=0&&h<=0)return s=c/(c-h),t.copy(n).addScaledVector(hp,s);L4.subVectors(e,a);let d=hp.dot(L4),m=fp.dot(L4);if(m>=0&&d<=m)return t.copy(a);let y=d*u-c*m;if(y<=0&&u>=0&&m<=0)return o=u/(u-m),t.copy(n).addScaledVector(fp,o);let g=h*m-d*f;if(g<=0&&f-h>=0&&d-m>=0)return Pz.subVectors(a,r),o=(f-h)/(f-h+(d-m)),t.copy(r).addScaledVector(Pz,o);let b=1/(g+y+p);return s=y*b,o=p*b,t.copy(n).addScaledVector(hp,s).addScaledVector(fp,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},Pme=0,ar=class extends Ls{static{l(this,"Material")}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Pme++}),this.uuid=ka(),this.name="",this.type="Material",this.blending=Ph,this.side=bl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=$5,this.blendDst=X5,this.blendEquation=Mh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=xw,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=BV,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ww,this.stencilZFail=ww,this.stencilZPass=ww,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}let r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Ph&&(n.blending=this.blending),this.side!==bl&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(n.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(a){let s=[];for(let o in a){let c=a[o];delete c.metadata,s.push(c)}return s}if(l(r,"extractFromCache"),t){let a=r(e.textures),s=r(e.images);a.length>0&&(n.textures=a),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,n=null;if(t!==null){let r=t.length;n=new Array(r);for(let a=0;a!==r;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},$V={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ps={h:0,s:0,l:0},Ov={h:0,s:0,l:0};function N4(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}l(N4,"hue2rgb");var Lt=class{static{l(this,"Color")}constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){let r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ri){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,as.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=as.workingColorSpace){return this.r=e,this.g=t,this.b=n,as.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=as.workingColorSpace){if(e=aR(e,1),t=yn(t,0,1),n=yn(n,0,1),t===0)this.r=this.g=this.b=n;else{let a=n<=.5?n*(1+t):n+t-n*t,s=2*n-a;this.r=N4(s,a,e+1/3),this.g=N4(s,a,e),this.b=N4(s,a,e-1/3)}return as.toWorkingColorSpace(this,r),this}setStyle(e,t=ri){function n(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}l(n,"handleAlpha");let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a,s=r[1],o=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){let a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ri){let n=$V[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Rp(e.r),this.g=Rp(e.g),this.b=Rp(e.b),this}copyLinearToSRGB(e){return this.r=x4(e.r),this.g=x4(e.g),this.b=x4(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ri){return as.fromWorkingColorSpace(wr.copy(this),e),Math.round(yn(wr.r*255,0,255))*65536+Math.round(yn(wr.g*255,0,255))*256+Math.round(yn(wr.b*255,0,255))}getHexString(e=ri){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=as.workingColorSpace){as.fromWorkingColorSpace(wr.copy(this),t);let n=wr.r,r=wr.g,a=wr.b,s=Math.max(n,r,a),o=Math.min(n,r,a),c,u,h=(o+s)/2;if(o===s)c=0,u=0;else{let f=s-o;switch(u=h<=.5?f/(s+o):f/(2-s-o),s){case n:c=(r-a)/f+(r<a?6:0);break;case r:c=(a-n)/f+2;break;case a:c=(n-r)/f+4;break}c/=6}return e.h=c,e.s=u,e.l=h,e}getRGB(e,t=as.workingColorSpace){return as.fromWorkingColorSpace(wr.copy(this),t),e.r=wr.r,e.g=wr.g,e.b=wr.b,e}getStyle(e=ri){as.fromWorkingColorSpace(wr.copy(this),e);let t=wr.r,n=wr.g,r=wr.b;return e!==ri?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(Ps),Ps.h+=e,Ps.s+=t,Ps.l+=n,this.setHSL(Ps.h,Ps.s,Ps.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ps),e.getHSL(Ov);let n=v0(Ps.h,Ov.h,t),r=v0(Ps.s,Ov.s,t),a=v0(Ps.l,Ov.l,t);return this.setHSL(n,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){let t=this.r,n=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*n+a[6]*r,this.g=a[1]*t+a[4]*n+a[7]*r,this.b=a[2]*t+a[5]*n+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}},wr=new Lt;Lt.NAMES=$V;var po=class extends ar{static{l(this,"MeshBasicMaterial")}constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=hg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},hl=Ime();function Ime(){let i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){let u=c-127;u<-27?(n[c]=0,n[c|256]=32768,r[c]=24,r[c|256]=24):u<-14?(n[c]=1024>>-u-14,n[c|256]=1024>>-u-14|32768,r[c]=-u-1,r[c|256]=-u-1):u<=15?(n[c]=u+15<<10,n[c|256]=u+15<<10|32768,r[c]=13,r[c|256]=13):u<128?(n[c]=31744,n[c|256]=64512,r[c]=24,r[c|256]=24):(n[c]=31744,n[c|256]=64512,r[c]=13,r[c|256]=13)}let a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let c=1;c<1024;++c){let u=c<<13,h=0;for(;!(u&8388608);)u<<=1,h-=8388608;u&=-8388609,h+=947912704,a[c]=u|h}for(let c=1024;c<2048;++c)a[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)s[c]=c<<23;s[31]=1199570944,s[32]=2147483648;for(let c=33;c<63;++c)s[c]=2147483648+(c-32<<23);s[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(o[c]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:o}}l(Ime,"_generateTables");function ta(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=yn(i,-65504,65504),hl.floatView[0]=i;let e=hl.uint32View[0],t=e>>23&511;return hl.baseTable[t]+((e&8388607)>>hl.shiftTable[t])}l(ta,"toHalfFloat");function g0(i){let e=i>>10;return hl.uint32View[0]=hl.mantissaTable[hl.offsetTable[e]+(i&1023)]+hl.exponentTable[e],hl.floatView[0]}l(g0,"fromHalfFloat");var Cme={toHalfFloat:ta,fromHalfFloat:g0},Bn=new Oe,Bv=new _t,Gi=class{static{l(this,"BufferAttribute")}constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=C0,this.updateRange={offset:0,count:-1},this.gpuType=co,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Bv.fromBufferAttribute(this,t),Bv.applyMatrix3(e),this.setXY(t,Bv.x,Bv.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Bn.fromBufferAttribute(this,t),Bn.applyMatrix3(e),this.setXYZ(t,Bn.x,Bn.y,Bn.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Bn.fromBufferAttribute(this,t),Bn.applyMatrix4(e),this.setXYZ(t,Bn.x,Bn.y,Bn.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Bn.fromBufferAttribute(this,t),Bn.applyNormalMatrix(e),this.setXYZ(t,Bn.x,Bn.y,Bn.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Bn.fromBufferAttribute(this,t),Bn.transformDirection(e),this.setXYZ(t,Bn.x,Bn.y,Bn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ta(t,this.array)),t}setX(e,t){return this.normalized&&(t=mi(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ta(t,this.array)),t}setY(e,t){return this.normalized&&(t=mi(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ta(t,this.array)),t}setZ(e,t){return this.normalized&&(t=mi(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ta(t,this.array)),t}setW(e,t){return this.normalized&&(t=mi(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=mi(t,this.array),n=mi(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=mi(t,this.array),n=mi(n,this.array),r=mi(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,a){return e*=this.itemSize,this.normalized&&(t=mi(t,this.array),n=mi(n,this.array),r=mi(r,this.array),a=mi(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==C0&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}},Lk=class extends Gi{static{l(this,"Int8BufferAttribute")}constructor(e,t,n){super(new Int8Array(e),t,n)}},Nk=class extends Gi{static{l(this,"Uint8BufferAttribute")}constructor(e,t,n){super(new Uint8Array(e),t,n)}},Ok=class extends Gi{static{l(this,"Uint8ClampedBufferAttribute")}constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}},Bk=class extends Gi{static{l(this,"Int16BufferAttribute")}constructor(e,t,n){super(new Int16Array(e),t,n)}},U0=class extends Gi{static{l(this,"Uint16BufferAttribute")}constructor(e,t,n){super(new Uint16Array(e),t,n)}},Fk=class extends Gi{static{l(this,"Int32BufferAttribute")}constructor(e,t,n){super(new Int32Array(e),t,n)}},z0=class extends Gi{static{l(this,"Uint32BufferAttribute")}constructor(e,t,n){super(new Uint32Array(e),t,n)}},Uk=class extends Gi{static{l(this,"Float16BufferAttribute")}constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=g0(this.array[e*this.itemSize]);return this.normalized&&(t=Ta(t,this.array)),t}setX(e,t){return this.normalized&&(t=mi(t,this.array)),this.array[e*this.itemSize]=ta(t),this}getY(e){let t=g0(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ta(t,this.array)),t}setY(e,t){return this.normalized&&(t=mi(t,this.array)),this.array[e*this.itemSize+1]=ta(t),this}getZ(e){let t=g0(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ta(t,this.array)),t}setZ(e,t){return this.normalized&&(t=mi(t,this.array)),this.array[e*this.itemSize+2]=ta(t),this}getW(e){let t=g0(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ta(t,this.array)),t}setW(e,t){return this.normalized&&(t=mi(t,this.array)),this.array[e*this.itemSize+3]=ta(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=mi(t,this.array),n=mi(n,this.array)),this.array[e+0]=ta(t),this.array[e+1]=ta(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=mi(t,this.array),n=mi(n,this.array),r=mi(r,this.array)),this.array[e+0]=ta(t),this.array[e+1]=ta(n),this.array[e+2]=ta(r),this}setXYZW(e,t,n,r,a){return e*=this.itemSize,this.normalized&&(t=mi(t,this.array),n=mi(n,this.array),r=mi(r,this.array),a=mi(a,this.array)),this.array[e+0]=ta(t),this.array[e+1]=ta(n),this.array[e+2]=ta(r),this.array[e+3]=ta(a),this}},Bt=class extends Gi{static{l(this,"Float32BufferAttribute")}constructor(e,t,n){super(new Float32Array(e),t,n)}},zk=class extends Gi{static{l(this,"Float64BufferAttribute")}constructor(e,t,n){super(new Float64Array(e),t,n)}},Lme=0,rs=new ai,O4=new Oi,dp=new Oe,Ma=new os,u0=new os,rr=new Oe,yi=class i extends Ls{static{l(this,"BufferGeometry")}constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Lme++}),this.uuid=ka(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(jV(e)?z0:U0)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let n=this.attributes.normal;if(n!==void 0){let a=new pi().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}let r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return rs.makeRotationFromQuaternion(e),this.applyMatrix4(rs),this}rotateX(e){return rs.makeRotationX(e),this.applyMatrix4(rs),this}rotateY(e){return rs.makeRotationY(e),this.applyMatrix4(rs),this}rotateZ(e){return rs.makeRotationZ(e),this.applyMatrix4(rs),this}translate(e,t,n){return rs.makeTranslation(e,t,n),this.applyMatrix4(rs),this}scale(e,t,n){return rs.makeScale(e,t,n),this.applyMatrix4(rs),this}lookAt(e){return O4.lookAt(e),O4.updateMatrix(),this.applyMatrix4(O4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(dp).negate(),this.translate(dp.x,dp.y,dp.z),this}setFromPoints(e){let t=[];for(let n=0,r=e.length;n<r;n++){let a=e[n];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new Bt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new os);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Oe(-1/0,-1/0,-1/0),new Oe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){let a=t[n];Ma.setFromBufferAttribute(a),this.morphTargetsRelative?(rr.addVectors(this.boundingBox.min,Ma.min),this.boundingBox.expandByPoint(rr),rr.addVectors(this.boundingBox.max,Ma.max),this.boundingBox.expandByPoint(rr)):(this.boundingBox.expandByPoint(Ma.min),this.boundingBox.expandByPoint(Ma.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Pa);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Oe,1/0);return}if(e){let n=this.boundingSphere.center;if(Ma.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){let o=t[a];u0.setFromBufferAttribute(o),this.morphTargetsRelative?(rr.addVectors(Ma.min,u0.min),Ma.expandByPoint(rr),rr.addVectors(Ma.max,u0.max),Ma.expandByPoint(rr)):(Ma.expandByPoint(u0.min),Ma.expandByPoint(u0.max))}Ma.getCenter(n);let r=0;for(let a=0,s=e.count;a<s;a++)rr.fromBufferAttribute(e,a),r=Math.max(r,n.distanceToSquared(rr));if(t)for(let a=0,s=t.length;a<s;a++){let o=t[a],c=this.morphTargetsRelative;for(let u=0,h=o.count;u<h;u++)rr.fromBufferAttribute(o,u),c&&(dp.fromBufferAttribute(e,u),rr.add(dp)),r=Math.max(r,n.distanceToSquared(rr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let n=e.array,r=t.position.array,a=t.normal.array,s=t.uv.array,o=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Gi(new Float32Array(4*o),4));let c=this.getAttribute("tangent").array,u=[],h=[];for(let T=0;T<o;T++)u[T]=new Oe,h[T]=new Oe;let f=new Oe,p=new Oe,d=new Oe,m=new _t,y=new _t,g=new _t,b=new Oe,x=new Oe;function w(T,j,R){f.fromArray(r,T*3),p.fromArray(r,j*3),d.fromArray(r,R*3),m.fromArray(s,T*2),y.fromArray(s,j*2),g.fromArray(s,R*2),p.sub(f),d.sub(f),y.sub(m),g.sub(m);let U=1/(y.x*g.y-g.x*y.y);isFinite(U)&&(b.copy(p).multiplyScalar(g.y).addScaledVector(d,-y.y).multiplyScalar(U),x.copy(d).multiplyScalar(y.x).addScaledVector(p,-g.x).multiplyScalar(U),u[T].add(b),u[j].add(b),u[R].add(b),h[T].add(x),h[j].add(x),h[R].add(x))}l(w,"handleTriangle");let E=this.groups;E.length===0&&(E=[{start:0,count:n.length}]);for(let T=0,j=E.length;T<j;++T){let R=E[T],U=R.start,q=R.count;for(let X=U,fe=U+q;X<fe;X+=3)w(n[X+0],n[X+1],n[X+2])}let M=new Oe,C=new Oe,I=new Oe,F=new Oe;function A(T){I.fromArray(a,T*3),F.copy(I);let j=u[T];M.copy(j),M.sub(I.multiplyScalar(I.dot(j))).normalize(),C.crossVectors(F,j);let U=C.dot(h[T])<0?-1:1;c[T*4]=M.x,c[T*4+1]=M.y,c[T*4+2]=M.z,c[T*4+3]=U}l(A,"handleVertex");for(let T=0,j=E.length;T<j;++T){let R=E[T],U=R.start,q=R.count;for(let X=U,fe=U+q;X<fe;X+=3)A(n[X+0]),A(n[X+1]),A(n[X+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Gi(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let p=0,d=n.count;p<d;p++)n.setXYZ(p,0,0,0);let r=new Oe,a=new Oe,s=new Oe,o=new Oe,c=new Oe,u=new Oe,h=new Oe,f=new Oe;if(e)for(let p=0,d=e.count;p<d;p+=3){let m=e.getX(p+0),y=e.getX(p+1),g=e.getX(p+2);r.fromBufferAttribute(t,m),a.fromBufferAttribute(t,y),s.fromBufferAttribute(t,g),h.subVectors(s,a),f.subVectors(r,a),h.cross(f),o.fromBufferAttribute(n,m),c.fromBufferAttribute(n,y),u.fromBufferAttribute(n,g),o.add(h),c.add(h),u.add(h),n.setXYZ(m,o.x,o.y,o.z),n.setXYZ(y,c.x,c.y,c.z),n.setXYZ(g,u.x,u.y,u.z)}else for(let p=0,d=t.count;p<d;p+=3)r.fromBufferAttribute(t,p+0),a.fromBufferAttribute(t,p+1),s.fromBufferAttribute(t,p+2),h.subVectors(s,a),f.subVectors(r,a),h.cross(f),n.setXYZ(p+0,h.x,h.y,h.z),n.setXYZ(p+1,h.x,h.y,h.z),n.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){let e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)rr.fromBufferAttribute(e,t),rr.normalize(),e.setXYZ(t,rr.x,rr.y,rr.z)}toNonIndexed(){function e(o,c){let u=o.array,h=o.itemSize,f=o.normalized,p=new u.constructor(c.length*h),d=0,m=0;for(let y=0,g=c.length;y<g;y++){o.isInterleavedBufferAttribute?d=c[y]*o.data.stride+o.offset:d=c[y]*h;for(let b=0;b<h;b++)p[m++]=u[d++]}return new Gi(p,h,f)}if(l(e,"convertBufferAttribute"),this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new i,n=this.index.array,r=this.attributes;for(let o in r){let c=r[o],u=e(c,n);t.setAttribute(o,u)}let a=this.morphAttributes;for(let o in a){let c=[],u=a[o];for(let h=0,f=u.length;h<f;h++){let p=u[h],d=e(p,n);c.push(d)}t.morphAttributes[o]=c}t.morphTargetsRelative=this.morphTargetsRelative;let s=this.groups;for(let o=0,c=s.length;o<c;o++){let u=s[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){let e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let c=this.parameters;for(let u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let n=this.attributes;for(let c in n){let u=n[c];e.data.attributes[c]=u.toJSON(e.data)}let r={},a=!1;for(let c in this.morphAttributes){let u=this.morphAttributes[c],h=[];for(let f=0,p=u.length;f<p;f++){let d=u[f];h.push(d.toJSON(e.data))}h.length>0&&(r[c]=h,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);let s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));let o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let n=e.index;n!==null&&this.setIndex(n.clone(t));let r=e.attributes;for(let u in r){let h=r[u];this.setAttribute(u,h.clone(t))}let a=e.morphAttributes;for(let u in a){let h=[],f=a[u];for(let p=0,d=f.length;p<d;p++)h.push(f[p].clone(t));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;let s=e.groups;for(let u=0,h=s.length;u<h;u++){let f=s[u];this.addGroup(f.start,f.count,f.materialIndex)}let o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());let c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}},Iz=new ai,gh=new Hc,Fv=new Pa,Cz=new Oe,pp=new Oe,mp=new Oe,_p=new Oe,B4=new Oe,Uv=new Oe,zv=new _t,Dv=new _t,Vv=new _t,Lz=new Oe,Nz=new Oe,Oz=new Oe,qv=new Oe,Hv=new Oe,Gn=class extends Oi{static{l(this,"Mesh")}constructor(e=new yi,t=new po){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){let r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){let o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){let n=this.geometry,r=n.attributes.position,a=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(r,e);let o=this.morphTargetInfluences;if(a&&o){Uv.set(0,0,0);for(let c=0,u=a.length;c<u;c++){let h=o[c],f=a[c];h!==0&&(B4.fromBufferAttribute(f,e),s?Uv.addScaledVector(B4,h):Uv.addScaledVector(B4.sub(t),h))}t.add(Uv)}return t}raycast(e,t){let n=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Fv.copy(n.boundingSphere),Fv.applyMatrix4(a),gh.copy(e.ray).recast(e.near),!(Fv.containsPoint(gh.origin)===!1&&(gh.intersectSphere(Fv,Cz)===null||gh.origin.distanceToSquared(Cz)>(e.far-e.near)**2))&&(Iz.copy(a).invert(),gh.copy(e.ray).applyMatrix4(Iz),!(n.boundingBox!==null&&gh.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,gh)))}_computeIntersections(e,t,n){let r,a=this.geometry,s=this.material,o=a.index,c=a.attributes.position,u=a.attributes.uv,h=a.attributes.uv1,f=a.attributes.normal,p=a.groups,d=a.drawRange;if(o!==null)if(Array.isArray(s))for(let m=0,y=p.length;m<y;m++){let g=p[m],b=s[g.materialIndex],x=Math.max(g.start,d.start),w=Math.min(o.count,Math.min(g.start+g.count,d.start+d.count));for(let E=x,M=w;E<M;E+=3){let C=o.getX(E),I=o.getX(E+1),F=o.getX(E+2);r=Gv(this,b,e,n,u,h,f,C,I,F),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=g.materialIndex,t.push(r))}}else{let m=Math.max(0,d.start),y=Math.min(o.count,d.start+d.count);for(let g=m,b=y;g<b;g+=3){let x=o.getX(g),w=o.getX(g+1),E=o.getX(g+2);r=Gv(this,s,e,n,u,h,f,x,w,E),r&&(r.faceIndex=Math.floor(g/3),t.push(r))}}else if(c!==void 0)if(Array.isArray(s))for(let m=0,y=p.length;m<y;m++){let g=p[m],b=s[g.materialIndex],x=Math.max(g.start,d.start),w=Math.min(c.count,Math.min(g.start+g.count,d.start+d.count));for(let E=x,M=w;E<M;E+=3){let C=E,I=E+1,F=E+2;r=Gv(this,b,e,n,u,h,f,C,I,F),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=g.materialIndex,t.push(r))}}else{let m=Math.max(0,d.start),y=Math.min(c.count,d.start+d.count);for(let g=m,b=y;g<b;g+=3){let x=g,w=g+1,E=g+2;r=Gv(this,s,e,n,u,h,f,x,w,E),r&&(r.faceIndex=Math.floor(g/3),t.push(r))}}}};function Nme(i,e,t,n,r,a,s,o){let c;if(e.side===Dr?c=n.intersectTriangle(s,a,r,!0,o):c=n.intersectTriangle(r,a,s,e.side===bl,o),c===null)return null;Hv.copy(o),Hv.applyMatrix4(i.matrixWorld);let u=t.ray.origin.distanceTo(Hv);return u<t.near||u>t.far?null:{distance:u,point:Hv.clone(),object:i}}l(Nme,"checkIntersection");function Gv(i,e,t,n,r,a,s,o,c,u){i.getVertexPosition(o,pp),i.getVertexPosition(c,mp),i.getVertexPosition(u,_p);let h=Nme(i,e,t,n,pp,mp,_p,qv);if(h){r&&(zv.fromBufferAttribute(r,o),Dv.fromBufferAttribute(r,c),Vv.fromBufferAttribute(r,u),h.uv=pl.getInterpolation(qv,pp,mp,_p,zv,Dv,Vv,new _t)),a&&(zv.fromBufferAttribute(a,o),Dv.fromBufferAttribute(a,c),Vv.fromBufferAttribute(a,u),h.uv1=pl.getInterpolation(qv,pp,mp,_p,zv,Dv,Vv,new _t),h.uv2=h.uv1),s&&(Lz.fromBufferAttribute(s,o),Nz.fromBufferAttribute(s,c),Oz.fromBufferAttribute(s,u),h.normal=pl.getInterpolation(qv,pp,mp,_p,Lz,Nz,Oz,new Oe),h.normal.dot(n.direction)>0&&h.normal.multiplyScalar(-1));let f={a:o,b:c,c:u,normal:new Oe,materialIndex:0};pl.getNormal(pp,mp,_p,f.normal),h.face=f}return h}l(Gv,"checkGeometryIntersection");var Lh=class i extends yi{static{l(this,"BoxGeometry")}constructor(e=1,t=1,n=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:a,depthSegments:s};let o=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);let c=[],u=[],h=[],f=[],p=0,d=0;m("z","y","x",-1,-1,n,t,e,s,a,0),m("z","y","x",1,-1,n,t,-e,s,a,1),m("x","z","y",1,1,e,n,t,r,s,2),m("x","z","y",1,-1,e,n,-t,r,s,3),m("x","y","z",1,-1,e,t,n,r,a,4),m("x","y","z",-1,-1,e,t,-n,r,a,5),this.setIndex(c),this.setAttribute("position",new Bt(u,3)),this.setAttribute("normal",new Bt(h,3)),this.setAttribute("uv",new Bt(f,2));function m(y,g,b,x,w,E,M,C,I,F,A){let T=E/I,j=M/F,R=E/2,U=M/2,q=C/2,X=I+1,fe=F+1,H=0,Y=0,$=new Oe;for(let Z=0;Z<fe;Z++){let ie=Z*j-U;for(let ue=0;ue<X;ue++){let Me=ue*T-R;$[y]=Me*x,$[g]=ie*w,$[b]=q,u.push($.x,$.y,$.z),$[y]=0,$[g]=0,$[b]=C>0?1:-1,h.push($.x,$.y,$.z),f.push(ue/I),f.push(1-Z/F),H+=1}}for(let Z=0;Z<F;Z++)for(let ie=0;ie<I;ie++){let ue=p+ie+X*Z,Me=p+ie+X*(Z+1),Fe=p+(ie+1)+X*(Z+1),De=p+(ie+1)+X*Z;c.push(ue,Me,De),c.push(Me,Fe,De),Y+=6}o.addGroup(d,Y,A),d+=Y,p+=H}l(m,"buildPlane")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Op(i){let e={};for(let t in i){e[t]={};for(let n in i[t]){let r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}l(Op,"cloneUniforms");function zr(i){let e={};for(let t=0;t<i.length;t++){let n=Op(i[t]);for(let r in n)e[r]=n[r]}return e}l(zr,"mergeUniforms");function Ome(i){let e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}l(Ome,"cloneUniformsGroups");function XV(i){return i.getRenderTarget()===null?i.outputColorSpace:Cs}l(XV,"getUnlitUniformColorSpace");var YV={clone:Op,merge:zr},Bme=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Fme=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,ls=class extends ar{static{l(this,"ShaderMaterial")}constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Bme,this.fragmentShader=Fme,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Op(e.uniforms),this.uniformsGroups=Ome(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let r in this.uniforms){let s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;let n={};for(let r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}},Bp=class extends Oi{static{l(this,"Camera")}constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ai,this.projectionMatrix=new ai,this.projectionMatrixInverse=new ai,this.coordinateSystem=uo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},Hn=class extends Bp{static{l(this,"PerspectiveCamera")}constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=Cp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(Ih*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Cp*2*Math.atan(Math.tan(Ih*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(Ih*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,a=-.5*r,s=this.view;if(this.view!==null&&this.view.enabled){let c=s.fullWidth,u=s.fullHeight;a+=s.offsetX*r/c,t-=s.offsetY*n/u,r*=s.width/c,n*=s.height/u}let o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},gp=-90,bp=1,Aw=class extends Oi{static{l(this,"CubeCamera")}constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null;let r=new Hn(gp,bp,e,t);r.layers=this.layers,this.add(r);let a=new Hn(gp,bp,e,t);a.layers=this.layers,this.add(a);let s=new Hn(gp,bp,e,t);s.layers=this.layers,this.add(s);let o=new Hn(gp,bp,e,t);o.layers=this.layers,this.add(o);let c=new Hn(gp,bp,e,t);c.layers=this.layers,this.add(c);let u=new Hn(gp,bp,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){let e=this.coordinateSystem,t=this.children.concat(),[n,r,a,s,o,c]=t;for(let u of t)this.remove(u);if(e===uo)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===L0)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(let u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();let n=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());let[r,a,s,o,c,u]=this.children,h=e.getRenderTarget(),f=e.toneMapping,p=e.xr.enabled;e.toneMapping=ho,e.xr.enabled=!1;let d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,s),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,c),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,u),e.setRenderTarget(h),e.toneMapping=f,e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}},Nh=class extends Wn{static{l(this,"CubeTexture")}constructor(e,t,n,r,a,s,o,c,u,h){e=e!==void 0?e:[],t=t!==void 0?t:Dc,super(e,t,n,r,a,s,o,c,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},Tw=class extends Ra{static{l(this,"WebGLCubeRenderTarget")}constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];t.encoding!==void 0&&(w0("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Fc?ri:Uc),this.texture=new Nh(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:In}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Lh(5,5,5),a=new ls({name:"CubemapFromEquirect",uniforms:Op(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Dr,blending:ml});a.uniforms.tEquirect.value=t;let s=new Gn(r,a),o=t.minFilter;return t.minFilter===qc&&(t.minFilter=In),new Aw(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,n,r){let a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,n,r);e.setRenderTarget(a)}},F4=new Oe,Ume=new Oe,zme=new pi,oo=class{static{l(this,"Plane")}constructor(e=new Oe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){let r=F4.subVectors(n,t).cross(Ume.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){let n=e.delta(F4),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(n,a)}intersectsLine(e){let t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let n=t||zme.getNormalMatrix(e),r=this.coplanarPoint(F4).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}},bh=new Pa,Wv=new Oe,Fp=class{static{l(this,"Frustum")}constructor(e=new oo,t=new oo,n=new oo,r=new oo,a=new oo,s=new oo){this.planes=[e,t,n,r,a,s]}set(e,t,n,r,a,s){let o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(a),o[5].copy(s),this}copy(e){let t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=uo){let n=this.planes,r=e.elements,a=r[0],s=r[1],o=r[2],c=r[3],u=r[4],h=r[5],f=r[6],p=r[7],d=r[8],m=r[9],y=r[10],g=r[11],b=r[12],x=r[13],w=r[14],E=r[15];if(n[0].setComponents(c-a,p-u,g-d,E-b).normalize(),n[1].setComponents(c+a,p+u,g+d,E+b).normalize(),n[2].setComponents(c+s,p+h,g+m,E+x).normalize(),n[3].setComponents(c-s,p-h,g-m,E-x).normalize(),n[4].setComponents(c-o,p-f,g-y,E-w).normalize(),t===uo)n[5].setComponents(c+o,p+f,g+y,E+w).normalize();else if(t===L0)n[5].setComponents(o,f,y,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),bh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{let t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),bh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(bh)}intersectsSprite(e){return bh.center.set(0,0,0),bh.radius=.7071067811865476,bh.applyMatrix4(e.matrixWorld),this.intersectsSphere(bh)}intersectsSphere(e){let t=this.planes,n=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){let t=this.planes;for(let n=0;n<6;n++){let r=t[n];if(Wv.x=r.normal.x>0?e.max.x:e.min.x,Wv.y=r.normal.y>0?e.max.y:e.min.y,Wv.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Wv)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function ZV(){let i=null,e=!1,t=null,n=null;function r(a,s){t(a,s),n=i.requestAnimationFrame(r)}return l(r,"onAnimationFrame"),{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){i=a}}}l(ZV,"WebGLAnimation");function Dme(i,e){let t=e.isWebGL2,n=new WeakMap;function r(u,h){let f=u.array,p=u.usage,d=i.createBuffer();i.bindBuffer(h,d),i.bufferData(h,f,p),u.onUploadCallback();let m;if(f instanceof Float32Array)m=i.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)m=i.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=i.UNSIGNED_SHORT;else if(f instanceof Int16Array)m=i.SHORT;else if(f instanceof Uint32Array)m=i.UNSIGNED_INT;else if(f instanceof Int32Array)m=i.INT;else if(f instanceof Int8Array)m=i.BYTE;else if(f instanceof Uint8Array)m=i.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)m=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:d,type:m,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}l(r,"createBuffer");function a(u,h,f){let p=h.array,d=h.updateRange;i.bindBuffer(f,u),d.count===-1?i.bufferSubData(f,0,p):(t?i.bufferSubData(f,d.offset*p.BYTES_PER_ELEMENT,p,d.offset,d.count):i.bufferSubData(f,d.offset*p.BYTES_PER_ELEMENT,p.subarray(d.offset,d.offset+d.count)),d.count=-1),h.onUploadCallback()}l(a,"updateBuffer");function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),n.get(u)}l(s,"get");function o(u){u.isInterleavedBufferAttribute&&(u=u.data);let h=n.get(u);h&&(i.deleteBuffer(h.buffer),n.delete(u))}l(o,"remove");function c(u,h){if(u.isGLBufferAttribute){let p=n.get(u);(!p||p.version<u.version)&&n.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);let f=n.get(u);f===void 0?n.set(u,r(u,h)):f.version<u.version&&(a(f.buffer,u,h),f.version=u.version)}return l(c,"update"),{get:s,remove:o,update:c}}l(Dme,"WebGLAttributes");var D0=class i extends yi{static{l(this,"PlaneGeometry")}constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};let a=e/2,s=t/2,o=Math.floor(n),c=Math.floor(r),u=o+1,h=c+1,f=e/o,p=t/c,d=[],m=[],y=[],g=[];for(let b=0;b<h;b++){let x=b*p-s;for(let w=0;w<u;w++){let E=w*f-a;m.push(E,-x,0),y.push(0,0,1),g.push(w/o),g.push(1-b/c)}}for(let b=0;b<c;b++)for(let x=0;x<o;x++){let w=x+u*b,E=x+u*(b+1),M=x+1+u*(b+1),C=x+1+u*b;d.push(w,E,C),d.push(E,M,C)}this.setIndex(d),this.setAttribute("position",new Bt(m,3)),this.setAttribute("normal",new Bt(y,3)),this.setAttribute("uv",new Bt(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.width,e.height,e.widthSegments,e.heightSegments)}},Vme=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,qme=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Hme=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Gme=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Wme=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,jme=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,$me=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Xme=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Yme=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Zme=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Jme=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Kme=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Qme=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,e_e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,t_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,i_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,n_e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,r_e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,a_e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,s_e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,o_e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,l_e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,c_e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,u_e=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,h_e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,f_e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,d_e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,p_e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,m_e="gl_FragColor = linearToOutputTexel( gl_FragColor );",__e=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,g_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,b_e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,y_e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,v_e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,w_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,x_e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,S_e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,E_e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,M_e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,A_e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,T_e=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,k_e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,R_e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,P_e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,I_e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,C_e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,L_e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,N_e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,O_e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,B_e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,F_e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,U_e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,z_e=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,D_e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,V_e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,q_e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,H_e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,G_e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,W_e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,j_e=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,$_e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,X_e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Y_e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Z_e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,J_e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,K_e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Q_e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,e0e=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,t0e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,i0e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,n0e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,r0e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,a0e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,s0e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,o0e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,l0e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,c0e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,u0e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,h0e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,f0e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,d0e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,p0e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,m0e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,_0e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,g0e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,b0e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,y0e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,v0e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,w0e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,x0e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,S0e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,E0e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,M0e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,A0e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,T0e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,k0e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,R0e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,P0e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,I0e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,C0e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,L0e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,N0e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,O0e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,B0e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,F0e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,U0e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,z0e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,D0e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,V0e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,q0e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,H0e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,G0e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,W0e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,j0e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,$0e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,X0e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Y0e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Z0e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,J0e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,K0e=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Q0e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ege=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tge=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ige=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,nge=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rge=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,age=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,sge=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oge=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lge=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,cge=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uge=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hge=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fge=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,dge=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pge=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mge=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,_ge=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gge=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ui={alphahash_fragment:Vme,alphahash_pars_fragment:qme,alphamap_fragment:Hme,alphamap_pars_fragment:Gme,alphatest_fragment:Wme,alphatest_pars_fragment:jme,aomap_fragment:$me,aomap_pars_fragment:Xme,begin_vertex:Yme,beginnormal_vertex:Zme,bsdfs:Jme,iridescence_fragment:Kme,bumpmap_pars_fragment:Qme,clipping_planes_fragment:e_e,clipping_planes_pars_fragment:t_e,clipping_planes_pars_vertex:i_e,clipping_planes_vertex:n_e,color_fragment:r_e,color_pars_fragment:a_e,color_pars_vertex:s_e,color_vertex:o_e,common:l_e,cube_uv_reflection_fragment:c_e,defaultnormal_vertex:u_e,displacementmap_pars_vertex:h_e,displacementmap_vertex:f_e,emissivemap_fragment:d_e,emissivemap_pars_fragment:p_e,colorspace_fragment:m_e,colorspace_pars_fragment:__e,envmap_fragment:g_e,envmap_common_pars_fragment:b_e,envmap_pars_fragment:y_e,envmap_pars_vertex:v_e,envmap_physical_pars_fragment:C_e,envmap_vertex:w_e,fog_vertex:x_e,fog_pars_vertex:S_e,fog_fragment:E_e,fog_pars_fragment:M_e,gradientmap_pars_fragment:A_e,lightmap_fragment:T_e,lightmap_pars_fragment:k_e,lights_lambert_fragment:R_e,lights_lambert_pars_fragment:P_e,lights_pars_begin:I_e,lights_toon_fragment:L_e,lights_toon_pars_fragment:N_e,lights_phong_fragment:O_e,lights_phong_pars_fragment:B_e,lights_physical_fragment:F_e,lights_physical_pars_fragment:U_e,lights_fragment_begin:z_e,lights_fragment_maps:D_e,lights_fragment_end:V_e,logdepthbuf_fragment:q_e,logdepthbuf_pars_fragment:H_e,logdepthbuf_pars_vertex:G_e,logdepthbuf_vertex:W_e,map_fragment:j_e,map_pars_fragment:$_e,map_particle_fragment:X_e,map_particle_pars_fragment:Y_e,metalnessmap_fragment:Z_e,metalnessmap_pars_fragment:J_e,morphcolor_vertex:K_e,morphnormal_vertex:Q_e,morphtarget_pars_vertex:e0e,morphtarget_vertex:t0e,normal_fragment_begin:i0e,normal_fragment_maps:n0e,normal_pars_fragment:r0e,normal_pars_vertex:a0e,normal_vertex:s0e,normalmap_pars_fragment:o0e,clearcoat_normal_fragment_begin:l0e,clearcoat_normal_fragment_maps:c0e,clearcoat_pars_fragment:u0e,iridescence_pars_fragment:h0e,opaque_fragment:f0e,packing:d0e,premultiplied_alpha_fragment:p0e,project_vertex:m0e,dithering_fragment:_0e,dithering_pars_fragment:g0e,roughnessmap_fragment:b0e,roughnessmap_pars_fragment:y0e,shadowmap_pars_fragment:v0e,shadowmap_pars_vertex:w0e,shadowmap_vertex:x0e,shadowmask_pars_fragment:S0e,skinbase_vertex:E0e,skinning_pars_vertex:M0e,skinning_vertex:A0e,skinnormal_vertex:T0e,specularmap_fragment:k0e,specularmap_pars_fragment:R0e,tonemapping_fragment:P0e,tonemapping_pars_fragment:I0e,transmission_fragment:C0e,transmission_pars_fragment:L0e,uv_pars_fragment:N0e,uv_pars_vertex:O0e,uv_vertex:B0e,worldpos_vertex:F0e,background_vert:U0e,background_frag:z0e,backgroundCube_vert:D0e,backgroundCube_frag:V0e,cube_vert:q0e,cube_frag:H0e,depth_vert:G0e,depth_frag:W0e,distanceRGBA_vert:j0e,distanceRGBA_frag:$0e,equirect_vert:X0e,equirect_frag:Y0e,linedashed_vert:Z0e,linedashed_frag:J0e,meshbasic_vert:K0e,meshbasic_frag:Q0e,meshlambert_vert:ege,meshlambert_frag:tge,meshmatcap_vert:ige,meshmatcap_frag:nge,meshnormal_vert:rge,meshnormal_frag:age,meshphong_vert:sge,meshphong_frag:oge,meshphysical_vert:lge,meshphysical_frag:cge,meshtoon_vert:uge,meshtoon_frag:hge,points_vert:fge,points_frag:dge,shadow_vert:pge,shadow_frag:mge,sprite_vert:_ge,sprite_frag:gge},Rt={common:{diffuse:{value:new Lt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new pi},alphaMap:{value:null},alphaMapTransform:{value:new pi},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new pi}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new pi}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new pi}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new pi},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new pi},normalScale:{value:new _t(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new pi},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new pi}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new pi}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new pi}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new pi},alphaTest:{value:0},uvTransform:{value:new pi}},sprite:{diffuse:{value:new Lt(16777215)},opacity:{value:1},center:{value:new _t(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new pi},alphaMap:{value:null},alphaMapTransform:{value:new pi},alphaTest:{value:0}}},Is={basic:{uniforms:zr([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.fog]),vertexShader:ui.meshbasic_vert,fragmentShader:ui.meshbasic_frag},lambert:{uniforms:zr([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,Rt.lights,{emissive:{value:new Lt(0)}}]),vertexShader:ui.meshlambert_vert,fragmentShader:ui.meshlambert_frag},phong:{uniforms:zr([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,Rt.lights,{emissive:{value:new Lt(0)},specular:{value:new Lt(1118481)},shininess:{value:30}}]),vertexShader:ui.meshphong_vert,fragmentShader:ui.meshphong_frag},standard:{uniforms:zr([Rt.common,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.roughnessmap,Rt.metalnessmap,Rt.fog,Rt.lights,{emissive:{value:new Lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag},toon:{uniforms:zr([Rt.common,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.gradientmap,Rt.fog,Rt.lights,{emissive:{value:new Lt(0)}}]),vertexShader:ui.meshtoon_vert,fragmentShader:ui.meshtoon_frag},matcap:{uniforms:zr([Rt.common,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,{matcap:{value:null}}]),vertexShader:ui.meshmatcap_vert,fragmentShader:ui.meshmatcap_frag},points:{uniforms:zr([Rt.points,Rt.fog]),vertexShader:ui.points_vert,fragmentShader:ui.points_frag},dashed:{uniforms:zr([Rt.common,Rt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ui.linedashed_vert,fragmentShader:ui.linedashed_frag},depth:{uniforms:zr([Rt.common,Rt.displacementmap]),vertexShader:ui.depth_vert,fragmentShader:ui.depth_frag},normal:{uniforms:zr([Rt.common,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,{opacity:{value:1}}]),vertexShader:ui.meshnormal_vert,fragmentShader:ui.meshnormal_frag},sprite:{uniforms:zr([Rt.sprite,Rt.fog]),vertexShader:ui.sprite_vert,fragmentShader:ui.sprite_frag},background:{uniforms:{uvTransform:{value:new pi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ui.background_vert,fragmentShader:ui.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ui.backgroundCube_vert,fragmentShader:ui.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ui.cube_vert,fragmentShader:ui.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ui.equirect_vert,fragmentShader:ui.equirect_frag},distanceRGBA:{uniforms:zr([Rt.common,Rt.displacementmap,{referencePosition:{value:new Oe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ui.distanceRGBA_vert,fragmentShader:ui.distanceRGBA_frag},shadow:{uniforms:zr([Rt.lights,Rt.fog,{color:{value:new Lt(0)},opacity:{value:1}}]),vertexShader:ui.shadow_vert,fragmentShader:ui.shadow_frag}};Is.physical={uniforms:zr([Is.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new pi},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new pi},clearcoatNormalScale:{value:new _t(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new pi},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new pi},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new pi},sheen:{value:0},sheenColor:{value:new Lt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new pi},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new pi},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new pi},transmissionSamplerSize:{value:new _t},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new pi},attenuationDistance:{value:0},attenuationColor:{value:new Lt(0)},specularColor:{value:new Lt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new pi},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new pi},anisotropyVector:{value:new _t},anisotropyMap:{value:null},anisotropyMapTransform:{value:new pi}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag};var jv={r:0,b:0,g:0};function bge(i,e,t,n,r,a,s){let o=new Lt(0),c=a===!0?0:1,u,h,f=null,p=0,d=null;function m(g,b){let x=!1,w=b.isScene===!0?b.background:null;switch(w&&w.isTexture&&(w=(b.backgroundBlurriness>0?t:e).get(w)),w===null?y(o,c):w&&w.isColor&&(y(w,1),x=!0),i.xr.getEnvironmentBlendMode()){case"opaque":x=!0;break;case"additive":n.buffers.color.setClear(0,0,0,1,s),x=!0;break;case"alpha-blend":n.buffers.color.setClear(0,0,0,0,s),x=!0;break}(i.autoClear||x)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),w&&(w.isCubeTexture||w.mapping===Gp)?(h===void 0&&(h=new Gn(new Lh(1,1,1),new ls({name:"BackgroundCubeMaterial",uniforms:Op(Is.backgroundCube.uniforms),vertexShader:Is.backgroundCube.vertexShader,fragmentShader:Is.backgroundCube.fragmentShader,side:Dr,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(C,I,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),h.material.uniforms.envMap.value=w,h.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,h.material.toneMapped=w.colorSpace!==ri,(f!==w||p!==w.version||d!==i.toneMapping)&&(h.material.needsUpdate=!0,f=w,p=w.version,d=i.toneMapping),h.layers.enableAll(),g.unshift(h,h.geometry,h.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new Gn(new D0(2,2),new ls({name:"BackgroundMaterial",uniforms:Op(Is.background.uniforms),vertexShader:Is.background.vertexShader,fragmentShader:Is.background.fragmentShader,side:bl,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.toneMapped=w.colorSpace!==ri,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||p!==w.version||d!==i.toneMapping)&&(u.material.needsUpdate=!0,f=w,p=w.version,d=i.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null))}l(m,"render");function y(g,b){g.getRGB(jv,XV(i)),n.buffers.color.setClear(jv.r,jv.g,jv.b,b,s)}return l(y,"setClear"),{getClearColor:function(){return o},setClearColor:function(g,b=1){o.set(g),c=b,y(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(g){c=g,y(o,c)},render:m}}l(bge,"WebGLBackground");function yge(i,e,t,n){let r=i.getParameter(i.MAX_VERTEX_ATTRIBS),a=n.isWebGL2?null:e.get("OES_vertex_array_object"),s=n.isWebGL2||a!==null,o={},c=g(null),u=c,h=!1;function f(q,X,fe,H,Y){let $=!1;if(s){let Z=y(H,fe,X);u!==Z&&(u=Z,d(u.object)),$=b(q,H,fe,Y),$&&x(q,H,fe,Y)}else{let Z=X.wireframe===!0;(u.geometry!==H.id||u.program!==fe.id||u.wireframe!==Z)&&(u.geometry=H.id,u.program=fe.id,u.wireframe=Z,$=!0)}Y!==null&&t.update(Y,i.ELEMENT_ARRAY_BUFFER),($||h)&&(h=!1,F(q,X,fe,H),Y!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.get(Y).buffer))}l(f,"setup");function p(){return n.isWebGL2?i.createVertexArray():a.createVertexArrayOES()}l(p,"createVertexArrayObject");function d(q){return n.isWebGL2?i.bindVertexArray(q):a.bindVertexArrayOES(q)}l(d,"bindVertexArrayObject");function m(q){return n.isWebGL2?i.deleteVertexArray(q):a.deleteVertexArrayOES(q)}l(m,"deleteVertexArrayObject");function y(q,X,fe){let H=fe.wireframe===!0,Y=o[q.id];Y===void 0&&(Y={},o[q.id]=Y);let $=Y[X.id];$===void 0&&($={},Y[X.id]=$);let Z=$[H];return Z===void 0&&(Z=g(p()),$[H]=Z),Z}l(y,"getBindingState");function g(q){let X=[],fe=[],H=[];for(let Y=0;Y<r;Y++)X[Y]=0,fe[Y]=0,H[Y]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:fe,attributeDivisors:H,object:q,attributes:{},index:null}}l(g,"createBindingState");function b(q,X,fe,H){let Y=u.attributes,$=X.attributes,Z=0,ie=fe.getAttributes();for(let ue in ie)if(ie[ue].location>=0){let Fe=Y[ue],De=$[ue];if(De===void 0&&(ue==="instanceMatrix"&&q.instanceMatrix&&(De=q.instanceMatrix),ue==="instanceColor"&&q.instanceColor&&(De=q.instanceColor)),Fe===void 0||Fe.attribute!==De||De&&Fe.data!==De.data)return!0;Z++}return u.attributesNum!==Z||u.index!==H}l(b,"needsUpdate");function x(q,X,fe,H){let Y={},$=X.attributes,Z=0,ie=fe.getAttributes();for(let ue in ie)if(ie[ue].location>=0){let Fe=$[ue];Fe===void 0&&(ue==="instanceMatrix"&&q.instanceMatrix&&(Fe=q.instanceMatrix),ue==="instanceColor"&&q.instanceColor&&(Fe=q.instanceColor));let De={};De.attribute=Fe,Fe&&Fe.data&&(De.data=Fe.data),Y[ue]=De,Z++}u.attributes=Y,u.attributesNum=Z,u.index=H}l(x,"saveCache");function w(){let q=u.newAttributes;for(let X=0,fe=q.length;X<fe;X++)q[X]=0}l(w,"initAttributes");function E(q){M(q,0)}l(E,"enableAttribute");function M(q,X){let fe=u.newAttributes,H=u.enabledAttributes,Y=u.attributeDivisors;fe[q]=1,H[q]===0&&(i.enableVertexAttribArray(q),H[q]=1),Y[q]!==X&&((n.isWebGL2?i:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](q,X),Y[q]=X)}l(M,"enableAttributeAndDivisor");function C(){let q=u.newAttributes,X=u.enabledAttributes;for(let fe=0,H=X.length;fe<H;fe++)X[fe]!==q[fe]&&(i.disableVertexAttribArray(fe),X[fe]=0)}l(C,"disableUnusedAttributes");function I(q,X,fe,H,Y,$,Z){Z===!0?i.vertexAttribIPointer(q,X,fe,Y,$):i.vertexAttribPointer(q,X,fe,H,Y,$)}l(I,"vertexAttribPointer");function F(q,X,fe,H){if(n.isWebGL2===!1&&(q.isInstancedMesh||H.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();let Y=H.attributes,$=fe.getAttributes(),Z=X.defaultAttributeValues;for(let ie in $){let ue=$[ie];if(ue.location>=0){let Me=Y[ie];if(Me===void 0&&(ie==="instanceMatrix"&&q.instanceMatrix&&(Me=q.instanceMatrix),ie==="instanceColor"&&q.instanceColor&&(Me=q.instanceColor)),Me!==void 0){let Fe=Me.normalized,De=Me.itemSize,Ge=t.get(Me);if(Ge===void 0)continue;let ve=Ge.buffer,we=Ge.type,He=Ge.bytesPerElement,Ke=n.isWebGL2===!0&&(we===i.INT||we===i.UNSIGNED_INT||Me.gpuType===Z5);if(Me.isInterleavedBufferAttribute){let Ze=Me.data,S=Ze.stride,G=Me.offset;if(Ze.isInstancedInterleavedBuffer){for(let Q=0;Q<ue.locationSize;Q++)M(ue.location+Q,Ze.meshPerAttribute);q.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=Ze.meshPerAttribute*Ze.count)}else for(let Q=0;Q<ue.locationSize;Q++)E(ue.location+Q);i.bindBuffer(i.ARRAY_BUFFER,ve);for(let Q=0;Q<ue.locationSize;Q++)I(ue.location+Q,De/ue.locationSize,we,Fe,S*He,(G+De/ue.locationSize*Q)*He,Ke)}else{if(Me.isInstancedBufferAttribute){for(let Ze=0;Ze<ue.locationSize;Ze++)M(ue.location+Ze,Me.meshPerAttribute);q.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=Me.meshPerAttribute*Me.count)}else for(let Ze=0;Ze<ue.locationSize;Ze++)E(ue.location+Ze);i.bindBuffer(i.ARRAY_BUFFER,ve);for(let Ze=0;Ze<ue.locationSize;Ze++)I(ue.location+Ze,De/ue.locationSize,we,Fe,De*He,De/ue.locationSize*Ze*He,Ke)}}else if(Z!==void 0){let Fe=Z[ie];if(Fe!==void 0)switch(Fe.length){case 2:i.vertexAttrib2fv(ue.location,Fe);break;case 3:i.vertexAttrib3fv(ue.location,Fe);break;case 4:i.vertexAttrib4fv(ue.location,Fe);break;default:i.vertexAttrib1fv(ue.location,Fe)}}}}C()}l(F,"setupVertexAttributes");function A(){R();for(let q in o){let X=o[q];for(let fe in X){let H=X[fe];for(let Y in H)m(H[Y].object),delete H[Y];delete X[fe]}delete o[q]}}l(A,"dispose");function T(q){if(o[q.id]===void 0)return;let X=o[q.id];for(let fe in X){let H=X[fe];for(let Y in H)m(H[Y].object),delete H[Y];delete X[fe]}delete o[q.id]}l(T,"releaseStatesOfGeometry");function j(q){for(let X in o){let fe=o[X];if(fe[q.id]===void 0)continue;let H=fe[q.id];for(let Y in H)m(H[Y].object),delete H[Y];delete fe[q.id]}}l(j,"releaseStatesOfProgram");function R(){U(),h=!0,u!==c&&(u=c,d(u.object))}l(R,"reset");function U(){c.geometry=null,c.program=null,c.wireframe=!1}return l(U,"resetDefaultState"),{setup:f,reset:R,resetDefaultState:U,dispose:A,releaseStatesOfGeometry:T,releaseStatesOfProgram:j,initAttributes:w,enableAttribute:E,disableUnusedAttributes:C}}l(yge,"WebGLBindingStates");function vge(i,e,t,n){let r=n.isWebGL2,a;function s(u){a=u}l(s,"setMode");function o(u,h){i.drawArrays(a,u,h),t.update(h,a,1)}l(o,"render");function c(u,h,f){if(f===0)return;let p,d;if(r)p=i,d="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[d](a,u,h,f),t.update(h,a,f)}l(c,"renderInstances"),this.setMode=s,this.render=o,this.renderInstances=c}l(vge,"WebGLBufferRenderer");function wge(i,e,t){let n;function r(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){let I=e.get("EXT_texture_filter_anisotropic");n=i.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}l(r,"getMaxAnisotropy");function a(I){if(I==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}l(a,"getMaxPrecision");let s=typeof WebGL2RenderingContext<"u"&&i.constructor.name==="WebGL2RenderingContext",o=t.precision!==void 0?t.precision:"highp",c=a(o);c!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",c,"instead."),o=c);let u=s||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,f=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),p=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=i.getParameter(i.MAX_TEXTURE_SIZE),m=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),y=i.getParameter(i.MAX_VERTEX_ATTRIBS),g=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),b=i.getParameter(i.MAX_VARYING_VECTORS),x=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),w=p>0,E=s||e.has("OES_texture_float"),M=w&&E,C=s?i.getParameter(i.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:h,maxTextures:f,maxVertexTextures:p,maxTextureSize:d,maxCubemapSize:m,maxAttributes:y,maxVertexUniforms:g,maxVaryings:b,maxFragmentUniforms:x,vertexTextures:w,floatFragmentTextures:E,floatVertexTextures:M,maxSamples:C}}l(wge,"WebGLCapabilities");function xge(i){let e=this,t=null,n=0,r=!1,a=!1,s=new oo,o=new pi,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){let d=f.length!==0||p||n!==0||r;return r=p,n=f.length,d},this.beginShadows=function(){a=!0,h(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,p){t=h(f,p,0)},this.setState=function(f,p,d){let m=f.clippingPlanes,y=f.clipIntersection,g=f.clipShadows,b=i.get(f);if(!r||m===null||m.length===0||a&&!g)a?h(null):u();else{let x=a?0:n,w=x*4,E=b.clippingState||null;c.value=E,E=h(m,p,w,d);for(let M=0;M!==w;++M)E[M]=t[M];b.clippingState=E,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=x}};function u(){c.value!==t&&(c.value=t,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}l(u,"resetGlobalState");function h(f,p,d,m){let y=f!==null?f.length:0,g=null;if(y!==0){if(g=c.value,m!==!0||g===null){let b=d+y*4,x=p.matrixWorldInverse;o.getNormalMatrix(x),(g===null||g.length<b)&&(g=new Float32Array(b));for(let w=0,E=d;w!==y;++w,E+=4)s.copy(f[w]).applyMatrix4(x,o),s.normal.toArray(g,E),g[E+3]=s.constant}c.value=g,c.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,g}l(h,"projectPlanes")}l(xge,"WebGLClipping");function Sge(i){let e=new WeakMap;function t(s,o){return o===M0?s.mapping=Dc:o===A0&&(s.mapping=Vc),s}l(t,"mapTextureMapping");function n(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){let o=s.mapping;if(o===M0||o===A0)if(e.has(s)){let c=e.get(s).texture;return t(c,s.mapping)}else{let c=s.image;if(c&&c.height>0){let u=new Tw(c.height/2);return u.fromEquirectangularTexture(i,s),e.set(s,u),s.addEventListener("dispose",r),t(u.texture,s.mapping)}else return null}}return s}l(n,"get");function r(s){let o=s.target;o.removeEventListener("dispose",r);let c=e.get(o);c!==void 0&&(e.delete(o),c.dispose())}l(r,"onTextureDispose");function a(){e=new WeakMap}return l(a,"dispose"),{get:n,dispose:a}}l(Sge,"WebGLCubeMaps");var Up=class extends Bp{static{l(this,"OrthographicCamera")}constructor(e=-1,t=1,n=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,a=n-e,s=n+e,o=r+t,c=r-t;if(this.view!==null&&this.view.enabled){let u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,s=a+u*this.view.width,o-=h*this.view.offsetY,c=o-h*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}},Tp=4,Bz=[.125,.215,.35,.446,.526,.582],Ah=20,U4=new Up,Fz=new Lt,z4=null,Eh=(1+Math.sqrt(5))/2,yp=1/Eh,Uz=[new Oe(1,1,1),new Oe(-1,1,1),new Oe(1,1,-1),new Oe(-1,1,-1),new Oe(0,Eh,yp),new Oe(0,Eh,-yp),new Oe(yp,0,Eh),new Oe(-yp,0,Eh),new Oe(Eh,yp,0),new Oe(-Eh,yp,0)],V0=class{static{l(this,"PMREMGenerator")}constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){z4=this._renderer.getRenderTarget(),this._setSize(256);let a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,n,r,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Vz(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Dz(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(z4),e.scissorTest=!1,$v(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Dc||e.mapping===Vc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),z4=this._renderer.getRenderTarget();let n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:In,minFilter:In,generateMipmaps:!1,type:Ip,format:Aa,colorSpace:Cs,depthBuffer:!1},r=zz(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=zz(e,t,n);let{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Ege(a)),this._blurMaterial=Mge(a,e,t)}return r}_compileMaterial(e){let t=new Gn(this._lodPlanes[0],e);this._renderer.compile(t,U4)}_sceneToCubeUV(e,t,n,r){let o=new Hn(90,1,t,n),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,f=h.autoClear,p=h.toneMapping;h.getClearColor(Fz),h.toneMapping=ho,h.autoClear=!1;let d=new po({name:"PMREM.Background",side:Dr,depthWrite:!1,depthTest:!1}),m=new Gn(new Lh,d),y=!1,g=e.background;g?g.isColor&&(d.color.copy(g),e.background=null,y=!0):(d.color.copy(Fz),y=!0);for(let b=0;b<6;b++){let x=b%3;x===0?(o.up.set(0,c[b],0),o.lookAt(u[b],0,0)):x===1?(o.up.set(0,0,c[b]),o.lookAt(0,u[b],0)):(o.up.set(0,c[b],0),o.lookAt(0,0,u[b]));let w=this._cubeSize;$v(r,x*w,b>2?w:0,w,w),h.setRenderTarget(r),y&&h.render(m,o),h.render(e,o)}m.geometry.dispose(),m.material.dispose(),h.toneMapping=p,h.autoClear=f,e.background=g}_textureToCubeUV(e,t){let n=this._renderer,r=e.mapping===Dc||e.mapping===Vc;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Vz()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Dz());let a=r?this._cubemapMaterial:this._equirectMaterial,s=new Gn(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;let c=this._cubeSize;$v(t,0,0,3*c,2*c),n.setRenderTarget(t),n.render(s,U4)}_applyPMREM(e){let t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){let a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),s=Uz[(r-1)%Uz.length];this._blur(e,r-1,r,a,s)}t.autoClear=n}_blur(e,t,n,r,a){let s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,r,"latitudinal",a),this._halfBlur(s,e,n,n,r,"longitudinal",a)}_halfBlur(e,t,n,r,a,s,o){let c=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let h=3,f=new Gn(this._lodPlanes[r],u),p=u.uniforms,d=this._sizeLods[n]-1,m=isFinite(a)?Math.PI/(2*d):2*Math.PI/(2*Ah-1),y=a/m,g=isFinite(a)?1+Math.floor(h*y):Ah;g>Ah&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${Ah}`);let b=[],x=0;for(let I=0;I<Ah;++I){let F=I/y,A=Math.exp(-F*F/2);b.push(A),I===0?x+=A:I<g&&(x+=2*A)}for(let I=0;I<b.length;I++)b[I]=b[I]/x;p.envMap.value=e.texture,p.samples.value=g,p.weights.value=b,p.latitudinal.value=s==="latitudinal",o&&(p.poleAxis.value=o);let{_lodMax:w}=this;p.dTheta.value=m,p.mipInt.value=w-n;let E=this._sizeLods[r],M=3*E*(r>w-Tp?r-w+Tp:0),C=4*(this._cubeSize-E);$v(t,M,C,3*E,2*E),c.setRenderTarget(t),c.render(f,U4)}};function Ege(i){let e=[],t=[],n=[],r=i,a=i-Tp+1+Bz.length;for(let s=0;s<a;s++){let o=Math.pow(2,r);t.push(o);let c=1/o;s>i-Tp?c=Bz[s-i+Tp-1]:s===0&&(c=0),n.push(c);let u=1/(o-2),h=-u,f=1+u,p=[h,h,f,h,f,f,h,h,f,f,h,f],d=6,m=6,y=3,g=2,b=1,x=new Float32Array(y*m*d),w=new Float32Array(g*m*d),E=new Float32Array(b*m*d);for(let C=0;C<d;C++){let I=C%3*2/3-1,F=C>2?0:-1,A=[I,F,0,I+2/3,F,0,I+2/3,F+1,0,I,F,0,I+2/3,F+1,0,I,F+1,0];x.set(A,y*m*C),w.set(p,g*m*C);let T=[C,C,C,C,C,C];E.set(T,b*m*C)}let M=new yi;M.setAttribute("position",new Gi(x,y)),M.setAttribute("uv",new Gi(w,g)),M.setAttribute("faceIndex",new Gi(E,b)),e.push(M),r>Tp&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}l(Ege,"_createPlanes");function zz(i,e,t){let n=new Ra(i,e,t);return n.texture.mapping=Gp,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}l(zz,"_createRenderTarget");function $v(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}l($v,"_setViewport");function Mge(i,e,t){let n=new Float32Array(Ah),r=new Oe(0,1,0);return new ls({name:"SphericalGaussianBlur",defines:{n:Ah,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:sR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ml,depthTest:!1,depthWrite:!1})}l(Mge,"_getBlurShader");function Dz(){return new ls({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:sR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ml,depthTest:!1,depthWrite:!1})}l(Dz,"_getEquirectMaterial");function Vz(){return new ls({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:sR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ml,depthTest:!1,depthWrite:!1})}l(Vz,"_getCubemapMaterial");function sR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}l(sR,"_getCommonVertexShader");function Age(i){let e=new WeakMap,t=null;function n(o){if(o&&o.isTexture){let c=o.mapping,u=c===M0||c===A0,h=c===Dc||c===Vc;if(u||h)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let f=e.get(o);return t===null&&(t=new V0(i)),f=u?t.fromEquirectangular(o,f):t.fromCubemap(o,f),e.set(o,f),f.texture}else{if(e.has(o))return e.get(o).texture;{let f=o.image;if(u&&f&&f.height>0||h&&f&&r(f)){t===null&&(t=new V0(i));let p=u?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,p),o.addEventListener("dispose",a),p.texture}else return null}}}return o}l(n,"get");function r(o){let c=0,u=6;for(let h=0;h<u;h++)o[h]!==void 0&&c++;return c===u}l(r,"isCubeTextureComplete");function a(o){let c=o.target;c.removeEventListener("dispose",a);let u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}l(a,"onTextureDispose");function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return l(s,"dispose"),{get:n,dispose:s}}l(Age,"WebGLCubeUVMaps");function Tge(i){let e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return l(t,"getExtension"),{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){let r=t(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}l(Tge,"WebGLExtensions");function kge(i,e,t,n){let r={},a=new WeakMap;function s(f){let p=f.target;p.index!==null&&e.remove(p.index);for(let m in p.attributes)e.remove(p.attributes[m]);for(let m in p.morphAttributes){let y=p.morphAttributes[m];for(let g=0,b=y.length;g<b;g++)e.remove(y[g])}p.removeEventListener("dispose",s),delete r[p.id];let d=a.get(p);d&&(e.remove(d),a.delete(p)),n.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}l(s,"onGeometryDispose");function o(f,p){return r[p.id]===!0||(p.addEventListener("dispose",s),r[p.id]=!0,t.memory.geometries++),p}l(o,"get");function c(f){let p=f.attributes;for(let m in p)e.update(p[m],i.ARRAY_BUFFER);let d=f.morphAttributes;for(let m in d){let y=d[m];for(let g=0,b=y.length;g<b;g++)e.update(y[g],i.ARRAY_BUFFER)}}l(c,"update");function u(f){let p=[],d=f.index,m=f.attributes.position,y=0;if(d!==null){let x=d.array;y=d.version;for(let w=0,E=x.length;w<E;w+=3){let M=x[w+0],C=x[w+1],I=x[w+2];p.push(M,C,C,I,I,M)}}else{let x=m.array;y=m.version;for(let w=0,E=x.length/3-1;w<E;w+=3){let M=w+0,C=w+1,I=w+2;p.push(M,C,C,I,I,M)}}let g=new(jV(p)?z0:U0)(p,1);g.version=y;let b=a.get(f);b&&e.remove(b),a.set(f,g)}l(u,"updateWireframeAttribute");function h(f){let p=a.get(f);if(p){let d=f.index;d!==null&&p.version<d.version&&u(f)}else u(f);return a.get(f)}return l(h,"getWireframeAttribute"),{get:o,update:c,getWireframeAttribute:h}}l(kge,"WebGLGeometries");function Rge(i,e,t,n){let r=n.isWebGL2,a;function s(p){a=p}l(s,"setMode");let o,c;function u(p){o=p.type,c=p.bytesPerElement}l(u,"setIndex");function h(p,d){i.drawElements(a,d,o,p*c),t.update(d,a,1)}l(h,"render");function f(p,d,m){if(m===0)return;let y,g;if(r)y=i,g="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[g](a,d,o,p*c,m),t.update(d,a,m)}l(f,"renderInstances"),this.setMode=s,this.setIndex=u,this.render=h,this.renderInstances=f}l(Rge,"WebGLIndexedBufferRenderer");function Pge(i){let e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,s,o){switch(t.calls++,s){case i.TRIANGLES:t.triangles+=o*(a/3);break;case i.LINES:t.lines+=o*(a/2);break;case i.LINE_STRIP:t.lines+=o*(a-1);break;case i.LINE_LOOP:t.lines+=o*a;break;case i.POINTS:t.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}l(n,"update");function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return l(r,"reset"),{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}l(Pge,"WebGLInfo");function Ige(i,e){return i[0]-e[0]}l(Ige,"numericalSort");function Cge(i,e){return Math.abs(e[1])-Math.abs(i[1])}l(Cge,"absNumericalSort");function Lge(i,e,t){let n={},r=new Float32Array(8),a=new WeakMap,s=new Hi,o=[];for(let u=0;u<8;u++)o[u]=[u,0];function c(u,h,f){let p=u.morphTargetInfluences;if(e.isWebGL2===!0){let d=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,m=d!==void 0?d.length:0,y=a.get(h);if(y===void 0||y.count!==m){let q=function(){R.dispose(),a.delete(h),h.removeEventListener("dispose",q)};l(q,"disposeTexture"),y!==void 0&&y.texture.dispose();let x=h.morphAttributes.position!==void 0,w=h.morphAttributes.normal!==void 0,E=h.morphAttributes.color!==void 0,M=h.morphAttributes.position||[],C=h.morphAttributes.normal||[],I=h.morphAttributes.color||[],F=0;x===!0&&(F=1),w===!0&&(F=2),E===!0&&(F=3);let A=h.attributes.position.count*F,T=1;A>e.maxTextureSize&&(T=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);let j=new Float32Array(A*T*4*m),R=new Lp(j,A,T,m);R.type=co,R.needsUpdate=!0;let U=F*4;for(let X=0;X<m;X++){let fe=M[X],H=C[X],Y=I[X],$=A*T*4*X;for(let Z=0;Z<fe.count;Z++){let ie=Z*U;x===!0&&(s.fromBufferAttribute(fe,Z),j[$+ie+0]=s.x,j[$+ie+1]=s.y,j[$+ie+2]=s.z,j[$+ie+3]=0),w===!0&&(s.fromBufferAttribute(H,Z),j[$+ie+4]=s.x,j[$+ie+5]=s.y,j[$+ie+6]=s.z,j[$+ie+7]=0),E===!0&&(s.fromBufferAttribute(Y,Z),j[$+ie+8]=s.x,j[$+ie+9]=s.y,j[$+ie+10]=s.z,j[$+ie+11]=Y.itemSize===4?s.w:1)}}y={count:m,texture:R,size:new _t(A,T)},a.set(h,y),h.addEventListener("dispose",q)}let g=0;for(let x=0;x<p.length;x++)g+=p[x];let b=h.morphTargetsRelative?1:1-g;f.getUniforms().setValue(i,"morphTargetBaseInfluence",b),f.getUniforms().setValue(i,"morphTargetInfluences",p),f.getUniforms().setValue(i,"morphTargetsTexture",y.texture,t),f.getUniforms().setValue(i,"morphTargetsTextureSize",y.size)}else{let d=p===void 0?0:p.length,m=n[h.id];if(m===void 0||m.length!==d){m=[];for(let w=0;w<d;w++)m[w]=[w,0];n[h.id]=m}for(let w=0;w<d;w++){let E=m[w];E[0]=w,E[1]=p[w]}m.sort(Cge);for(let w=0;w<8;w++)w<d&&m[w][1]?(o[w][0]=m[w][0],o[w][1]=m[w][1]):(o[w][0]=Number.MAX_SAFE_INTEGER,o[w][1]=0);o.sort(Ige);let y=h.morphAttributes.position,g=h.morphAttributes.normal,b=0;for(let w=0;w<8;w++){let E=o[w],M=E[0],C=E[1];M!==Number.MAX_SAFE_INTEGER&&C?(y&&h.getAttribute("morphTarget"+w)!==y[M]&&h.setAttribute("morphTarget"+w,y[M]),g&&h.getAttribute("morphNormal"+w)!==g[M]&&h.setAttribute("morphNormal"+w,g[M]),r[w]=C,b+=C):(y&&h.hasAttribute("morphTarget"+w)===!0&&h.deleteAttribute("morphTarget"+w),g&&h.hasAttribute("morphNormal"+w)===!0&&h.deleteAttribute("morphNormal"+w),r[w]=0)}let x=h.morphTargetsRelative?1:1-b;f.getUniforms().setValue(i,"morphTargetBaseInfluence",x),f.getUniforms().setValue(i,"morphTargetInfluences",r)}}return l(c,"update"),{update:c}}l(Lge,"WebGLMorphtargets");function Nge(i,e,t,n){let r=new WeakMap;function a(c){let u=n.render.frame,h=c.geometry,f=e.get(c,h);if(r.get(f)!==u&&(e.update(f),r.set(f,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",o)===!1&&c.addEventListener("dispose",o),r.get(c)!==u&&(t.update(c.instanceMatrix,i.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,i.ARRAY_BUFFER),r.set(c,u))),c.isSkinnedMesh){let p=c.skeleton;r.get(p)!==u&&(p.update(),r.set(p,u))}return f}l(a,"update");function s(){r=new WeakMap}l(s,"dispose");function o(c){let u=c.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return l(o,"onInstancedMeshDispose"),{update:a,dispose:s}}l(Nge,"WebGLObjects");var JV=new Wn,KV=new Lp,QV=new B0,e7=new Nh,qz=[],Hz=[],Gz=new Float32Array(16),Wz=new Float32Array(9),jz=new Float32Array(4);function Wp(i,e,t){let n=i[0];if(n<=0||n>0)return i;let r=e*t,a=qz[r];if(a===void 0&&(a=new Float32Array(r),qz[r]=a),e!==0){n.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,i[s].toArray(a,o)}return a}l(Wp,"flatten");function jn(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}l(jn,"arraysEqual");function $n(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}l($n,"copyArray");function F2(i,e){let t=Hz[e];t===void 0&&(t=new Int32Array(e),Hz[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}l(F2,"allocTexUnits");function Oge(i,e){let t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}l(Oge,"setValueV1f");function Bge(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(jn(t,e))return;i.uniform2fv(this.addr,e),$n(t,e)}}l(Bge,"setValueV2f");function Fge(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(jn(t,e))return;i.uniform3fv(this.addr,e),$n(t,e)}}l(Fge,"setValueV3f");function Uge(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(jn(t,e))return;i.uniform4fv(this.addr,e),$n(t,e)}}l(Uge,"setValueV4f");function zge(i,e){let t=this.cache,n=e.elements;if(n===void 0){if(jn(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),$n(t,e)}else{if(jn(t,n))return;jz.set(n),i.uniformMatrix2fv(this.addr,!1,jz),$n(t,n)}}l(zge,"setValueM2");function Dge(i,e){let t=this.cache,n=e.elements;if(n===void 0){if(jn(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),$n(t,e)}else{if(jn(t,n))return;Wz.set(n),i.uniformMatrix3fv(this.addr,!1,Wz),$n(t,n)}}l(Dge,"setValueM3");function Vge(i,e){let t=this.cache,n=e.elements;if(n===void 0){if(jn(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),$n(t,e)}else{if(jn(t,n))return;Gz.set(n),i.uniformMatrix4fv(this.addr,!1,Gz),$n(t,n)}}l(Vge,"setValueM4");function qge(i,e){let t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}l(qge,"setValueV1i");function Hge(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(jn(t,e))return;i.uniform2iv(this.addr,e),$n(t,e)}}l(Hge,"setValueV2i");function Gge(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(jn(t,e))return;i.uniform3iv(this.addr,e),$n(t,e)}}l(Gge,"setValueV3i");function Wge(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(jn(t,e))return;i.uniform4iv(this.addr,e),$n(t,e)}}l(Wge,"setValueV4i");function jge(i,e){let t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}l(jge,"setValueV1ui");function $ge(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(jn(t,e))return;i.uniform2uiv(this.addr,e),$n(t,e)}}l($ge,"setValueV2ui");function Xge(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(jn(t,e))return;i.uniform3uiv(this.addr,e),$n(t,e)}}l(Xge,"setValueV3ui");function Yge(i,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(jn(t,e))return;i.uniform4uiv(this.addr,e),$n(t,e)}}l(Yge,"setValueV4ui");function Zge(i,e,t){let n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||JV,r)}l(Zge,"setValueT1");function Jge(i,e,t){let n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||QV,r)}l(Jge,"setValueT3D1");function Kge(i,e,t){let n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||e7,r)}l(Kge,"setValueT6");function Qge(i,e,t){let n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||KV,r)}l(Qge,"setValueT2DArray1");function e1e(i){switch(i){case 5126:return Oge;case 35664:return Bge;case 35665:return Fge;case 35666:return Uge;case 35674:return zge;case 35675:return Dge;case 35676:return Vge;case 5124:case 35670:return qge;case 35667:case 35671:return Hge;case 35668:case 35672:return Gge;case 35669:case 35673:return Wge;case 5125:return jge;case 36294:return $ge;case 36295:return Xge;case 36296:return Yge;case 35678:case 36198:case 36298:case 36306:case 35682:return Zge;case 35679:case 36299:case 36307:return Jge;case 35680:case 36300:case 36308:case 36293:return Kge;case 36289:case 36303:case 36311:case 36292:return Qge}}l(e1e,"getSingularSetter");function t1e(i,e){i.uniform1fv(this.addr,e)}l(t1e,"setValueV1fArray");function i1e(i,e){let t=Wp(e,this.size,2);i.uniform2fv(this.addr,t)}l(i1e,"setValueV2fArray");function n1e(i,e){let t=Wp(e,this.size,3);i.uniform3fv(this.addr,t)}l(n1e,"setValueV3fArray");function r1e(i,e){let t=Wp(e,this.size,4);i.uniform4fv(this.addr,t)}l(r1e,"setValueV4fArray");function a1e(i,e){let t=Wp(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}l(a1e,"setValueM2Array");function s1e(i,e){let t=Wp(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}l(s1e,"setValueM3Array");function o1e(i,e){let t=Wp(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}l(o1e,"setValueM4Array");function l1e(i,e){i.uniform1iv(this.addr,e)}l(l1e,"setValueV1iArray");function c1e(i,e){i.uniform2iv(this.addr,e)}l(c1e,"setValueV2iArray");function u1e(i,e){i.uniform3iv(this.addr,e)}l(u1e,"setValueV3iArray");function h1e(i,e){i.uniform4iv(this.addr,e)}l(h1e,"setValueV4iArray");function f1e(i,e){i.uniform1uiv(this.addr,e)}l(f1e,"setValueV1uiArray");function d1e(i,e){i.uniform2uiv(this.addr,e)}l(d1e,"setValueV2uiArray");function p1e(i,e){i.uniform3uiv(this.addr,e)}l(p1e,"setValueV3uiArray");function m1e(i,e){i.uniform4uiv(this.addr,e)}l(m1e,"setValueV4uiArray");function _1e(i,e,t){let n=this.cache,r=e.length,a=F2(t,r);jn(n,a)||(i.uniform1iv(this.addr,a),$n(n,a));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||JV,a[s])}l(_1e,"setValueT1Array");function g1e(i,e,t){let n=this.cache,r=e.length,a=F2(t,r);jn(n,a)||(i.uniform1iv(this.addr,a),$n(n,a));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||QV,a[s])}l(g1e,"setValueT3DArray");function b1e(i,e,t){let n=this.cache,r=e.length,a=F2(t,r);jn(n,a)||(i.uniform1iv(this.addr,a),$n(n,a));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||e7,a[s])}l(b1e,"setValueT6Array");function y1e(i,e,t){let n=this.cache,r=e.length,a=F2(t,r);jn(n,a)||(i.uniform1iv(this.addr,a),$n(n,a));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||KV,a[s])}l(y1e,"setValueT2DArrayArray");function v1e(i){switch(i){case 5126:return t1e;case 35664:return i1e;case 35665:return n1e;case 35666:return r1e;case 35674:return a1e;case 35675:return s1e;case 35676:return o1e;case 5124:case 35670:return l1e;case 35667:case 35671:return c1e;case 35668:case 35672:return u1e;case 35669:case 35673:return h1e;case 5125:return f1e;case 36294:return d1e;case 36295:return p1e;case 36296:return m1e;case 35678:case 36198:case 36298:case 36306:case 35682:return _1e;case 35679:case 36299:case 36307:return g1e;case 35680:case 36300:case 36308:case 36293:return b1e;case 36289:case 36303:case 36311:case 36292:return y1e}}l(v1e,"getPureArraySetter");var Dk=class{static{l(this,"SingleUniform")}constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=e1e(t.type)}},Vk=class{static{l(this,"PureArrayUniform")}constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=v1e(t.type)}},qk=class{static{l(this,"StructuredUniform")}constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){let r=this.seq;for(let a=0,s=r.length;a!==s;++a){let o=r[a];o.setValue(e,t[o.id],n)}}},D4=/(\w+)(\])?(\[|\.)?/g;function $z(i,e){i.seq.push(e),i.map[e.id]=e}l($z,"addUniform");function w1e(i,e,t){let n=i.name,r=n.length;for(D4.lastIndex=0;;){let a=D4.exec(n),s=D4.lastIndex,o=a[1],c=a[2]==="]",u=a[3];if(c&&(o=o|0),u===void 0||u==="["&&s+2===r){$z(t,u===void 0?new Dk(o,i,e):new Vk(o,i,e));break}else{let f=t.map[o];f===void 0&&(f=new qk(o),$z(t,f)),t=f}}}l(w1e,"parseUniform");var Pp=class{static{l(this,"WebGLUniforms")}constructor(e,t){this.seq=[],this.map={};let n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){let a=e.getActiveUniform(t,r),s=e.getUniformLocation(t,a.name);w1e(a,s,this)}}setValue(e,t,n,r){let a=this.map[t];a!==void 0&&a.setValue(e,n,r)}setOptional(e,t,n){let r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let a=0,s=t.length;a!==s;++a){let o=t[a],c=n[o.id];c.needsUpdate!==!1&&o.setValue(e,c.value,r)}}static seqWithValue(e,t){let n=[];for(let r=0,a=e.length;r!==a;++r){let s=e[r];s.id in t&&n.push(s)}return n}};function Xz(i,e,t){let n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}l(Xz,"WebGLShader");var x1e=0;function S1e(i,e){let t=i.split(`
`),n=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=r;s<a;s++){let o=s+1;n.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return n.join(`
`)}l(S1e,"handleSource");function E1e(i){switch(i){case Cs:return["Linear","( value )"];case ri:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",i),["Linear","( value )"]}}l(E1e,"getEncodingComponents");function Yz(i,e,t){let n=i.getShaderParameter(e,i.COMPILE_STATUS),r=i.getShaderInfoLog(e).trim();if(n&&r==="")return"";let a=/ERROR: 0:(\d+)/.exec(r);if(a){let s=parseInt(a[1]);return t.toUpperCase()+`

`+r+`

`+S1e(i.getShaderSource(e),s)}else return r}l(Yz,"getShaderErrors");function M1e(i,e){let t=E1e(e);return"vec4 "+i+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}l(M1e,"getTexelEncodingFunction");function A1e(i,e){let t;switch(e){case _V:t="Linear";break;case gV:t="Reinhard";break;case bV:t="OptimizedCineon";break;case yV:t="ACESFilmic";break;case vV:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}l(A1e,"getToneMappingFunction");function T1e(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.normalMapTangentSpace||i.clearcoatNormalMap||i.flatShading||i.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(b0).join(`
`)}l(T1e,"generateExtensions");function k1e(i){let e=[];for(let t in i){let n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}l(k1e,"generateDefines");function R1e(i,e){let t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){let a=i.getActiveAttrib(e,r),s=a.name,o=1;a.type===i.FLOAT_MAT2&&(o=2),a.type===i.FLOAT_MAT3&&(o=3),a.type===i.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:i.getAttribLocation(e,s),locationSize:o}}return t}l(R1e,"fetchAttributeLocations");function b0(i){return i!==""}l(b0,"filterEmptyLine");function Zz(i,e){let t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}l(Zz,"replaceLightNums");function Jz(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}l(Jz,"replaceClippingPlaneNums");var P1e=/^[ \t]*#include +<([\w\d./]+)>/gm;function Hk(i){return i.replace(P1e,C1e)}l(Hk,"resolveIncludes");var I1e=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function C1e(i,e){let t=ui[e];if(t===void 0){let n=I1e.get(e);if(n!==void 0)t=ui[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return Hk(t)}l(C1e,"includeReplacer");var L1e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Kz(i){return i.replace(L1e,N1e)}l(Kz,"unrollLoops");function N1e(i,e,t,n){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}l(N1e,"loopReplacer");function Qz(i){let e="precision "+i.precision+` float;
precision `+i.precision+" int;";return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}l(Qz,"generatePrecision");function O1e(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===j5?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===XD?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===so&&(e="SHADOWMAP_TYPE_VSM"),e}l(O1e,"generateShadowMapTypeDefine");function B1e(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Dc:case Vc:e="ENVMAP_TYPE_CUBE";break;case Gp:e="ENVMAP_TYPE_CUBE_UV";break}return e}l(B1e,"generateEnvMapTypeDefine");function F1e(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case Vc:e="ENVMAP_MODE_REFRACTION";break}return e}l(F1e,"generateEnvMapModeDefine");function U1e(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case hg:e="ENVMAP_BLENDING_MULTIPLY";break;case pV:e="ENVMAP_BLENDING_MIX";break;case mV:e="ENVMAP_BLENDING_ADD";break}return e}l(U1e,"generateEnvMapBlendingDefine");function z1e(i){let e=i.envMapCubeUVHeight;if(e===null)return null;let t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}l(z1e,"generateCubeUVSize");function D1e(i,e,t,n){let r=i.getContext(),a=t.defines,s=t.vertexShader,o=t.fragmentShader,c=O1e(t),u=B1e(t),h=F1e(t),f=U1e(t),p=z1e(t),d=t.isWebGL2?"":T1e(t),m=k1e(a),y=r.createProgram(),g,b,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(b0).join(`
`),g.length>0&&(g+=`
`),b=[d,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(b0).join(`
`),b.length>0&&(b+=`
`)):(g=[Qz(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(b0).join(`
`),b=[d,Qz(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ho?"#define TONE_MAPPING":"",t.toneMapping!==ho?ui.tonemapping_pars_fragment:"",t.toneMapping!==ho?A1e("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ui.colorspace_pars_fragment,M1e("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(b0).join(`
`)),s=Hk(s),s=Zz(s,t),s=Jz(s,t),o=Hk(o),o=Zz(o,t),o=Jz(o,t),s=Kz(s),o=Kz(o),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,b=["#define varying in",t.glslVersion===kk?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===kk?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);let w=x+g+s,E=x+b+o,M=Xz(r,r.VERTEX_SHADER,w),C=Xz(r,r.FRAGMENT_SHADER,E);if(r.attachShader(y,M),r.attachShader(y,C),t.index0AttributeName!==void 0?r.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),i.debug.checkShaderErrors){let A=r.getProgramInfoLog(y).trim(),T=r.getShaderInfoLog(M).trim(),j=r.getShaderInfoLog(C).trim(),R=!0,U=!0;if(r.getProgramParameter(y,r.LINK_STATUS)===!1)if(R=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,y,M,C);else{let q=Yz(r,M,"vertex"),X=Yz(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,r.VALIDATE_STATUS)+`

Program Info Log: `+A+`
`+q+`
`+X)}else A!==""?console.warn("THREE.WebGLProgram: Program Info Log:",A):(T===""||j==="")&&(U=!1);U&&(this.diagnostics={runnable:R,programLog:A,vertexShader:{log:T,prefix:g},fragmentShader:{log:j,prefix:b}})}r.deleteShader(M),r.deleteShader(C);let I;this.getUniforms=function(){return I===void 0&&(I=new Pp(r,y)),I};let F;return this.getAttributes=function(){return F===void 0&&(F=R1e(r,y)),F},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=x1e++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=M,this.fragmentShader=C,this}l(D1e,"WebGLProgram");var V1e=0,Gk=class{static{l(this,"WebGLShaderCache")}constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){let t=this.shaderCache,n=t.get(e);return n===void 0&&(n=new Wk(e),t.set(e,n)),n}},Wk=class{static{l(this,"WebGLShaderStage")}constructor(e){this.id=V1e++,this.code=e,this.usedTimes=0}};function q1e(i,e,t,n,r,a,s){let o=new Np,c=new Gk,u=[],h=r.isWebGL2,f=r.logarithmicDepthBuffer,p=r.vertexTextures,d=r.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(A){return A===0?"uv":`uv${A}`}l(y,"getChannel");function g(A,T,j,R,U){let q=R.fog,X=U.geometry,fe=A.isMeshStandardMaterial?R.environment:null,H=(A.isMeshStandardMaterial?t:e).get(A.envMap||fe),Y=H&&H.mapping===Gp?H.image.height:null,$=m[A.type];A.precision!==null&&(d=r.getMaxPrecision(A.precision),d!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",d,"instead."));let Z=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,ie=Z!==void 0?Z.length:0,ue=0;X.morphAttributes.position!==void 0&&(ue=1),X.morphAttributes.normal!==void 0&&(ue=2),X.morphAttributes.color!==void 0&&(ue=3);let Me,Fe,De,Ge;if($){let wt=Is[$];Me=wt.vertexShader,Fe=wt.fragmentShader}else Me=A.vertexShader,Fe=A.fragmentShader,c.update(A),De=c.getVertexShaderID(A),Ge=c.getFragmentShaderID(A);let ve=i.getRenderTarget(),we=U.isInstancedMesh===!0,He=!!A.map,Ke=!!A.matcap,Ze=!!H,S=!!A.aoMap,G=!!A.lightMap,Q=!!A.bumpMap,K=!!A.normalMap,J=!!A.displacementMap,me=!!A.emissiveMap,Se=!!A.metalnessMap,Ie=!!A.roughnessMap,Ce=A.anisotropy>0,Xe=A.clearcoat>0,nt=A.iridescence>0,z=A.sheen>0,B=A.transmission>0,Ae=Ce&&!!A.anisotropyMap,W=Xe&&!!A.clearcoatMap,L=Xe&&!!A.clearcoatNormalMap,P=Xe&&!!A.clearcoatRoughnessMap,se=nt&&!!A.iridescenceMap,de=nt&&!!A.iridescenceThicknessMap,O=z&&!!A.sheenColorMap,be=z&&!!A.sheenRoughnessMap,Ue=!!A.specularMap,We=!!A.specularColorMap,_e=!!A.specularIntensityMap,Re=B&&!!A.transmissionMap,te=B&&!!A.thicknessMap,et=!!A.gradientMap,oe=!!A.alphaMap,N=A.alphaTest>0,le=!!A.alphaHash,Te=!!A.extensions,ee=!!X.attributes.uv1,Le=!!X.attributes.uv2,Ye=!!X.attributes.uv3;return{isWebGL2:h,shaderID:$,shaderType:A.type,shaderName:A.name,vertexShader:Me,fragmentShader:Fe,defines:A.defines,customVertexShaderID:De,customFragmentShaderID:Ge,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:d,instancing:we,instancingColor:we&&U.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:ve===null?i.outputColorSpace:ve.isXRRenderTarget===!0?ve.texture.colorSpace:Cs,map:He,matcap:Ke,envMap:Ze,envMapMode:Ze&&H.mapping,envMapCubeUVHeight:Y,aoMap:S,lightMap:G,bumpMap:Q,normalMap:K,displacementMap:p&&J,emissiveMap:me,normalMapObjectSpace:K&&A.normalMapType===OV,normalMapTangentSpace:K&&A.normalMapType===$c,metalnessMap:Se,roughnessMap:Ie,anisotropy:Ce,anisotropyMap:Ae,clearcoat:Xe,clearcoatMap:W,clearcoatNormalMap:L,clearcoatRoughnessMap:P,iridescence:nt,iridescenceMap:se,iridescenceThicknessMap:de,sheen:z,sheenColorMap:O,sheenRoughnessMap:be,specularMap:Ue,specularColorMap:We,specularIntensityMap:_e,transmission:B,transmissionMap:Re,thicknessMap:te,gradientMap:et,opaque:A.transparent===!1&&A.blending===Ph,alphaMap:oe,alphaTest:N,alphaHash:le,combine:A.combine,mapUv:He&&y(A.map.channel),aoMapUv:S&&y(A.aoMap.channel),lightMapUv:G&&y(A.lightMap.channel),bumpMapUv:Q&&y(A.bumpMap.channel),normalMapUv:K&&y(A.normalMap.channel),displacementMapUv:J&&y(A.displacementMap.channel),emissiveMapUv:me&&y(A.emissiveMap.channel),metalnessMapUv:Se&&y(A.metalnessMap.channel),roughnessMapUv:Ie&&y(A.roughnessMap.channel),anisotropyMapUv:Ae&&y(A.anisotropyMap.channel),clearcoatMapUv:W&&y(A.clearcoatMap.channel),clearcoatNormalMapUv:L&&y(A.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:P&&y(A.clearcoatRoughnessMap.channel),iridescenceMapUv:se&&y(A.iridescenceMap.channel),iridescenceThicknessMapUv:de&&y(A.iridescenceThicknessMap.channel),sheenColorMapUv:O&&y(A.sheenColorMap.channel),sheenRoughnessMapUv:be&&y(A.sheenRoughnessMap.channel),specularMapUv:Ue&&y(A.specularMap.channel),specularColorMapUv:We&&y(A.specularColorMap.channel),specularIntensityMapUv:_e&&y(A.specularIntensityMap.channel),transmissionMapUv:Re&&y(A.transmissionMap.channel),thicknessMapUv:te&&y(A.thicknessMap.channel),alphaMapUv:oe&&y(A.alphaMap.channel),vertexTangents:!!X.attributes.tangent&&(K||Ce),vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,vertexUv1s:ee,vertexUv2s:Le,vertexUv3s:Ye,pointsUvs:U.isPoints===!0&&!!X.attributes.uv&&(He||oe),fog:!!q,useFog:A.fog===!0,fogExp2:q&&q.isFogExp2,flatShading:A.flatShading===!0,sizeAttenuation:A.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:U.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:ie,morphTextureStride:ue,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:A.dithering,shadowMapEnabled:i.shadowMap.enabled&&j.length>0,shadowMapType:i.shadowMap.type,toneMapping:A.toneMapped?i.toneMapping:ho,useLegacyLights:i.useLegacyLights,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===lo,flipSided:A.side===Dr,useDepthPacking:A.depthPacking>=0,depthPacking:A.depthPacking||0,index0AttributeName:A.index0AttributeName,extensionDerivatives:Te&&A.extensions.derivatives===!0,extensionFragDepth:Te&&A.extensions.fragDepth===!0,extensionDrawBuffers:Te&&A.extensions.drawBuffers===!0,extensionShaderTextureLOD:Te&&A.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||n.has("EXT_shader_texture_lod"),customProgramCacheKey:A.customProgramCacheKey()}}l(g,"getParameters");function b(A){let T=[];if(A.shaderID?T.push(A.shaderID):(T.push(A.customVertexShaderID),T.push(A.customFragmentShaderID)),A.defines!==void 0)for(let j in A.defines)T.push(j),T.push(A.defines[j]);return A.isRawShaderMaterial===!1&&(x(T,A),w(T,A),T.push(i.outputColorSpace)),T.push(A.customProgramCacheKey),T.join()}l(b,"getProgramCacheKey");function x(A,T){A.push(T.precision),A.push(T.outputColorSpace),A.push(T.envMapMode),A.push(T.envMapCubeUVHeight),A.push(T.mapUv),A.push(T.alphaMapUv),A.push(T.lightMapUv),A.push(T.aoMapUv),A.push(T.bumpMapUv),A.push(T.normalMapUv),A.push(T.displacementMapUv),A.push(T.emissiveMapUv),A.push(T.metalnessMapUv),A.push(T.roughnessMapUv),A.push(T.anisotropyMapUv),A.push(T.clearcoatMapUv),A.push(T.clearcoatNormalMapUv),A.push(T.clearcoatRoughnessMapUv),A.push(T.iridescenceMapUv),A.push(T.iridescenceThicknessMapUv),A.push(T.sheenColorMapUv),A.push(T.sheenRoughnessMapUv),A.push(T.specularMapUv),A.push(T.specularColorMapUv),A.push(T.specularIntensityMapUv),A.push(T.transmissionMapUv),A.push(T.thicknessMapUv),A.push(T.combine),A.push(T.fogExp2),A.push(T.sizeAttenuation),A.push(T.morphTargetsCount),A.push(T.morphAttributeCount),A.push(T.numDirLights),A.push(T.numPointLights),A.push(T.numSpotLights),A.push(T.numSpotLightMaps),A.push(T.numHemiLights),A.push(T.numRectAreaLights),A.push(T.numDirLightShadows),A.push(T.numPointLightShadows),A.push(T.numSpotLightShadows),A.push(T.numSpotLightShadowsWithMaps),A.push(T.shadowMapType),A.push(T.toneMapping),A.push(T.numClippingPlanes),A.push(T.numClipIntersection),A.push(T.depthPacking)}l(x,"getProgramCacheKeyParameters");function w(A,T){o.disableAll(),T.isWebGL2&&o.enable(0),T.supportsVertexTextures&&o.enable(1),T.instancing&&o.enable(2),T.instancingColor&&o.enable(3),T.matcap&&o.enable(4),T.envMap&&o.enable(5),T.normalMapObjectSpace&&o.enable(6),T.normalMapTangentSpace&&o.enable(7),T.clearcoat&&o.enable(8),T.iridescence&&o.enable(9),T.alphaTest&&o.enable(10),T.vertexColors&&o.enable(11),T.vertexAlphas&&o.enable(12),T.vertexUv1s&&o.enable(13),T.vertexUv2s&&o.enable(14),T.vertexUv3s&&o.enable(15),T.vertexTangents&&o.enable(16),T.anisotropy&&o.enable(17),A.push(o.mask),o.disableAll(),T.fog&&o.enable(0),T.useFog&&o.enable(1),T.flatShading&&o.enable(2),T.logarithmicDepthBuffer&&o.enable(3),T.skinning&&o.enable(4),T.morphTargets&&o.enable(5),T.morphNormals&&o.enable(6),T.morphColors&&o.enable(7),T.premultipliedAlpha&&o.enable(8),T.shadowMapEnabled&&o.enable(9),T.useLegacyLights&&o.enable(10),T.doubleSided&&o.enable(11),T.flipSided&&o.enable(12),T.useDepthPacking&&o.enable(13),T.dithering&&o.enable(14),T.transmission&&o.enable(15),T.sheen&&o.enable(16),T.opaque&&o.enable(17),T.pointsUvs&&o.enable(18),A.push(o.mask)}l(w,"getProgramCacheKeyBooleans");function E(A){let T=m[A.type],j;if(T){let R=Is[T];j=YV.clone(R.uniforms)}else j=A.uniforms;return j}l(E,"getUniforms");function M(A,T){let j;for(let R=0,U=u.length;R<U;R++){let q=u[R];if(q.cacheKey===T){j=q,++j.usedTimes;break}}return j===void 0&&(j=new D1e(i,T,A,a),u.push(j)),j}l(M,"acquireProgram");function C(A){if(--A.usedTimes===0){let T=u.indexOf(A);u[T]=u[u.length-1],u.pop(),A.destroy()}}l(C,"releaseProgram");function I(A){c.remove(A)}l(I,"releaseShaderCache");function F(){c.dispose()}return l(F,"dispose"),{getParameters:g,getProgramCacheKey:b,getUniforms:E,acquireProgram:M,releaseProgram:C,releaseShaderCache:I,programs:u,dispose:F}}l(q1e,"WebGLPrograms");function H1e(){let i=new WeakMap;function e(a){let s=i.get(a);return s===void 0&&(s={},i.set(a,s)),s}l(e,"get");function t(a){i.delete(a)}l(t,"remove");function n(a,s,o){i.get(a)[s]=o}l(n,"update");function r(){i=new WeakMap}return l(r,"dispose"),{get:e,remove:t,update:n,dispose:r}}l(H1e,"WebGLProperties");function G1e(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}l(G1e,"painterSortStable");function eD(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}l(eD,"reversePainterSortStable");function tD(){let i=[],e=0,t=[],n=[],r=[];function a(){e=0,t.length=0,n.length=0,r.length=0}l(a,"init");function s(f,p,d,m,y,g){let b=i[e];return b===void 0?(b={id:f.id,object:f,geometry:p,material:d,groupOrder:m,renderOrder:f.renderOrder,z:y,group:g},i[e]=b):(b.id=f.id,b.object=f,b.geometry=p,b.material=d,b.groupOrder=m,b.renderOrder=f.renderOrder,b.z=y,b.group=g),e++,b}l(s,"getNextRenderItem");function o(f,p,d,m,y,g){let b=s(f,p,d,m,y,g);d.transmission>0?n.push(b):d.transparent===!0?r.push(b):t.push(b)}l(o,"push");function c(f,p,d,m,y,g){let b=s(f,p,d,m,y,g);d.transmission>0?n.unshift(b):d.transparent===!0?r.unshift(b):t.unshift(b)}l(c,"unshift");function u(f,p){t.length>1&&t.sort(f||G1e),n.length>1&&n.sort(p||eD),r.length>1&&r.sort(p||eD)}l(u,"sort");function h(){for(let f=e,p=i.length;f<p;f++){let d=i[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return l(h,"finish"),{opaque:t,transmissive:n,transparent:r,init:a,push:o,unshift:c,finish:h,sort:u}}l(tD,"WebGLRenderList");function W1e(){let i=new WeakMap;function e(n,r){let a=i.get(n),s;return a===void 0?(s=new tD,i.set(n,[s])):r>=a.length?(s=new tD,a.push(s)):s=a[r],s}l(e,"get");function t(){i=new WeakMap}return l(t,"dispose"),{get:e,dispose:t}}l(W1e,"WebGLRenderLists");function j1e(){let i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Oe,color:new Lt};break;case"SpotLight":t={position:new Oe,direction:new Oe,color:new Lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Oe,color:new Lt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Oe,skyColor:new Lt,groundColor:new Lt};break;case"RectAreaLight":t={color:new Lt,position:new Oe,halfWidth:new Oe,halfHeight:new Oe};break}return i[e.id]=t,t}}}l(j1e,"UniformsCache");function $1e(){let i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}l($1e,"ShadowUniformsCache");var X1e=0;function Y1e(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}l(Y1e,"shadowCastingAndTexturingLightsFirst");function Z1e(i,e){let t=new j1e,n=$1e(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)r.probe.push(new Oe);let a=new Oe,s=new ai,o=new ai;function c(h,f){let p=0,d=0,m=0;for(let j=0;j<9;j++)r.probe[j].set(0,0,0);let y=0,g=0,b=0,x=0,w=0,E=0,M=0,C=0,I=0,F=0;h.sort(Y1e);let A=f===!0?Math.PI:1;for(let j=0,R=h.length;j<R;j++){let U=h[j],q=U.color,X=U.intensity,fe=U.distance,H=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)p+=q.r*X*A,d+=q.g*X*A,m+=q.b*X*A;else if(U.isLightProbe)for(let Y=0;Y<9;Y++)r.probe[Y].addScaledVector(U.sh.coefficients[Y],X);else if(U.isDirectionalLight){let Y=t.get(U);if(Y.color.copy(U.color).multiplyScalar(U.intensity*A),U.castShadow){let $=U.shadow,Z=n.get(U);Z.shadowBias=$.bias,Z.shadowNormalBias=$.normalBias,Z.shadowRadius=$.radius,Z.shadowMapSize=$.mapSize,r.directionalShadow[y]=Z,r.directionalShadowMap[y]=H,r.directionalShadowMatrix[y]=U.shadow.matrix,E++}r.directional[y]=Y,y++}else if(U.isSpotLight){let Y=t.get(U);Y.position.setFromMatrixPosition(U.matrixWorld),Y.color.copy(q).multiplyScalar(X*A),Y.distance=fe,Y.coneCos=Math.cos(U.angle),Y.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),Y.decay=U.decay,r.spot[b]=Y;let $=U.shadow;if(U.map&&(r.spotLightMap[I]=U.map,I++,$.updateMatrices(U),U.castShadow&&F++),r.spotLightMatrix[b]=$.matrix,U.castShadow){let Z=n.get(U);Z.shadowBias=$.bias,Z.shadowNormalBias=$.normalBias,Z.shadowRadius=$.radius,Z.shadowMapSize=$.mapSize,r.spotShadow[b]=Z,r.spotShadowMap[b]=H,C++}b++}else if(U.isRectAreaLight){let Y=t.get(U);Y.color.copy(q).multiplyScalar(X),Y.halfWidth.set(U.width*.5,0,0),Y.halfHeight.set(0,U.height*.5,0),r.rectArea[x]=Y,x++}else if(U.isPointLight){let Y=t.get(U);if(Y.color.copy(U.color).multiplyScalar(U.intensity*A),Y.distance=U.distance,Y.decay=U.decay,U.castShadow){let $=U.shadow,Z=n.get(U);Z.shadowBias=$.bias,Z.shadowNormalBias=$.normalBias,Z.shadowRadius=$.radius,Z.shadowMapSize=$.mapSize,Z.shadowCameraNear=$.camera.near,Z.shadowCameraFar=$.camera.far,r.pointShadow[g]=Z,r.pointShadowMap[g]=H,r.pointShadowMatrix[g]=U.shadow.matrix,M++}r.point[g]=Y,g++}else if(U.isHemisphereLight){let Y=t.get(U);Y.skyColor.copy(U.color).multiplyScalar(X*A),Y.groundColor.copy(U.groundColor).multiplyScalar(X*A),r.hemi[w]=Y,w++}}x>0&&(e.isWebGL2||i.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Rt.LTC_FLOAT_1,r.rectAreaLTC2=Rt.LTC_FLOAT_2):i.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Rt.LTC_HALF_1,r.rectAreaLTC2=Rt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=d,r.ambient[2]=m;let T=r.hash;(T.directionalLength!==y||T.pointLength!==g||T.spotLength!==b||T.rectAreaLength!==x||T.hemiLength!==w||T.numDirectionalShadows!==E||T.numPointShadows!==M||T.numSpotShadows!==C||T.numSpotMaps!==I)&&(r.directional.length=y,r.spot.length=b,r.rectArea.length=x,r.point.length=g,r.hemi.length=w,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=M,r.pointShadowMap.length=M,r.spotShadow.length=C,r.spotShadowMap.length=C,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=M,r.spotLightMatrix.length=C+I-F,r.spotLightMap.length=I,r.numSpotLightShadowsWithMaps=F,T.directionalLength=y,T.pointLength=g,T.spotLength=b,T.rectAreaLength=x,T.hemiLength=w,T.numDirectionalShadows=E,T.numPointShadows=M,T.numSpotShadows=C,T.numSpotMaps=I,r.version=X1e++)}l(c,"setup");function u(h,f){let p=0,d=0,m=0,y=0,g=0,b=f.matrixWorldInverse;for(let x=0,w=h.length;x<w;x++){let E=h[x];if(E.isDirectionalLight){let M=r.directional[p];M.direction.setFromMatrixPosition(E.matrixWorld),a.setFromMatrixPosition(E.target.matrixWorld),M.direction.sub(a),M.direction.transformDirection(b),p++}else if(E.isSpotLight){let M=r.spot[m];M.position.setFromMatrixPosition(E.matrixWorld),M.position.applyMatrix4(b),M.direction.setFromMatrixPosition(E.matrixWorld),a.setFromMatrixPosition(E.target.matrixWorld),M.direction.sub(a),M.direction.transformDirection(b),m++}else if(E.isRectAreaLight){let M=r.rectArea[y];M.position.setFromMatrixPosition(E.matrixWorld),M.position.applyMatrix4(b),o.identity(),s.copy(E.matrixWorld),s.premultiply(b),o.extractRotation(s),M.halfWidth.set(E.width*.5,0,0),M.halfHeight.set(0,E.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),y++}else if(E.isPointLight){let M=r.point[d];M.position.setFromMatrixPosition(E.matrixWorld),M.position.applyMatrix4(b),d++}else if(E.isHemisphereLight){let M=r.hemi[g];M.direction.setFromMatrixPosition(E.matrixWorld),M.direction.transformDirection(b),g++}}}return l(u,"setupView"),{setup:c,setupView:u,state:r}}l(Z1e,"WebGLLights");function iD(i,e){let t=new Z1e(i,e),n=[],r=[];function a(){n.length=0,r.length=0}l(a,"init");function s(f){n.push(f)}l(s,"pushLight");function o(f){r.push(f)}l(o,"pushShadow");function c(f){t.setup(n,f)}l(c,"setupLights");function u(f){t.setupView(n,f)}return l(u,"setupLightsView"),{init:a,state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:c,setupLightsView:u,pushLight:s,pushShadow:o}}l(iD,"WebGLRenderState");function J1e(i,e){let t=new WeakMap;function n(a,s=0){let o=t.get(a),c;return o===void 0?(c=new iD(i,e),t.set(a,[c])):s>=o.length?(c=new iD(i,e),o.push(c)):c=o[s],c}l(n,"get");function r(){t=new WeakMap}return l(r,"dispose"),{get:n,dispose:r}}l(J1e,"WebGLRenderStates");var q0=class extends ar{static{l(this,"MeshDepthMaterial")}constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=LV,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},H0=class extends ar{static{l(this,"MeshDistanceMaterial")}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},K1e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Q1e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function ebe(i,e,t){let n=new Fp,r=new _t,a=new _t,s=new Hi,o=new q0({depthPacking:NV}),c=new H0,u={},h=t.maxTextureSize,f={[bl]:Dr,[Dr]:bl,[lo]:lo},p=new ls({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _t},radius:{value:4}},vertexShader:K1e,fragmentShader:Q1e}),d=p.clone();d.defines.HORIZONTAL_PASS=1;let m=new yi;m.setAttribute("position",new Gi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let y=new Gn(m,p),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=j5;let b=this.type;this.render=function(M,C,I){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||M.length===0)return;let F=i.getRenderTarget(),A=i.getActiveCubeFace(),T=i.getActiveMipmapLevel(),j=i.state;j.setBlending(ml),j.buffers.color.setClear(1,1,1,1),j.buffers.depth.setTest(!0),j.setScissorTest(!1);let R=b!==so&&this.type===so,U=b===so&&this.type!==so;for(let q=0,X=M.length;q<X;q++){let fe=M[q],H=fe.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",fe,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;r.copy(H.mapSize);let Y=H.getFrameExtents();if(r.multiply(Y),a.copy(H.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(a.x=Math.floor(h/Y.x),r.x=a.x*Y.x,H.mapSize.x=a.x),r.y>h&&(a.y=Math.floor(h/Y.y),r.y=a.y*Y.y,H.mapSize.y=a.y)),H.map===null||R===!0||U===!0){let Z=this.type!==so?{minFilter:Pn,magFilter:Pn}:{};H.map!==null&&H.map.dispose(),H.map=new Ra(r.x,r.y,Z),H.map.texture.name=fe.name+".shadowMap",H.camera.updateProjectionMatrix()}i.setRenderTarget(H.map),i.clear();let $=H.getViewportCount();for(let Z=0;Z<$;Z++){let ie=H.getViewport(Z);s.set(a.x*ie.x,a.y*ie.y,a.x*ie.z,a.y*ie.w),j.viewport(s),H.updateMatrices(fe,Z),n=H.getFrustum(),E(C,I,H.camera,fe,this.type)}H.isPointLightShadow!==!0&&this.type===so&&x(H,I),H.needsUpdate=!1}b=this.type,g.needsUpdate=!1,i.setRenderTarget(F,A,T)};function x(M,C){let I=e.update(y);p.defines.VSM_SAMPLES!==M.blurSamples&&(p.defines.VSM_SAMPLES=M.blurSamples,d.defines.VSM_SAMPLES=M.blurSamples,p.needsUpdate=!0,d.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Ra(r.x,r.y)),p.uniforms.shadow_pass.value=M.map.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,i.setRenderTarget(M.mapPass),i.clear(),i.renderBufferDirect(C,null,I,p,y,null),d.uniforms.shadow_pass.value=M.mapPass.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,i.setRenderTarget(M.map),i.clear(),i.renderBufferDirect(C,null,I,d,y,null)}l(x,"VSMPass");function w(M,C,I,F){let A=null,T=I.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(T!==void 0)A=T;else if(A=I.isPointLight===!0?c:o,i.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){let j=A.uuid,R=C.uuid,U=u[j];U===void 0&&(U={},u[j]=U);let q=U[R];q===void 0&&(q=A.clone(),U[R]=q),A=q}if(A.visible=C.visible,A.wireframe=C.wireframe,F===so?A.side=C.shadowSide!==null?C.shadowSide:C.side:A.side=C.shadowSide!==null?C.shadowSide:f[C.side],A.alphaMap=C.alphaMap,A.alphaTest=C.alphaTest,A.map=C.map,A.clipShadows=C.clipShadows,A.clippingPlanes=C.clippingPlanes,A.clipIntersection=C.clipIntersection,A.displacementMap=C.displacementMap,A.displacementScale=C.displacementScale,A.displacementBias=C.displacementBias,A.wireframeLinewidth=C.wireframeLinewidth,A.linewidth=C.linewidth,I.isPointLight===!0&&A.isMeshDistanceMaterial===!0){let j=i.properties.get(A);j.light=I}return A}l(w,"getDepthMaterial");function E(M,C,I,F,A){if(M.visible===!1)return;if(M.layers.test(C.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&A===so)&&(!M.frustumCulled||n.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,M.matrixWorld);let R=e.update(M),U=M.material;if(Array.isArray(U)){let q=R.groups;for(let X=0,fe=q.length;X<fe;X++){let H=q[X],Y=U[H.materialIndex];if(Y&&Y.visible){let $=w(M,Y,F,A);i.renderBufferDirect(I,null,R,$,M,H)}}}else if(U.visible){let q=w(M,U,F,A);i.renderBufferDirect(I,null,R,q,M,null)}}let j=M.children;for(let R=0,U=j.length;R<U;R++)E(j[R],C,I,F,A)}l(E,"renderObject")}l(ebe,"WebGLShadowMap");function tbe(i,e,t){let n=t.isWebGL2;function r(){let oe=!1,N=new Hi,le=null,Te=new Hi(0,0,0,0);return{setMask:function(ee){le!==ee&&!oe&&(i.colorMask(ee,ee,ee,ee),le=ee)},setLocked:function(ee){oe=ee},setClear:function(ee,Le,Ye,vt,wt){wt===!0&&(ee*=vt,Le*=vt,Ye*=vt),N.set(ee,Le,Ye,vt),Te.equals(N)===!1&&(i.clearColor(ee,Le,Ye,vt),Te.copy(N))},reset:function(){oe=!1,le=null,Te.set(-1,0,0,0)}}}l(r,"ColorBuffer");function a(){let oe=!1,N=null,le=null,Te=null;return{setTest:function(ee){ee?ve(i.DEPTH_TEST):we(i.DEPTH_TEST)},setMask:function(ee){N!==ee&&!oe&&(i.depthMask(ee),N=ee)},setFunc:function(ee){if(le!==ee){switch(ee){case oV:i.depthFunc(i.NEVER);break;case lV:i.depthFunc(i.ALWAYS);break;case cV:i.depthFunc(i.LESS);break;case xw:i.depthFunc(i.LEQUAL);break;case uV:i.depthFunc(i.EQUAL);break;case hV:i.depthFunc(i.GEQUAL);break;case fV:i.depthFunc(i.GREATER);break;case dV:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}le=ee}},setLocked:function(ee){oe=ee},setClear:function(ee){Te!==ee&&(i.clearDepth(ee),Te=ee)},reset:function(){oe=!1,N=null,le=null,Te=null}}}l(a,"DepthBuffer");function s(){let oe=!1,N=null,le=null,Te=null,ee=null,Le=null,Ye=null,vt=null,wt=null;return{setTest:function(ft){oe||(ft?ve(i.STENCIL_TEST):we(i.STENCIL_TEST))},setMask:function(ft){N!==ft&&!oe&&(i.stencilMask(ft),N=ft)},setFunc:function(ft,Ft,Yt){(le!==ft||Te!==Ft||ee!==Yt)&&(i.stencilFunc(ft,Ft,Yt),le=ft,Te=Ft,ee=Yt)},setOp:function(ft,Ft,Yt){(Le!==ft||Ye!==Ft||vt!==Yt)&&(i.stencilOp(ft,Ft,Yt),Le=ft,Ye=Ft,vt=Yt)},setLocked:function(ft){oe=ft},setClear:function(ft){wt!==ft&&(i.clearStencil(ft),wt=ft)},reset:function(){oe=!1,N=null,le=null,Te=null,ee=null,Le=null,Ye=null,vt=null,wt=null}}}l(s,"StencilBuffer");let o=new r,c=new a,u=new s,h=new WeakMap,f=new WeakMap,p={},d={},m=new WeakMap,y=[],g=null,b=!1,x=null,w=null,E=null,M=null,C=null,I=null,F=null,A=!1,T=null,j=null,R=null,U=null,q=null,X=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS),fe=!1,H=0,Y=i.getParameter(i.VERSION);Y.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(Y)[1]),fe=H>=1):Y.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),fe=H>=2);let $=null,Z={},ie=i.getParameter(i.SCISSOR_BOX),ue=i.getParameter(i.VIEWPORT),Me=new Hi().fromArray(ie),Fe=new Hi().fromArray(ue);function De(oe,N,le,Te){let ee=new Uint8Array(4),Le=i.createTexture();i.bindTexture(oe,Le),i.texParameteri(oe,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(oe,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Ye=0;Ye<le;Ye++)n&&(oe===i.TEXTURE_3D||oe===i.TEXTURE_2D_ARRAY)?i.texImage3D(N,0,i.RGBA,1,1,Te,0,i.RGBA,i.UNSIGNED_BYTE,ee):i.texImage2D(N+Ye,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,ee);return Le}l(De,"createTexture");let Ge={};Ge[i.TEXTURE_2D]=De(i.TEXTURE_2D,i.TEXTURE_2D,1),Ge[i.TEXTURE_CUBE_MAP]=De(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(Ge[i.TEXTURE_2D_ARRAY]=De(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),Ge[i.TEXTURE_3D]=De(i.TEXTURE_3D,i.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),c.setClear(1),u.setClear(0),ve(i.DEPTH_TEST),c.setFunc(xw),J(!1),me(Q4),ve(i.CULL_FACE),Q(ml);function ve(oe){p[oe]!==!0&&(i.enable(oe),p[oe]=!0)}l(ve,"enable");function we(oe){p[oe]!==!1&&(i.disable(oe),p[oe]=!1)}l(we,"disable");function He(oe,N){return d[oe]!==N?(i.bindFramebuffer(oe,N),d[oe]=N,n&&(oe===i.DRAW_FRAMEBUFFER&&(d[i.FRAMEBUFFER]=N),oe===i.FRAMEBUFFER&&(d[i.DRAW_FRAMEBUFFER]=N)),!0):!1}l(He,"bindFramebuffer");function Ke(oe,N){let le=y,Te=!1;if(oe)if(le=m.get(N),le===void 0&&(le=[],m.set(N,le)),oe.isWebGLMultipleRenderTargets){let ee=oe.texture;if(le.length!==ee.length||le[0]!==i.COLOR_ATTACHMENT0){for(let Le=0,Ye=ee.length;Le<Ye;Le++)le[Le]=i.COLOR_ATTACHMENT0+Le;le.length=ee.length,Te=!0}}else le[0]!==i.COLOR_ATTACHMENT0&&(le[0]=i.COLOR_ATTACHMENT0,Te=!0);else le[0]!==i.BACK&&(le[0]=i.BACK,Te=!0);Te&&(t.isWebGL2?i.drawBuffers(le):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(le))}l(Ke,"drawBuffers");function Ze(oe){return g!==oe?(i.useProgram(oe),g=oe,!0):!1}l(Ze,"useProgram");let S={[Mh]:i.FUNC_ADD,[ZD]:i.FUNC_SUBTRACT,[JD]:i.FUNC_REVERSE_SUBTRACT};if(n)S[nk]=i.MIN,S[rk]=i.MAX;else{let oe=e.get("EXT_blend_minmax");oe!==null&&(S[nk]=oe.MIN_EXT,S[rk]=oe.MAX_EXT)}let G={[KD]:i.ZERO,[QD]:i.ONE,[eV]:i.SRC_COLOR,[$5]:i.SRC_ALPHA,[sV]:i.SRC_ALPHA_SATURATE,[rV]:i.DST_COLOR,[iV]:i.DST_ALPHA,[tV]:i.ONE_MINUS_SRC_COLOR,[X5]:i.ONE_MINUS_SRC_ALPHA,[aV]:i.ONE_MINUS_DST_COLOR,[nV]:i.ONE_MINUS_DST_ALPHA};function Q(oe,N,le,Te,ee,Le,Ye,vt){if(oe===ml){b===!0&&(we(i.BLEND),b=!1);return}if(b===!1&&(ve(i.BLEND),b=!0),oe!==YD){if(oe!==x||vt!==A){if((w!==Mh||C!==Mh)&&(i.blendEquation(i.FUNC_ADD),w=Mh,C=Mh),vt)switch(oe){case Ph:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case ek:i.blendFunc(i.ONE,i.ONE);break;case tk:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case ik:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}else switch(oe){case Ph:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case ek:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case tk:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case ik:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}E=null,M=null,I=null,F=null,x=oe,A=vt}return}ee=ee||N,Le=Le||le,Ye=Ye||Te,(N!==w||ee!==C)&&(i.blendEquationSeparate(S[N],S[ee]),w=N,C=ee),(le!==E||Te!==M||Le!==I||Ye!==F)&&(i.blendFuncSeparate(G[le],G[Te],G[Le],G[Ye]),E=le,M=Te,I=Le,F=Ye),x=oe,A=!1}l(Q,"setBlending");function K(oe,N){oe.side===lo?we(i.CULL_FACE):ve(i.CULL_FACE);let le=oe.side===Dr;N&&(le=!le),J(le),oe.blending===Ph&&oe.transparent===!1?Q(ml):Q(oe.blending,oe.blendEquation,oe.blendSrc,oe.blendDst,oe.blendEquationAlpha,oe.blendSrcAlpha,oe.blendDstAlpha,oe.premultipliedAlpha),c.setFunc(oe.depthFunc),c.setTest(oe.depthTest),c.setMask(oe.depthWrite),o.setMask(oe.colorWrite);let Te=oe.stencilWrite;u.setTest(Te),Te&&(u.setMask(oe.stencilWriteMask),u.setFunc(oe.stencilFunc,oe.stencilRef,oe.stencilFuncMask),u.setOp(oe.stencilFail,oe.stencilZFail,oe.stencilZPass)),Ie(oe.polygonOffset,oe.polygonOffsetFactor,oe.polygonOffsetUnits),oe.alphaToCoverage===!0?ve(i.SAMPLE_ALPHA_TO_COVERAGE):we(i.SAMPLE_ALPHA_TO_COVERAGE)}l(K,"setMaterial");function J(oe){T!==oe&&(oe?i.frontFace(i.CW):i.frontFace(i.CCW),T=oe)}l(J,"setFlipSided");function me(oe){oe!==jD?(ve(i.CULL_FACE),oe!==j&&(oe===Q4?i.cullFace(i.BACK):oe===$D?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):we(i.CULL_FACE),j=oe}l(me,"setCullFace");function Se(oe){oe!==R&&(fe&&i.lineWidth(oe),R=oe)}l(Se,"setLineWidth");function Ie(oe,N,le){oe?(ve(i.POLYGON_OFFSET_FILL),(U!==N||q!==le)&&(i.polygonOffset(N,le),U=N,q=le)):we(i.POLYGON_OFFSET_FILL)}l(Ie,"setPolygonOffset");function Ce(oe){oe?ve(i.SCISSOR_TEST):we(i.SCISSOR_TEST)}l(Ce,"setScissorTest");function Xe(oe){oe===void 0&&(oe=i.TEXTURE0+X-1),$!==oe&&(i.activeTexture(oe),$=oe)}l(Xe,"activeTexture");function nt(oe,N,le){le===void 0&&($===null?le=i.TEXTURE0+X-1:le=$);let Te=Z[le];Te===void 0&&(Te={type:void 0,texture:void 0},Z[le]=Te),(Te.type!==oe||Te.texture!==N)&&($!==le&&(i.activeTexture(le),$=le),i.bindTexture(oe,N||Ge[oe]),Te.type=oe,Te.texture=N)}l(nt,"bindTexture");function z(){let oe=Z[$];oe!==void 0&&oe.type!==void 0&&(i.bindTexture(oe.type,null),oe.type=void 0,oe.texture=void 0)}l(z,"unbindTexture");function B(){try{i.compressedTexImage2D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(B,"compressedTexImage2D");function Ae(){try{i.compressedTexImage3D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(Ae,"compressedTexImage3D");function W(){try{i.texSubImage2D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(W,"texSubImage2D");function L(){try{i.texSubImage3D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(L,"texSubImage3D");function P(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(P,"compressedTexSubImage2D");function se(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(se,"compressedTexSubImage3D");function de(){try{i.texStorage2D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(de,"texStorage2D");function O(){try{i.texStorage3D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(O,"texStorage3D");function be(){try{i.texImage2D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(be,"texImage2D");function Ue(){try{i.texImage3D.apply(i,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}l(Ue,"texImage3D");function We(oe){Me.equals(oe)===!1&&(i.scissor(oe.x,oe.y,oe.z,oe.w),Me.copy(oe))}l(We,"scissor");function _e(oe){Fe.equals(oe)===!1&&(i.viewport(oe.x,oe.y,oe.z,oe.w),Fe.copy(oe))}l(_e,"viewport");function Re(oe,N){let le=f.get(N);le===void 0&&(le=new WeakMap,f.set(N,le));let Te=le.get(oe);Te===void 0&&(Te=i.getUniformBlockIndex(N,oe.name),le.set(oe,Te))}l(Re,"updateUBOMapping");function te(oe,N){let Te=f.get(N).get(oe);h.get(N)!==Te&&(i.uniformBlockBinding(N,Te,oe.__bindingPointIndex),h.set(N,Te))}l(te,"uniformBlockBinding");function et(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),n===!0&&(i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),p={},$=null,Z={},d={},m=new WeakMap,y=[],g=null,b=!1,x=null,w=null,E=null,M=null,C=null,I=null,F=null,A=!1,T=null,j=null,R=null,U=null,q=null,Me.set(0,0,i.canvas.width,i.canvas.height),Fe.set(0,0,i.canvas.width,i.canvas.height),o.reset(),c.reset(),u.reset()}return l(et,"reset"),{buffers:{color:o,depth:c,stencil:u},enable:ve,disable:we,bindFramebuffer:He,drawBuffers:Ke,useProgram:Ze,setBlending:Q,setMaterial:K,setFlipSided:J,setCullFace:me,setLineWidth:Se,setPolygonOffset:Ie,setScissorTest:Ce,activeTexture:Xe,bindTexture:nt,unbindTexture:z,compressedTexImage2D:B,compressedTexImage3D:Ae,texImage2D:be,texImage3D:Ue,updateUBOMapping:Re,uniformBlockBinding:te,texStorage2D:de,texStorage3D:O,texSubImage2D:W,texSubImage3D:L,compressedTexSubImage2D:P,compressedTexSubImage3D:se,scissor:We,viewport:_e,reset:et}}l(tbe,"WebGLState");function ibe(i,e,t,n,r,a,s){let o=r.isWebGL2,c=r.maxTextures,u=r.maxCubemapSize,h=r.maxTextureSize,f=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,y,g=new WeakMap,b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(z,B){return b?new OffscreenCanvas(z,B):N0("canvas")}l(x,"createCanvas");function w(z,B,Ae,W){let L=1;if((z.width>W||z.height>W)&&(L=W/Math.max(z.width,z.height)),L<1||B===!0)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap){let P=B?Mw:Math.floor,se=P(L*z.width),de=P(L*z.height);y===void 0&&(y=x(se,de));let O=Ae?x(se,de):y;return O.width=se,O.height=de,O.getContext("2d").drawImage(z,0,0,se,de),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+se+"x"+de+")."),O}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}l(w,"resizeImage");function E(z){return Rk(z.width)&&Rk(z.height)}l(E,"isPowerOfTwo$1");function M(z){return o?!1:z.wrapS!==xr||z.wrapT!==xr||z.minFilter!==Pn&&z.minFilter!==In}l(M,"textureNeedsPowerOfTwo");function C(z,B){return z.generateMipmaps&&B&&z.minFilter!==Pn&&z.minFilter!==In}l(C,"textureNeedsGenerateMipmaps");function I(z){i.generateMipmap(z)}l(I,"generateMipmap");function F(z,B,Ae,W,L=!1){if(o===!1)return B;if(z!==null){if(i[z]!==void 0)return i[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let P=B;return B===i.RED&&(Ae===i.FLOAT&&(P=i.R32F),Ae===i.HALF_FLOAT&&(P=i.R16F),Ae===i.UNSIGNED_BYTE&&(P=i.R8)),B===i.RG&&(Ae===i.FLOAT&&(P=i.RG32F),Ae===i.HALF_FLOAT&&(P=i.RG16F),Ae===i.UNSIGNED_BYTE&&(P=i.RG8)),B===i.RGBA&&(Ae===i.FLOAT&&(P=i.RGBA32F),Ae===i.HALF_FLOAT&&(P=i.RGBA16F),Ae===i.UNSIGNED_BYTE&&(P=W===ri&&L===!1?i.SRGB8_ALPHA8:i.RGBA8),Ae===i.UNSIGNED_SHORT_4_4_4_4&&(P=i.RGBA4),Ae===i.UNSIGNED_SHORT_5_5_5_1&&(P=i.RGB5_A1)),(P===i.R16F||P===i.R32F||P===i.RG16F||P===i.RG32F||P===i.RGBA16F||P===i.RGBA32F)&&e.get("EXT_color_buffer_float"),P}l(F,"getInternalFormat");function A(z,B,Ae){return C(z,Ae)===!0||z.isFramebufferTexture&&z.minFilter!==Pn&&z.minFilter!==In?Math.log2(Math.max(B.width,B.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?B.mipmaps.length:1}l(A,"getMipLevels");function T(z){return z===Pn||z===Sw||z===y0?i.NEAREST:i.LINEAR}l(T,"filterFallback");function j(z){let B=z.target;B.removeEventListener("dispose",j),U(B),B.isVideoTexture&&m.delete(B)}l(j,"onTextureDispose");function R(z){let B=z.target;B.removeEventListener("dispose",R),X(B)}l(R,"onRenderTargetDispose");function U(z){let B=n.get(z);if(B.__webglInit===void 0)return;let Ae=z.source,W=g.get(Ae);if(W){let L=W[B.__cacheKey];L.usedTimes--,L.usedTimes===0&&q(z),Object.keys(W).length===0&&g.delete(Ae)}n.remove(z)}l(U,"deallocateTexture");function q(z){let B=n.get(z);i.deleteTexture(B.__webglTexture);let Ae=z.source,W=g.get(Ae);delete W[B.__cacheKey],s.memory.textures--}l(q,"deleteTexture");function X(z){let B=z.texture,Ae=n.get(z),W=n.get(B);if(W.__webglTexture!==void 0&&(i.deleteTexture(W.__webglTexture),s.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let L=0;L<6;L++)i.deleteFramebuffer(Ae.__webglFramebuffer[L]),Ae.__webglDepthbuffer&&i.deleteRenderbuffer(Ae.__webglDepthbuffer[L]);else{if(i.deleteFramebuffer(Ae.__webglFramebuffer),Ae.__webglDepthbuffer&&i.deleteRenderbuffer(Ae.__webglDepthbuffer),Ae.__webglMultisampledFramebuffer&&i.deleteFramebuffer(Ae.__webglMultisampledFramebuffer),Ae.__webglColorRenderbuffer)for(let L=0;L<Ae.__webglColorRenderbuffer.length;L++)Ae.__webglColorRenderbuffer[L]&&i.deleteRenderbuffer(Ae.__webglColorRenderbuffer[L]);Ae.__webglDepthRenderbuffer&&i.deleteRenderbuffer(Ae.__webglDepthRenderbuffer)}if(z.isWebGLMultipleRenderTargets)for(let L=0,P=B.length;L<P;L++){let se=n.get(B[L]);se.__webglTexture&&(i.deleteTexture(se.__webglTexture),s.memory.textures--),n.remove(B[L])}n.remove(B),n.remove(z)}l(X,"deallocateRenderTarget");let fe=0;function H(){fe=0}l(H,"resetTextureUnits");function Y(){let z=fe;return z>=c&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+c),fe+=1,z}l(Y,"allocateTextureUnit");function $(z){let B=[];return B.push(z.wrapS),B.push(z.wrapT),B.push(z.wrapR||0),B.push(z.magFilter),B.push(z.minFilter),B.push(z.anisotropy),B.push(z.internalFormat),B.push(z.format),B.push(z.type),B.push(z.generateMipmaps),B.push(z.premultiplyAlpha),B.push(z.flipY),B.push(z.unpackAlignment),B.push(z.colorSpace),B.join()}l($,"getTextureCacheKey");function Z(z,B){let Ae=n.get(z);if(z.isVideoTexture&&Xe(z),z.isRenderTargetTexture===!1&&z.version>0&&Ae.__version!==z.version){let W=z.image;if(W===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(W.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{He(Ae,z,B);return}}t.bindTexture(i.TEXTURE_2D,Ae.__webglTexture,i.TEXTURE0+B)}l(Z,"setTexture2D");function ie(z,B){let Ae=n.get(z);if(z.version>0&&Ae.__version!==z.version){He(Ae,z,B);return}t.bindTexture(i.TEXTURE_2D_ARRAY,Ae.__webglTexture,i.TEXTURE0+B)}l(ie,"setTexture2DArray");function ue(z,B){let Ae=n.get(z);if(z.version>0&&Ae.__version!==z.version){He(Ae,z,B);return}t.bindTexture(i.TEXTURE_3D,Ae.__webglTexture,i.TEXTURE0+B)}l(ue,"setTexture3D");function Me(z,B){let Ae=n.get(z);if(z.version>0&&Ae.__version!==z.version){Ke(Ae,z,B);return}t.bindTexture(i.TEXTURE_CUBE_MAP,Ae.__webglTexture,i.TEXTURE0+B)}l(Me,"setTextureCube");let Fe={[T0]:i.REPEAT,[xr]:i.CLAMP_TO_EDGE,[k0]:i.MIRRORED_REPEAT},De={[Pn]:i.NEAREST,[Sw]:i.NEAREST_MIPMAP_NEAREST,[y0]:i.NEAREST_MIPMAP_LINEAR,[In]:i.LINEAR,[Y5]:i.LINEAR_MIPMAP_NEAREST,[qc]:i.LINEAR_MIPMAP_LINEAR},Ge={[FV]:i.NEVER,[GV]:i.ALWAYS,[UV]:i.LESS,[DV]:i.LEQUAL,[zV]:i.EQUAL,[HV]:i.GEQUAL,[VV]:i.GREATER,[qV]:i.NOTEQUAL};function ve(z,B,Ae){if(Ae?(i.texParameteri(z,i.TEXTURE_WRAP_S,Fe[B.wrapS]),i.texParameteri(z,i.TEXTURE_WRAP_T,Fe[B.wrapT]),(z===i.TEXTURE_3D||z===i.TEXTURE_2D_ARRAY)&&i.texParameteri(z,i.TEXTURE_WRAP_R,Fe[B.wrapR]),i.texParameteri(z,i.TEXTURE_MAG_FILTER,De[B.magFilter]),i.texParameteri(z,i.TEXTURE_MIN_FILTER,De[B.minFilter])):(i.texParameteri(z,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(z,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),(z===i.TEXTURE_3D||z===i.TEXTURE_2D_ARRAY)&&i.texParameteri(z,i.TEXTURE_WRAP_R,i.CLAMP_TO_EDGE),(B.wrapS!==xr||B.wrapT!==xr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(z,i.TEXTURE_MAG_FILTER,T(B.magFilter)),i.texParameteri(z,i.TEXTURE_MIN_FILTER,T(B.minFilter)),B.minFilter!==Pn&&B.minFilter!==In&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),B.compareFunction&&(i.texParameteri(z,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(z,i.TEXTURE_COMPARE_FUNC,Ge[B.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){let W=e.get("EXT_texture_filter_anisotropic");if(B.magFilter===Pn||B.minFilter!==y0&&B.minFilter!==qc||B.type===co&&e.has("OES_texture_float_linear")===!1||o===!1&&B.type===Ip&&e.has("OES_texture_half_float_linear")===!1)return;(B.anisotropy>1||n.get(B).__currentAnisotropy)&&(i.texParameterf(z,W.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,r.getMaxAnisotropy())),n.get(B).__currentAnisotropy=B.anisotropy)}}l(ve,"setTextureParameters");function we(z,B){let Ae=!1;z.__webglInit===void 0&&(z.__webglInit=!0,B.addEventListener("dispose",j));let W=B.source,L=g.get(W);L===void 0&&(L={},g.set(W,L));let P=$(B);if(P!==z.__cacheKey){L[P]===void 0&&(L[P]={texture:i.createTexture(),usedTimes:0},s.memory.textures++,Ae=!0),L[P].usedTimes++;let se=L[z.__cacheKey];se!==void 0&&(L[z.__cacheKey].usedTimes--,se.usedTimes===0&&q(B)),z.__cacheKey=P,z.__webglTexture=L[P].texture}return Ae}l(we,"initTexture");function He(z,B,Ae){let W=i.TEXTURE_2D;(B.isDataArrayTexture||B.isCompressedArrayTexture)&&(W=i.TEXTURE_2D_ARRAY),B.isData3DTexture&&(W=i.TEXTURE_3D);let L=we(z,B),P=B.source;t.bindTexture(W,z.__webglTexture,i.TEXTURE0+Ae);let se=n.get(P);if(P.version!==se.__version||L===!0){t.activeTexture(i.TEXTURE0+Ae),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,B.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,B.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,i.NONE);let de=M(B)&&E(B.image)===!1,O=w(B.image,de,!1,h);O=nt(B,O);let be=E(O)||o,Ue=a.convert(B.format,B.colorSpace),We=a.convert(B.type),_e=F(B.internalFormat,Ue,We,B.colorSpace);ve(W,B,be);let Re,te=B.mipmaps,et=o&&B.isVideoTexture!==!0,oe=se.__version===void 0||L===!0,N=A(B,O,be);if(B.isDepthTexture)_e=i.DEPTH_COMPONENT,o?B.type===co?_e=i.DEPTH_COMPONENT32F:B.type===fl?_e=i.DEPTH_COMPONENT24:B.type===Oc?_e=i.DEPTH24_STENCIL8:_e=i.DEPTH_COMPONENT16:B.type===co&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),B.format===Bc&&_e===i.DEPTH_COMPONENT&&B.type!==O2&&B.type!==fl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),B.type=fl,We=a.convert(B.type)),B.format===Ch&&_e===i.DEPTH_COMPONENT&&(_e=i.DEPTH_STENCIL,B.type!==Oc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),B.type=Oc,We=a.convert(B.type))),oe&&(et?t.texStorage2D(i.TEXTURE_2D,1,_e,O.width,O.height):t.texImage2D(i.TEXTURE_2D,0,_e,O.width,O.height,0,Ue,We,null));else if(B.isDataTexture)if(te.length>0&&be){et&&oe&&t.texStorage2D(i.TEXTURE_2D,N,_e,te[0].width,te[0].height);for(let le=0,Te=te.length;le<Te;le++)Re=te[le],et?t.texSubImage2D(i.TEXTURE_2D,le,0,0,Re.width,Re.height,Ue,We,Re.data):t.texImage2D(i.TEXTURE_2D,le,_e,Re.width,Re.height,0,Ue,We,Re.data);B.generateMipmaps=!1}else et?(oe&&t.texStorage2D(i.TEXTURE_2D,N,_e,O.width,O.height),t.texSubImage2D(i.TEXTURE_2D,0,0,0,O.width,O.height,Ue,We,O.data)):t.texImage2D(i.TEXTURE_2D,0,_e,O.width,O.height,0,Ue,We,O.data);else if(B.isCompressedTexture)if(B.isCompressedArrayTexture){et&&oe&&t.texStorage3D(i.TEXTURE_2D_ARRAY,N,_e,te[0].width,te[0].height,O.depth);for(let le=0,Te=te.length;le<Te;le++)Re=te[le],B.format!==Aa?Ue!==null?et?t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,le,0,0,0,Re.width,Re.height,O.depth,Ue,Re.data,0,0):t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,le,_e,Re.width,Re.height,O.depth,0,Re.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):et?t.texSubImage3D(i.TEXTURE_2D_ARRAY,le,0,0,0,Re.width,Re.height,O.depth,Ue,We,Re.data):t.texImage3D(i.TEXTURE_2D_ARRAY,le,_e,Re.width,Re.height,O.depth,0,Ue,We,Re.data)}else{et&&oe&&t.texStorage2D(i.TEXTURE_2D,N,_e,te[0].width,te[0].height);for(let le=0,Te=te.length;le<Te;le++)Re=te[le],B.format!==Aa?Ue!==null?et?t.compressedTexSubImage2D(i.TEXTURE_2D,le,0,0,Re.width,Re.height,Ue,Re.data):t.compressedTexImage2D(i.TEXTURE_2D,le,_e,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):et?t.texSubImage2D(i.TEXTURE_2D,le,0,0,Re.width,Re.height,Ue,We,Re.data):t.texImage2D(i.TEXTURE_2D,le,_e,Re.width,Re.height,0,Ue,We,Re.data)}else if(B.isDataArrayTexture)et?(oe&&t.texStorage3D(i.TEXTURE_2D_ARRAY,N,_e,O.width,O.height,O.depth),t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,O.width,O.height,O.depth,Ue,We,O.data)):t.texImage3D(i.TEXTURE_2D_ARRAY,0,_e,O.width,O.height,O.depth,0,Ue,We,O.data);else if(B.isData3DTexture)et?(oe&&t.texStorage3D(i.TEXTURE_3D,N,_e,O.width,O.height,O.depth),t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,O.width,O.height,O.depth,Ue,We,O.data)):t.texImage3D(i.TEXTURE_3D,0,_e,O.width,O.height,O.depth,0,Ue,We,O.data);else if(B.isFramebufferTexture){if(oe)if(et)t.texStorage2D(i.TEXTURE_2D,N,_e,O.width,O.height);else{let le=O.width,Te=O.height;for(let ee=0;ee<N;ee++)t.texImage2D(i.TEXTURE_2D,ee,_e,le,Te,0,Ue,We,null),le>>=1,Te>>=1}}else if(te.length>0&&be){et&&oe&&t.texStorage2D(i.TEXTURE_2D,N,_e,te[0].width,te[0].height);for(let le=0,Te=te.length;le<Te;le++)Re=te[le],et?t.texSubImage2D(i.TEXTURE_2D,le,0,0,Ue,We,Re):t.texImage2D(i.TEXTURE_2D,le,_e,Ue,We,Re);B.generateMipmaps=!1}else et?(oe&&t.texStorage2D(i.TEXTURE_2D,N,_e,O.width,O.height),t.texSubImage2D(i.TEXTURE_2D,0,0,0,Ue,We,O)):t.texImage2D(i.TEXTURE_2D,0,_e,Ue,We,O);C(B,be)&&I(W),se.__version=P.version,B.onUpdate&&B.onUpdate(B)}z.__version=B.version}l(He,"uploadTexture");function Ke(z,B,Ae){if(B.image.length!==6)return;let W=we(z,B),L=B.source;t.bindTexture(i.TEXTURE_CUBE_MAP,z.__webglTexture,i.TEXTURE0+Ae);let P=n.get(L);if(L.version!==P.__version||W===!0){t.activeTexture(i.TEXTURE0+Ae),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,B.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,B.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,i.NONE);let se=B.isCompressedTexture||B.image[0].isCompressedTexture,de=B.image[0]&&B.image[0].isDataTexture,O=[];for(let le=0;le<6;le++)!se&&!de?O[le]=w(B.image[le],!1,!0,u):O[le]=de?B.image[le].image:B.image[le],O[le]=nt(B,O[le]);let be=O[0],Ue=E(be)||o,We=a.convert(B.format,B.colorSpace),_e=a.convert(B.type),Re=F(B.internalFormat,We,_e,B.colorSpace),te=o&&B.isVideoTexture!==!0,et=P.__version===void 0||W===!0,oe=A(B,be,Ue);ve(i.TEXTURE_CUBE_MAP,B,Ue);let N;if(se){te&&et&&t.texStorage2D(i.TEXTURE_CUBE_MAP,oe,Re,be.width,be.height);for(let le=0;le<6;le++){N=O[le].mipmaps;for(let Te=0;Te<N.length;Te++){let ee=N[Te];B.format!==Aa?We!==null?te?t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te,0,0,ee.width,ee.height,We,ee.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te,Re,ee.width,ee.height,0,ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):te?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te,0,0,ee.width,ee.height,We,_e,ee.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te,Re,ee.width,ee.height,0,We,_e,ee.data)}}}else{N=B.mipmaps,te&&et&&(N.length>0&&oe++,t.texStorage2D(i.TEXTURE_CUBE_MAP,oe,Re,O[0].width,O[0].height));for(let le=0;le<6;le++)if(de){te?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,O[le].width,O[le].height,We,_e,O[le].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,Re,O[le].width,O[le].height,0,We,_e,O[le].data);for(let Te=0;Te<N.length;Te++){let Le=N[Te].image[le].image;te?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te+1,0,0,Le.width,Le.height,We,_e,Le.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te+1,Re,Le.width,Le.height,0,We,_e,Le.data)}}else{te?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,We,_e,O[le]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,Re,We,_e,O[le]);for(let Te=0;Te<N.length;Te++){let ee=N[Te];te?t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te+1,0,0,We,_e,ee.image[le]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+le,Te+1,Re,We,_e,ee.image[le])}}}C(B,Ue)&&I(i.TEXTURE_CUBE_MAP),P.__version=L.version,B.onUpdate&&B.onUpdate(B)}z.__version=B.version}l(Ke,"uploadCubeTexture");function Ze(z,B,Ae,W,L){let P=a.convert(Ae.format,Ae.colorSpace),se=a.convert(Ae.type),de=F(Ae.internalFormat,P,se,Ae.colorSpace);n.get(B).__hasExternalTextures||(L===i.TEXTURE_3D||L===i.TEXTURE_2D_ARRAY?t.texImage3D(L,0,de,B.width,B.height,B.depth,0,P,se,null):t.texImage2D(L,0,de,B.width,B.height,0,P,se,null)),t.bindFramebuffer(i.FRAMEBUFFER,z),Ce(B)?p.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,W,L,n.get(Ae).__webglTexture,0,Ie(B)):(L===i.TEXTURE_2D||L>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&L<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,W,L,n.get(Ae).__webglTexture,0),t.bindFramebuffer(i.FRAMEBUFFER,null)}l(Ze,"setupFrameBufferTexture");function S(z,B,Ae){if(i.bindRenderbuffer(i.RENDERBUFFER,z),B.depthBuffer&&!B.stencilBuffer){let W=i.DEPTH_COMPONENT16;if(Ae||Ce(B)){let L=B.depthTexture;L&&L.isDepthTexture&&(L.type===co?W=i.DEPTH_COMPONENT32F:L.type===fl&&(W=i.DEPTH_COMPONENT24));let P=Ie(B);Ce(B)?p.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,P,W,B.width,B.height):i.renderbufferStorageMultisample(i.RENDERBUFFER,P,W,B.width,B.height)}else i.renderbufferStorage(i.RENDERBUFFER,W,B.width,B.height);i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,z)}else if(B.depthBuffer&&B.stencilBuffer){let W=Ie(B);Ae&&Ce(B)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,W,i.DEPTH24_STENCIL8,B.width,B.height):Ce(B)?p.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,W,i.DEPTH24_STENCIL8,B.width,B.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,B.width,B.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,z)}else{let W=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let L=0;L<W.length;L++){let P=W[L],se=a.convert(P.format,P.colorSpace),de=a.convert(P.type),O=F(P.internalFormat,se,de,P.colorSpace),be=Ie(B);Ae&&Ce(B)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,be,O,B.width,B.height):Ce(B)?p.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,be,O,B.width,B.height):i.renderbufferStorage(i.RENDERBUFFER,O,B.width,B.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}l(S,"setupRenderBufferStorage");function G(z,B){if(B&&B.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,z),!(B.depthTexture&&B.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(B.depthTexture).__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),Z(B.depthTexture,0);let W=n.get(B.depthTexture).__webglTexture,L=Ie(B);if(B.depthTexture.format===Bc)Ce(B)?p.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,W,0,L):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,W,0);else if(B.depthTexture.format===Ch)Ce(B)?p.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,W,0,L):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,W,0);else throw new Error("Unknown depthTexture format")}l(G,"setupDepthTexture");function Q(z){let B=n.get(z),Ae=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!B.__autoAllocateDepthBuffer){if(Ae)throw new Error("target.depthTexture not supported in Cube render targets");G(B.__webglFramebuffer,z)}else if(Ae){B.__webglDepthbuffer=[];for(let W=0;W<6;W++)t.bindFramebuffer(i.FRAMEBUFFER,B.__webglFramebuffer[W]),B.__webglDepthbuffer[W]=i.createRenderbuffer(),S(B.__webglDepthbuffer[W],z,!1)}else t.bindFramebuffer(i.FRAMEBUFFER,B.__webglFramebuffer),B.__webglDepthbuffer=i.createRenderbuffer(),S(B.__webglDepthbuffer,z,!1);t.bindFramebuffer(i.FRAMEBUFFER,null)}l(Q,"setupDepthRenderbuffer");function K(z,B,Ae){let W=n.get(z);B!==void 0&&Ze(W.__webglFramebuffer,z,z.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D),Ae!==void 0&&Q(z)}l(K,"rebindTextures");function J(z){let B=z.texture,Ae=n.get(z),W=n.get(B);z.addEventListener("dispose",R),z.isWebGLMultipleRenderTargets!==!0&&(W.__webglTexture===void 0&&(W.__webglTexture=i.createTexture()),W.__version=B.version,s.memory.textures++);let L=z.isWebGLCubeRenderTarget===!0,P=z.isWebGLMultipleRenderTargets===!0,se=E(z)||o;if(L){Ae.__webglFramebuffer=[];for(let de=0;de<6;de++)Ae.__webglFramebuffer[de]=i.createFramebuffer()}else{if(Ae.__webglFramebuffer=i.createFramebuffer(),P)if(r.drawBuffers){let de=z.texture;for(let O=0,be=de.length;O<be;O++){let Ue=n.get(de[O]);Ue.__webglTexture===void 0&&(Ue.__webglTexture=i.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&z.samples>0&&Ce(z)===!1){let de=P?B:[B];Ae.__webglMultisampledFramebuffer=i.createFramebuffer(),Ae.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer);for(let O=0;O<de.length;O++){let be=de[O];Ae.__webglColorRenderbuffer[O]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,Ae.__webglColorRenderbuffer[O]);let Ue=a.convert(be.format,be.colorSpace),We=a.convert(be.type),_e=F(be.internalFormat,Ue,We,be.colorSpace,z.isXRRenderTarget===!0),Re=Ie(z);i.renderbufferStorageMultisample(i.RENDERBUFFER,Re,_e,z.width,z.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+O,i.RENDERBUFFER,Ae.__webglColorRenderbuffer[O])}i.bindRenderbuffer(i.RENDERBUFFER,null),z.depthBuffer&&(Ae.__webglDepthRenderbuffer=i.createRenderbuffer(),S(Ae.__webglDepthRenderbuffer,z,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(L){t.bindTexture(i.TEXTURE_CUBE_MAP,W.__webglTexture),ve(i.TEXTURE_CUBE_MAP,B,se);for(let de=0;de<6;de++)Ze(Ae.__webglFramebuffer[de],z,B,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+de);C(B,se)&&I(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(P){let de=z.texture;for(let O=0,be=de.length;O<be;O++){let Ue=de[O],We=n.get(Ue);t.bindTexture(i.TEXTURE_2D,We.__webglTexture),ve(i.TEXTURE_2D,Ue,se),Ze(Ae.__webglFramebuffer,z,Ue,i.COLOR_ATTACHMENT0+O,i.TEXTURE_2D),C(Ue,se)&&I(i.TEXTURE_2D)}t.unbindTexture()}else{let de=i.TEXTURE_2D;(z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(o?de=z.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(de,W.__webglTexture),ve(de,B,se),Ze(Ae.__webglFramebuffer,z,B,i.COLOR_ATTACHMENT0,de),C(B,se)&&I(de),t.unbindTexture()}z.depthBuffer&&Q(z)}l(J,"setupRenderTarget");function me(z){let B=E(z)||o,Ae=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let W=0,L=Ae.length;W<L;W++){let P=Ae[W];if(C(P,B)){let se=z.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D,de=n.get(P).__webglTexture;t.bindTexture(se,de),I(se),t.unbindTexture()}}}l(me,"updateRenderTargetMipmap");function Se(z){if(o&&z.samples>0&&Ce(z)===!1){let B=z.isWebGLMultipleRenderTargets?z.texture:[z.texture],Ae=z.width,W=z.height,L=i.COLOR_BUFFER_BIT,P=[],se=z.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,de=n.get(z),O=z.isWebGLMultipleRenderTargets===!0;if(O)for(let be=0;be<B.length;be++)t.bindFramebuffer(i.FRAMEBUFFER,de.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+be,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,de.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+be,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,de.__webglMultisampledFramebuffer),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,de.__webglFramebuffer);for(let be=0;be<B.length;be++){P.push(i.COLOR_ATTACHMENT0+be),z.depthBuffer&&P.push(se);let Ue=de.__ignoreDepthValues!==void 0?de.__ignoreDepthValues:!1;if(Ue===!1&&(z.depthBuffer&&(L|=i.DEPTH_BUFFER_BIT),z.stencilBuffer&&(L|=i.STENCIL_BUFFER_BIT)),O&&i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,de.__webglColorRenderbuffer[be]),Ue===!0&&(i.invalidateFramebuffer(i.READ_FRAMEBUFFER,[se]),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[se])),O){let We=n.get(B[be]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,We,0)}i.blitFramebuffer(0,0,Ae,W,0,0,Ae,W,L,i.NEAREST),d&&i.invalidateFramebuffer(i.READ_FRAMEBUFFER,P)}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),O)for(let be=0;be<B.length;be++){t.bindFramebuffer(i.FRAMEBUFFER,de.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+be,i.RENDERBUFFER,de.__webglColorRenderbuffer[be]);let Ue=n.get(B[be]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,de.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+be,i.TEXTURE_2D,Ue,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,de.__webglMultisampledFramebuffer)}}l(Se,"updateMultisampleRenderTarget");function Ie(z){return Math.min(f,z.samples)}l(Ie,"getRenderTargetSamples");function Ce(z){let B=n.get(z);return o&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&B.__useRenderToTexture!==!1}l(Ce,"useMultisampledRTT");function Xe(z){let B=s.render.frame;m.get(z)!==B&&(m.set(z,B),z.update())}l(Xe,"updateVideoTexture");function nt(z,B){let Ae=z.colorSpace,W=z.format,L=z.type;return z.isCompressedTexture===!0||z.format===Ew||Ae!==Cs&&Ae!==Uc&&(Ae===ri?o===!1?e.has("EXT_sRGB")===!0&&W===Aa?(z.format=Ew,z.minFilter=In,z.generateMipmaps=!1):B=O0.sRGBToLinear(B):(W!==Aa||L!==_l)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ae)),B}l(nt,"verifyColorSpace"),this.allocateTextureUnit=Y,this.resetTextureUnits=H,this.setTexture2D=Z,this.setTexture2DArray=ie,this.setTexture3D=ue,this.setTextureCube=Me,this.rebindTextures=K,this.setupRenderTarget=J,this.updateRenderTargetMipmap=me,this.updateMultisampleRenderTarget=Se,this.setupDepthRenderbuffer=Q,this.setupFrameBufferTexture=Ze,this.useMultisampledRTT=Ce}l(ibe,"WebGLTextures");function t7(i,e,t){let n=t.isWebGL2;function r(a,s=Uc){let o;if(a===_l)return i.UNSIGNED_BYTE;if(a===J5)return i.UNSIGNED_SHORT_4_4_4_4;if(a===K5)return i.UNSIGNED_SHORT_5_5_5_1;if(a===wV)return i.BYTE;if(a===xV)return i.SHORT;if(a===O2)return i.UNSIGNED_SHORT;if(a===Z5)return i.INT;if(a===fl)return i.UNSIGNED_INT;if(a===co)return i.FLOAT;if(a===Ip)return n?i.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(a===SV)return i.ALPHA;if(a===Aa)return i.RGBA;if(a===EV)return i.LUMINANCE;if(a===MV)return i.LUMINANCE_ALPHA;if(a===Bc)return i.DEPTH_COMPONENT;if(a===Ch)return i.DEPTH_STENCIL;if(a===Ew)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(a===AV)return i.RED;if(a===Q5)return i.RED_INTEGER;if(a===TV)return i.RG;if(a===eR)return i.RG_INTEGER;if(a===tR)return i.RGBA_INTEGER;if(a===mw||a===_w||a===gw||a===bw)if(s===ri)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(a===mw)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===_w)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===gw)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===bw)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(a===mw)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===_w)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===gw)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===bw)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===ak||a===sk||a===ok||a===lk)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(a===ak)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===sk)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===ok)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===lk)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===kV)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===ck||a===uk)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(a===ck)return s===ri?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(a===uk)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===hk||a===fk||a===dk||a===pk||a===mk||a===_k||a===gk||a===bk||a===yk||a===vk||a===wk||a===xk||a===Sk||a===Ek)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(a===hk)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===fk)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===dk)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===pk)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===mk)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===_k)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===gk)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===bk)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===yk)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===vk)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===wk)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===xk)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===Sk)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===Ek)return s===ri?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===yw)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(a===yw)return s===ri?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(a===RV||a===Mk||a===Ak||a===Tk)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(a===yw)return o.COMPRESSED_RED_RGTC1_EXT;if(a===Mk)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===Ak)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===Tk)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===Oc?n?i.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):i[a]!==void 0?i[a]:null}return l(r,"convert"),{convert:r}}l(t7,"WebGLUtils");var kw=class extends Hn{static{l(this,"ArrayCamera")}constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},Nc=class extends Oi{static{l(this,"Group")}constructor(){super(),this.isGroup=!0,this.type="Group"}},nbe={type:"move"},x0=class{static{l(this,"WebXRController")}constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Nc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Nc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Oe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Oe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Nc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Oe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Oe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,a=null,s=null,o=this._targetRay,c=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(let y of e.hand.values()){let g=t.getJointPose(y,n),b=this._getHandJoint(u,y);g!==null&&(b.matrix.fromArray(g.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=g.radius),b.visible=g!==null}let h=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],p=h.position.distanceTo(f.position),d=.02,m=.005;u.inputState.pinching&&p>d+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=d-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&a!==null&&(r=a),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(nbe)))}return o!==null&&(o.visible=r!==null),c!==null&&(c.visible=a!==null),u!==null&&(u.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){let n=new Nc;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}},Rw=class extends Wn{static{l(this,"DepthTexture")}constructor(e,t,n,r,a,s,o,c,u,h){if(h=h!==void 0?h:Bc,h!==Bc&&h!==Ch)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&h===Bc&&(n=fl),n===void 0&&h===Ch&&(n=Oc),super(null,r,a,s,o,c,h,n,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:Pn,this.minFilter=c!==void 0?c:Pn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){let t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}},jk=class extends Ls{static{l(this,"WebXRManager")}constructor(e,t){super();let n=this,r=null,a=1,s=null,o="local-floor",c=1,u=null,h=null,f=null,p=null,d=null,m=null,y=t.getContextAttributes(),g=null,b=null,x=[],w=[],E=new Hn;E.layers.enable(1),E.viewport=new Hi;let M=new Hn;M.layers.enable(2),M.viewport=new Hi;let C=[E,M],I=new kw;I.layers.enable(1),I.layers.enable(2);let F=null,A=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ie){let ue=x[ie];return ue===void 0&&(ue=new x0,x[ie]=ue),ue.getTargetRaySpace()},this.getControllerGrip=function(ie){let ue=x[ie];return ue===void 0&&(ue=new x0,x[ie]=ue),ue.getGripSpace()},this.getHand=function(ie){let ue=x[ie];return ue===void 0&&(ue=new x0,x[ie]=ue),ue.getHandSpace()};function T(ie){let ue=w.indexOf(ie.inputSource);if(ue===-1)return;let Me=x[ue];Me!==void 0&&(Me.update(ie.inputSource,ie.frame,u||s),Me.dispatchEvent({type:ie.type,data:ie.inputSource}))}l(T,"onSessionEvent");function j(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",j),r.removeEventListener("inputsourceschange",R);for(let ie=0;ie<x.length;ie++){let ue=w[ie];ue!==null&&(w[ie]=null,x[ie].disconnect(ue))}F=null,A=null,e.setRenderTarget(g),d=null,p=null,f=null,r=null,b=null,Z.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}l(j,"onSessionEnd"),this.setFramebufferScaleFactor=function(ie){a=ie,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ie){o=ie,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(ie){u=ie},this.getBaseLayer=function(){return p!==null?p:d},this.getBinding=function(){return f},this.getFrame=function(){return m},this.getSession=function(){return r},this.setSession=async function(ie){if(r=ie,r!==null){if(g=e.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",j),r.addEventListener("inputsourceschange",R),y.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let ue={antialias:r.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:a};d=new XRWebGLLayer(r,t,ue),r.updateRenderState({baseLayer:d}),b=new Ra(d.framebufferWidth,d.framebufferHeight,{format:Aa,type:_l,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ue=null,Me=null,Fe=null;y.depth&&(Fe=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ue=y.stencil?Ch:Bc,Me=y.stencil?Oc:fl);let De={colorFormat:t.RGBA8,depthFormat:Fe,scaleFactor:a};f=new XRWebGLBinding(r,t),p=f.createProjectionLayer(De),r.updateRenderState({layers:[p]}),b=new Ra(p.textureWidth,p.textureHeight,{format:Aa,type:_l,depthTexture:new Rw(p.textureWidth,p.textureHeight,Me,void 0,void 0,void 0,void 0,void 0,void 0,ue),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});let Ge=e.properties.get(b);Ge.__ignoreDepthValues=p.ignoreDepthValues}b.isXRRenderTarget=!0,this.setFoveation(c),u=null,s=await r.requestReferenceSpace(o),Z.setContext(r),Z.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function R(ie){for(let ue=0;ue<ie.removed.length;ue++){let Me=ie.removed[ue],Fe=w.indexOf(Me);Fe>=0&&(w[Fe]=null,x[Fe].disconnect(Me))}for(let ue=0;ue<ie.added.length;ue++){let Me=ie.added[ue],Fe=w.indexOf(Me);if(Fe===-1){for(let Ge=0;Ge<x.length;Ge++)if(Ge>=w.length){w.push(Me),Fe=Ge;break}else if(w[Ge]===null){w[Ge]=Me,Fe=Ge;break}if(Fe===-1)break}let De=x[Fe];De&&De.connect(Me)}}l(R,"onInputSourcesChange");let U=new Oe,q=new Oe;function X(ie,ue,Me){U.setFromMatrixPosition(ue.matrixWorld),q.setFromMatrixPosition(Me.matrixWorld);let Fe=U.distanceTo(q),De=ue.projectionMatrix.elements,Ge=Me.projectionMatrix.elements,ve=De[14]/(De[10]-1),we=De[14]/(De[10]+1),He=(De[9]+1)/De[5],Ke=(De[9]-1)/De[5],Ze=(De[8]-1)/De[0],S=(Ge[8]+1)/Ge[0],G=ve*Ze,Q=ve*S,K=Fe/(-Ze+S),J=K*-Ze;ue.matrixWorld.decompose(ie.position,ie.quaternion,ie.scale),ie.translateX(J),ie.translateZ(K),ie.matrixWorld.compose(ie.position,ie.quaternion,ie.scale),ie.matrixWorldInverse.copy(ie.matrixWorld).invert();let me=ve+K,Se=we+K,Ie=G-J,Ce=Q+(Fe-J),Xe=He*we/Se*me,nt=Ke*we/Se*me;ie.projectionMatrix.makePerspective(Ie,Ce,Xe,nt,me,Se),ie.projectionMatrixInverse.copy(ie.projectionMatrix).invert()}l(X,"setProjectionFromUnion");function fe(ie,ue){ue===null?ie.matrixWorld.copy(ie.matrix):ie.matrixWorld.multiplyMatrices(ue.matrixWorld,ie.matrix),ie.matrixWorldInverse.copy(ie.matrixWorld).invert()}l(fe,"updateCamera"),this.updateCamera=function(ie){if(r===null)return;I.near=M.near=E.near=ie.near,I.far=M.far=E.far=ie.far,(F!==I.near||A!==I.far)&&(r.updateRenderState({depthNear:I.near,depthFar:I.far}),F=I.near,A=I.far);let ue=ie.parent,Me=I.cameras;fe(I,ue);for(let Fe=0;Fe<Me.length;Fe++)fe(Me[Fe],ue);Me.length===2?X(I,E,M):I.projectionMatrix.copy(E.projectionMatrix),H(ie,I,ue)};function H(ie,ue,Me){Me===null?ie.matrix.copy(ue.matrixWorld):(ie.matrix.copy(Me.matrixWorld),ie.matrix.invert(),ie.matrix.multiply(ue.matrixWorld)),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale),ie.updateMatrixWorld(!0);let Fe=ie.children;for(let De=0,Ge=Fe.length;De<Ge;De++)Fe[De].updateMatrixWorld(!0);ie.projectionMatrix.copy(ue.projectionMatrix),ie.projectionMatrixInverse.copy(ue.projectionMatrixInverse),ie.isPerspectiveCamera&&(ie.fov=Cp*2*Math.atan(1/ie.projectionMatrix.elements[5]),ie.zoom=1)}l(H,"updateUserCamera"),this.getCamera=function(){return I},this.getFoveation=function(){if(!(p===null&&d===null))return c},this.setFoveation=function(ie){c=ie,p!==null&&(p.fixedFoveation=ie),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=ie)};let Y=null;function $(ie,ue){if(h=ue.getViewerPose(u||s),m=ue,h!==null){let Me=h.views;d!==null&&(e.setRenderTargetFramebuffer(b,d.framebuffer),e.setRenderTarget(b));let Fe=!1;Me.length!==I.cameras.length&&(I.cameras.length=0,Fe=!0);for(let De=0;De<Me.length;De++){let Ge=Me[De],ve=null;if(d!==null)ve=d.getViewport(Ge);else{let He=f.getViewSubImage(p,Ge);ve=He.viewport,De===0&&(e.setRenderTargetTextures(b,He.colorTexture,p.ignoreDepthValues?void 0:He.depthStencilTexture),e.setRenderTarget(b))}let we=C[De];we===void 0&&(we=new Hn,we.layers.enable(De),we.viewport=new Hi,C[De]=we),we.matrix.fromArray(Ge.transform.matrix),we.matrix.decompose(we.position,we.quaternion,we.scale),we.projectionMatrix.fromArray(Ge.projectionMatrix),we.projectionMatrixInverse.copy(we.projectionMatrix).invert(),we.viewport.set(ve.x,ve.y,ve.width,ve.height),De===0&&(I.matrix.copy(we.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),Fe===!0&&I.cameras.push(we)}}for(let Me=0;Me<x.length;Me++){let Fe=w[Me],De=x[Me];Fe!==null&&De!==void 0&&De.update(Fe,ue,u||s)}Y&&Y(ie,ue),ue.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:ue}),m=null}l($,"onAnimationFrame");let Z=new ZV;Z.setAnimationLoop($),this.setAnimationLoop=function(ie){Y=ie},this.dispose=function(){}}};function rbe(i,e){function t(g,b){g.matrixAutoUpdate===!0&&g.updateMatrix(),b.value.copy(g.matrix)}l(t,"refreshTransformUniform");function n(g,b){b.color.getRGB(g.fogColor.value,XV(i)),b.isFog?(g.fogNear.value=b.near,g.fogFar.value=b.far):b.isFogExp2&&(g.fogDensity.value=b.density)}l(n,"refreshFogUniforms");function r(g,b,x,w,E){b.isMeshBasicMaterial||b.isMeshLambertMaterial?a(g,b):b.isMeshToonMaterial?(a(g,b),f(g,b)):b.isMeshPhongMaterial?(a(g,b),h(g,b)):b.isMeshStandardMaterial?(a(g,b),p(g,b),b.isMeshPhysicalMaterial&&d(g,b,E)):b.isMeshMatcapMaterial?(a(g,b),m(g,b)):b.isMeshDepthMaterial?a(g,b):b.isMeshDistanceMaterial?(a(g,b),y(g,b)):b.isMeshNormalMaterial?a(g,b):b.isLineBasicMaterial?(s(g,b),b.isLineDashedMaterial&&o(g,b)):b.isPointsMaterial?c(g,b,x,w):b.isSpriteMaterial?u(g,b):b.isShadowMaterial?(g.color.value.copy(b.color),g.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}l(r,"refreshMaterialUniforms");function a(g,b){g.opacity.value=b.opacity,b.color&&g.diffuse.value.copy(b.color),b.emissive&&g.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(g.map.value=b.map,t(b.map,g.mapTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,t(b.alphaMap,g.alphaMapTransform)),b.bumpMap&&(g.bumpMap.value=b.bumpMap,t(b.bumpMap,g.bumpMapTransform),g.bumpScale.value=b.bumpScale,b.side===Dr&&(g.bumpScale.value*=-1)),b.normalMap&&(g.normalMap.value=b.normalMap,t(b.normalMap,g.normalMapTransform),g.normalScale.value.copy(b.normalScale),b.side===Dr&&g.normalScale.value.negate()),b.displacementMap&&(g.displacementMap.value=b.displacementMap,t(b.displacementMap,g.displacementMapTransform),g.displacementScale.value=b.displacementScale,g.displacementBias.value=b.displacementBias),b.emissiveMap&&(g.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,g.emissiveMapTransform)),b.specularMap&&(g.specularMap.value=b.specularMap,t(b.specularMap,g.specularMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest);let x=e.get(b).envMap;if(x&&(g.envMap.value=x,g.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=b.reflectivity,g.ior.value=b.ior,g.refractionRatio.value=b.refractionRatio),b.lightMap){g.lightMap.value=b.lightMap;let w=i.useLegacyLights===!0?Math.PI:1;g.lightMapIntensity.value=b.lightMapIntensity*w,t(b.lightMap,g.lightMapTransform)}b.aoMap&&(g.aoMap.value=b.aoMap,g.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,g.aoMapTransform))}l(a,"refreshUniformsCommon");function s(g,b){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,b.map&&(g.map.value=b.map,t(b.map,g.mapTransform))}l(s,"refreshUniformsLine");function o(g,b){g.dashSize.value=b.dashSize,g.totalSize.value=b.dashSize+b.gapSize,g.scale.value=b.scale}l(o,"refreshUniformsDash");function c(g,b,x,w){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.size.value=b.size*x,g.scale.value=w*.5,b.map&&(g.map.value=b.map,t(b.map,g.uvTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,t(b.alphaMap,g.alphaMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest)}l(c,"refreshUniformsPoints");function u(g,b){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.rotation.value=b.rotation,b.map&&(g.map.value=b.map,t(b.map,g.mapTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,t(b.alphaMap,g.alphaMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest)}l(u,"refreshUniformsSprites");function h(g,b){g.specular.value.copy(b.specular),g.shininess.value=Math.max(b.shininess,1e-4)}l(h,"refreshUniformsPhong");function f(g,b){b.gradientMap&&(g.gradientMap.value=b.gradientMap)}l(f,"refreshUniformsToon");function p(g,b){g.metalness.value=b.metalness,b.metalnessMap&&(g.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,g.metalnessMapTransform)),g.roughness.value=b.roughness,b.roughnessMap&&(g.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,g.roughnessMapTransform)),e.get(b).envMap&&(g.envMapIntensity.value=b.envMapIntensity)}l(p,"refreshUniformsStandard");function d(g,b,x){g.ior.value=b.ior,b.sheen>0&&(g.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),g.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(g.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,g.sheenColorMapTransform)),b.sheenRoughnessMap&&(g.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,g.sheenRoughnessMapTransform))),b.clearcoat>0&&(g.clearcoat.value=b.clearcoat,g.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(g.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,g.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(g.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Dr&&g.clearcoatNormalScale.value.negate())),b.iridescence>0&&(g.iridescence.value=b.iridescence,g.iridescenceIOR.value=b.iridescenceIOR,g.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(g.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,g.iridescenceMapTransform)),b.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),b.transmission>0&&(g.transmission.value=b.transmission,g.transmissionSamplerMap.value=x.texture,g.transmissionSamplerSize.value.set(x.width,x.height),b.transmissionMap&&(g.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,g.transmissionMapTransform)),g.thickness.value=b.thickness,b.thicknessMap&&(g.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=b.attenuationDistance,g.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(g.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(g.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=b.specularIntensity,g.specularColor.value.copy(b.specularColor),b.specularColorMap&&(g.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,g.specularColorMapTransform)),b.specularIntensityMap&&(g.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,g.specularIntensityMapTransform))}l(d,"refreshUniformsPhysical");function m(g,b){b.matcap&&(g.matcap.value=b.matcap)}l(m,"refreshUniformsMatcap");function y(g,b){let x=e.get(b).light;g.referencePosition.value.setFromMatrixPosition(x.matrixWorld),g.nearDistance.value=x.shadow.camera.near,g.farDistance.value=x.shadow.camera.far}return l(y,"refreshUniformsDistance"),{refreshFogUniforms:n,refreshMaterialUniforms:r}}l(rbe,"WebGLMaterials");function abe(i,e,t,n){let r={},a={},s=[],o=t.isWebGL2?i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS):0;function c(x,w){let E=w.program;n.uniformBlockBinding(x,E)}l(c,"bind");function u(x,w){let E=r[x.id];E===void 0&&(m(x),E=h(x),r[x.id]=E,x.addEventListener("dispose",g));let M=w.program;n.updateUBOMapping(x,M);let C=e.render.frame;a[x.id]!==C&&(p(x),a[x.id]=C)}l(u,"update");function h(x){let w=f();x.__bindingPointIndex=w;let E=i.createBuffer(),M=x.__size,C=x.usage;return i.bindBuffer(i.UNIFORM_BUFFER,E),i.bufferData(i.UNIFORM_BUFFER,M,C),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,w,E),E}l(h,"createBuffer");function f(){for(let x=0;x<o;x++)if(s.indexOf(x)===-1)return s.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}l(f,"allocateBindingPointIndex");function p(x){let w=r[x.id],E=x.uniforms,M=x.__cache;i.bindBuffer(i.UNIFORM_BUFFER,w);for(let C=0,I=E.length;C<I;C++){let F=E[C];if(d(F,C,M)===!0){let A=F.__offset,T=Array.isArray(F.value)?F.value:[F.value],j=0;for(let R=0;R<T.length;R++){let U=T[R],q=y(U);typeof U=="number"?(F.__data[0]=U,i.bufferSubData(i.UNIFORM_BUFFER,A+j,F.__data)):U.isMatrix3?(F.__data[0]=U.elements[0],F.__data[1]=U.elements[1],F.__data[2]=U.elements[2],F.__data[3]=U.elements[0],F.__data[4]=U.elements[3],F.__data[5]=U.elements[4],F.__data[6]=U.elements[5],F.__data[7]=U.elements[0],F.__data[8]=U.elements[6],F.__data[9]=U.elements[7],F.__data[10]=U.elements[8],F.__data[11]=U.elements[0]):(U.toArray(F.__data,j),j+=q.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,A,F.__data)}}i.bindBuffer(i.UNIFORM_BUFFER,null)}l(p,"updateBufferData");function d(x,w,E){let M=x.value;if(E[w]===void 0){if(typeof M=="number")E[w]=M;else{let C=Array.isArray(M)?M:[M],I=[];for(let F=0;F<C.length;F++)I.push(C[F].clone());E[w]=I}return!0}else if(typeof M=="number"){if(E[w]!==M)return E[w]=M,!0}else{let C=Array.isArray(E[w])?E[w]:[E[w]],I=Array.isArray(M)?M:[M];for(let F=0;F<C.length;F++){let A=C[F];if(A.equals(I[F])===!1)return A.copy(I[F]),!0}}return!1}l(d,"hasUniformChanged");function m(x){let w=x.uniforms,E=0,M=16,C=0;for(let I=0,F=w.length;I<F;I++){let A=w[I],T={boundary:0,storage:0},j=Array.isArray(A.value)?A.value:[A.value];for(let R=0,U=j.length;R<U;R++){let q=j[R],X=y(q);T.boundary+=X.boundary,T.storage+=X.storage}if(A.__data=new Float32Array(T.storage/Float32Array.BYTES_PER_ELEMENT),A.__offset=E,I>0){C=E%M;let R=M-C;C!==0&&R-T.boundary<0&&(E+=M-C,A.__offset=E)}E+=T.storage}return C=E%M,C>0&&(E+=M-C),x.__size=E,x.__cache={},this}l(m,"prepareUniformsGroup");function y(x){let w={boundary:0,storage:0};return typeof x=="number"?(w.boundary=4,w.storage=4):x.isVector2?(w.boundary=8,w.storage=8):x.isVector3||x.isColor?(w.boundary=16,w.storage=12):x.isVector4?(w.boundary=16,w.storage=16):x.isMatrix3?(w.boundary=48,w.storage=48):x.isMatrix4?(w.boundary=64,w.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),w}l(y,"getUniformSize");function g(x){let w=x.target;w.removeEventListener("dispose",g);let E=s.indexOf(w.__bindingPointIndex);s.splice(E,1),i.deleteBuffer(r[w.id]),delete r[w.id],delete a[w.id]}l(g,"onUniformsGroupsDispose");function b(){for(let x in r)i.deleteBuffer(r[x]);s=[],r={},a={}}return l(b,"dispose"),{bind:c,update:u,dispose:b}}l(abe,"WebGLUniformsGroups");function sbe(){let i=N0("canvas");return i.style.display="block",i}l(sbe,"createCanvasElement");var Pw=class{static{l(this,"WebGLRenderer")}constructor(e={}){let{canvas:t=sbe(),context:n=null,depth:r=!0,stencil:a=!0,alpha:s=!1,antialias:o=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;n!==null?p=n.getContextAttributes().alpha:p=s;let d=new Uint32Array(4),m=new Int32Array(4),y=null,g=null,b=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=ri,this.useLegacyLights=!0,this.toneMapping=ho,this.toneMappingExposure=1;let w=this,E=!1,M=0,C=0,I=null,F=-1,A=null,T=new Hi,j=new Hi,R=null,U=new Lt(0),q=0,X=t.width,fe=t.height,H=1,Y=null,$=null,Z=new Hi(0,0,X,fe),ie=new Hi(0,0,X,fe),ue=!1,Me=new Fp,Fe=!1,De=!1,Ge=null,ve=new ai,we=new _t,He=new Oe,Ke={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ze(){return I===null?H:1}l(Ze,"getTargetPixelRatio");let S=n;function G(V,xe){for(let Pe=0;Pe<V.length;Pe++){let ge=V[Pe],Be=t.getContext(ge,xe);if(Be!==null)return Be}return null}l(G,"getContext");try{let V={alpha:!0,depth:r,stencil:a,antialias:o,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${L2}`),t.addEventListener("webglcontextlost",N,!1),t.addEventListener("webglcontextrestored",le,!1),t.addEventListener("webglcontextcreationerror",Te,!1),S===null){let xe=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&xe.shift(),S=G(xe,V),S===null)throw G(xe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&S instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),S.getShaderPrecisionFormat===void 0&&(S.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let Q,K,J,me,Se,Ie,Ce,Xe,nt,z,B,Ae,W,L,P,se,de,O,be,Ue,We,_e,Re,te;function et(){Q=new Tge(S),K=new wge(S,Q,e),Q.init(K),_e=new t7(S,Q,K),J=new tbe(S,Q,K),me=new Pge(S),Se=new H1e,Ie=new ibe(S,Q,J,Se,K,_e,me),Ce=new Sge(w),Xe=new Age(w),nt=new Dme(S,K),Re=new yge(S,Q,nt,K),z=new kge(S,nt,me,Re),B=new Nge(S,z,nt,me),be=new Lge(S,K,Ie),se=new xge(Se),Ae=new q1e(w,Ce,Xe,Q,K,Re,se),W=new rbe(w,Se),L=new W1e,P=new J1e(Q,K),O=new bge(w,Ce,Xe,J,B,p,c),de=new ebe(w,B,K),te=new abe(S,me,K,J),Ue=new vge(S,Q,me,K),We=new Rge(S,Q,me,K),me.programs=Ae.programs,w.capabilities=K,w.extensions=Q,w.properties=Se,w.renderLists=L,w.shadowMap=de,w.state=J,w.info=me}l(et,"initGLContext"),et();let oe=new jk(w,S);this.xr=oe,this.getContext=function(){return S},this.getContextAttributes=function(){return S.getContextAttributes()},this.forceContextLoss=function(){let V=Q.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){let V=Q.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function(V){V!==void 0&&(H=V,this.setSize(X,fe,!1))},this.getSize=function(V){return V.set(X,fe)},this.setSize=function(V,xe,Pe=!0){if(oe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=V,fe=xe,t.width=Math.floor(V*H),t.height=Math.floor(xe*H),Pe===!0&&(t.style.width=V+"px",t.style.height=xe+"px"),this.setViewport(0,0,V,xe)},this.getDrawingBufferSize=function(V){return V.set(X*H,fe*H).floor()},this.setDrawingBufferSize=function(V,xe,Pe){X=V,fe=xe,H=Pe,t.width=Math.floor(V*Pe),t.height=Math.floor(xe*Pe),this.setViewport(0,0,V,xe)},this.getCurrentViewport=function(V){return V.copy(T)},this.getViewport=function(V){return V.copy(Z)},this.setViewport=function(V,xe,Pe,ge){V.isVector4?Z.set(V.x,V.y,V.z,V.w):Z.set(V,xe,Pe,ge),J.viewport(T.copy(Z).multiplyScalar(H).floor())},this.getScissor=function(V){return V.copy(ie)},this.setScissor=function(V,xe,Pe,ge){V.isVector4?ie.set(V.x,V.y,V.z,V.w):ie.set(V,xe,Pe,ge),J.scissor(j.copy(ie).multiplyScalar(H).floor())},this.getScissorTest=function(){return ue},this.setScissorTest=function(V){J.setScissorTest(ue=V)},this.setOpaqueSort=function(V){Y=V},this.setTransparentSort=function(V){$=V},this.getClearColor=function(V){return V.copy(O.getClearColor())},this.setClearColor=function(){O.setClearColor.apply(O,arguments)},this.getClearAlpha=function(){return O.getClearAlpha()},this.setClearAlpha=function(){O.setClearAlpha.apply(O,arguments)},this.clear=function(V=!0,xe=!0,Pe=!0){let ge=0;if(V){let Be=!1;if(I!==null){let it=I.texture.format;Be=it===tR||it===eR||it===Q5}if(Be){let it=I.texture.type,st=it===_l||it===fl||it===O2||it===Oc||it===J5||it===K5,dt=O.getClearColor(),ht=O.getClearAlpha(),Mt=dt.r,yt=dt.g,Et=dt.b;st?(d[0]=Mt,d[1]=yt,d[2]=Et,d[3]=ht,S.clearBufferuiv(S.COLOR,0,d)):(m[0]=Mt,m[1]=yt,m[2]=Et,m[3]=ht,S.clearBufferiv(S.COLOR,0,m))}else ge|=S.COLOR_BUFFER_BIT}xe&&(ge|=S.DEPTH_BUFFER_BIT),Pe&&(ge|=S.STENCIL_BUFFER_BIT),S.clear(ge)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",N,!1),t.removeEventListener("webglcontextrestored",le,!1),t.removeEventListener("webglcontextcreationerror",Te,!1),L.dispose(),P.dispose(),Se.dispose(),Ce.dispose(),Xe.dispose(),B.dispose(),Re.dispose(),te.dispose(),Ae.dispose(),oe.dispose(),oe.removeEventListener("sessionstart",ft),oe.removeEventListener("sessionend",Ft),Ge&&(Ge.dispose(),Ge=null),Yt.stop()};function N(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}l(N,"onContextLost");function le(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;let V=me.autoReset,xe=de.enabled,Pe=de.autoUpdate,ge=de.needsUpdate,Be=de.type;et(),me.autoReset=V,de.enabled=xe,de.autoUpdate=Pe,de.needsUpdate=ge,de.type=Be}l(le,"onContextRestore");function Te(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}l(Te,"onContextCreationError");function ee(V){let xe=V.target;xe.removeEventListener("dispose",ee),Le(xe)}l(ee,"onMaterialDispose");function Le(V){Ye(V),Se.remove(V)}l(Le,"deallocateMaterial");function Ye(V){let xe=Se.get(V).programs;xe!==void 0&&(xe.forEach(function(Pe){Ae.releaseProgram(Pe)}),V.isShaderMaterial&&Ae.releaseShaderCache(V))}l(Ye,"releaseMaterialProgramReferences"),this.renderBufferDirect=function(V,xe,Pe,ge,Be,it){xe===null&&(xe=Ke);let st=Be.isMesh&&Be.matrixWorld.determinant()<0,dt=St(V,xe,Pe,ge,Be);J.setMaterial(ge,st);let ht=Pe.index,Mt=1;ge.wireframe===!0&&(ht=z.getWireframeAttribute(Pe),Mt=2);let yt=Pe.drawRange,Et=Pe.attributes.position,Pt=yt.start*Mt,zt=(yt.start+yt.count)*Mt;it!==null&&(Pt=Math.max(Pt,it.start*Mt),zt=Math.min(zt,(it.start+it.count)*Mt)),ht!==null?(Pt=Math.max(Pt,0),zt=Math.min(zt,ht.count)):Et!=null&&(Pt=Math.max(Pt,0),zt=Math.min(zt,Et.count));let gi=zt-Pt;if(gi<0||gi===1/0)return;Re.setup(Be,ge,dt,Pe,ht);let Ri,Wt=Ue;if(ht!==null&&(Ri=nt.get(ht),Wt=We,Wt.setIndex(Ri)),Be.isMesh)ge.wireframe===!0?(J.setLineWidth(ge.wireframeLinewidth*Ze()),Wt.setMode(S.LINES)):Wt.setMode(S.TRIANGLES);else if(Be.isLine){let Tt=ge.linewidth;Tt===void 0&&(Tt=1),J.setLineWidth(Tt*Ze()),Be.isLineSegments?Wt.setMode(S.LINES):Be.isLineLoop?Wt.setMode(S.LINE_LOOP):Wt.setMode(S.LINE_STRIP)}else Be.isPoints?Wt.setMode(S.POINTS):Be.isSprite&&Wt.setMode(S.TRIANGLES);if(Be.isInstancedMesh)Wt.renderInstances(Pt,gi,Be.count);else if(Pe.isInstancedBufferGeometry){let Tt=Pe._maxInstanceCount!==void 0?Pe._maxInstanceCount:1/0,Tr=Math.min(Pe.instanceCount,Tt);Wt.renderInstances(Pt,gi,Tr)}else Wt.render(Pt,gi)},this.compile=function(V,xe){function Pe(ge,Be,it){ge.transparent===!0&&ge.side===lo&&ge.forceSinglePass===!1?(ge.side=Dr,ge.needsUpdate=!0,tt(ge,Be,it),ge.side=bl,ge.needsUpdate=!0,tt(ge,Be,it),ge.side=lo):tt(ge,Be,it)}l(Pe,"prepare"),g=P.get(V),g.init(),x.push(g),V.traverseVisible(function(ge){ge.isLight&&ge.layers.test(xe.layers)&&(g.pushLight(ge),ge.castShadow&&g.pushShadow(ge))}),g.setupLights(w.useLegacyLights),V.traverse(function(ge){let Be=ge.material;if(Be)if(Array.isArray(Be))for(let it=0;it<Be.length;it++){let st=Be[it];Pe(st,V,ge)}else Pe(Be,V,ge)}),x.pop(),g=null};let vt=null;function wt(V){vt&&vt(V)}l(wt,"onAnimationFrame");function ft(){Yt.stop()}l(ft,"onXRSessionStart");function Ft(){Yt.start()}l(Ft,"onXRSessionEnd");let Yt=new ZV;Yt.setAnimationLoop(wt),typeof self<"u"&&Yt.setContext(self),this.setAnimationLoop=function(V){vt=V,oe.setAnimationLoop(V),V===null?Yt.stop():Yt.start()},oe.addEventListener("sessionstart",ft),oe.addEventListener("sessionend",Ft),this.render=function(V,xe){if(xe!==void 0&&xe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),xe.parent===null&&xe.matrixWorldAutoUpdate===!0&&xe.updateMatrixWorld(),oe.enabled===!0&&oe.isPresenting===!0&&(oe.cameraAutoUpdate===!0&&oe.updateCamera(xe),xe=oe.getCamera()),V.isScene===!0&&V.onBeforeRender(w,V,xe,I),g=P.get(V,x.length),g.init(),x.push(g),ve.multiplyMatrices(xe.projectionMatrix,xe.matrixWorldInverse),Me.setFromProjectionMatrix(ve),De=this.localClippingEnabled,Fe=se.init(this.clippingPlanes,De),y=L.get(V,b.length),y.init(),b.push(y),Mi(V,xe,0,w.sortObjects),y.finish(),w.sortObjects===!0&&y.sort(Y,$),this.info.render.frame++,Fe===!0&&se.beginShadows();let Pe=g.state.shadowsArray;if(de.render(Pe,V,xe),Fe===!0&&se.endShadows(),this.info.autoReset===!0&&this.info.reset(),O.render(y,V),g.setupLights(w.useLegacyLights),xe.isArrayCamera){let ge=xe.cameras;for(let Be=0,it=ge.length;Be<it;Be++){let st=ge[Be];Kt(y,V,st,st.viewport)}}else Kt(y,V,xe);I!==null&&(Ie.updateMultisampleRenderTarget(I),Ie.updateRenderTargetMipmap(I)),V.isScene===!0&&V.onAfterRender(w,V,xe),Re.resetDefaultState(),F=-1,A=null,x.pop(),x.length>0?g=x[x.length-1]:g=null,b.pop(),b.length>0?y=b[b.length-1]:y=null};function Mi(V,xe,Pe,ge){if(V.visible===!1)return;if(V.layers.test(xe.layers)){if(V.isGroup)Pe=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(xe);else if(V.isLight)g.pushLight(V),V.castShadow&&g.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||Me.intersectsSprite(V)){ge&&He.setFromMatrixPosition(V.matrixWorld).applyMatrix4(ve);let st=B.update(V),dt=V.material;dt.visible&&y.push(V,st,dt,Pe,He.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||Me.intersectsObject(V))){let st=B.update(V),dt=V.material;if(ge&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),He.copy(V.boundingSphere.center)):(st.boundingSphere===null&&st.computeBoundingSphere(),He.copy(st.boundingSphere.center)),He.applyMatrix4(V.matrixWorld).applyMatrix4(ve)),Array.isArray(dt)){let ht=st.groups;for(let Mt=0,yt=ht.length;Mt<yt;Mt++){let Et=ht[Mt],Pt=dt[Et.materialIndex];Pt&&Pt.visible&&y.push(V,st,Pt,Pe,He.z,Et)}}else dt.visible&&y.push(V,st,dt,Pe,He.z,null)}}let it=V.children;for(let st=0,dt=it.length;st<dt;st++)Mi(it[st],xe,Pe,ge)}l(Mi,"projectObject");function Kt(V,xe,Pe,ge){let Be=V.opaque,it=V.transmissive,st=V.transparent;g.setupLightsView(Pe),Fe===!0&&se.setGlobalState(w.clippingPlanes,Pe),it.length>0&&Ve(Be,it,xe,Pe),ge&&J.viewport(T.copy(ge)),Be.length>0&&ke(Be,xe,Pe),it.length>0&&ke(it,xe,Pe),st.length>0&&ke(st,xe,Pe),J.buffers.depth.setTest(!0),J.buffers.depth.setMask(!0),J.buffers.color.setMask(!0),J.setPolygonOffset(!1)}l(Kt,"renderScene");function Ve(V,xe,Pe,ge){let Be=K.isWebGL2;Ge===null&&(Ge=new Ra(1,1,{generateMipmaps:!0,type:Q.has("EXT_color_buffer_half_float")?Ip:_l,minFilter:qc,samples:Be?4:0})),w.getDrawingBufferSize(we),Be?Ge.setSize(we.x,we.y):Ge.setSize(Mw(we.x),Mw(we.y));let it=w.getRenderTarget();w.setRenderTarget(Ge),w.getClearColor(U),q=w.getClearAlpha(),q<1&&w.setClearColor(16777215,.5),w.clear();let st=w.toneMapping;w.toneMapping=ho,ke(V,Pe,ge),Ie.updateMultisampleRenderTarget(Ge),Ie.updateRenderTargetMipmap(Ge);let dt=!1;for(let ht=0,Mt=xe.length;ht<Mt;ht++){let yt=xe[ht],Et=yt.object,Pt=yt.geometry,zt=yt.material,gi=yt.group;if(zt.side===lo&&Et.layers.test(ge.layers)){let Ri=zt.side;zt.side=Dr,zt.needsUpdate=!0,je(Et,Pe,ge,Pt,zt,gi),zt.side=Ri,zt.needsUpdate=!0,dt=!0}}dt===!0&&(Ie.updateMultisampleRenderTarget(Ge),Ie.updateRenderTargetMipmap(Ge)),w.setRenderTarget(it),w.setClearColor(U,q),w.toneMapping=st}l(Ve,"renderTransmissionPass");function ke(V,xe,Pe){let ge=xe.isScene===!0?xe.overrideMaterial:null;for(let Be=0,it=V.length;Be<it;Be++){let st=V[Be],dt=st.object,ht=st.geometry,Mt=ge===null?st.material:ge,yt=st.group;dt.layers.test(Pe.layers)&&je(dt,xe,Pe,ht,Mt,yt)}}l(ke,"renderObjects");function je(V,xe,Pe,ge,Be,it){V.onBeforeRender(w,xe,Pe,ge,Be,it),V.modelViewMatrix.multiplyMatrices(Pe.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),Be.onBeforeRender(w,xe,Pe,ge,V,it),Be.transparent===!0&&Be.side===lo&&Be.forceSinglePass===!1?(Be.side=Dr,Be.needsUpdate=!0,w.renderBufferDirect(Pe,xe,ge,Be,V,it),Be.side=bl,Be.needsUpdate=!0,w.renderBufferDirect(Pe,xe,ge,Be,V,it),Be.side=lo):w.renderBufferDirect(Pe,xe,ge,Be,V,it),V.onAfterRender(w,xe,Pe,ge,Be,it)}l(je,"renderObject");function tt(V,xe,Pe){xe.isScene!==!0&&(xe=Ke);let ge=Se.get(V),Be=g.state.lights,it=g.state.shadowsArray,st=Be.state.version,dt=Ae.getParameters(V,Be.state,it,xe,Pe),ht=Ae.getProgramCacheKey(dt),Mt=ge.programs;ge.environment=V.isMeshStandardMaterial?xe.environment:null,ge.fog=xe.fog,ge.envMap=(V.isMeshStandardMaterial?Xe:Ce).get(V.envMap||ge.environment),Mt===void 0&&(V.addEventListener("dispose",ee),Mt=new Map,ge.programs=Mt);let yt=Mt.get(ht);if(yt!==void 0){if(ge.currentProgram===yt&&ge.lightsStateVersion===st)return rt(V,dt),yt}else dt.uniforms=Ae.getUniforms(V),V.onBuild(Pe,dt,w),V.onBeforeCompile(dt,w),yt=Ae.acquireProgram(dt,ht),Mt.set(ht,yt),ge.uniforms=dt.uniforms;let Et=ge.uniforms;(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(Et.clippingPlanes=se.uniform),rt(V,dt),ge.needsLights=Vt(V),ge.lightsStateVersion=st,ge.needsLights&&(Et.ambientLightColor.value=Be.state.ambient,Et.lightProbe.value=Be.state.probe,Et.directionalLights.value=Be.state.directional,Et.directionalLightShadows.value=Be.state.directionalShadow,Et.spotLights.value=Be.state.spot,Et.spotLightShadows.value=Be.state.spotShadow,Et.rectAreaLights.value=Be.state.rectArea,Et.ltc_1.value=Be.state.rectAreaLTC1,Et.ltc_2.value=Be.state.rectAreaLTC2,Et.pointLights.value=Be.state.point,Et.pointLightShadows.value=Be.state.pointShadow,Et.hemisphereLights.value=Be.state.hemi,Et.directionalShadowMap.value=Be.state.directionalShadowMap,Et.directionalShadowMatrix.value=Be.state.directionalShadowMatrix,Et.spotShadowMap.value=Be.state.spotShadowMap,Et.spotLightMatrix.value=Be.state.spotLightMatrix,Et.spotLightMap.value=Be.state.spotLightMap,Et.pointShadowMap.value=Be.state.pointShadowMap,Et.pointShadowMatrix.value=Be.state.pointShadowMatrix);let Pt=yt.getUniforms(),zt=Pp.seqWithValue(Pt.seq,Et);return ge.currentProgram=yt,ge.uniformsList=zt,yt}l(tt,"getProgram");function rt(V,xe){let Pe=Se.get(V);Pe.outputColorSpace=xe.outputColorSpace,Pe.instancing=xe.instancing,Pe.skinning=xe.skinning,Pe.morphTargets=xe.morphTargets,Pe.morphNormals=xe.morphNormals,Pe.morphColors=xe.morphColors,Pe.morphTargetsCount=xe.morphTargetsCount,Pe.numClippingPlanes=xe.numClippingPlanes,Pe.numIntersection=xe.numClipIntersection,Pe.vertexAlphas=xe.vertexAlphas,Pe.vertexTangents=xe.vertexTangents,Pe.toneMapping=xe.toneMapping}l(rt,"updateCommonMaterialProperties");function St(V,xe,Pe,ge,Be){xe.isScene!==!0&&(xe=Ke),Ie.resetTextureUnits();let it=xe.fog,st=ge.isMeshStandardMaterial?xe.environment:null,dt=I===null?w.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:Cs,ht=(ge.isMeshStandardMaterial?Xe:Ce).get(ge.envMap||st),Mt=ge.vertexColors===!0&&!!Pe.attributes.color&&Pe.attributes.color.itemSize===4,yt=!!Pe.attributes.tangent&&(!!ge.normalMap||ge.anisotropy>0),Et=!!Pe.morphAttributes.position,Pt=!!Pe.morphAttributes.normal,zt=!!Pe.morphAttributes.color,gi=ge.toneMapped?w.toneMapping:ho,Ri=Pe.morphAttributes.position||Pe.morphAttributes.normal||Pe.morphAttributes.color,Wt=Ri!==void 0?Ri.length:0,Tt=Se.get(ge),Tr=g.state.lights;if(Fe===!0&&(De===!0||V!==A)){let Ii=V===A&&ge.id===F;se.setState(ge,V,Ii)}let Jt=!1;ge.version===Tt.__version?(Tt.needsLights&&Tt.lightsStateVersion!==Tr.state.version||Tt.outputColorSpace!==dt||Be.isInstancedMesh&&Tt.instancing===!1||!Be.isInstancedMesh&&Tt.instancing===!0||Be.isSkinnedMesh&&Tt.skinning===!1||!Be.isSkinnedMesh&&Tt.skinning===!0||Tt.envMap!==ht||ge.fog===!0&&Tt.fog!==it||Tt.numClippingPlanes!==void 0&&(Tt.numClippingPlanes!==se.numPlanes||Tt.numIntersection!==se.numIntersection)||Tt.vertexAlphas!==Mt||Tt.vertexTangents!==yt||Tt.morphTargets!==Et||Tt.morphNormals!==Pt||Tt.morphColors!==zt||Tt.toneMapping!==gi||K.isWebGL2===!0&&Tt.morphTargetsCount!==Wt)&&(Jt=!0):(Jt=!0,Tt.__version=ge.version);let ln=Tt.currentProgram;Jt===!0&&(ln=tt(ge,xe,Be));let kr=!1,pn=!1,Fn=!1,si=ln.getUniforms(),tn=Tt.uniforms;if(J.useProgram(ln.program)&&(kr=!0,pn=!0,Fn=!0),ge.id!==F&&(F=ge.id,pn=!0),kr||A!==V){if(si.setValue(S,"projectionMatrix",V.projectionMatrix),K.logarithmicDepthBuffer&&si.setValue(S,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),A!==V&&(A=V,pn=!0,Fn=!0),ge.isShaderMaterial||ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshStandardMaterial||ge.envMap){let Ii=si.map.cameraPosition;Ii!==void 0&&Ii.setValue(S,He.setFromMatrixPosition(V.matrixWorld))}(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial)&&si.setValue(S,"isOrthographic",V.isOrthographicCamera===!0),(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial||ge.isShadowMaterial||Be.isSkinnedMesh)&&si.setValue(S,"viewMatrix",V.matrixWorldInverse)}if(Be.isSkinnedMesh){si.setOptional(S,Be,"bindMatrix"),si.setOptional(S,Be,"bindMatrixInverse");let Ii=Be.skeleton;Ii&&(K.floatVertexTextures?(Ii.boneTexture===null&&Ii.computeBoneTexture(),si.setValue(S,"boneTexture",Ii.boneTexture,Ie),si.setValue(S,"boneTextureSize",Ii.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let Zn=Pe.morphAttributes;if((Zn.position!==void 0||Zn.normal!==void 0||Zn.color!==void 0&&K.isWebGL2===!0)&&be.update(Be,Pe,ln),(pn||Tt.receiveShadow!==Be.receiveShadow)&&(Tt.receiveShadow=Be.receiveShadow,si.setValue(S,"receiveShadow",Be.receiveShadow)),ge.isMeshGouraudMaterial&&ge.envMap!==null&&(tn.envMap.value=ht,tn.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),pn&&(si.setValue(S,"toneMappingExposure",w.toneMappingExposure),Tt.needsLights&&Ut(tn,Fn),it&&ge.fog===!0&&W.refreshFogUniforms(tn,it),W.refreshMaterialUniforms(tn,ge,H,fe,Ge),Pp.upload(S,Tt.uniformsList,tn,Ie)),ge.isShaderMaterial&&ge.uniformsNeedUpdate===!0&&(Pp.upload(S,Tt.uniformsList,tn,Ie),ge.uniformsNeedUpdate=!1),ge.isSpriteMaterial&&si.setValue(S,"center",Be.center),si.setValue(S,"modelViewMatrix",Be.modelViewMatrix),si.setValue(S,"normalMatrix",Be.normalMatrix),si.setValue(S,"modelMatrix",Be.matrixWorld),ge.isShaderMaterial||ge.isRawShaderMaterial){let Ii=ge.uniformsGroups;for(let Fa=0,Eo=Ii.length;Fa<Eo;Fa++)if(K.isWebGL2){let Rr=Ii[Fa];te.update(Rr,ln),te.bind(Rr,ln)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ln}l(St,"setProgram");function Ut(V,xe){V.ambientLightColor.needsUpdate=xe,V.lightProbe.needsUpdate=xe,V.directionalLights.needsUpdate=xe,V.directionalLightShadows.needsUpdate=xe,V.pointLights.needsUpdate=xe,V.pointLightShadows.needsUpdate=xe,V.spotLights.needsUpdate=xe,V.spotLightShadows.needsUpdate=xe,V.rectAreaLights.needsUpdate=xe,V.hemisphereLights.needsUpdate=xe}l(Ut,"markUniformsLightsNeedsUpdate");function Vt(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}l(Vt,"materialNeedsLights"),this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(V,xe,Pe){Se.get(V.texture).__webglTexture=xe,Se.get(V.depthTexture).__webglTexture=Pe;let ge=Se.get(V);ge.__hasExternalTextures=!0,ge.__hasExternalTextures&&(ge.__autoAllocateDepthBuffer=Pe===void 0,ge.__autoAllocateDepthBuffer||Q.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ge.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(V,xe){let Pe=Se.get(V);Pe.__webglFramebuffer=xe,Pe.__useDefaultFramebuffer=xe===void 0},this.setRenderTarget=function(V,xe=0,Pe=0){I=V,M=xe,C=Pe;let ge=!0,Be=null,it=!1,st=!1;if(V){let ht=Se.get(V);ht.__useDefaultFramebuffer!==void 0?(J.bindFramebuffer(S.FRAMEBUFFER,null),ge=!1):ht.__webglFramebuffer===void 0?Ie.setupRenderTarget(V):ht.__hasExternalTextures&&Ie.rebindTextures(V,Se.get(V.texture).__webglTexture,Se.get(V.depthTexture).__webglTexture);let Mt=V.texture;(Mt.isData3DTexture||Mt.isDataArrayTexture||Mt.isCompressedArrayTexture)&&(st=!0);let yt=Se.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Be=yt[xe],it=!0):K.isWebGL2&&V.samples>0&&Ie.useMultisampledRTT(V)===!1?Be=Se.get(V).__webglMultisampledFramebuffer:Be=yt,T.copy(V.viewport),j.copy(V.scissor),R=V.scissorTest}else T.copy(Z).multiplyScalar(H).floor(),j.copy(ie).multiplyScalar(H).floor(),R=ue;if(J.bindFramebuffer(S.FRAMEBUFFER,Be)&&K.drawBuffers&&ge&&J.drawBuffers(V,Be),J.viewport(T),J.scissor(j),J.setScissorTest(R),it){let ht=Se.get(V.texture);S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_CUBE_MAP_POSITIVE_X+xe,ht.__webglTexture,Pe)}else if(st){let ht=Se.get(V.texture),Mt=xe||0;S.framebufferTextureLayer(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,ht.__webglTexture,Pe||0,Mt)}F=-1},this.readRenderTargetPixels=function(V,xe,Pe,ge,Be,it,st){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dt=Se.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&st!==void 0&&(dt=dt[st]),dt){J.bindFramebuffer(S.FRAMEBUFFER,dt);try{let ht=V.texture,Mt=ht.format,yt=ht.type;if(Mt!==Aa&&_e.convert(Mt)!==S.getParameter(S.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let Et=yt===Ip&&(Q.has("EXT_color_buffer_half_float")||K.isWebGL2&&Q.has("EXT_color_buffer_float"));if(yt!==_l&&_e.convert(yt)!==S.getParameter(S.IMPLEMENTATION_COLOR_READ_TYPE)&&!(yt===co&&(K.isWebGL2||Q.has("OES_texture_float")||Q.has("WEBGL_color_buffer_float")))&&!Et){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}xe>=0&&xe<=V.width-ge&&Pe>=0&&Pe<=V.height-Be&&S.readPixels(xe,Pe,ge,Be,_e.convert(Mt),_e.convert(yt),it)}finally{let ht=I!==null?Se.get(I).__webglFramebuffer:null;J.bindFramebuffer(S.FRAMEBUFFER,ht)}}},this.copyFramebufferToTexture=function(V,xe,Pe=0){let ge=Math.pow(2,-Pe),Be=Math.floor(xe.image.width*ge),it=Math.floor(xe.image.height*ge);Ie.setTexture2D(xe,0),S.copyTexSubImage2D(S.TEXTURE_2D,Pe,0,0,V.x,V.y,Be,it),J.unbindTexture()},this.copyTextureToTexture=function(V,xe,Pe,ge=0){let Be=xe.image.width,it=xe.image.height,st=_e.convert(Pe.format),dt=_e.convert(Pe.type);Ie.setTexture2D(Pe,0),S.pixelStorei(S.UNPACK_FLIP_Y_WEBGL,Pe.flipY),S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Pe.premultiplyAlpha),S.pixelStorei(S.UNPACK_ALIGNMENT,Pe.unpackAlignment),xe.isDataTexture?S.texSubImage2D(S.TEXTURE_2D,ge,V.x,V.y,Be,it,st,dt,xe.image.data):xe.isCompressedTexture?S.compressedTexSubImage2D(S.TEXTURE_2D,ge,V.x,V.y,xe.mipmaps[0].width,xe.mipmaps[0].height,st,xe.mipmaps[0].data):S.texSubImage2D(S.TEXTURE_2D,ge,V.x,V.y,st,dt,xe.image),ge===0&&Pe.generateMipmaps&&S.generateMipmap(S.TEXTURE_2D),J.unbindTexture()},this.copyTextureToTexture3D=function(V,xe,Pe,ge,Be=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let it=V.max.x-V.min.x+1,st=V.max.y-V.min.y+1,dt=V.max.z-V.min.z+1,ht=_e.convert(ge.format),Mt=_e.convert(ge.type),yt;if(ge.isData3DTexture)Ie.setTexture3D(ge,0),yt=S.TEXTURE_3D;else if(ge.isDataArrayTexture)Ie.setTexture2DArray(ge,0),yt=S.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}S.pixelStorei(S.UNPACK_FLIP_Y_WEBGL,ge.flipY),S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ge.premultiplyAlpha),S.pixelStorei(S.UNPACK_ALIGNMENT,ge.unpackAlignment);let Et=S.getParameter(S.UNPACK_ROW_LENGTH),Pt=S.getParameter(S.UNPACK_IMAGE_HEIGHT),zt=S.getParameter(S.UNPACK_SKIP_PIXELS),gi=S.getParameter(S.UNPACK_SKIP_ROWS),Ri=S.getParameter(S.UNPACK_SKIP_IMAGES),Wt=Pe.isCompressedTexture?Pe.mipmaps[0]:Pe.image;S.pixelStorei(S.UNPACK_ROW_LENGTH,Wt.width),S.pixelStorei(S.UNPACK_IMAGE_HEIGHT,Wt.height),S.pixelStorei(S.UNPACK_SKIP_PIXELS,V.min.x),S.pixelStorei(S.UNPACK_SKIP_ROWS,V.min.y),S.pixelStorei(S.UNPACK_SKIP_IMAGES,V.min.z),Pe.isDataTexture||Pe.isData3DTexture?S.texSubImage3D(yt,Be,xe.x,xe.y,xe.z,it,st,dt,ht,Mt,Wt.data):Pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),S.compressedTexSubImage3D(yt,Be,xe.x,xe.y,xe.z,it,st,dt,ht,Wt.data)):S.texSubImage3D(yt,Be,xe.x,xe.y,xe.z,it,st,dt,ht,Mt,Wt),S.pixelStorei(S.UNPACK_ROW_LENGTH,Et),S.pixelStorei(S.UNPACK_IMAGE_HEIGHT,Pt),S.pixelStorei(S.UNPACK_SKIP_PIXELS,zt),S.pixelStorei(S.UNPACK_SKIP_ROWS,gi),S.pixelStorei(S.UNPACK_SKIP_IMAGES,Ri),Be===0&&ge.generateMipmaps&&S.generateMipmap(yt),J.unbindTexture()},this.initTexture=function(V){V.isCubeTexture?Ie.setTextureCube(V,0):V.isData3DTexture?Ie.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?Ie.setTexture2DArray(V,0):Ie.setTexture2D(V,0),J.unbindTexture()},this.resetState=function(){M=0,C=0,I=null,J.reset(),Re.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return uo}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===ri?Fc:nR}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Fc?ri:Cs}},Iw=class extends Pw{static{l(this,"WebGL1Renderer")}};Iw.prototype.isWebGL1Renderer=!0;var Cw=class i{static{l(this,"FogExp2")}constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Lt(e),this.density=t}clone(){return new i(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}},Lw=class i{static{l(this,"Fog")}constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Lt(e),this.near=t,this.far=n}clone(){return new i(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},Nw=class extends Oi{static{l(this,"Scene")}constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}},zp=class{static{l(this,"InterleavedBuffer")}constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=C0,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ka()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ka()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ka()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},Ur=new Oe,Oh=class i{static{l(this,"InterleavedBufferAttribute")}constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Ur.fromBufferAttribute(this,t),Ur.applyMatrix4(e),this.setXYZ(t,Ur.x,Ur.y,Ur.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ur.fromBufferAttribute(this,t),Ur.applyNormalMatrix(e),this.setXYZ(t,Ur.x,Ur.y,Ur.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ur.fromBufferAttribute(this,t),Ur.transformDirection(e),this.setXYZ(t,Ur.x,Ur.y,Ur.z);return this}setX(e,t){return this.normalized&&(t=mi(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=mi(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=mi(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=mi(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ta(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ta(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ta(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ta(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=mi(t,this.array),n=mi(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=mi(t,this.array),n=mi(n,this.array),r=mi(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=mi(t,this.array),n=mi(n,this.array),r=mi(r,this.array),a=mi(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Gi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new i(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let n=0;n<this.count;n++){let r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},G0=class extends ar{static{l(this,"SpriteMaterial")}constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}},vp,h0=new Oe,wp=new Oe,xp=new Oe,Sp=new _t,f0=new _t,i7=new ai,Xv=new Oe,d0=new Oe,Yv=new Oe,nD=new _t,V4=new _t,rD=new _t,Ow=class extends Oi{static{l(this,"Sprite")}constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",vp===void 0){vp=new yi;let t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new zp(t,5);vp.setIndex([0,1,2,0,2,3]),vp.setAttribute("position",new Oh(n,3,0,!1)),vp.setAttribute("uv",new Oh(n,2,3,!1))}this.geometry=vp,this.material=e!==void 0?e:new G0,this.center=new _t(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),wp.setFromMatrixScale(this.matrixWorld),i7.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),xp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&wp.multiplyScalar(-xp.z);let n=this.material.rotation,r,a;n!==0&&(a=Math.cos(n),r=Math.sin(n));let s=this.center;Zv(Xv.set(-.5,-.5,0),xp,s,wp,r,a),Zv(d0.set(.5,-.5,0),xp,s,wp,r,a),Zv(Yv.set(.5,.5,0),xp,s,wp,r,a),nD.set(0,0),V4.set(1,0),rD.set(1,1);let o=e.ray.intersectTriangle(Xv,d0,Yv,!1,h0);if(o===null&&(Zv(d0.set(-.5,.5,0),xp,s,wp,r,a),V4.set(0,1),o=e.ray.intersectTriangle(Xv,Yv,d0,!1,h0),o===null))return;let c=e.ray.origin.distanceTo(h0);c<e.near||c>e.far||t.push({distance:c,point:h0.clone(),uv:pl.getInterpolation(h0,Xv,d0,Yv,nD,V4,rD,new _t),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}};function Zv(i,e,t,n,r,a){Sp.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(f0.x=a*Sp.x-r*Sp.y,f0.y=r*Sp.x+a*Sp.y):f0.copy(Sp),i.copy(e),i.x+=f0.x,i.y+=f0.y,i.applyMatrix4(i7)}l(Zv,"transformVertex");var Jv=new Oe,aD=new Oe,Bw=class extends Oi{static{l(this,"LOD")}constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);let t=e.levels;for(let n=0,r=t.length;n<r;n++){let a=t[n];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);let r=this.levels,a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){let t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),e<a)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Jv.setFromMatrixPosition(this.matrixWorld);let r=e.ray.origin.distanceTo(Jv);this.getObjectForDistance(r).raycast(e,t)}}update(e){let t=this.levels;if(t.length>1){Jv.setFromMatrixPosition(e.matrixWorld),aD.setFromMatrixPosition(this.matrixWorld);let n=Jv.distanceTo(aD)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),n>=s)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){let t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];let n=this.levels;for(let r=0,a=n.length;r<a;r++){let s=n[r];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}},sD=new Oe,oD=new Hi,lD=new Hi,obe=new Oe,cD=new ai,Ep=new Oe,q4=new Pa,uD=new ai,H4=new Hc,Fw=class extends Gn{static{l(this,"SkinnedMesh")}constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ai,this.bindMatrixInverse=new ai,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){let e=this.geometry;this.boundingBox===null&&(this.boundingBox=new os),this.boundingBox.makeEmpty();let t=e.getAttribute("position");for(let n=0;n<t.count;n++)Ep.fromBufferAttribute(t,n),this.applyBoneTransform(n,Ep),this.boundingBox.expandByPoint(Ep)}computeBoundingSphere(){let e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Pa),this.boundingSphere.makeEmpty();let t=e.getAttribute("position");for(let n=0;n<t.count;n++)Ep.fromBufferAttribute(t,n),this.applyBoneTransform(n,Ep),this.boundingSphere.expandByPoint(Ep)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){let n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),q4.copy(this.boundingSphere),q4.applyMatrix4(r),e.ray.intersectsSphere(q4)!==!1&&(uD.copy(r).invert(),H4.copy(e.ray).applyMatrix4(uD),!(this.boundingBox!==null&&H4.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,H4)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let e=new Hi,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);let a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){let n=this.skeleton,r=this.geometry;oD.fromBufferAttribute(r.attributes.skinIndex,e),lD.fromBufferAttribute(r.attributes.skinWeight,e),sD.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){let s=lD.getComponent(a);if(s!==0){let o=oD.getComponent(a);cD.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(obe.copy(sD).applyMatrix4(cD),s)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}},W0=class extends Oi{static{l(this,"Bone")}constructor(){super(),this.isBone=!0,this.type="Bone"}},zc=class extends Wn{static{l(this,"DataTexture")}constructor(e=null,t=1,n=1,r,a,s,o,c,u=Pn,h=Pn,f,p){super(null,s,o,c,u,h,r,a,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},hD=new ai,lbe=new ai,Uw=class i{static{l(this,"Skeleton")}constructor(e=[],t=[]){this.uuid=ka(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new ai)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let n=new ai;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){let e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){let o=e[a]?e[a].matrixWorld:lbe;hD.multiplyMatrices(o,t[a]),hD.toArray(n,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new i(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=WV(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let n=new zc(t,e,e,Aa,co);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){let r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){let a=e.bones[n],s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new W0),this.bones.push(s),this.boneInverses.push(new ai().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){let e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,n=this.boneInverses;for(let r=0,a=t.length;r<a;r++){let s=t[r];e.bones.push(s.uuid);let o=n[r];e.boneInverses.push(o.toArray())}return e}},Gc=class extends Gi{static{l(this,"InstancedBufferAttribute")}constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},Mp=new ai,fD=new ai,Kv=[],dD=new os,cbe=new ai,p0=new Gn,m0=new Pa,zw=class extends Gn{static{l(this,"InstancedMesh")}constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Gc(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,cbe)}computeBoundingBox(){let e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new os),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Mp),dD.copy(e.boundingBox).applyMatrix4(Mp),this.boundingBox.union(dD)}computeBoundingSphere(){let e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Pa),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Mp),m0.copy(e.boundingSphere).applyMatrix4(Mp),this.boundingSphere.union(m0)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){let n=this.matrixWorld,r=this.count;if(p0.geometry=this.geometry,p0.material=this.material,p0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),m0.copy(this.boundingSphere),m0.applyMatrix4(n),e.ray.intersectsSphere(m0)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Mp),fD.multiplyMatrices(n,Mp),p0.matrixWorld=fD,p0.raycast(e,Kv);for(let s=0,o=Kv.length;s<o;s++){let c=Kv[s];c.instanceId=a,c.object=this,t.push(c)}Kv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Gc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}},hr=class extends ar{static{l(this,"LineBasicMaterial")}constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Lt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},pD=new Oe,mD=new Oe,_D=new ai,G4=new Hc,Qv=new Pa,mo=class extends Oi{static{l(this,"Line")}constructor(e=new yi,t=new hr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,n=[0];for(let r=1,a=t.count;r<a;r++)pD.fromBufferAttribute(t,r-1),mD.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=pD.distanceTo(mD);e.setAttribute("lineDistance",new Bt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let n=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Qv.copy(n.boundingSphere),Qv.applyMatrix4(r),Qv.radius+=a,e.ray.intersectsSphere(Qv)===!1)return;_D.copy(r).invert(),G4.copy(e.ray).applyMatrix4(_D);let o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=new Oe,h=new Oe,f=new Oe,p=new Oe,d=this.isLineSegments?2:1,m=n.index,g=n.attributes.position;if(m!==null){let b=Math.max(0,s.start),x=Math.min(m.count,s.start+s.count);for(let w=b,E=x-1;w<E;w+=d){let M=m.getX(w),C=m.getX(w+1);if(u.fromBufferAttribute(g,M),h.fromBufferAttribute(g,C),G4.distanceSqToSegment(u,h,p,f)>c)continue;p.applyMatrix4(this.matrixWorld);let F=e.ray.origin.distanceTo(p);F<e.near||F>e.far||t.push({distance:F,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{let b=Math.max(0,s.start),x=Math.min(g.count,s.start+s.count);for(let w=b,E=x-1;w<E;w+=d){if(u.fromBufferAttribute(g,w),h.fromBufferAttribute(g,w+1),G4.distanceSqToSegment(u,h,p,f)>c)continue;p.applyMatrix4(this.matrixWorld);let C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){let t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){let r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){let o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}},gD=new Oe,bD=new Oe,cs=class extends mo{static{l(this,"LineSegments")}constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,n=[];for(let r=0,a=t.count;r<a;r+=2)gD.fromBufferAttribute(t,r),bD.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+gD.distanceTo(bD);e.setAttribute("lineDistance",new Bt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},Dw=class extends mo{static{l(this,"LineLoop")}constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}},j0=class extends ar{static{l(this,"PointsMaterial")}constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}},yD=new ai,$k=new Hc,ew=new Pa,tw=new Oe,Vw=class extends Oi{static{l(this,"Points")}constructor(e=new yi,t=new j0){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){let n=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),ew.copy(n.boundingSphere),ew.applyMatrix4(r),ew.radius+=a,e.ray.intersectsSphere(ew)===!1)return;yD.copy(r).invert(),$k.copy(e.ray).applyMatrix4(yD);let o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=n.index,f=n.attributes.position;if(u!==null){let p=Math.max(0,s.start),d=Math.min(u.count,s.start+s.count);for(let m=p,y=d;m<y;m++){let g=u.getX(m);tw.fromBufferAttribute(f,g),vD(tw,g,c,r,e,t,this)}}else{let p=Math.max(0,s.start),d=Math.min(f.count,s.start+s.count);for(let m=p,y=d;m<y;m++)tw.fromBufferAttribute(f,m),vD(tw,m,c,r,e,t,this)}}updateMorphTargets(){let t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){let r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){let o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}};function vD(i,e,t,n,r,a,s){let o=$k.distanceSqToPoint(i);if(o<t){let c=new Oe;$k.closestPointToPoint(i,c),c.applyMatrix4(n);let u=r.ray.origin.distanceTo(c);if(u<r.near||u>r.far)return;a.push({distance:u,distanceToRay:Math.sqrt(o),point:c,index:e,face:null,object:s})}}l(vD,"testPoint");var Xk=class extends Wn{static{l(this,"VideoTexture")}constructor(e,t,n,r,a,s,o,c,u){super(e,t,n,r,a,s,o,c,u),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:In,this.magFilter=a!==void 0?a:In,this.generateMipmaps=!1;let h=this;function f(){h.needsUpdate=!0,e.requestVideoFrameCallback(f)}l(f,"updateVideo"),"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},Yk=class extends Wn{static{l(this,"FramebufferTexture")}constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Pn,this.minFilter=Pn,this.generateMipmaps=!1,this.needsUpdate=!0}},$0=class extends Wn{static{l(this,"CompressedTexture")}constructor(e,t,n,r,a,s,o,c,u,h,f,p){super(null,s,o,c,u,h,r,a,f,p),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}},Zk=class extends $0{static{l(this,"CompressedArrayTexture")}constructor(e,t,n,r,a,s){super(e,t,n,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=xr}},Jk=class extends Wn{static{l(this,"CanvasTexture")}constructor(e,t,n,r,a,s,o,c,u){super(e,t,n,r,a,s,o,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}},Ia=class{static{l(this,"Curve")}constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],n,r=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),a+=n.distanceTo(r),t.push(a),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let n=this.getLengths(),r=0,a=n.length,s;t?s=t:s=e*n[a-1];let o=0,c=a-1,u;for(;o<=c;)if(r=Math.floor(o+(c-o)/2),u=n[r]-s,u<0)o=r+1;else if(u>0)c=r-1;else{c=r;break}if(r=c,n[r]===s)return r/(a-1);let h=n[r],p=n[r+1]-h,d=(s-h)/p;return(r+d)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);let s=this.getPoint(r),o=this.getPoint(a),c=t||(s.isVector2?new _t:new Oe);return c.copy(o).sub(s).normalize(),c}getTangentAt(e,t){let n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){let n=new Oe,r=[],a=[],s=[],o=new Oe,c=new ai;for(let d=0;d<=e;d++){let m=d/e;r[d]=this.getTangentAt(m,new Oe)}a[0]=new Oe,s[0]=new Oe;let u=Number.MAX_VALUE,h=Math.abs(r[0].x),f=Math.abs(r[0].y),p=Math.abs(r[0].z);h<=u&&(u=h,n.set(1,0,0)),f<=u&&(u=f,n.set(0,1,0)),p<=u&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),a[0].crossVectors(r[0],o),s[0].crossVectors(r[0],a[0]);for(let d=1;d<=e;d++){if(a[d]=a[d-1].clone(),s[d]=s[d-1].clone(),o.crossVectors(r[d-1],r[d]),o.length()>Number.EPSILON){o.normalize();let m=Math.acos(yn(r[d-1].dot(r[d]),-1,1));a[d].applyMatrix4(c.makeRotationAxis(o,m))}s[d].crossVectors(r[d],a[d])}if(t===!0){let d=Math.acos(yn(a[0].dot(a[e]),-1,1));d/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(d=-d);for(let m=1;m<=e;m++)a[m].applyMatrix4(c.makeRotationAxis(r[m],d*m)),s[m].crossVectors(r[m],a[m])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},Dp=class extends Ia{static{l(this,"EllipseCurve")}constructor(e=0,t=0,n=1,r=1,a=0,s=Math.PI*2,o=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=c}getPoint(e,t){let n=t||new _t,r=Math.PI*2,a=this.aEndAngle-this.aStartAngle,s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);let o=this.aStartAngle+e*a,c=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){let h=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=c-this.aX,d=u-this.aY;c=p*h-d*f+this.aX,u=p*f+d*h+this.aY}return n.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},qw=class extends Dp{static{l(this,"ArcCurve")}constructor(e,t,n,r,a,s){super(e,t,n,n,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}};function oR(){let i=0,e=0,t=0,n=0;function r(a,s,o,c){i=a,e=o,t=-3*a+3*s-2*o-c,n=2*a-2*s+o+c}return l(r,"init"),{initCatmullRom:function(a,s,o,c,u){r(s,o,u*(o-a),u*(c-s))},initNonuniformCatmullRom:function(a,s,o,c,u,h,f){let p=(s-a)/u-(o-a)/(u+h)+(o-s)/h,d=(o-s)/h-(c-s)/(h+f)+(c-o)/f;p*=h,d*=h,r(s,o,p,d)},calc:function(a){let s=a*a,o=s*a;return i+e*a+t*s+n*o}}}l(oR,"CubicPoly");var iw=new Oe,W4=new oR,j4=new oR,$4=new oR,Hw=class extends Ia{static{l(this,"CatmullRomCurve3")}constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new Oe){let n=t,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e,o=Math.floor(s),c=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:c===0&&o===a-1&&(o=a-2,c=1);let u,h;this.closed||o>0?u=r[(o-1)%a]:(iw.subVectors(r[0],r[1]).add(r[0]),u=iw);let f=r[o%a],p=r[(o+1)%a];if(this.closed||o+2<a?h=r[(o+2)%a]:(iw.subVectors(r[a-1],r[a-2]).add(r[a-1]),h=iw),this.curveType==="centripetal"||this.curveType==="chordal"){let d=this.curveType==="chordal"?.5:.25,m=Math.pow(u.distanceToSquared(f),d),y=Math.pow(f.distanceToSquared(p),d),g=Math.pow(p.distanceToSquared(h),d);y<1e-4&&(y=1),m<1e-4&&(m=y),g<1e-4&&(g=y),W4.initNonuniformCatmullRom(u.x,f.x,p.x,h.x,m,y,g),j4.initNonuniformCatmullRom(u.y,f.y,p.y,h.y,m,y,g),$4.initNonuniformCatmullRom(u.z,f.z,p.z,h.z,m,y,g)}else this.curveType==="catmullrom"&&(W4.initCatmullRom(u.x,f.x,p.x,h.x,this.tension),j4.initCatmullRom(u.y,f.y,p.y,h.y,this.tension),$4.initCatmullRom(u.z,f.z,p.z,h.z,this.tension));return n.set(W4.calc(c),j4.calc(c),$4.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let r=e.points[t];this.points.push(new Oe().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};function wD(i,e,t,n,r){let a=(n-e)*.5,s=(r-t)*.5,o=i*i,c=i*o;return(2*t-2*n+a+s)*c+(-3*t+3*n-2*a-s)*o+a*i+t}l(wD,"CatmullRom");function ube(i,e){let t=1-i;return t*t*e}l(ube,"QuadraticBezierP0");function hbe(i,e){return 2*(1-i)*i*e}l(hbe,"QuadraticBezierP1");function fbe(i,e){return i*i*e}l(fbe,"QuadraticBezierP2");function S0(i,e,t,n){return ube(i,e)+hbe(i,t)+fbe(i,n)}l(S0,"QuadraticBezier");function dbe(i,e){let t=1-i;return t*t*t*e}l(dbe,"CubicBezierP0");function pbe(i,e){let t=1-i;return 3*t*t*i*e}l(pbe,"CubicBezierP1");function mbe(i,e){return 3*(1-i)*i*i*e}l(mbe,"CubicBezierP2");function _be(i,e){return i*i*i*e}l(_be,"CubicBezierP3");function E0(i,e,t,n,r){return dbe(i,e)+pbe(i,t)+mbe(i,n)+_be(i,r)}l(E0,"CubicBezier");var X0=class extends Ia{static{l(this,"CubicBezierCurve")}constructor(e=new _t,t=new _t,n=new _t,r=new _t){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new _t){let n=t,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return n.set(E0(e,r.x,a.x,s.x,o.x),E0(e,r.y,a.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},Gw=class extends Ia{static{l(this,"CubicBezierCurve3")}constructor(e=new Oe,t=new Oe,n=new Oe,r=new Oe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Oe){let n=t,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return n.set(E0(e,r.x,a.x,s.x,o.x),E0(e,r.y,a.y,s.y,o.y),E0(e,r.z,a.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},Vp=class extends Ia{static{l(this,"LineCurve")}constructor(e=new _t,t=new _t){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new _t){let n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new _t){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Ww=class extends Ia{static{l(this,"LineCurve3")}constructor(e=new Oe,t=new Oe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Oe){let n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Oe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Y0=class extends Ia{static{l(this,"QuadraticBezierCurve")}constructor(e=new _t,t=new _t,n=new _t){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new _t){let n=t,r=this.v0,a=this.v1,s=this.v2;return n.set(S0(e,r.x,a.x,s.x),S0(e,r.y,a.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Z0=class extends Ia{static{l(this,"QuadraticBezierCurve3")}constructor(e=new Oe,t=new Oe,n=new Oe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Oe){let n=t,r=this.v0,a=this.v1,s=this.v2;return n.set(S0(e,r.x,a.x,s.x),S0(e,r.y,a.y,s.y),S0(e,r.z,a.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},J0=class extends Ia{static{l(this,"SplineCurve")}constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new _t){let n=t,r=this.points,a=(r.length-1)*e,s=Math.floor(a),o=a-s,c=r[s===0?s:s-1],u=r[s],h=r[s>r.length-2?r.length-1:s+1],f=r[s>r.length-3?r.length-1:s+2];return n.set(wD(o,c.x,u.x,h.x,f.x),wD(o,c.y,u.y,h.y,f.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let r=e.points[t];this.points.push(r.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let r=e.points[t];this.points.push(new _t().fromArray(r))}return this}},lR=Object.freeze({__proto__:null,ArcCurve:qw,CatmullRomCurve3:Hw,CubicBezierCurve:X0,CubicBezierCurve3:Gw,EllipseCurve:Dp,LineCurve:Vp,LineCurve3:Ww,QuadraticBezierCurve:Y0,QuadraticBezierCurve3:Z0,SplineCurve:J0}),jw=class extends Ia{static{l(this,"CurvePath")}constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Vp(t,e))}getPoint(e,t){let n=e*this.getLength(),r=this.getCurveLengths(),a=0;for(;a<r.length;){if(r[a]>=n){let s=r[a]-n,o=this.curves[a],c=o.getLength(),u=c===0?0:1-s/c;return o.getPointAt(u,t)}a++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],n;for(let r=0,a=this.curves;r<a.length;r++){let s=a[r],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,c=s.getPoints(o);for(let u=0;u<c.length;u++){let h=c[u];n&&n.equals(h)||(t.push(h),n=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){let r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let r=e.curves[t];this.curves.push(new lR[r.type]().fromJSON(r))}return this}},Bh=class extends jw{static{l(this,"Path")}constructor(e){super(),this.type="Path",this.currentPoint=new _t,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let n=new Vp(this.currentPoint.clone(),new _t(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){let a=new Y0(this.currentPoint.clone(),new _t(e,t),new _t(n,r));return this.curves.push(a),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,a,s){let o=new X0(this.currentPoint.clone(),new _t(e,t),new _t(n,r),new _t(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),n=new J0(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,a,s){let o=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+o,t+c,n,r,a,s),this}absarc(e,t,n,r,a,s){return this.absellipse(e,t,n,n,r,a,s),this}ellipse(e,t,n,r,a,s,o,c){let u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,t+h,n,r,a,s,o,c),this}absellipse(e,t,n,r,a,s,o,c){let u=new Dp(e,t,n,r,a,s,o,c);if(this.curves.length>0){let f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);let h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},K0=class i extends yi{static{l(this,"LatheGeometry")}constructor(e=[new _t(0,-.5),new _t(.5,0),new _t(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=yn(r,0,Math.PI*2);let a=[],s=[],o=[],c=[],u=[],h=1/t,f=new Oe,p=new _t,d=new Oe,m=new Oe,y=new Oe,g=0,b=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:g=e[x+1].x-e[x].x,b=e[x+1].y-e[x].y,d.x=b*1,d.y=-g,d.z=b*0,y.copy(d),d.normalize(),c.push(d.x,d.y,d.z);break;case e.length-1:c.push(y.x,y.y,y.z);break;default:g=e[x+1].x-e[x].x,b=e[x+1].y-e[x].y,d.x=b*1,d.y=-g,d.z=b*0,m.copy(d),d.x+=y.x,d.y+=y.y,d.z+=y.z,d.normalize(),c.push(d.x,d.y,d.z),y.copy(m)}for(let x=0;x<=t;x++){let w=n+x*h*r,E=Math.sin(w),M=Math.cos(w);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*E,f.y=e[C].y,f.z=e[C].x*M,s.push(f.x,f.y,f.z),p.x=x/t,p.y=C/(e.length-1),o.push(p.x,p.y);let I=c[3*C+0]*E,F=c[3*C+1],A=c[3*C+0]*M;u.push(I,F,A)}}for(let x=0;x<t;x++)for(let w=0;w<e.length-1;w++){let E=w+x*e.length,M=E,C=E+e.length,I=E+e.length+1,F=E+1;a.push(M,C,F),a.push(I,F,C)}this.setIndex(a),this.setAttribute("position",new Bt(s,3)),this.setAttribute("uv",new Bt(o,2)),this.setAttribute("normal",new Bt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.points,e.segments,e.phiStart,e.phiLength)}},$w=class i extends K0{static{l(this,"CapsuleGeometry")}constructor(e=1,t=1,n=4,r=8){let a=new Bh;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new i(e.radius,e.length,e.capSegments,e.radialSegments)}},Xw=class i extends yi{static{l(this,"CircleGeometry")}constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);let a=[],s=[],o=[],c=[],u=new Oe,h=new _t;s.push(0,0,0),o.push(0,0,1),c.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){let d=n+f/t*r;u.x=e*Math.cos(d),u.y=e*Math.sin(d),s.push(u.x,u.y,u.z),o.push(0,0,1),h.x=(s[p]/e+1)/2,h.y=(s[p+1]/e+1)/2,c.push(h.x,h.y)}for(let f=1;f<=t;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new Bt(s,3)),this.setAttribute("normal",new Bt(o,3)),this.setAttribute("uv",new Bt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.radius,e.segments,e.thetaStart,e.thetaLength)}},qp=class i extends yi{static{l(this,"CylinderGeometry")}constructor(e=1,t=1,n=1,r=32,a=1,s=!1,o=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:c};let u=this;r=Math.floor(r),a=Math.floor(a);let h=[],f=[],p=[],d=[],m=0,y=[],g=n/2,b=0;x(),s===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(h),this.setAttribute("position",new Bt(f,3)),this.setAttribute("normal",new Bt(p,3)),this.setAttribute("uv",new Bt(d,2));function x(){let E=new Oe,M=new Oe,C=0,I=(t-e)/n;for(let F=0;F<=a;F++){let A=[],T=F/a,j=T*(t-e)+e;for(let R=0;R<=r;R++){let U=R/r,q=U*c+o,X=Math.sin(q),fe=Math.cos(q);M.x=j*X,M.y=-T*n+g,M.z=j*fe,f.push(M.x,M.y,M.z),E.set(X,I,fe).normalize(),p.push(E.x,E.y,E.z),d.push(U,1-T),A.push(m++)}y.push(A)}for(let F=0;F<r;F++)for(let A=0;A<a;A++){let T=y[A][F],j=y[A+1][F],R=y[A+1][F+1],U=y[A][F+1];h.push(T,j,U),h.push(j,R,U),C+=6}u.addGroup(b,C,0),b+=C}l(x,"generateTorso");function w(E){let M=m,C=new _t,I=new Oe,F=0,A=E===!0?e:t,T=E===!0?1:-1;for(let R=1;R<=r;R++)f.push(0,g*T,0),p.push(0,T,0),d.push(.5,.5),m++;let j=m;for(let R=0;R<=r;R++){let q=R/r*c+o,X=Math.cos(q),fe=Math.sin(q);I.x=A*fe,I.y=g*T,I.z=A*X,f.push(I.x,I.y,I.z),p.push(0,T,0),C.x=X*.5+.5,C.y=fe*.5*T+.5,d.push(C.x,C.y),m++}for(let R=0;R<r;R++){let U=M+R,q=j+R;E===!0?h.push(q,q+1,U):h.push(q+1,q,U),F+=3}u.addGroup(b,F,E===!0?1:2),b+=F}l(w,"generateCap")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},Yw=class i extends qp{static{l(this,"ConeGeometry")}constructor(e=1,t=1,n=32,r=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,n,r,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new i(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},Wc=class i extends yi{static{l(this,"PolyhedronGeometry")}constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};let a=[],s=[];o(r),u(n),h(),this.setAttribute("position",new Bt(a,3)),this.setAttribute("normal",new Bt(a.slice(),3)),this.setAttribute("uv",new Bt(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(x){let w=new Oe,E=new Oe,M=new Oe;for(let C=0;C<t.length;C+=3)d(t[C+0],w),d(t[C+1],E),d(t[C+2],M),c(w,E,M,x)}l(o,"subdivide");function c(x,w,E,M){let C=M+1,I=[];for(let F=0;F<=C;F++){I[F]=[];let A=x.clone().lerp(E,F/C),T=w.clone().lerp(E,F/C),j=C-F;for(let R=0;R<=j;R++)R===0&&F===C?I[F][R]=A:I[F][R]=A.clone().lerp(T,R/j)}for(let F=0;F<C;F++)for(let A=0;A<2*(C-F)-1;A++){let T=Math.floor(A/2);A%2===0?(p(I[F][T+1]),p(I[F+1][T]),p(I[F][T])):(p(I[F][T+1]),p(I[F+1][T+1]),p(I[F+1][T]))}}l(c,"subdivideFace");function u(x){let w=new Oe;for(let E=0;E<a.length;E+=3)w.x=a[E+0],w.y=a[E+1],w.z=a[E+2],w.normalize().multiplyScalar(x),a[E+0]=w.x,a[E+1]=w.y,a[E+2]=w.z}l(u,"applyRadius");function h(){let x=new Oe;for(let w=0;w<a.length;w+=3){x.x=a[w+0],x.y=a[w+1],x.z=a[w+2];let E=g(x)/2/Math.PI+.5,M=b(x)/Math.PI+.5;s.push(E,1-M)}m(),f()}l(h,"generateUVs");function f(){for(let x=0;x<s.length;x+=6){let w=s[x+0],E=s[x+2],M=s[x+4],C=Math.max(w,E,M),I=Math.min(w,E,M);C>.9&&I<.1&&(w<.2&&(s[x+0]+=1),E<.2&&(s[x+2]+=1),M<.2&&(s[x+4]+=1))}}l(f,"correctSeam");function p(x){a.push(x.x,x.y,x.z)}l(p,"pushVertex");function d(x,w){let E=x*3;w.x=e[E+0],w.y=e[E+1],w.z=e[E+2]}l(d,"getVertexByIndex");function m(){let x=new Oe,w=new Oe,E=new Oe,M=new Oe,C=new _t,I=new _t,F=new _t;for(let A=0,T=0;A<a.length;A+=9,T+=6){x.set(a[A+0],a[A+1],a[A+2]),w.set(a[A+3],a[A+4],a[A+5]),E.set(a[A+6],a[A+7],a[A+8]),C.set(s[T+0],s[T+1]),I.set(s[T+2],s[T+3]),F.set(s[T+4],s[T+5]),M.copy(x).add(w).add(E).divideScalar(3);let j=g(M);y(C,T+0,x,j),y(I,T+2,w,j),y(F,T+4,E,j)}}l(m,"correctUVs");function y(x,w,E,M){M<0&&x.x===1&&(s[w]=x.x-1),E.x===0&&E.z===0&&(s[w]=M/2/Math.PI+.5)}l(y,"correctUV");function g(x){return Math.atan2(x.z,-x.x)}l(g,"azimuth");function b(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}l(b,"inclination")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.vertices,e.indices,e.radius,e.details)}},Zw=class i extends Wc{static{l(this,"DodecahedronGeometry")}constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,r=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i(e.radius,e.detail)}},nw=new Oe,rw=new Oe,X4=new Oe,aw=new pl,Jw=class extends yi{static{l(this,"EdgesGeometry")}constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){let r=Math.pow(10,4),a=Math.cos(Ih*t),s=e.getIndex(),o=e.getAttribute("position"),c=s?s.count:o.count,u=[0,0,0],h=["a","b","c"],f=new Array(3),p={},d=[];for(let m=0;m<c;m+=3){s?(u[0]=s.getX(m),u[1]=s.getX(m+1),u[2]=s.getX(m+2)):(u[0]=m,u[1]=m+1,u[2]=m+2);let{a:y,b:g,c:b}=aw;if(y.fromBufferAttribute(o,u[0]),g.fromBufferAttribute(o,u[1]),b.fromBufferAttribute(o,u[2]),aw.getNormal(X4),f[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,f[1]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,f[2]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){let w=(x+1)%3,E=f[x],M=f[w],C=aw[h[x]],I=aw[h[w]],F=`${E}_${M}`,A=`${M}_${E}`;A in p&&p[A]?(X4.dot(p[A].normal)<=a&&(d.push(C.x,C.y,C.z),d.push(I.x,I.y,I.z)),p[A]=null):F in p||(p[F]={index0:u[x],index1:u[w],normal:X4.clone()})}}for(let m in p)if(p[m]){let{index0:y,index1:g}=p[m];nw.fromBufferAttribute(o,y),rw.fromBufferAttribute(o,g),d.push(nw.x,nw.y,nw.z),d.push(rw.x,rw.y,rw.z)}this.setAttribute("position",new Bt(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}},gl=class extends Bh{static{l(this,"Shape")}constructor(e){super(e),this.uuid=ka(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){let r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let r=e.holes[t];this.holes.push(new Bh().fromJSON(r))}return this}},gbe={triangulate:function(i,e,t=2){let n=e&&e.length,r=n?e[0]*t:i.length,a=n7(i,0,r,t,!0),s=[];if(!a||a.next===a.prev)return s;let o,c,u,h,f,p,d;if(n&&(a=xbe(i,e,a,t)),i.length>80*t){o=u=i[0],c=h=i[1];for(let m=t;m<r;m+=t)f=i[m],p=i[m+1],f<o&&(o=f),p<c&&(c=p),f>u&&(u=f),p>h&&(h=p);d=Math.max(u-o,h-c),d=d!==0?32767/d:0}return Q0(a,s,t,o,c,d,0),s}};function n7(i,e,t,n,r){let a,s;if(r===Lbe(i,e,t,n)>0)for(a=e;a<t;a+=n)s=xD(a,i[a],i[a+1],s);else for(a=t-n;a>=e;a-=n)s=xD(a,i[a],i[a+1],s);return s&&U2(s,s.next)&&(tg(s),s=s.next),s}l(n7,"linkedList");function Fh(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(U2(t,t.next)||hn(t.prev,t,t.next)===0)){if(tg(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}l(Fh,"filterPoints");function Q0(i,e,t,n,r,a,s){if(!i)return;!s&&a&&Tbe(i,n,r,a);let o=i,c,u;for(;i.prev!==i.next;){if(c=i.prev,u=i.next,a?ybe(i,n,r,a):bbe(i)){e.push(c.i/t|0),e.push(i.i/t|0),e.push(u.i/t|0),tg(i),i=u.next,o=u.next;continue}if(i=u,i===o){s?s===1?(i=vbe(Fh(i),e,t),Q0(i,e,t,n,r,a,2)):s===2&&wbe(i,e,t,n,r,a):Q0(Fh(i),e,t,n,r,a,1);break}}}l(Q0,"earcutLinked");function bbe(i){let e=i.prev,t=i,n=i.next;if(hn(e,t,n)>=0)return!1;let r=e.x,a=t.x,s=n.x,o=e.y,c=t.y,u=n.y,h=r<a?r<s?r:s:a<s?a:s,f=o<c?o<u?o:u:c<u?c:u,p=r>a?r>s?r:s:a>s?a:s,d=o>c?o>u?o:u:c>u?c:u,m=n.next;for(;m!==e;){if(m.x>=h&&m.x<=p&&m.y>=f&&m.y<=d&&kp(r,o,a,c,s,u,m.x,m.y)&&hn(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}l(bbe,"isEar");function ybe(i,e,t,n){let r=i.prev,a=i,s=i.next;if(hn(r,a,s)>=0)return!1;let o=r.x,c=a.x,u=s.x,h=r.y,f=a.y,p=s.y,d=o<c?o<u?o:u:c<u?c:u,m=h<f?h<p?h:p:f<p?f:p,y=o>c?o>u?o:u:c>u?c:u,g=h>f?h>p?h:p:f>p?f:p,b=Kk(d,m,e,t,n),x=Kk(y,g,e,t,n),w=i.prevZ,E=i.nextZ;for(;w&&w.z>=b&&E&&E.z<=x;){if(w.x>=d&&w.x<=y&&w.y>=m&&w.y<=g&&w!==r&&w!==s&&kp(o,h,c,f,u,p,w.x,w.y)&&hn(w.prev,w,w.next)>=0||(w=w.prevZ,E.x>=d&&E.x<=y&&E.y>=m&&E.y<=g&&E!==r&&E!==s&&kp(o,h,c,f,u,p,E.x,E.y)&&hn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;w&&w.z>=b;){if(w.x>=d&&w.x<=y&&w.y>=m&&w.y<=g&&w!==r&&w!==s&&kp(o,h,c,f,u,p,w.x,w.y)&&hn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=x;){if(E.x>=d&&E.x<=y&&E.y>=m&&E.y<=g&&E!==r&&E!==s&&kp(o,h,c,f,u,p,E.x,E.y)&&hn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}l(ybe,"isEarHashed");function vbe(i,e,t){let n=i;do{let r=n.prev,a=n.next.next;!U2(r,a)&&r7(r,n,n.next,a)&&eg(r,a)&&eg(a,r)&&(e.push(r.i/t|0),e.push(n.i/t|0),e.push(a.i/t|0),tg(n),tg(n.next),n=i=a),n=n.next}while(n!==i);return Fh(n)}l(vbe,"cureLocalIntersections");function wbe(i,e,t,n,r,a){let s=i;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&Pbe(s,o)){let c=a7(s,o);s=Fh(s,s.next),c=Fh(c,c.next),Q0(s,e,t,n,r,a,0),Q0(c,e,t,n,r,a,0);return}o=o.next}s=s.next}while(s!==i)}l(wbe,"splitEarcut");function xbe(i,e,t,n){let r=[],a,s,o,c,u;for(a=0,s=e.length;a<s;a++)o=e[a]*n,c=a<s-1?e[a+1]*n:i.length,u=n7(i,o,c,n,!1),u===u.next&&(u.steiner=!0),r.push(Rbe(u));for(r.sort(Sbe),a=0;a<r.length;a++)t=Ebe(r[a],t);return t}l(xbe,"eliminateHoles");function Sbe(i,e){return i.x-e.x}l(Sbe,"compareX");function Ebe(i,e){let t=Mbe(i,e);if(!t)return e;let n=a7(t,i);return Fh(n,n.next),Fh(t,t.next)}l(Ebe,"eliminateHole");function Mbe(i,e){let t=e,n=-1/0,r,a=i.x,s=i.y;do{if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){let p=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=a&&p>n&&(n=p,r=t.x<t.next.x?t:t.next,p===a))return r}t=t.next}while(t!==e);if(!r)return null;let o=r,c=r.x,u=r.y,h=1/0,f;t=r;do a>=t.x&&t.x>=c&&a!==t.x&&kp(s<u?a:n,s,c,u,s<u?n:a,s,t.x,t.y)&&(f=Math.abs(s-t.y)/(a-t.x),eg(t,i)&&(f<h||f===h&&(t.x>r.x||t.x===r.x&&Abe(r,t)))&&(r=t,h=f)),t=t.next;while(t!==o);return r}l(Mbe,"findHoleBridge");function Abe(i,e){return hn(i.prev,i,e.prev)<0&&hn(e.next,i,i.next)<0}l(Abe,"sectorContainsSector");function Tbe(i,e,t,n){let r=i;do r.z===0&&(r.z=Kk(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,kbe(r)}l(Tbe,"indexCurve");function kbe(i){let e,t,n,r,a,s,o,c,u=1;do{for(t=i,i=null,a=null,s=0;t;){for(s++,n=t,o=0,e=0;e<u&&(o++,n=n.nextZ,!!n);e++);for(c=u;o>0||c>0&&n;)o!==0&&(c===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,o--):(r=n,n=n.nextZ,c--),a?a.nextZ=r:i=r,r.prevZ=a,a=r;t=n}a.nextZ=null,u*=2}while(s>1);return i}l(kbe,"sortLinked");function Kk(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}l(Kk,"zOrder");function Rbe(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}l(Rbe,"getLeftmost");function kp(i,e,t,n,r,a,s,o){return(r-s)*(e-o)>=(i-s)*(a-o)&&(i-s)*(n-o)>=(t-s)*(e-o)&&(t-s)*(a-o)>=(r-s)*(n-o)}l(kp,"pointInTriangle");function Pbe(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!Ibe(i,e)&&(eg(i,e)&&eg(e,i)&&Cbe(i,e)&&(hn(i.prev,i,e.prev)||hn(i,e.prev,e))||U2(i,e)&&hn(i.prev,i,i.next)>0&&hn(e.prev,e,e.next)>0)}l(Pbe,"isValidDiagonal");function hn(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}l(hn,"area");function U2(i,e){return i.x===e.x&&i.y===e.y}l(U2,"equals");function r7(i,e,t,n){let r=ow(hn(i,e,t)),a=ow(hn(i,e,n)),s=ow(hn(t,n,i)),o=ow(hn(t,n,e));return!!(r!==a&&s!==o||r===0&&sw(i,t,e)||a===0&&sw(i,n,e)||s===0&&sw(t,i,n)||o===0&&sw(t,e,n))}l(r7,"intersects");function sw(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}l(sw,"onSegment");function ow(i){return i>0?1:i<0?-1:0}l(ow,"sign");function Ibe(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&r7(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}l(Ibe,"intersectsPolygon");function eg(i,e){return hn(i.prev,i,i.next)<0?hn(i,e,i.next)>=0&&hn(i,i.prev,e)>=0:hn(i,e,i.prev)<0||hn(i,i.next,e)<0}l(eg,"locallyInside");function Cbe(i,e){let t=i,n=!1,r=(i.x+e.x)/2,a=(i.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}l(Cbe,"middleInside");function a7(i,e){let t=new Qk(i.i,i.x,i.y),n=new Qk(e.i,e.x,e.y),r=i.next,a=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,a.next=n,n.prev=a,n}l(a7,"splitPolygon");function xD(i,e,t,n){let r=new Qk(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}l(xD,"insertNode");function tg(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}l(tg,"removeNode");function Qk(i,e,t){this.i=i,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}l(Qk,"Node");function Lbe(i,e,t,n){let r=0;for(let a=e,s=t-n;a<t;a+=n)r+=(i[s]-i[a])*(i[a+1]+i[s+1]),s=a;return r}l(Lbe,"signedArea");var fo=class i{static{l(this,"ShapeUtils")}static area(e){let t=e.length,n=0;for(let r=t-1,a=0;a<t;r=a++)n+=e[r].x*e[a].y-e[a].x*e[r].y;return n*.5}static isClockWise(e){return i.area(e)<0}static triangulateShape(e,t){let n=[],r=[],a=[];SD(e),ED(n,e);let s=e.length;t.forEach(SD);for(let c=0;c<t.length;c++)r.push(s),s+=t[c].length,ED(n,t[c]);let o=gbe.triangulate(n,r);for(let c=0;c<o.length;c+=3)a.push(o.slice(c,c+3));return a}};function SD(i){let e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}l(SD,"removeDupEndPts");function ED(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}l(ED,"addContour");var Kw=class i extends yi{static{l(this,"ExtrudeGeometry")}constructor(e=new gl([new _t(.5,.5),new _t(-.5,.5),new _t(-.5,-.5),new _t(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];let n=this,r=[],a=[];for(let o=0,c=e.length;o<c;o++){let u=e[o];s(u)}this.setAttribute("position",new Bt(r,3)),this.setAttribute("uv",new Bt(a,2)),this.computeVertexNormals();function s(o){let c=[],u=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1,p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,d=t.bevelThickness!==void 0?t.bevelThickness:.2,m=t.bevelSize!==void 0?t.bevelSize:d-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,g=t.bevelSegments!==void 0?t.bevelSegments:3,b=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:Nbe,w,E=!1,M,C,I,F;b&&(w=b.getSpacedPoints(h),E=!0,p=!1,M=b.computeFrenetFrames(h,!1),C=new Oe,I=new Oe,F=new Oe),p||(g=0,d=0,m=0,y=0);let A=o.extractPoints(u),T=A.shape,j=A.holes;if(!fo.isClockWise(T)){T=T.reverse();for(let S=0,G=j.length;S<G;S++){let Q=j[S];fo.isClockWise(Q)&&(j[S]=Q.reverse())}}let U=fo.triangulateShape(T,j),q=T;for(let S=0,G=j.length;S<G;S++){let Q=j[S];T=T.concat(Q)}function X(S,G,Q){return G||console.error("THREE.ExtrudeGeometry: vec does not exist"),S.clone().addScaledVector(G,Q)}l(X,"scalePt2");let fe=T.length,H=U.length;function Y(S,G,Q){let K,J,me,Se=S.x-G.x,Ie=S.y-G.y,Ce=Q.x-S.x,Xe=Q.y-S.y,nt=Se*Se+Ie*Ie,z=Se*Xe-Ie*Ce;if(Math.abs(z)>Number.EPSILON){let B=Math.sqrt(nt),Ae=Math.sqrt(Ce*Ce+Xe*Xe),W=G.x-Ie/B,L=G.y+Se/B,P=Q.x-Xe/Ae,se=Q.y+Ce/Ae,de=((P-W)*Xe-(se-L)*Ce)/(Se*Xe-Ie*Ce);K=W+Se*de-S.x,J=L+Ie*de-S.y;let O=K*K+J*J;if(O<=2)return new _t(K,J);me=Math.sqrt(O/2)}else{let B=!1;Se>Number.EPSILON?Ce>Number.EPSILON&&(B=!0):Se<-Number.EPSILON?Ce<-Number.EPSILON&&(B=!0):Math.sign(Ie)===Math.sign(Xe)&&(B=!0),B?(K=-Ie,J=Se,me=Math.sqrt(nt)):(K=Se,J=Ie,me=Math.sqrt(nt/2))}return new _t(K/me,J/me)}l(Y,"getBevelVec");let $=[];for(let S=0,G=q.length,Q=G-1,K=S+1;S<G;S++,Q++,K++)Q===G&&(Q=0),K===G&&(K=0),$[S]=Y(q[S],q[Q],q[K]);let Z=[],ie,ue=$.concat();for(let S=0,G=j.length;S<G;S++){let Q=j[S];ie=[];for(let K=0,J=Q.length,me=J-1,Se=K+1;K<J;K++,me++,Se++)me===J&&(me=0),Se===J&&(Se=0),ie[K]=Y(Q[K],Q[me],Q[Se]);Z.push(ie),ue=ue.concat(ie)}for(let S=0;S<g;S++){let G=S/g,Q=d*Math.cos(G*Math.PI/2),K=m*Math.sin(G*Math.PI/2)+y;for(let J=0,me=q.length;J<me;J++){let Se=X(q[J],$[J],K);ve(Se.x,Se.y,-Q)}for(let J=0,me=j.length;J<me;J++){let Se=j[J];ie=Z[J];for(let Ie=0,Ce=Se.length;Ie<Ce;Ie++){let Xe=X(Se[Ie],ie[Ie],K);ve(Xe.x,Xe.y,-Q)}}}let Me=m+y;for(let S=0;S<fe;S++){let G=p?X(T[S],ue[S],Me):T[S];E?(I.copy(M.normals[0]).multiplyScalar(G.x),C.copy(M.binormals[0]).multiplyScalar(G.y),F.copy(w[0]).add(I).add(C),ve(F.x,F.y,F.z)):ve(G.x,G.y,0)}for(let S=1;S<=h;S++)for(let G=0;G<fe;G++){let Q=p?X(T[G],ue[G],Me):T[G];E?(I.copy(M.normals[S]).multiplyScalar(Q.x),C.copy(M.binormals[S]).multiplyScalar(Q.y),F.copy(w[S]).add(I).add(C),ve(F.x,F.y,F.z)):ve(Q.x,Q.y,f/h*S)}for(let S=g-1;S>=0;S--){let G=S/g,Q=d*Math.cos(G*Math.PI/2),K=m*Math.sin(G*Math.PI/2)+y;for(let J=0,me=q.length;J<me;J++){let Se=X(q[J],$[J],K);ve(Se.x,Se.y,f+Q)}for(let J=0,me=j.length;J<me;J++){let Se=j[J];ie=Z[J];for(let Ie=0,Ce=Se.length;Ie<Ce;Ie++){let Xe=X(Se[Ie],ie[Ie],K);E?ve(Xe.x,Xe.y+w[h-1].y,w[h-1].x+Q):ve(Xe.x,Xe.y,f+Q)}}}Fe(),De();function Fe(){let S=r.length/3;if(p){let G=0,Q=fe*G;for(let K=0;K<H;K++){let J=U[K];we(J[2]+Q,J[1]+Q,J[0]+Q)}G=h+g*2,Q=fe*G;for(let K=0;K<H;K++){let J=U[K];we(J[0]+Q,J[1]+Q,J[2]+Q)}}else{for(let G=0;G<H;G++){let Q=U[G];we(Q[2],Q[1],Q[0])}for(let G=0;G<H;G++){let Q=U[G];we(Q[0]+fe*h,Q[1]+fe*h,Q[2]+fe*h)}}n.addGroup(S,r.length/3-S,0)}l(Fe,"buildLidFaces");function De(){let S=r.length/3,G=0;Ge(q,G),G+=q.length;for(let Q=0,K=j.length;Q<K;Q++){let J=j[Q];Ge(J,G),G+=J.length}n.addGroup(S,r.length/3-S,1)}l(De,"buildSideFaces");function Ge(S,G){let Q=S.length;for(;--Q>=0;){let K=Q,J=Q-1;J<0&&(J=S.length-1);for(let me=0,Se=h+g*2;me<Se;me++){let Ie=fe*me,Ce=fe*(me+1),Xe=G+K+Ie,nt=G+J+Ie,z=G+J+Ce,B=G+K+Ce;He(Xe,nt,z,B)}}}l(Ge,"sidewalls");function ve(S,G,Q){c.push(S),c.push(G),c.push(Q)}l(ve,"v");function we(S,G,Q){Ke(S),Ke(G),Ke(Q);let K=r.length/3,J=x.generateTopUV(n,r,K-3,K-2,K-1);Ze(J[0]),Ze(J[1]),Ze(J[2])}l(we,"f3");function He(S,G,Q,K){Ke(S),Ke(G),Ke(K),Ke(G),Ke(Q),Ke(K);let J=r.length/3,me=x.generateSideWallUV(n,r,J-6,J-3,J-2,J-1);Ze(me[0]),Ze(me[1]),Ze(me[3]),Ze(me[1]),Ze(me[2]),Ze(me[3])}l(He,"f4");function Ke(S){r.push(c[S*3+0]),r.push(c[S*3+1]),r.push(c[S*3+2])}l(Ke,"addVertex");function Ze(S){a.push(S.x),a.push(S.y)}l(Ze,"addUV")}l(s,"addShape")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return Obe(t,n,e)}static fromJSON(e,t){let n=[];for(let a=0,s=e.shapes.length;a<s;a++){let o=t[e.shapes[a]];n.push(o)}let r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new lR[r.type]().fromJSON(r)),new i(n,e.options)}},Nbe={generateTopUV:function(i,e,t,n,r){let a=e[t*3],s=e[t*3+1],o=e[n*3],c=e[n*3+1],u=e[r*3],h=e[r*3+1];return[new _t(a,s),new _t(o,c),new _t(u,h)]},generateSideWallUV:function(i,e,t,n,r,a){let s=e[t*3],o=e[t*3+1],c=e[t*3+2],u=e[n*3],h=e[n*3+1],f=e[n*3+2],p=e[r*3],d=e[r*3+1],m=e[r*3+2],y=e[a*3],g=e[a*3+1],b=e[a*3+2];return Math.abs(o-h)<Math.abs(s-u)?[new _t(s,1-c),new _t(u,1-f),new _t(p,1-m),new _t(y,1-b)]:[new _t(o,1-c),new _t(h,1-f),new _t(d,1-m),new _t(g,1-b)]}};function Obe(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){let a=i[n];t.shapes.push(a.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}l(Obe,"toJSON$1");var Qw=class i extends Wc{static{l(this,"IcosahedronGeometry")}constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i(e.radius,e.detail)}},ig=class i extends Wc{static{l(this,"OctahedronGeometry")}constructor(e=1,t=0){let n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i(e.radius,e.detail)}},e2=class i extends yi{static{l(this,"RingGeometry")}constructor(e=.5,t=1,n=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:a,thetaLength:s},n=Math.max(3,n),r=Math.max(1,r);let o=[],c=[],u=[],h=[],f=e,p=(t-e)/r,d=new Oe,m=new _t;for(let y=0;y<=r;y++){for(let g=0;g<=n;g++){let b=a+g/n*s;d.x=f*Math.cos(b),d.y=f*Math.sin(b),c.push(d.x,d.y,d.z),u.push(0,0,1),m.x=(d.x/t+1)/2,m.y=(d.y/t+1)/2,h.push(m.x,m.y)}f+=p}for(let y=0;y<r;y++){let g=y*(n+1);for(let b=0;b<n;b++){let x=b+g,w=x,E=x+n+1,M=x+n+2,C=x+1;o.push(w,E,C),o.push(E,M,C)}}this.setIndex(o),this.setAttribute("position",new Bt(c,3)),this.setAttribute("normal",new Bt(u,3)),this.setAttribute("uv",new Bt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}},t2=class i extends yi{static{l(this,"ShapeGeometry")}constructor(e=new gl([new _t(0,.5),new _t(-.5,-.5),new _t(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};let n=[],r=[],a=[],s=[],o=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(o,c,h),o+=c,c=0;this.setIndex(n),this.setAttribute("position",new Bt(r,3)),this.setAttribute("normal",new Bt(a,3)),this.setAttribute("uv",new Bt(s,2));function u(h){let f=r.length/3,p=h.extractPoints(t),d=p.shape,m=p.holes;fo.isClockWise(d)===!1&&(d=d.reverse());for(let g=0,b=m.length;g<b;g++){let x=m[g];fo.isClockWise(x)===!0&&(m[g]=x.reverse())}let y=fo.triangulateShape(d,m);for(let g=0,b=m.length;g<b;g++){let x=m[g];d=d.concat(x)}for(let g=0,b=d.length;g<b;g++){let x=d[g];r.push(x.x,x.y,0),a.push(0,0,1),s.push(x.x,x.y)}for(let g=0,b=y.length;g<b;g++){let x=y[g],w=x[0]+f,E=x[1]+f,M=x[2]+f;n.push(w,E,M),c+=3}}l(u,"addShape")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON(),t=this.parameters.shapes;return Bbe(t,e)}static fromJSON(e,t){let n=[];for(let r=0,a=e.shapes.length;r<a;r++){let s=t[e.shapes[r]];n.push(s)}return new i(n,e.curveSegments)}};function Bbe(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){let r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}l(Bbe,"toJSON");var ng=class i extends yi{static{l(this,"SphereGeometry")}constructor(e=1,t=32,n=16,r=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));let c=Math.min(s+o,Math.PI),u=0,h=[],f=new Oe,p=new Oe,d=[],m=[],y=[],g=[];for(let b=0;b<=n;b++){let x=[],w=b/n,E=0;b===0&&s===0?E=.5/t:b===n&&c===Math.PI&&(E=-.5/t);for(let M=0;M<=t;M++){let C=M/t;f.x=-e*Math.cos(r+C*a)*Math.sin(s+w*o),f.y=e*Math.cos(s+w*o),f.z=e*Math.sin(r+C*a)*Math.sin(s+w*o),m.push(f.x,f.y,f.z),p.copy(f).normalize(),y.push(p.x,p.y,p.z),g.push(C+E,1-w),x.push(u++)}h.push(x)}for(let b=0;b<n;b++)for(let x=0;x<t;x++){let w=h[b][x+1],E=h[b][x],M=h[b+1][x],C=h[b+1][x+1];(b!==0||s>0)&&d.push(w,E,C),(b!==n-1||c<Math.PI)&&d.push(E,M,C)}this.setIndex(d),this.setAttribute("position",new Bt(m,3)),this.setAttribute("normal",new Bt(y,3)),this.setAttribute("uv",new Bt(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},i2=class i extends Wc{static{l(this,"TetrahedronGeometry")}constructor(e=1,t=0){let n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i(e.radius,e.detail)}},n2=class i extends yi{static{l(this,"TorusGeometry")}constructor(e=1,t=.4,n=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:a},n=Math.floor(n),r=Math.floor(r);let s=[],o=[],c=[],u=[],h=new Oe,f=new Oe,p=new Oe;for(let d=0;d<=n;d++)for(let m=0;m<=r;m++){let y=m/r*a,g=d/n*Math.PI*2;f.x=(e+t*Math.cos(g))*Math.cos(y),f.y=(e+t*Math.cos(g))*Math.sin(y),f.z=t*Math.sin(g),o.push(f.x,f.y,f.z),h.x=e*Math.cos(y),h.y=e*Math.sin(y),p.subVectors(f,h).normalize(),c.push(p.x,p.y,p.z),u.push(m/r),u.push(d/n)}for(let d=1;d<=n;d++)for(let m=1;m<=r;m++){let y=(r+1)*d+m-1,g=(r+1)*(d-1)+m-1,b=(r+1)*(d-1)+m,x=(r+1)*d+m;s.push(y,g,x),s.push(g,b,x)}this.setIndex(s),this.setAttribute("position",new Bt(o,3)),this.setAttribute("normal",new Bt(c,3)),this.setAttribute("uv",new Bt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},r2=class i extends yi{static{l(this,"TorusKnotGeometry")}constructor(e=1,t=.4,n=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:a,q:s},n=Math.floor(n),r=Math.floor(r);let o=[],c=[],u=[],h=[],f=new Oe,p=new Oe,d=new Oe,m=new Oe,y=new Oe,g=new Oe,b=new Oe;for(let w=0;w<=n;++w){let E=w/n*a*Math.PI*2;x(E,a,s,e,d),x(E+.01,a,s,e,m),g.subVectors(m,d),b.addVectors(m,d),y.crossVectors(g,b),b.crossVectors(y,g),y.normalize(),b.normalize();for(let M=0;M<=r;++M){let C=M/r*Math.PI*2,I=-t*Math.cos(C),F=t*Math.sin(C);f.x=d.x+(I*b.x+F*y.x),f.y=d.y+(I*b.y+F*y.y),f.z=d.z+(I*b.z+F*y.z),c.push(f.x,f.y,f.z),p.subVectors(f,d).normalize(),u.push(p.x,p.y,p.z),h.push(w/n),h.push(M/r)}}for(let w=1;w<=n;w++)for(let E=1;E<=r;E++){let M=(r+1)*(w-1)+(E-1),C=(r+1)*w+(E-1),I=(r+1)*w+E,F=(r+1)*(w-1)+E;o.push(M,C,F),o.push(C,I,F)}this.setIndex(o),this.setAttribute("position",new Bt(c,3)),this.setAttribute("normal",new Bt(u,3)),this.setAttribute("uv",new Bt(h,2));function x(w,E,M,C,I){let F=Math.cos(w),A=Math.sin(w),T=M/E*w,j=Math.cos(T);I.x=C*(2+j)*.5*F,I.y=C*(2+j)*A*.5,I.z=C*Math.sin(T)*.5}l(x,"calculatePositionOnCurve")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}},a2=class i extends yi{static{l(this,"TubeGeometry")}constructor(e=new Z0(new Oe(-1,-1,0),new Oe(-1,1,0),new Oe(1,1,0)),t=64,n=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:a};let s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;let o=new Oe,c=new Oe,u=new _t,h=new Oe,f=[],p=[],d=[],m=[];y(),this.setIndex(m),this.setAttribute("position",new Bt(f,3)),this.setAttribute("normal",new Bt(p,3)),this.setAttribute("uv",new Bt(d,2));function y(){for(let w=0;w<t;w++)g(w);g(a===!1?t:0),x(),b()}l(y,"generateBufferData");function g(w){h=e.getPointAt(w/t,h);let E=s.normals[w],M=s.binormals[w];for(let C=0;C<=r;C++){let I=C/r*Math.PI*2,F=Math.sin(I),A=-Math.cos(I);c.x=A*E.x+F*M.x,c.y=A*E.y+F*M.y,c.z=A*E.z+F*M.z,c.normalize(),p.push(c.x,c.y,c.z),o.x=h.x+n*c.x,o.y=h.y+n*c.y,o.z=h.z+n*c.z,f.push(o.x,o.y,o.z)}}l(g,"generateSegment");function b(){for(let w=1;w<=t;w++)for(let E=1;E<=r;E++){let M=(r+1)*(w-1)+(E-1),C=(r+1)*w+(E-1),I=(r+1)*w+E,F=(r+1)*(w-1)+E;m.push(M,C,F),m.push(C,I,F)}}l(b,"generateIndices");function x(){for(let w=0;w<=t;w++)for(let E=0;E<=r;E++)u.x=w/t,u.y=E/r,d.push(u.x,u.y)}l(x,"generateUVs")}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new i(new lR[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}},s2=class extends yi{static{l(this,"WireframeGeometry")}constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){let t=[],n=new Set,r=new Oe,a=new Oe;if(e.index!==null){let s=e.attributes.position,o=e.index,c=e.groups;c.length===0&&(c=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,h=c.length;u<h;++u){let f=c[u],p=f.start,d=f.count;for(let m=p,y=p+d;m<y;m+=3)for(let g=0;g<3;g++){let b=o.getX(m+g),x=o.getX(m+(g+1)%3);r.fromBufferAttribute(s,b),a.fromBufferAttribute(s,x),MD(r,a,n)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{let s=e.attributes.position;for(let o=0,c=s.count/3;o<c;o++)for(let u=0;u<3;u++){let h=3*o+u,f=3*o+(u+1)%3;r.fromBufferAttribute(s,h),a.fromBufferAttribute(s,f),MD(r,a,n)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Bt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}};function MD(i,e,t){let n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}l(MD,"isUniqueEdge");var AD=Object.freeze({__proto__:null,BoxGeometry:Lh,CapsuleGeometry:$w,CircleGeometry:Xw,ConeGeometry:Yw,CylinderGeometry:qp,DodecahedronGeometry:Zw,EdgesGeometry:Jw,ExtrudeGeometry:Kw,IcosahedronGeometry:Qw,LatheGeometry:K0,OctahedronGeometry:ig,PlaneGeometry:D0,PolyhedronGeometry:Wc,RingGeometry:e2,ShapeGeometry:t2,SphereGeometry:ng,TetrahedronGeometry:i2,TorusGeometry:n2,TorusKnotGeometry:r2,TubeGeometry:a2,WireframeGeometry:s2}),o2=class extends ar{static{l(this,"ShadowMaterial")}constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Lt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}},l2=class extends ls{static{l(this,"RawShaderMaterial")}constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}},rg=class extends ar{static{l(this,"MeshStandardMaterial")}constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Lt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$c,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},c2=class extends rg{static{l(this,"MeshPhysicalMaterial")}constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new _t(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return yn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Lt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Lt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Lt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}},u2=class extends ar{static{l(this,"MeshPhongMaterial")}constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Lt(16777215),this.specular=new Lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$c,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=hg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},h2=class extends ar{static{l(this,"MeshToonMaterial")}constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Lt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$c,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},f2=class extends ar{static{l(this,"MeshNormalMaterial")}constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$c,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}},d2=class extends ar{static{l(this,"MeshLambertMaterial")}constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$c,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=hg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},p2=class extends ar{static{l(this,"MeshMatcapMaterial")}constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Lt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$c,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}},m2=class extends hr{static{l(this,"LineDashedMaterial")}constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}};function ss(i,e,t){return cR(i)?new i.constructor(i.subarray(e,t!==void 0?t:i.length)):i.slice(e,t)}l(ss,"arraySlice");function Rh(i,e,t){return!i||!t&&i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}l(Rh,"convertArray");function cR(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}l(cR,"isTypedArray");function s7(i){function e(r,a){return i[r]-i[a]}l(e,"compareTime");let t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}l(s7,"getKeyframeOrder");function e5(i,e,t){let n=i.length,r=new i.constructor(n);for(let a=0,s=0;s!==n;++a){let o=t[a]*e;for(let c=0;c!==e;++c)r[s++]=i[o+c]}return r}l(e5,"sortedArray");function uR(i,e,t,n){let r=1,a=i[0];for(;a!==void 0&&a[n]===void 0;)a=i[r++];if(a===void 0)return;let s=a[n];if(s!==void 0)if(Array.isArray(s))do s=a[n],s!==void 0&&(e.push(a.time),t.push.apply(t,s)),a=i[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[n],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=i[r++];while(a!==void 0);else do s=a[n],s!==void 0&&(e.push(a.time),t.push(s)),a=i[r++];while(a!==void 0)}l(uR,"flattenJSON");function Fbe(i,e,t,n,r=30){let a=i.clone();a.name=e;let s=[];for(let c=0;c<a.tracks.length;++c){let u=a.tracks[c],h=u.getValueSize(),f=[],p=[];for(let d=0;d<u.times.length;++d){let m=u.times[d]*r;if(!(m<t||m>=n)){f.push(u.times[d]);for(let y=0;y<h;++y)p.push(u.values[d*h+y])}}f.length!==0&&(u.times=Rh(f,u.times.constructor),u.values=Rh(p,u.values.constructor),s.push(u))}a.tracks=s;let o=1/0;for(let c=0;c<a.tracks.length;++c)o>a.tracks[c].times[0]&&(o=a.tracks[c].times[0]);for(let c=0;c<a.tracks.length;++c)a.tracks[c].shift(-1*o);return a.resetDuration(),a}l(Fbe,"subclip");function Ube(i,e=0,t=i,n=30){n<=0&&(n=30);let r=t.tracks.length,a=e/n;for(let s=0;s<r;++s){let o=t.tracks[s],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;let u=i.tracks.find(function(b){return b.name===o.name&&b.ValueTypeName===c});if(u===void 0)continue;let h=0,f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=f/3);let p=0,d=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=d/3);let m=o.times.length-1,y;if(a<=o.times[0]){let b=h,x=f-h;y=ss(o.values,b,x)}else if(a>=o.times[m]){let b=m*f+h,x=b+f-h;y=ss(o.values,b,x)}else{let b=o.createInterpolant(),x=h,w=f-h;b.evaluate(a),y=ss(b.resultBuffer,x,w)}c==="quaternion"&&new Sr().fromArray(y).normalize().conjugate().toArray(y);let g=u.times.length;for(let b=0;b<g;++b){let x=b*d+p;if(c==="quaternion")Sr.multiplyQuaternionsFlat(u.values,x,y,0,u.values,x);else{let w=d-p*2;for(let E=0;E<w;++E)u.values[x+E]-=y[E]}}}return i.blendMode=iR,i}l(Ube,"makeClipAdditive");var zbe={arraySlice:ss,convertArray:Rh,isTypedArray:cR,getKeyframeOrder:s7,sortedArray:e5,flattenJSON:uR,subclip:Fbe,makeClipAdditive:Ube},Uh=class{static{l(this,"Interpolant")}constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,n=this._cachedIndex,r=t[n],a=t[n-1];e:{t:{let s;i:{n:if(!(e<r)){for(let o=n+2;;){if(r===void 0){if(e<a)break n;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(a=r,r=t[++n],e<r)break t}s=t.length;break i}if(!(e>=a)){let o=t[1];e<o&&(n=2,a=o);for(let c=n-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===c)break;if(r=a,a=t[--n-1],e>=a)break t}s=n,n=0;break i}break e}for(;n<s;){let o=n+s>>>1;e<t[o]?s=o:n=o+1}if(r=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,r)}return this.interpolate_(n,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)t[s]=n[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},_2=class extends Uh{static{l(this,"CubicInterpolant")}constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Th,endingEnd:Th}}intervalChanged_(e,t,n){let r=this.parameterPositions,a=e-2,s=e+1,o=r[a],c=r[s];if(o===void 0)switch(this.getSettings_().endingStart){case kh:a=e,o=2*t-n;break;case I0:a=r.length-2,o=t+r[a]-r[a+1];break;default:a=e,o=n}if(c===void 0)switch(this.getSettings_().endingEnd){case kh:s=e,c=2*n-t;break;case I0:s=1,c=n+r[1]-r[0];break;default:s=e-1,c=t}let u=(n-t)*.5,h=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(c-n),this._offsetPrev=a*h,this._offsetNext=s*h}interpolate_(e,t,n,r){let a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,h=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,d=this._weightNext,m=(n-t)/(r-t),y=m*m,g=y*m,b=-p*g+2*p*y-p*m,x=(1+p)*g+(-1.5-2*p)*y+(-.5+p)*m+1,w=(-1-d)*g+(1.5+d)*y+.5*m,E=d*g-d*y;for(let M=0;M!==o;++M)a[M]=b*s[h+M]+x*s[u+M]+w*s[c+M]+E*s[f+M];return a}},ag=class extends Uh{static{l(this,"LinearInterpolant")}constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){let a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,h=(n-t)/(r-t),f=1-h;for(let p=0;p!==o;++p)a[p]=s[u+p]*f+s[c+p]*h;return a}},g2=class extends Uh{static{l(this,"DiscreteInterpolant")}constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}},Ca=class{static{l(this,"KeyframeTrack")}constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Rh(t,this.TimeBufferType),this.values=Rh(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Rh(e.times,Array),values:Rh(e.values,Array)};let r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new g2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ag(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new _2(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case R0:t=this.InterpolantFactoryMethodDiscrete;break;case P0:t=this.InterpolantFactoryMethodLinear;break;case vw:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return R0;case this.InterpolantFactoryMethodLinear:return P0;case this.InterpolantFactoryMethodSmooth:return vw}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){let n=this.times,r=n.length,a=0,s=r-1;for(;a!==r&&n[a]<e;)++a;for(;s!==-1&&n[s]>t;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);let o=this.getValueSize();this.times=ss(n,a,s),this.values=ss(this.values,a*o,s*o)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let n=this.times,r=this.values,a=n.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){let c=n[o];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(s!==null&&s>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,c,s),e=!1;break}s=c}if(r!==void 0&&cR(r))for(let o=0,c=r.length;o!==c;++o){let u=r[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){let e=ss(this.times),t=ss(this.values),n=this.getValueSize(),r=this.getInterpolation()===vw,a=e.length-1,s=1;for(let o=1;o<a;++o){let c=!1,u=e[o],h=e[o+1];if(u!==h&&(o!==1||u!==e[0]))if(r)c=!0;else{let f=o*n,p=f-n,d=f+n;for(let m=0;m!==n;++m){let y=t[f+m];if(y!==t[p+m]||y!==t[d+m]){c=!0;break}}}if(c){if(o!==s){e[s]=e[o];let f=o*n,p=s*n;for(let d=0;d!==n;++d)t[p+d]=t[f+d]}++s}}if(a>0){e[s]=e[a];for(let o=a*n,c=s*n,u=0;u!==n;++u)t[c+u]=t[o+u];++s}return s!==e.length?(this.times=ss(e,0,s),this.values=ss(t,0,s*n)):(this.times=e,this.values=t),this}clone(){let e=ss(this.times,0),t=ss(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}};Ca.prototype.TimeBufferType=Float32Array;Ca.prototype.ValueBufferType=Float32Array;Ca.prototype.DefaultInterpolation=P0;var yl=class extends Ca{static{l(this,"BooleanKeyframeTrack")}};yl.prototype.ValueTypeName="bool";yl.prototype.ValueBufferType=Array;yl.prototype.DefaultInterpolation=R0;yl.prototype.InterpolantFactoryMethodLinear=void 0;yl.prototype.InterpolantFactoryMethodSmooth=void 0;var sg=class extends Ca{static{l(this,"ColorKeyframeTrack")}};sg.prototype.ValueTypeName="color";var zh=class extends Ca{static{l(this,"NumberKeyframeTrack")}};zh.prototype.ValueTypeName="number";var b2=class extends Uh{static{l(this,"QuaternionLinearInterpolant")}constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){let a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=(n-t)/(r-t),u=e*o;for(let h=u+o;u!==h;u+=4)Sr.slerpFlat(a,0,s,u-o,s,u,c);return a}},jc=class extends Ca{static{l(this,"QuaternionKeyframeTrack")}InterpolantFactoryMethodLinear(e){return new b2(this.times,this.values,this.getValueSize(),e)}};jc.prototype.ValueTypeName="quaternion";jc.prototype.DefaultInterpolation=P0;jc.prototype.InterpolantFactoryMethodSmooth=void 0;var vl=class extends Ca{static{l(this,"StringKeyframeTrack")}};vl.prototype.ValueTypeName="string";vl.prototype.ValueBufferType=Array;vl.prototype.DefaultInterpolation=R0;vl.prototype.InterpolantFactoryMethodLinear=void 0;vl.prototype.InterpolantFactoryMethodSmooth=void 0;var Dh=class extends Ca{static{l(this,"VectorKeyframeTrack")}};Dh.prototype.ValueTypeName="vector";var Vh=class{static{l(this,"AnimationClip")}constructor(e,t=-1,n,r=B2){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=ka(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],n=e.tracks,r=1/(e.fps||1);for(let s=0,o=n.length;s!==o;++s)t.push(Vbe(n[s]).scale(r));let a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){let t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=n.length;a!==s;++a)t.push(Ca.toJSON(n[a]));return r}static CreateFromMorphTargetSequence(e,t,n,r){let a=t.length,s=[];for(let o=0;o<a;o++){let c=[],u=[];c.push((o+a-1)%a,o,(o+1)%a),u.push(0,1,0);let h=s7(c);c=e5(c,1,h),u=e5(u,1,h),!r&&c[0]===0&&(c.push(a),u.push(u[0])),s.push(new zh(".morphTargetInfluences["+t[o].name+"]",c,u).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){let r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){let r={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,c=e.length;o<c;o++){let u=e[o],h=u.name.match(a);if(h&&h.length>1){let f=h[1],p=r[f];p||(r[f]=p=[]),p.push(u)}}let s=[];for(let o in r)s.push(this.CreateFromMorphTargetSequence(o,r[o],t,n));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let n=l(function(f,p,d,m,y){if(d.length!==0){let g=[],b=[];uR(d,g,b,m),g.length!==0&&y.push(new f(p,g,b))}},"addNonemptyTrack"),r=[],a=e.name||"default",s=e.fps||30,o=e.blendMode,c=e.length||-1,u=e.hierarchy||[];for(let f=0;f<u.length;f++){let p=u[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){let d={},m;for(m=0;m<p.length;m++)if(p[m].morphTargets)for(let y=0;y<p[m].morphTargets.length;y++)d[p[m].morphTargets[y]]=-1;for(let y in d){let g=[],b=[];for(let x=0;x!==p[m].morphTargets.length;++x){let w=p[m];g.push(w.time),b.push(w.morphTarget===y?1:0)}r.push(new zh(".morphTargetInfluence["+y+"]",g,b))}c=d.length*s}else{let d=".bones["+t[f].name+"]";n(Dh,d+".position",p,"pos",r),n(jc,d+".quaternion",p,"rot",r),n(Dh,d+".scale",p,"scl",r)}}return r.length===0?null:new this(a,c,r,o)}resetDuration(){let e=this.tracks,t=0;for(let n=0,r=e.length;n!==r;++n){let a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function Dbe(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return zh;case"vector":case"vector2":case"vector3":case"vector4":return Dh;case"color":return sg;case"quaternion":return jc;case"bool":case"boolean":return yl;case"string":return vl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}l(Dbe,"getTrackTypeForValueTypeName");function Vbe(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let e=Dbe(i.type);if(i.times===void 0){let t=[],n=[];uR(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}l(Vbe,"parseKeyframeTrack");var qh={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}},og=class{static{l(this,"LoadingManager")}constructor(e,t,n){let r=this,a=!1,s=0,o=0,c,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(h){o++,a===!1&&r.onStart!==void 0&&r.onStart(h,s,o),a=!0},this.itemEnd=function(h){s++,r.onProgress!==void 0&&r.onProgress(h,s,o),s===o&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return c?c(h):h},this.setURLModifier=function(h){return c=h,this},this.addHandler=function(h,f){return u.push(h,f),this},this.removeHandler=function(h){let f=u.indexOf(h);return f!==-1&&u.splice(f,2),this},this.getHandler=function(h){for(let f=0,p=u.length;f<p;f+=2){let d=u[f],m=u[f+1];if(d.global&&(d.lastIndex=0),d.test(h))return m}return null}}},o7=new og,Er=class{static{l(this,"Loader")}constructor(e){this.manager=e!==void 0?e:o7,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let n=this;return new Promise(function(r,a){n.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};Er.DEFAULT_MATERIAL_NAME="__DEFAULT";var ul={},t5=class extends Error{static{l(this,"HttpError")}constructor(e,t){super(e),this.response=t}},Ns=class extends Er{static{l(this,"FileLoader")}constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=qh.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(ul[e]!==void 0){ul[e].push({onLoad:t,onProgress:n,onError:r});return}ul[e]=[],ul[e].push({onLoad:t,onProgress:n,onError:r});let s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,c=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;let h=ul[e],f=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),d=p?parseInt(p):0,m=d!==0,y=0,g=new ReadableStream({start(b){x();function x(){f.read().then(({done:w,value:E})=>{if(w)b.close();else{y+=E.byteLength;let M=new ProgressEvent("progress",{lengthComputable:m,loaded:y,total:d});for(let C=0,I=h.length;C<I;C++){let F=h[C];F.onProgress&&F.onProgress(M)}b.enqueue(E),x()}})}l(x,"readData")}});return new Response(g)}else throw new t5(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,o));case"json":return u.json();default:if(o===void 0)return u.text();{let f=/charset="?([^;"\s]*)"?/i.exec(o),p=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(p);return u.arrayBuffer().then(m=>d.decode(m))}}}).then(u=>{qh.add(e,u);let h=ul[e];delete ul[e];for(let f=0,p=h.length;f<p;f++){let d=h[f];d.onLoad&&d.onLoad(u)}}).catch(u=>{let h=ul[e];if(h===void 0)throw this.manager.itemError(e),u;delete ul[e];for(let f=0,p=h.length;f<p;f++){let d=h[f];d.onError&&d.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},i5=class extends Er{static{l(this,"AnimationLoader")}constructor(e){super(e)}load(e,t,n,r){let a=this,s=new Ns(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),a.manager.itemError(e)}},n,r)}parse(e){let t=[];for(let n=0;n<e.length;n++){let r=Vh.parse(e[n]);t.push(r)}return t}},n5=class extends Er{static{l(this,"CompressedTextureLoader")}constructor(e){super(e)}load(e,t,n,r){let a=this,s=[],o=new $0,c=new Ns(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(a.withCredentials);let u=0;function h(f){c.load(e[f],function(p){let d=a.parse(p,!0);s[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},u+=1,u===6&&(d.mipmapCount===1&&(o.minFilter=In),o.image=s,o.format=d.format,o.needsUpdate=!0,t&&t(o))},n,r)}if(l(h,"loadTexture"),Array.isArray(e))for(let f=0,p=e.length;f<p;++f)h(f);else c.load(e,function(f){let p=a.parse(f,!0);if(p.isCubemap){let d=p.mipmaps.length/p.mipmapCount;for(let m=0;m<d;m++){s[m]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)s[m].mipmaps.push(p.mipmaps[m*p.mipmapCount+y]),s[m].format=p.format,s[m].width=p.width,s[m].height=p.height}o.image=s}else o.image.width=p.width,o.image.height=p.height,o.mipmaps=p.mipmaps;p.mipmapCount===1&&(o.minFilter=In),o.format=p.format,o.needsUpdate=!0,t&&t(o)},n,r);return o}},Hh=class extends Er{static{l(this,"ImageLoader")}constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=this,s=qh.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;let o=N0("img");function c(){h(),qh.add(e,this),t&&t(this),a.manager.itemEnd(e)}l(c,"onImageLoad");function u(f){h(),r&&r(f),a.manager.itemError(e),a.manager.itemEnd(e)}l(u,"onImageError");function h(){o.removeEventListener("load",c,!1),o.removeEventListener("error",u,!1)}return l(h,"removeEventListeners"),o.addEventListener("load",c,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}},r5=class extends Er{static{l(this,"CubeTextureLoader")}constructor(e){super(e)}load(e,t,n,r){let a=new Nh;a.colorSpace=ri;let s=new Hh(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function c(u){s.load(e[u],function(h){a.images[u]=h,o++,o===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}l(c,"loadTexture");for(let u=0;u<e.length;++u)c(u);return a}},a5=class extends Er{static{l(this,"DataTextureLoader")}constructor(e){super(e)}load(e,t,n,r){let a=this,s=new zc,o=new Ns(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(c){let u=a.parse(c);u&&(u.image!==void 0?s.image=u.image:u.data!==void 0&&(s.image.width=u.width,s.image.height=u.height,s.image.data=u.data),s.wrapS=u.wrapS!==void 0?u.wrapS:xr,s.wrapT=u.wrapT!==void 0?u.wrapT:xr,s.magFilter=u.magFilter!==void 0?u.magFilter:In,s.minFilter=u.minFilter!==void 0?u.minFilter:In,s.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?s.colorSpace=u.colorSpace:u.encoding!==void 0&&(s.encoding=u.encoding),u.flipY!==void 0&&(s.flipY=u.flipY),u.format!==void 0&&(s.format=u.format),u.type!==void 0&&(s.type=u.type),u.mipmaps!==void 0&&(s.mipmaps=u.mipmaps,s.minFilter=qc),u.mipmapCount===1&&(s.minFilter=In),u.generateMipmaps!==void 0&&(s.generateMipmaps=u.generateMipmaps),s.needsUpdate=!0,t&&t(s,u))},n,r),s}},s5=class extends Er{static{l(this,"TextureLoader")}constructor(e){super(e)}load(e,t,n,r){let a=new Wn,s=new Hh(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},n,r),a}},_o=class extends Oi{static{l(this,"Light")}constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Lt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}},y2=class extends _o{static{l(this,"HemisphereLight")}constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Oi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Lt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},Y4=new ai,TD=new Oe,kD=new Oe,lg=class{static{l(this,"LightShadow")}constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _t(512,512),this.map=null,this.mapPass=null,this.matrix=new ai,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Fp,this._frameExtents=new _t(1,1),this._viewportCount=1,this._viewports=[new Hi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,n=this.matrix;TD.setFromMatrixPosition(e.matrixWorld),t.position.copy(TD),kD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(kD),t.updateMatrixWorld(),Y4.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Y4),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Y4)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},o5=class extends lg{static{l(this,"SpotLightShadow")}constructor(){super(new Hn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,n=Cp*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(n!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},v2=class extends _o{static{l(this,"SpotLight")}constructor(e,t,n=0,r=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Oi.DEFAULT_UP),this.updateMatrix(),this.target=new Oi,this.distance=n,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new o5}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},RD=new ai,_0=new Oe,Z4=new Oe,l5=class extends lg{static{l(this,"PointLightShadow")}constructor(){super(new Hn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new _t(4,2),this._viewportCount=6,this._viewports=[new Hi(2,1,1,1),new Hi(0,1,1,1),new Hi(3,1,1,1),new Hi(1,1,1,1),new Hi(3,0,1,1),new Hi(1,0,1,1)],this._cubeDirections=[new Oe(1,0,0),new Oe(-1,0,0),new Oe(0,0,1),new Oe(0,0,-1),new Oe(0,1,0),new Oe(0,-1,0)],this._cubeUps=[new Oe(0,1,0),new Oe(0,1,0),new Oe(0,1,0),new Oe(0,1,0),new Oe(0,0,1),new Oe(0,0,-1)]}updateMatrices(e,t=0){let n=this.camera,r=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),_0.setFromMatrixPosition(e.matrixWorld),n.position.copy(_0),Z4.copy(n.position),Z4.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Z4),n.updateMatrixWorld(),r.makeTranslation(-_0.x,-_0.y,-_0.z),RD.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(RD)}},w2=class extends _o{static{l(this,"PointLight")}constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new l5}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},c5=class extends lg{static{l(this,"DirectionalLightShadow")}constructor(){super(new Up(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},x2=class extends _o{static{l(this,"DirectionalLight")}constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Oi.DEFAULT_UP),this.updateMatrix(),this.target=new Oi,this.shadow=new c5}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},S2=class extends _o{static{l(this,"AmbientLight")}constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}},E2=class extends _o{static{l(this,"RectAreaLight")}constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){let t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}},M2=class{static{l(this,"SphericalHarmonics3")}constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Oe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){let n=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],1.092548*(n*r)),t.addScaledVector(s[5],1.092548*(r*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(n*a)),t.addScaledVector(s[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){let n=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*r),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*n),t.addScaledVector(s[4],2*.429043*n*r),t.addScaledVector(s[5],2*.429043*r*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*n*a),t.addScaledVector(s[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){let n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){let n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){let n=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-r*r)}},Hp=class extends _o{static{l(this,"LightProbe")}constructor(e=new M2,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){let t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}},A2=class i extends Er{static{l(this,"MaterialLoader")}constructor(e){super(e),this.textures={}}load(e,t,n,r){let a=this,s=new Ns(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),a.manager.itemError(e)}},n,r)}parse(e){let t=this.textures;function n(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}l(n,"getTexture");let r=i.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Lt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(let a in e.uniforms){let s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=n(s.value);break;case"c":r.uniforms[a].value=new Lt().setHex(s.value);break;case"v2":r.uniforms[a].value=new _t().fromArray(s.value);break;case"v3":r.uniforms[a].value=new Oe().fromArray(s.value);break;case"v4":r.uniforms[a].value=new Hi().fromArray(s.value);break;case"m3":r.uniforms[a].value=new pi().fromArray(s.value);break;case"m4":r.uniforms[a].value=new ai().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(let a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new _t().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new _t().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){let t={ShadowMaterial:o2,SpriteMaterial:G0,RawShaderMaterial:l2,ShaderMaterial:ls,PointsMaterial:j0,MeshPhysicalMaterial:c2,MeshStandardMaterial:rg,MeshPhongMaterial:u2,MeshToonMaterial:h2,MeshNormalMaterial:f2,MeshLambertMaterial:d2,MeshDepthMaterial:q0,MeshDistanceMaterial:H0,MeshBasicMaterial:po,MeshMatcapMaterial:p2,LineDashedMaterial:m2,LineBasicMaterial:hr,Material:ar};return new t[e]}},cg=class{static{l(this,"LoaderUtils")}static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){let t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}},T2=class extends yi{static{l(this,"InstancedBufferGeometry")}constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},k2=class extends Er{static{l(this,"BufferGeometryLoader")}constructor(e){super(e)}load(e,t,n,r){let a=this,s=new Ns(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),a.manager.itemError(e)}},n,r)}parse(e){let t={},n={};function r(d,m){if(t[m]!==void 0)return t[m];let g=d.interleavedBuffers[m],b=a(d,g.buffer),x=Ap(g.type,b),w=new zp(x,g.stride);return w.uuid=g.uuid,t[m]=w,w}l(r,"getInterleavedBuffer");function a(d,m){if(n[m]!==void 0)return n[m];let g=d.arrayBuffers[m],b=new Uint32Array(g).buffer;return n[m]=b,b}l(a,"getArrayBuffer");let s=e.isInstancedBufferGeometry?new T2:new yi,o=e.data.index;if(o!==void 0){let d=Ap(o.type,o.array);s.setIndex(new Gi(d,1))}let c=e.data.attributes;for(let d in c){let m=c[d],y;if(m.isInterleavedBufferAttribute){let g=r(e.data,m.data);y=new Oh(g,m.itemSize,m.offset,m.normalized)}else{let g=Ap(m.type,m.array),b=m.isInstancedBufferAttribute?Gc:Gi;y=new b(g,m.itemSize,m.normalized)}m.name!==void 0&&(y.name=m.name),m.usage!==void 0&&y.setUsage(m.usage),m.updateRange!==void 0&&(y.updateRange.offset=m.updateRange.offset,y.updateRange.count=m.updateRange.count),s.setAttribute(d,y)}let u=e.data.morphAttributes;if(u)for(let d in u){let m=u[d],y=[];for(let g=0,b=m.length;g<b;g++){let x=m[g],w;if(x.isInterleavedBufferAttribute){let E=r(e.data,x.data);w=new Oh(E,x.itemSize,x.offset,x.normalized)}else{let E=Ap(x.type,x.array);w=new Gi(E,x.itemSize,x.normalized)}x.name!==void 0&&(w.name=x.name),y.push(w)}s.morphAttributes[d]=y}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);let f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,m=f.length;d!==m;++d){let y=f[d];s.addGroup(y.start,y.count,y.materialIndex)}let p=e.data.boundingSphere;if(p!==void 0){let d=new Oe;p.center!==void 0&&d.fromArray(p.center),s.boundingSphere=new Pa(d,p.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}},u5=class extends Er{static{l(this,"ObjectLoader")}constructor(e){super(e)}load(e,t,n,r){let a=this,s=this.path===""?cg.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;let o=new Ns(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){let u=null;try{u=JSON.parse(c)}catch(f){r!==void 0&&r(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}let h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(u,t)},n,r)}async loadAsync(e,t){let n=this,r=this.path===""?cg.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;let a=new Ns(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);let s=await a.loadAsync(e,t),o=JSON.parse(s),c=o.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(o)}parse(e,t){let n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,s),c=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,a,c,o,n),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),t!==void 0){let f=!1;for(let p in s)if(s[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){let t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,r,o,s,t),u=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,u),c}parseShapes(e){let t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){let a=new gl().fromJSON(e[n]);t[a.uuid]=a}return t}parseSkeletons(e,t){let n={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){let o=new Uw().fromJSON(e[a],r);n[o.uuid]=o}return n}parseGeometries(e,t){let n={};if(e!==void 0){let r=new k2;for(let a=0,s=e.length;a<s;a++){let o,c=e[a];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(c);break;default:c.type in AD?o=AD[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}o.uuid=c.uuid,c.name!==void 0&&(o.name=c.name),c.userData!==void 0&&(o.userData=c.userData),n[c.uuid]=o}}return n}parseMaterials(e,t){let n={},r={};if(e!==void 0){let a=new A2;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){let c=e[s];n[c.uuid]===void 0&&(n[c.uuid]=a.parse(c)),r[c.uuid]=n[c.uuid]}}return r}parseAnimations(e){let t={};if(e!==void 0)for(let n=0;n<e.length;n++){let r=e[n],a=Vh.parse(r);t[a.uuid]=a}return t}parseImages(e,t){let n=this,r={},a;function s(c){return n.manager.itemStart(c),a.load(c,function(){n.manager.itemEnd(c)},void 0,function(){n.manager.itemError(c),n.manager.itemEnd(c)})}l(s,"loadImage");function o(c){if(typeof c=="string"){let u=c,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:n.resourcePath+u;return s(h)}else return c.data?{data:Ap(c.type,c.data),width:c.width,height:c.height}:null}if(l(o,"deserializeImage"),e!==void 0&&e.length>0){let c=new og(t);a=new Hh(c),a.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){let f=e[u],p=f.url;if(Array.isArray(p)){let d=[];for(let m=0,y=p.length;m<y;m++){let g=p[m],b=o(g);b!==null&&(b instanceof HTMLImageElement?d.push(b):d.push(new zc(b.data,b.width,b.height)))}r[f.uuid]=new dl(d)}else{let d=o(f.url);r[f.uuid]=new dl(d)}}}return r}async parseImagesAsync(e){let t=this,n={},r;async function a(s){if(typeof s=="string"){let o=s,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(c)}else return s.data?{data:Ap(s.type,s.data),width:s.width,height:s.height}:null}if(l(a,"deserializeImage"),e!==void 0&&e.length>0){r=new Hh(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){let c=e[s],u=c.url;if(Array.isArray(u)){let h=[];for(let f=0,p=u.length;f<p;f++){let d=u[f],m=await a(d);m!==null&&(m instanceof HTMLImageElement?h.push(m):h.push(new zc(m.data,m.width,m.height)))}n[c.uuid]=new dl(h)}else{let h=await a(c.url);n[c.uuid]=new dl(h)}}}return n}parseTextures(e,t){function n(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}l(n,"parseConstant");let r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){let o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);let c=t[o.image],u=c.data,h;Array.isArray(u)?(h=new Nh,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new zc:h=new Wn,u&&(h.needsUpdate=!0)),h.source=c,h.uuid=o.uuid,o.name!==void 0&&(h.name=o.name),o.mapping!==void 0&&(h.mapping=n(o.mapping,qbe)),o.channel!==void 0&&(h.channel=o.channel),o.offset!==void 0&&h.offset.fromArray(o.offset),o.repeat!==void 0&&h.repeat.fromArray(o.repeat),o.center!==void 0&&h.center.fromArray(o.center),o.rotation!==void 0&&(h.rotation=o.rotation),o.wrap!==void 0&&(h.wrapS=n(o.wrap[0],PD),h.wrapT=n(o.wrap[1],PD)),o.format!==void 0&&(h.format=o.format),o.internalFormat!==void 0&&(h.internalFormat=o.internalFormat),o.type!==void 0&&(h.type=o.type),o.colorSpace!==void 0&&(h.colorSpace=o.colorSpace),o.encoding!==void 0&&(h.encoding=o.encoding),o.minFilter!==void 0&&(h.minFilter=n(o.minFilter,ID)),o.magFilter!==void 0&&(h.magFilter=n(o.magFilter,ID)),o.anisotropy!==void 0&&(h.anisotropy=o.anisotropy),o.flipY!==void 0&&(h.flipY=o.flipY),o.generateMipmaps!==void 0&&(h.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(h.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(h.compareFunction=o.compareFunction),o.userData!==void 0&&(h.userData=o.userData),r[o.uuid]=h}return r}parseObject(e,t,n,r,a){let s;function o(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}l(o,"getGeometry");function c(p){if(p!==void 0){if(Array.isArray(p)){let d=[];for(let m=0,y=p.length;m<y;m++){let g=p[m];n[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),d.push(n[g])}return d}return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),n[p]}}l(c,"getMaterial");function u(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}l(u,"getTexture");let h,f;switch(e.type){case"Scene":s=new Nw,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Lt(e.background):s.background=u(e.background)),e.environment!==void 0&&(s.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Lw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Cw(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":s=new Hn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Up(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new S2(e.color,e.intensity);break;case"DirectionalLight":s=new x2(e.color,e.intensity);break;case"PointLight":s=new w2(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new E2(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new v2(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new y2(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new Hp().fromJSON(e);break;case"SkinnedMesh":h=o(e.geometry),f=c(e.material),s=new Fw(h,f),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":h=o(e.geometry),f=c(e.material),s=new Gn(h,f);break;case"InstancedMesh":h=o(e.geometry),f=c(e.material);let p=e.count,d=e.instanceMatrix,m=e.instanceColor;s=new zw(h,f,p),s.instanceMatrix=new Gc(new Float32Array(d.array),16),m!==void 0&&(s.instanceColor=new Gc(new Float32Array(m.array),m.itemSize));break;case"LOD":s=new Bw;break;case"Line":s=new mo(o(e.geometry),c(e.material));break;case"LineLoop":s=new Dw(o(e.geometry),c(e.material));break;case"LineSegments":s=new cs(o(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new Vw(o(e.geometry),c(e.material));break;case"Sprite":s=new Ow(c(e.material));break;case"Group":s=new Nc;break;case"Bone":s=new W0;break;default:s=new Oi}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){let p=e.children;for(let d=0;d<p.length;d++)s.add(this.parseObject(p[d],t,n,r,a))}if(e.animations!==void 0){let p=e.animations;for(let d=0;d<p.length;d++){let m=p[d];s.animations.push(a[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);let p=e.levels;for(let d=0;d<p.length;d++){let m=p[d],y=s.getObjectByProperty("uuid",m.object);y!==void 0&&s.addLevel(y,m.distance,m.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){let r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}},qbe={UVMapping:N2,CubeReflectionMapping:Dc,CubeRefractionMapping:Vc,EquirectangularReflectionMapping:M0,EquirectangularRefractionMapping:A0,CubeUVReflectionMapping:Gp},PD={RepeatWrapping:T0,ClampToEdgeWrapping:xr,MirroredRepeatWrapping:k0},ID={NearestFilter:Pn,NearestMipmapNearestFilter:Sw,NearestMipmapLinearFilter:y0,LinearFilter:In,LinearMipmapNearestFilter:Y5,LinearMipmapLinearFilter:qc},h5=class extends Er{static{l(this,"ImageBitmapLoader")}constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let a=this,s=qh.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;let o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){qh.add(e,c),t&&t(c),a.manager.itemEnd(e)}).catch(function(c){r&&r(c),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}},lw,ug=class{static{l(this,"AudioContext")}static getContext(){return lw===void 0&&(lw=new(window.AudioContext||window.webkitAudioContext)),lw}static setContext(e){lw=e}},f5=class extends Er{static{l(this,"AudioLoader")}constructor(e){super(e)}load(e,t,n,r){let a=this,s=new Ns(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(c){try{let u=c.slice(0);ug.getContext().decodeAudioData(u,function(f){t(f)},o)}catch(u){o(u)}},n,r);function o(c){r?r(c):console.error(c),a.manager.itemError(e)}l(o,"handleError")}},d5=class extends Hp{static{l(this,"HemisphereLightProbe")}constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;let r=new Lt().set(e),a=new Lt().set(t),s=new Oe(r.r,r.g,r.b),o=new Oe(a.r,a.g,a.b),c=Math.sqrt(Math.PI),u=c*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(o).multiplyScalar(c),this.sh.coefficients[1].copy(s).sub(o).multiplyScalar(u)}},p5=class extends Hp{static{l(this,"AmbientLightProbe")}constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;let n=new Lt().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}},CD=new ai,LD=new ai,yh=new ai,m5=class{static{l(this,"StereoCamera")}constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Hn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Hn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){let t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,yh.copy(e.projectionMatrix);let r=t.eyeSep/2,a=r*t.near/t.focus,s=t.near*Math.tan(Ih*t.fov*.5)/t.zoom,o,c;LD.elements[12]=-r,CD.elements[12]=r,o=-s*t.aspect+a,c=s*t.aspect+a,yh.elements[0]=2*t.near/(c-o),yh.elements[8]=(c+o)/(c-o),this.cameraL.projectionMatrix.copy(yh),o=-s*t.aspect-a,c=s*t.aspect-a,yh.elements[0]=2*t.near/(c-o),yh.elements[8]=(c+o)/(c-o),this.cameraR.projectionMatrix.copy(yh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(LD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(CD)}},R2=class{static{l(this,"Clock")}constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ND(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=ND();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function ND(){return(typeof performance>"u"?Date:performance).now()}l(ND,"now");var vh=new Oe,OD=new Sr,Hbe=new Oe,wh=new Oe,_5=class extends Oi{static{l(this,"AudioListener")}constructor(){super(),this.type="AudioListener",this.context=ug.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new R2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);let t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(vh,OD,Hbe),wh.set(0,0,-1).applyQuaternion(OD),t.positionX){let r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(vh.x,r),t.positionY.linearRampToValueAtTime(vh.y,r),t.positionZ.linearRampToValueAtTime(vh.z,r),t.forwardX.linearRampToValueAtTime(wh.x,r),t.forwardY.linearRampToValueAtTime(wh.y,r),t.forwardZ.linearRampToValueAtTime(wh.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(vh.x,vh.y,vh.z),t.setOrientation(wh.x,wh.y,wh.z,n.x,n.y,n.z)}},P2=class extends Oi{static{l(this,"Audio")}constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;let t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},xh=new Oe,BD=new Sr,Gbe=new Oe,Sh=new Oe,g5=class extends P2{static{l(this,"PositionalAudio")}constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(xh,BD,Gbe),Sh.set(0,0,1).applyQuaternion(BD);let t=this.panner;if(t.positionX){let n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(xh.x,n),t.positionY.linearRampToValueAtTime(xh.y,n),t.positionZ.linearRampToValueAtTime(xh.z,n),t.orientationX.linearRampToValueAtTime(Sh.x,n),t.orientationY.linearRampToValueAtTime(Sh.y,n),t.orientationZ.linearRampToValueAtTime(Sh.z,n)}else t.setPosition(xh.x,xh.y,xh.z),t.setOrientation(Sh.x,Sh.y,Sh.z)}},b5=class{static{l(this,"AudioAnalyser")}constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0,t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}},I2=class{static{l(this,"PropertyMixer")}constructor(e,t,n){this.binding=e,this.valueSize=n;let r,a,s;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let n=this.buffer,r=this.valueSize,a=e*r+r,s=this.cumulativeWeight;if(s===0){for(let o=0;o!==r;++o)n[a+o]=n[o];s=t}else{s+=t;let o=t/s;this._mixBufferRegion(n,a,0,o,r)}this.cumulativeWeight=s}accumulateAdditive(e){let t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,n=this.buffer,r=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){let c=t*this._origIndex;this._mixBufferRegion(n,r,c,1-a,t)}s>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let c=t,u=t+t;c!==u;++c)if(n[c]!==n[c+t]){o.setValue(n,r);break}}saveOriginalState(){let e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let a=n,s=r;a!==s;++a)t[a]=t[r+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[t+s]=e[n+s]}_slerp(e,t,n,r){Sr.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,a){let s=this._workIndex*a;Sr.multiplyQuaternionsFlat(e,s,e,t,e,n),Sr.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,n,r,a){let s=1-r;for(let o=0;o!==a;++o){let c=t+o;e[c]=e[c]*s+e[n+o]*r}}_lerpAdditive(e,t,n,r,a){for(let s=0;s!==a;++s){let o=t+s;e[o]=e[o]+e[n+s]*r}}},hR="\\[\\]\\.:\\/",Wbe=new RegExp("["+hR+"]","g"),fR="[^"+hR+"]",jbe="[^"+hR.replace("\\.","")+"]",$be=/((?:WC+[\/:])*)/.source.replace("WC",fR),Xbe=/(WCOD+)?/.source.replace("WCOD",jbe),Ybe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",fR),Zbe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",fR),Jbe=new RegExp("^"+$be+Xbe+Ybe+Zbe+"$"),Kbe=["material","materials","bones","map"],y5=class{static{l(this,"Composite")}constructor(e,t,n){let r=n||qi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();let n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){let n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=n.length;r!==a;++r)n[r].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},qi=class i{static{l(this,"PropertyBinding")}constructor(e,t,n){this.path=t,this.parsedPath=n||i.parseTrackName(t),this.node=i.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new i.Composite(e,t,n):new i(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Wbe,"")}static parseTrackName(e){let t=Jbe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){let a=n.nodeName.substring(r+1);Kbe.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){let n=l(function(a){for(let s=0;s<a.length;s++){let o=a[s];if(o.name===t||o.uuid===t)return o;let c=n(o.children);if(c)return c}return null},"searchNodeSubtree"),r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,a=t.propertyIndex;if(e||(e=i.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let u=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}let s=e[r];if(s===void 0){let u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};qi.Composite=y5;qi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};qi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};qi.prototype.GetterByBindingType=[qi.prototype._getValue_direct,qi.prototype._getValue_array,qi.prototype._getValue_arrayElement,qi.prototype._getValue_toArray];qi.prototype.SetterByBindingTypeAndVersioning=[[qi.prototype._setValue_direct,qi.prototype._setValue_direct_setNeedsUpdate,qi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[qi.prototype._setValue_array,qi.prototype._setValue_array_setNeedsUpdate,qi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[qi.prototype._setValue_arrayElement,qi.prototype._setValue_arrayElement_setNeedsUpdate,qi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[qi.prototype._setValue_fromArray,qi.prototype._setValue_fromArray_setNeedsUpdate,qi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var v5=class{static{l(this,"AnimationObjectGroup")}constructor(){this.isAnimationObjectGroup=!0,this.uuid=ka(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;let e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};let t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){let e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length,o,c=e.length,u=this.nCachedObjects_;for(let h=0,f=arguments.length;h!==f;++h){let p=arguments[h],d=p.uuid,m=t[d];if(m===void 0){m=c++,t[d]=m,e.push(p);for(let y=0,g=s;y!==g;++y)a[y].push(new qi(p,n[y],r[y]))}else if(m<u){o=e[m];let y=--u,g=e[y];t[g.uuid]=m,e[m]=g,t[d]=y,e[y]=p;for(let b=0,x=s;b!==x;++b){let w=a[b],E=w[y],M=w[m];w[m]=E,M===void 0&&(M=new qi(p,n[b],r[b])),w[y]=M}}else e[m]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){let e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){let c=arguments[s],u=c.uuid,h=t[u];if(h!==void 0&&h>=a){let f=a++,p=e[f];t[p.uuid]=h,e[h]=p,t[u]=f,e[f]=c;for(let d=0,m=r;d!==m;++d){let y=n[d],g=y[f],b=y[h];y[h]=g,y[f]=b}}}this.nCachedObjects_=a}uncache(){let e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,a=this.nCachedObjects_,s=e.length;for(let o=0,c=arguments.length;o!==c;++o){let u=arguments[o],h=u.uuid,f=t[h];if(f!==void 0)if(delete t[h],f<a){let p=--a,d=e[p],m=--s,y=e[m];t[d.uuid]=f,e[f]=d,t[y.uuid]=p,e[p]=y,e.pop();for(let g=0,b=r;g!==b;++g){let x=n[g],w=x[p],E=x[m];x[f]=w,x[p]=E,x.pop()}}else{let p=--s,d=e[p];p>0&&(t[d.uuid]=f),e[f]=d,e.pop();for(let m=0,y=r;m!==y;++m){let g=n[m];g[f]=g[p],g.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){let n=this._bindingsIndicesByPath,r=n[e],a=this._bindings;if(r!==void 0)return a[r];let s=this._paths,o=this._parsedPaths,c=this._objects,u=c.length,h=this.nCachedObjects_,f=new Array(u);r=a.length,n[e]=r,s.push(e),o.push(t),a.push(f);for(let p=h,d=c.length;p!==d;++p){let m=c[p];f[p]=new qi(m,e,t)}return f}unsubscribe_(e){let t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){let r=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,c=s[o],u=e[o];t[u]=n,s[n]=c,s.pop(),a[n]=a[o],a.pop(),r[n]=r[o],r.pop()}}},C2=class{static{l(this,"AnimationAction")}constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;let a=t.tracks,s=a.length,o=new Array(s),c={endingStart:Th,endingEnd:Th};for(let u=0;u!==s;++u){let h=a[u].createInterpolant(null);o[u]=h,h.settings=c}this._interpolantSettings=c,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=IV,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){let r=this._clip.duration,a=e._clip.duration,s=a/r,o=r/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){let r=this._mixer,a=r.time,s=this.timeScale,o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);let c=o.parameterPositions,u=o.sampleValues;return c[0]=a,c[1]=a+n,u[0]=e/s,u[1]=t/s,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}let a=this._startTime;if(a!==null){let c=(e-a)*n;c<0||n===0?t=0:(this._startTime=null,t=n*c)}t*=this._updateTimeScale(e);let s=this._updateTime(t),o=this._updateWeight(e);if(o>0){let c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case iR:for(let h=0,f=c.length;h!==f;++h)c[h].evaluate(s),u[h].accumulateAdditive(o);break;case B2:default:for(let h=0,f=c.length;h!==f;++h)c[h].evaluate(s),u[h].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let n=this._weightInterpolant;if(n!==null){let r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let n=this._timeScaleInterpolant;if(n!==null){let r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,n=this.loop,r=this.time+e,a=this._loopCount,s=n===CV;if(e===0)return a===-1?r:s&&(a&1)===1?t-r:r;if(n===PV){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=t||r<0){let o=Math.floor(r/t);r-=t*o,a+=Math.abs(o);let c=this.repetitions-a;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){let u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(s&&(a&1)===1)return t-r}return r}_setEndings(e,t,n){let r=this._interpolantSettings;n?(r.endingStart=kh,r.endingEnd=kh):(e?r.endingStart=this.zeroSlopeAtStart?kh:Th:r.endingStart=I0,t?r.endingEnd=this.zeroSlopeAtEnd?kh:Th:r.endingEnd=I0)}_scheduleFading(e,t,n){let r=this._mixer,a=r.time,s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);let o=s.parameterPositions,c=s.sampleValues;return o[0]=a,c[0]=t,o[1]=a+e,c[1]=n,this}},Qbe=new Float32Array(1),w5=class extends Ls{static{l(this,"AnimationMixer")}constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let n=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,o=e._interpolants,c=n.uuid,u=this._bindingsByRootAndName,h=u[c];h===void 0&&(h={},u[c]=h);for(let f=0;f!==a;++f){let p=r[f],d=p.name,m=h[d];if(m!==void 0)++m.referenceCount,s[f]=m;else{if(m=s[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,c,d));continue}let y=t&&t._propertyBindings[f].binding.parsedPath;m=new I2(qi.create(n,d,y),p.ValueTypeName,p.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,c,d),s[f]=m}o[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let n=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,n)}let t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){let a=t[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){let a=t[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){let r=this._actions,a=this._actionsByClip,s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{let o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){let t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;let a=e._clip.uuid,s=this._actionsByClip,o=s[a],c=o.knownActions,u=c[c.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,c[h]=u,c.pop(),e._byClipCacheIndex=null;let f=o.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],c.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){let a=t[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){let t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_takeBackAction(e){let t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_addInactiveBinding(e,t,n){let r=this._bindingsByRootAndName,a=this._bindings,s=r[t];s===void 0&&(s={},r[t]=s),s[n]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){let t=this._bindings,n=e.binding,r=n.rootNode.uuid,a=n.path,s=this._bindingsByRootAndName,o=s[r],c=t[t.length-1],u=e._cacheIndex;c._cacheIndex=u,t[u]=c,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[r]}_lendBinding(e){let t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_takeBackBinding(e){let t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return n===void 0&&(n=new ag(new Float32Array(2),new Float32Array(2),1,Qbe),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){let t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=n,t[n]=a}clipAction(e,t,n){let r=t||this._root,a=r.uuid,s=typeof e=="string"?Vh.findByName(r,e):e,o=s!==null?s.uuid:e,c=this._actionsByClip[o],u=null;if(n===void 0&&(s!==null?n=s.blendMode:n=B2),c!==void 0){let f=c.actionByRoot[a];if(f!==void 0&&f.blendMode===n)return f;u=c.knownActions[0],s===null&&(s=u._clip)}if(s===null)return null;let h=new C2(this,s,t,n);return this._bindAction(h,u),this._addInactiveAction(h,o,a),h}existingAction(e,t){let n=t||this._root,r=n.uuid,a=typeof e=="string"?Vh.findByName(n,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;let t=this._actions,n=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let u=0;u!==n;++u)t[u]._update(r,e,a,s);let o=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)o[u].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,n=e.uuid,r=this._actionsByClip,a=r[n];if(a!==void 0){let s=a.knownActions;for(let o=0,c=s.length;o!==c;++o){let u=s[o];this._deactivateAction(u);let h=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=h,t[h]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}uncacheRoot(e){let t=e.uuid,n=this._actionsByClip;for(let s in n){let o=n[s].actionByRoot,c=o[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}let r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(let s in a){let o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){let n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}},x5=class i{static{l(this,"Uniform")}constructor(e){this.value=e}clone(){return new i(this.value.clone===void 0?this.value:this.value.clone())}},eye=0,S5=class extends Ls{static{l(this,"UniformsGroup")}constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:eye++}),this.name="",this.usage=C0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){let t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;let t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}clone(){return new this.constructor().copy(this)}},E5=class extends zp{static{l(this,"InstancedInterleavedBuffer")}constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){let t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){let t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}},M5=class{static{l(this,"GLBufferAttribute")}constructor(e,t,n,r,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},A5=class{static{l(this,"Raycaster")}constructor(e,t,n=0,r=1/0){this.ray=new Hc(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Np,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return T5(e,this,n,t),n.sort(FD),n}intersectObjects(e,t=!0,n=[]){for(let r=0,a=e.length;r<a;r++)T5(e[r],this,n,t);return n.sort(FD),n}};function FD(i,e){return i.distance-e.distance}l(FD,"ascSort");function T5(i,e,t,n){if(i.layers.test(e.layers)&&i.raycast(e,t),n===!0){let r=i.children;for(let a=0,s=r.length;a<s;a++)T5(r[a],e,t,!0)}}l(T5,"intersectObject");var k5=class{static{l(this,"Spherical")}constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(yn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},R5=class{static{l(this,"Cylindrical")}constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}},UD=new _t,P5=class{static{l(this,"Box2")}constructor(e=new _t(1/0,1/0),t=new _t(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=UD.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,UD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},zD=new Oe,cw=new Oe,I5=class{static{l(this,"Line3")}constructor(e=new Oe,t=new Oe){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){zD.subVectors(e,this.start),cw.subVectors(this.end,this.start);let n=cw.dot(cw),a=cw.dot(zD)/n;return t&&(a=yn(a,0,1)),a}closestPointToPoint(e,t,n){let r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},DD=new Oe,C5=class extends Oi{static{l(this,"SpotLightHelper")}constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";let n=new yi,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,c=32;s<c;s++,o++){let u=s/c*Math.PI*2,h=o/c*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}n.setAttribute("position",new Bt(r,3));let a=new hr({fog:!1,toneMapped:!1});this.cone=new cs(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),DD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(DD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},Lc=new Oe,uw=new ai,J4=new ai,L5=class extends cs{static{l(this,"SkeletonHelper")}constructor(e){let t=l7(e),n=new yi,r=[],a=[],s=new Lt(0,0,1),o=new Lt(0,1,0);for(let u=0;u<t.length;u++){let h=t[u];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(s.r,s.g,s.b),a.push(o.r,o.g,o.b))}n.setAttribute("position",new Bt(r,3)),n.setAttribute("color",new Bt(a,3));let c=new hr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){let t=this.bones,n=this.geometry,r=n.getAttribute("position");J4.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){let o=t[a];o.parent&&o.parent.isBone&&(uw.multiplyMatrices(J4,o.matrixWorld),Lc.setFromMatrixPosition(uw),r.setXYZ(s,Lc.x,Lc.y,Lc.z),uw.multiplyMatrices(J4,o.parent.matrixWorld),Lc.setFromMatrixPosition(uw),r.setXYZ(s+1,Lc.x,Lc.y,Lc.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}};function l7(i){let e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push.apply(e,l7(i.children[t]));return e}l(l7,"getBoneList");var N5=class extends Gn{static{l(this,"PointLightHelper")}constructor(e,t,n){let r=new ng(t,4,2),a=new po({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},tye=new Oe,VD=new Lt,qD=new Lt,O5=class extends Oi{static{l(this,"HemisphereLightHelper")}constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";let r=new ig(t);r.rotateY(Math.PI*.5),this.material=new po({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);let a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new Gi(s,3)),this.add(new Gn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){let e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{let t=e.geometry.getAttribute("color");VD.copy(this.light.color),qD.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){let a=n<r/2?VD:qD;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(tye.setFromMatrixPosition(this.light.matrixWorld).negate())}},B5=class extends cs{static{l(this,"GridHelper")}constructor(e=10,t=10,n=4473924,r=8947848){n=new Lt(n),r=new Lt(r);let a=t/2,s=e/t,o=e/2,c=[],u=[];for(let p=0,d=0,m=-o;p<=t;p++,m+=s){c.push(-o,0,m,o,0,m),c.push(m,0,-o,m,0,o);let y=p===a?n:r;y.toArray(u,d),d+=3,y.toArray(u,d),d+=3,y.toArray(u,d),d+=3,y.toArray(u,d),d+=3}let h=new yi;h.setAttribute("position",new Bt(c,3)),h.setAttribute("color",new Bt(u,3));let f=new hr({vertexColors:!0,toneMapped:!1});super(h,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},F5=class extends cs{static{l(this,"PolarGridHelper")}constructor(e=10,t=16,n=8,r=64,a=4473924,s=8947848){a=new Lt(a),s=new Lt(s);let o=[],c=[];if(t>1)for(let f=0;f<t;f++){let p=f/t*(Math.PI*2),d=Math.sin(p)*e,m=Math.cos(p)*e;o.push(0,0,0),o.push(d,0,m);let y=f&1?a:s;c.push(y.r,y.g,y.b),c.push(y.r,y.g,y.b)}for(let f=0;f<n;f++){let p=f&1?a:s,d=e-e/n*f;for(let m=0;m<r;m++){let y=m/r*(Math.PI*2),g=Math.sin(y)*d,b=Math.cos(y)*d;o.push(g,0,b),c.push(p.r,p.g,p.b),y=(m+1)/r*(Math.PI*2),g=Math.sin(y)*d,b=Math.cos(y)*d,o.push(g,0,b),c.push(p.r,p.g,p.b)}}let u=new yi;u.setAttribute("position",new Bt(o,3)),u.setAttribute("color",new Bt(c,3));let h=new hr({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},HD=new Oe,hw=new Oe,GD=new Oe,U5=class extends Oi{static{l(this,"DirectionalLightHelper")}constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new yi;r.setAttribute("position",new Bt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let a=new hr({fog:!1,toneMapped:!1});this.lightPlane=new mo(r,a),this.add(this.lightPlane),r=new yi,r.setAttribute("position",new Bt([0,0,0,0,0,1],3)),this.targetLine=new mo(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),HD.setFromMatrixPosition(this.light.matrixWorld),hw.setFromMatrixPosition(this.light.target.matrixWorld),GD.subVectors(hw,HD),this.lightPlane.lookAt(hw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(hw),this.targetLine.scale.z=GD.length()}},fw=new Oe,bn=new Bp,z5=class extends cs{static{l(this,"CameraHelper")}constructor(e){let t=new yi,n=new hr({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(m,y){c(m),c(y)}l(o,"addLine");function c(m){r.push(0,0,0),a.push(0,0,0),s[m]===void 0&&(s[m]=[]),s[m].push(r.length/3-1)}l(c,"addPoint"),t.setAttribute("position",new Bt(r,3)),t.setAttribute("color",new Bt(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();let u=new Lt(16755200),h=new Lt(16711680),f=new Lt(43775),p=new Lt(16777215),d=new Lt(3355443);this.setColors(u,h,f,p,d)}setColors(e,t,n,r,a){let o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0}update(){let e=this.geometry,t=this.pointMap,n=1,r=1;bn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Rn("c",t,e,bn,0,0,-1),Rn("t",t,e,bn,0,0,1),Rn("n1",t,e,bn,-n,-r,-1),Rn("n2",t,e,bn,n,-r,-1),Rn("n3",t,e,bn,-n,r,-1),Rn("n4",t,e,bn,n,r,-1),Rn("f1",t,e,bn,-n,-r,1),Rn("f2",t,e,bn,n,-r,1),Rn("f3",t,e,bn,-n,r,1),Rn("f4",t,e,bn,n,r,1),Rn("u1",t,e,bn,n*.7,r*1.1,-1),Rn("u2",t,e,bn,-n*.7,r*1.1,-1),Rn("u3",t,e,bn,0,r*2,-1),Rn("cf1",t,e,bn,-n,0,1),Rn("cf2",t,e,bn,n,0,1),Rn("cf3",t,e,bn,0,-r,1),Rn("cf4",t,e,bn,0,r,1),Rn("cn1",t,e,bn,-n,0,-1),Rn("cn2",t,e,bn,n,0,-1),Rn("cn3",t,e,bn,0,-r,-1),Rn("cn4",t,e,bn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Rn(i,e,t,n,r,a,s){fw.set(r,a,s).unproject(n);let o=e[i];if(o!==void 0){let c=t.getAttribute("position");for(let u=0,h=o.length;u<h;u++)c.setXYZ(o[u],fw.x,fw.y,fw.z)}}l(Rn,"setPoint");var dw=new os,D5=class extends cs{static{l(this,"BoxHelper")}constructor(e,t=16776960){let n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),a=new yi;a.setIndex(new Gi(n,1)),a.setAttribute("position",new Gi(r,3)),super(a,new hr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&dw.setFromObject(this.object),dw.isEmpty())return;let t=dw.min,n=dw.max,r=this.geometry.attributes.position,a=r.array;a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=t.x,a[4]=n.y,a[5]=n.z,a[6]=t.x,a[7]=t.y,a[8]=n.z,a[9]=n.x,a[10]=t.y,a[11]=n.z,a[12]=n.x,a[13]=n.y,a[14]=t.z,a[15]=t.x,a[16]=n.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=n.x,a[22]=t.y,a[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},V5=class extends cs{static{l(this,"Box3Helper")}constructor(e,t=16776960){let n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new yi;a.setIndex(new Gi(n,1)),a.setAttribute("position",new Bt(r,3)),super(a,new hr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},q5=class extends mo{static{l(this,"PlaneHelper")}constructor(e,t=1,n=16776960){let r=n,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new yi;s.setAttribute("position",new Bt(a,3)),s.computeBoundingSphere(),super(s,new hr({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;let o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new yi;c.setAttribute("position",new Bt(o,3)),c.computeBoundingSphere(),this.add(new Gn(c,new po({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},WD=new Oe,pw,K4,H5=class extends Oi{static{l(this,"ArrowHelper")}constructor(e=new Oe(0,0,1),t=new Oe(0,0,0),n=1,r=16776960,a=n*.2,s=a*.2){super(),this.type="ArrowHelper",pw===void 0&&(pw=new yi,pw.setAttribute("position",new Bt([0,0,0,0,1,0],3)),K4=new qp(0,.5,1,5,1),K4.translate(0,-.5,0)),this.position.copy(t),this.line=new mo(pw,new hr({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Gn(K4,new po({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{WD.set(e.z,0,-e.x).normalize();let t=Math.acos(e.y);this.quaternion.setFromAxisAngle(WD,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},G5=class extends cs{static{l(this,"AxesHelper")}constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new yi;r.setAttribute("position",new Bt(t,3)),r.setAttribute("color",new Bt(n,3));let a=new hr({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,n){let r=new Lt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(n),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},W5=class{static{l(this,"ShapePath")}constructor(){this.type="ShapePath",this.color=new Lt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Bh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,a,s){return this.currentPath.bezierCurveTo(e,t,n,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){let x=[];for(let w=0,E=b.length;w<E;w++){let M=b[w],C=new gl;C.curves=M.curves,x.push(C)}return x}l(t,"toShapesNoHoles");function n(b,x){let w=x.length,E=!1;for(let M=w-1,C=0;C<w;M=C++){let I=x[M],F=x[C],A=F.x-I.x,T=F.y-I.y;if(Math.abs(T)>Number.EPSILON){if(T<0&&(I=x[C],A=-A,F=x[M],T=-T),b.y<I.y||b.y>F.y)continue;if(b.y===I.y){if(b.x===I.x)return!0}else{let j=T*(b.x-I.x)-A*(b.y-I.y);if(j===0)return!0;if(j<0)continue;E=!E}}else{if(b.y!==I.y)continue;if(F.x<=b.x&&b.x<=I.x||I.x<=b.x&&b.x<=F.x)return!0}}return E}l(n,"isPointInsidePolygon");let r=fo.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,c,u=[];if(a.length===1)return o=a[0],c=new gl,c.curves=o.curves,u.push(c),u;let h=!r(a[0].getPoints());h=e?!h:h;let f=[],p=[],d=[],m=0,y;p[m]=void 0,d[m]=[];for(let b=0,x=a.length;b<x;b++)o=a[b],y=o.getPoints(),s=r(y),s=e?!s:s,s?(!h&&p[m]&&m++,p[m]={s:new gl,p:y},p[m].s.curves=o.curves,h&&m++,d[m]=[]):d[m].push({h:o,p:y[0]});if(!p[0])return t(a);if(p.length>1){let b=!1,x=0;for(let w=0,E=p.length;w<E;w++)f[w]=[];for(let w=0,E=p.length;w<E;w++){let M=d[w];for(let C=0;C<M.length;C++){let I=M[C],F=!0;for(let A=0;A<p.length;A++)n(I.p,p[A].p)&&(w!==A&&x++,F?(F=!1,f[A].push(I)):b=!0);F&&f[w].push(I)}}x>0&&b===!1&&(d=f)}let g;for(let b=0,x=p.length;b<x;b++){c=p[b].s,u.push(c),g=d[b];for(let w=0,E=g.length;w<E;w++)c.holes.push(g[w].h)}return u}};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:L2}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=L2);he.ACESFilmicToneMapping=yV;he.AddEquation=Mh;he.AddOperation=mV;he.AdditiveAnimationBlendMode=iR;he.AdditiveBlending=ek;he.AlphaFormat=SV;he.AlwaysCompare=GV;he.AlwaysDepth=lV;he.AlwaysStencilFunc=BV;he.AmbientLight=S2;he.AmbientLightProbe=p5;he.AnimationAction=C2;he.AnimationClip=Vh;he.AnimationLoader=i5;he.AnimationMixer=w5;he.AnimationObjectGroup=v5;he.AnimationUtils=zbe;he.ArcCurve=qw;he.ArrayCamera=kw;he.ArrowHelper=H5;he.Audio=P2;he.AudioAnalyser=b5;he.AudioContext=ug;he.AudioListener=_5;he.AudioLoader=f5;he.AxesHelper=G5;he.BackSide=Dr;he.BasicDepthPacking=LV;he.BasicShadowMap=xpe;he.Bone=W0;he.BooleanKeyframeTrack=yl;he.Box2=P5;he.Box3=os;he.Box3Helper=V5;he.BoxGeometry=Lh;he.BoxHelper=D5;he.BufferAttribute=Gi;he.BufferGeometry=yi;he.BufferGeometryLoader=k2;he.ByteType=wV;he.Cache=qh;he.Camera=Bp;he.CameraHelper=z5;he.CanvasTexture=Jk;he.CapsuleGeometry=$w;he.CatmullRomCurve3=Hw;he.CineonToneMapping=bV;he.CircleGeometry=Xw;he.ClampToEdgeWrapping=xr;he.Clock=R2;he.Color=Lt;he.ColorKeyframeTrack=sg;he.ColorManagement=as;he.CompressedArrayTexture=Zk;he.CompressedTexture=$0;he.CompressedTextureLoader=n5;he.ConeGeometry=Yw;he.CubeCamera=Aw;he.CubeReflectionMapping=Dc;he.CubeRefractionMapping=Vc;he.CubeTexture=Nh;he.CubeTextureLoader=r5;he.CubeUVReflectionMapping=Gp;he.CubicBezierCurve=X0;he.CubicBezierCurve3=Gw;he.CubicInterpolant=_2;he.CullFaceBack=Q4;he.CullFaceFront=$D;he.CullFaceFrontBack=wpe;he.CullFaceNone=jD;he.Curve=Ia;he.CurvePath=jw;he.CustomBlending=YD;he.CustomToneMapping=vV;he.CylinderGeometry=qp;he.Cylindrical=R5;he.Data3DTexture=B0;he.DataArrayTexture=Lp;he.DataTexture=zc;he.DataTextureLoader=a5;he.DataUtils=Cme;he.DecrementStencilOp=Npe;he.DecrementWrapStencilOp=Bpe;he.DefaultLoadingManager=o7;he.DepthFormat=Bc;he.DepthStencilFormat=Ch;he.DepthTexture=Rw;he.DirectionalLight=x2;he.DirectionalLightHelper=U5;he.DiscreteInterpolant=g2;he.DisplayP3ColorSpace=rR;he.DodecahedronGeometry=Zw;he.DoubleSide=lo;he.DstAlphaFactor=iV;he.DstColorFactor=rV;he.DynamicCopyUsage=Jpe;he.DynamicDrawUsage=Wpe;he.DynamicReadUsage=Xpe;he.EdgesGeometry=Jw;he.EllipseCurve=Dp;he.EqualCompare=zV;he.EqualDepth=uV;he.EqualStencilFunc=Dpe;he.EquirectangularReflectionMapping=M0;he.EquirectangularRefractionMapping=A0;he.Euler=F0;he.EventDispatcher=Ls;he.ExtrudeGeometry=Kw;he.FileLoader=Ns;he.Float16BufferAttribute=Uk;he.Float32BufferAttribute=Bt;he.Float64BufferAttribute=zk;he.FloatType=co;he.Fog=Lw;he.FogExp2=Cw;he.FramebufferTexture=Yk;he.FrontSide=bl;he.Frustum=Fp;he.GLBufferAttribute=M5;he.GLSL1=Qpe;he.GLSL3=kk;he.GreaterCompare=VV;he.GreaterDepth=fV;he.GreaterEqualCompare=HV;he.GreaterEqualDepth=hV;he.GreaterEqualStencilFunc=Gpe;he.GreaterStencilFunc=qpe;he.GridHelper=B5;he.Group=Nc;he.HalfFloatType=Ip;he.HemisphereLight=y2;he.HemisphereLightHelper=O5;he.HemisphereLightProbe=d5;he.IcosahedronGeometry=Qw;he.ImageBitmapLoader=h5;he.ImageLoader=Hh;he.ImageUtils=O0;he.IncrementStencilOp=Lpe;he.IncrementWrapStencilOp=Ope;he.InstancedBufferAttribute=Gc;he.InstancedBufferGeometry=T2;he.InstancedInterleavedBuffer=E5;he.InstancedMesh=zw;he.Int16BufferAttribute=Bk;he.Int32BufferAttribute=Fk;he.Int8BufferAttribute=Lk;he.IntType=Z5;he.InterleavedBuffer=zp;he.InterleavedBufferAttribute=Oh;he.Interpolant=Uh;he.InterpolateDiscrete=R0;he.InterpolateLinear=P0;he.InterpolateSmooth=vw;he.InvertStencilOp=Fpe;he.KeepStencilOp=ww;he.KeyframeTrack=Ca;he.LOD=Bw;he.LatheGeometry=K0;he.Layers=Np;he.LessCompare=UV;he.LessDepth=cV;he.LessEqualCompare=DV;he.LessEqualDepth=xw;he.LessEqualStencilFunc=Vpe;he.LessStencilFunc=zpe;he.Light=_o;he.LightProbe=Hp;he.Line=mo;he.Line3=I5;he.LineBasicMaterial=hr;he.LineCurve=Vp;he.LineCurve3=Ww;he.LineDashedMaterial=m2;he.LineLoop=Dw;he.LineSegments=cs;he.LinearEncoding=nR;he.LinearFilter=In;he.LinearInterpolant=ag;he.LinearMipMapLinearFilter=Tpe;he.LinearMipMapNearestFilter=Ape;he.LinearMipmapLinearFilter=qc;he.LinearMipmapNearestFilter=Y5;he.LinearSRGBColorSpace=Cs;he.LinearToneMapping=_V;he.Loader=Er;he.LoaderUtils=cg;he.LoadingManager=og;he.LoopOnce=PV;he.LoopPingPong=CV;he.LoopRepeat=IV;he.LuminanceAlphaFormat=MV;he.LuminanceFormat=EV;he.MOUSE=ype;he.Material=ar;he.MaterialLoader=A2;he.MathUtils=dme;he.Matrix3=pi;he.Matrix4=ai;he.MaxEquation=rk;he.Mesh=Gn;he.MeshBasicMaterial=po;he.MeshDepthMaterial=q0;he.MeshDistanceMaterial=H0;he.MeshLambertMaterial=d2;he.MeshMatcapMaterial=p2;he.MeshNormalMaterial=f2;he.MeshPhongMaterial=u2;he.MeshPhysicalMaterial=c2;he.MeshStandardMaterial=rg;he.MeshToonMaterial=h2;he.MinEquation=nk;he.MirroredRepeatWrapping=k0;he.MixOperation=pV;he.MultiplyBlending=ik;he.MultiplyOperation=hg;he.NearestFilter=Pn;he.NearestMipMapLinearFilter=Mpe;he.NearestMipMapNearestFilter=Epe;he.NearestMipmapLinearFilter=y0;he.NearestMipmapNearestFilter=Sw;he.NeverCompare=FV;he.NeverDepth=oV;he.NeverStencilFunc=Upe;he.NoBlending=ml;he.NoColorSpace=Uc;he.NoToneMapping=ho;he.NormalAnimationBlendMode=B2;he.NormalBlending=Ph;he.NotEqualCompare=qV;he.NotEqualDepth=dV;he.NotEqualStencilFunc=Hpe;he.NumberKeyframeTrack=zh;he.Object3D=Oi;he.ObjectLoader=u5;he.ObjectSpaceNormalMap=OV;he.OctahedronGeometry=ig;he.OneFactor=QD;he.OneMinusDstAlphaFactor=nV;he.OneMinusDstColorFactor=aV;he.OneMinusSrcAlphaFactor=X5;he.OneMinusSrcColorFactor=tV;he.OrthographicCamera=Up;he.PCFShadowMap=j5;he.PCFSoftShadowMap=XD;he.PMREMGenerator=V0;he.Path=Bh;he.PerspectiveCamera=Hn;he.Plane=oo;he.PlaneGeometry=D0;he.PlaneHelper=q5;he.PointLight=w2;he.PointLightHelper=N5;he.Points=Vw;he.PointsMaterial=j0;he.PolarGridHelper=F5;he.PolyhedronGeometry=Wc;he.PositionalAudio=g5;he.PropertyBinding=qi;he.PropertyMixer=I2;he.QuadraticBezierCurve=Y0;he.QuadraticBezierCurve3=Z0;he.Quaternion=Sr;he.QuaternionKeyframeTrack=jc;he.QuaternionLinearInterpolant=b2;he.RED_GREEN_RGTC2_Format=Ak;he.RED_RGTC1_Format=RV;he.REVISION=L2;he.RGBADepthPacking=NV;he.RGBAFormat=Aa;he.RGBAIntegerFormat=tR;he.RGBA_ASTC_10x10_Format=xk;he.RGBA_ASTC_10x5_Format=yk;he.RGBA_ASTC_10x6_Format=vk;he.RGBA_ASTC_10x8_Format=wk;he.RGBA_ASTC_12x10_Format=Sk;he.RGBA_ASTC_12x12_Format=Ek;he.RGBA_ASTC_4x4_Format=hk;he.RGBA_ASTC_5x4_Format=fk;he.RGBA_ASTC_5x5_Format=dk;he.RGBA_ASTC_6x5_Format=pk;he.RGBA_ASTC_6x6_Format=mk;he.RGBA_ASTC_8x5_Format=_k;he.RGBA_ASTC_8x6_Format=gk;he.RGBA_ASTC_8x8_Format=bk;he.RGBA_BPTC_Format=yw;he.RGBA_ETC2_EAC_Format=uk;he.RGBA_PVRTC_2BPPV1_Format=lk;he.RGBA_PVRTC_4BPPV1_Format=ok;he.RGBA_S3TC_DXT1_Format=_w;he.RGBA_S3TC_DXT3_Format=gw;he.RGBA_S3TC_DXT5_Format=bw;he.RGB_ETC1_Format=kV;he.RGB_ETC2_Format=ck;he.RGB_PVRTC_2BPPV1_Format=sk;he.RGB_PVRTC_4BPPV1_Format=ak;he.RGB_S3TC_DXT1_Format=mw;he.RGFormat=TV;he.RGIntegerFormat=eR;he.RawShaderMaterial=l2;he.Ray=Hc;he.Raycaster=A5;he.RectAreaLight=E2;he.RedFormat=AV;he.RedIntegerFormat=Q5;he.ReinhardToneMapping=gV;he.RepeatWrapping=T0;he.ReplaceStencilOp=Cpe;he.ReverseSubtractEquation=JD;he.RingGeometry=e2;he.SIGNED_RED_GREEN_RGTC2_Format=Tk;he.SIGNED_RED_RGTC1_Format=Mk;he.SRGBColorSpace=ri;he.Scene=Nw;he.ShaderChunk=ui;he.ShaderLib=Is;he.ShaderMaterial=ls;he.ShadowMaterial=o2;he.Shape=gl;he.ShapeGeometry=t2;he.ShapePath=W5;he.ShapeUtils=fo;he.ShortType=xV;he.Skeleton=Uw;he.SkeletonHelper=L5;he.SkinnedMesh=Fw;he.Source=dl;he.Sphere=Pa;he.SphereGeometry=ng;he.Spherical=k5;he.SphericalHarmonics3=M2;he.SplineCurve=J0;he.SpotLight=v2;he.SpotLightHelper=C5;he.Sprite=Ow;he.SpriteMaterial=G0;he.SrcAlphaFactor=$5;he.SrcAlphaSaturateFactor=sV;he.SrcColorFactor=eV;he.StaticCopyUsage=Zpe;he.StaticDrawUsage=C0;he.StaticReadUsage=$pe;he.StereoCamera=m5;he.StreamCopyUsage=Kpe;he.StreamDrawUsage=jpe;he.StreamReadUsage=Ype;he.StringKeyframeTrack=vl;he.SubtractEquation=ZD;he.SubtractiveBlending=tk;he.TOUCH=vpe;he.TangentSpaceNormalMap=$c;he.TetrahedronGeometry=i2;he.Texture=Wn;he.TextureLoader=s5;he.TorusGeometry=n2;he.TorusKnotGeometry=r2;he.Triangle=pl;he.TriangleFanDrawMode=Ppe;he.TriangleStripDrawMode=Rpe;he.TrianglesDrawMode=kpe;he.TubeGeometry=a2;he.TwoPassDoubleSide=Spe;he.UVMapping=N2;he.Uint16BufferAttribute=U0;he.Uint32BufferAttribute=z0;he.Uint8BufferAttribute=Nk;he.Uint8ClampedBufferAttribute=Ok;he.Uniform=x5;he.UniformsGroup=S5;he.UniformsLib=Rt;he.UniformsUtils=YV;he.UnsignedByteType=_l;he.UnsignedInt248Type=Oc;he.UnsignedIntType=fl;he.UnsignedShort4444Type=J5;he.UnsignedShort5551Type=K5;he.UnsignedShortType=O2;he.VSMShadowMap=so;he.Vector2=_t;he.Vector3=Oe;he.Vector4=Hi;he.VectorKeyframeTrack=Dh;he.VideoTexture=Xk;he.WebGL1Renderer=Iw;he.WebGL3DRenderTarget=Ik;he.WebGLArrayRenderTarget=Pk;he.WebGLCoordinateSystem=uo;he.WebGLCubeRenderTarget=Tw;he.WebGLMultipleRenderTargets=Ck;he.WebGLRenderTarget=Ra;he.WebGLRenderer=Pw;he.WebGLUtils=t7;he.WebGPUCoordinateSystem=L0;he.WireframeGeometry=s2;he.WrapAroundEnding=I0;he.ZeroCurvatureEnding=Th;he.ZeroFactor=KD;he.ZeroSlopeEnding=kh;he.ZeroStencilOp=Ipe;he._SRGBAFormat=Ew;he.sRGBEncoding=Fc});var pR=qe((ZCe,c7)=>{ne();ae();re();var iye=Gh(),dR={};function nye(i,e){dR[i]||(dR[i]=new iye.TextureLoader().load(i)),e(dR[i])}l(nye,"loadTexture");function rye(i,e){let t=new XMLHttpRequest;t.open("GET",i,!0),t.responseType="json",t.onload=function(){if(t.status===200)e(t.response);else throw new Error(i+" not found")},t.send()}l(rye,"loadJSON");c7.exports={loadTexture:nye,loadJSON:rye}});var h7={};Xa(h7,{loadJSON:()=>_R,loadScript:()=>gR,loadTexture:()=>mR});function aye(i){try{return $a(i)}catch{return{}}}function mR(i,e){if(process.platform==="browser")return pR().loadTexture(i,e);z2[i]?e(z2[i]):sye(u7.resolve(__dirname,"../../public/"+i)).then(t=>{z2[i]=new oye.CanvasTexture(t),e(z2[i])})}function _R(i,e){if(process.platform==="browser")return pR().loadJSON(i,e);e($a(u7.resolve(__dirname,"../../public/"+i)))}var sye,u7,oye,z2,gR,D2=Gt(()=>{ne();ae();re();l(aye,"safeRequire");({loadImage:sye}=aye("node-canvas-webgl/lib")),u7=(v4(),Zr(y4)),oye=Gh(),z2={};l(mR,"loadTexture");l(_R,"loadJSON");gR=l(async function(i){if(!document.querySelector(`script[src="${i}"]`))return new Promise((e,t)=>{let n=document.createElement("script");n.src=i,n.async=!0,n.addEventListener("load",()=>{e(n)}),n.onerror=r=>{t(new Error(r.message)),n.remove()},document.head.appendChild(n)})},"loadScript")});var wl=qe((aLe,bR)=>{"use strict";ne();ae();re();var jp=typeof Reflect=="object"?Reflect:null,f7=jp&&typeof jp.apply=="function"?jp.apply:l(function(e,t,n){return Function.prototype.apply.call(e,t,n)},"ReflectApply"),V2;jp&&typeof jp.ownKeys=="function"?V2=jp.ownKeys:Object.getOwnPropertySymbols?V2=l(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):V2=l(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys");function lye(i){console&&console.warn&&console.warn(i)}l(lye,"ProcessEmitWarning");var p7=Number.isNaN||l(function(e){return e!==e},"NumberIsNaN");function Wi(){Wi.init.call(this)}l(Wi,"EventEmitter");bR.exports=Wi;bR.exports.once=fye;Wi.EventEmitter=Wi;Wi.prototype._events=void 0;Wi.prototype._eventsCount=0;Wi.prototype._maxListeners=void 0;var d7=10;function q2(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}l(q2,"checkListener");Object.defineProperty(Wi,"defaultMaxListeners",{enumerable:!0,get:function(){return d7},set:function(i){if(typeof i!="number"||i<0||p7(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");d7=i}});Wi.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Wi.prototype.setMaxListeners=l(function(e){if(typeof e!="number"||e<0||p7(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners");function m7(i){return i._maxListeners===void 0?Wi.defaultMaxListeners:i._maxListeners}l(m7,"_getMaxListeners");Wi.prototype.getMaxListeners=l(function(){return m7(this)},"getMaxListeners");Wi.prototype.emit=l(function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=e==="error",a=this._events;if(a!==void 0)r=r&&a.error===void 0;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=a[e];if(c===void 0)return!1;if(typeof c=="function")f7(c,this,t);else for(var u=c.length,h=v7(c,u),n=0;n<u;++n)f7(h[n],this,t);return!0},"emit");function _7(i,e,t,n){var r,a,s;if(q2(t),a=i._events,a===void 0?(a=i._events=Object.create(null),i._eventsCount=0):(a.newListener!==void 0&&(i.emit("newListener",e,t.listener?t.listener:t),a=i._events),s=a[e]),s===void 0)s=a[e]=t,++i._eventsCount;else if(typeof s=="function"?s=a[e]=n?[t,s]:[s,t]:n?s.unshift(t):s.push(t),r=m7(i),r>0&&s.length>r&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=i,o.type=e,o.count=s.length,lye(o)}return i}l(_7,"_addListener");Wi.prototype.addListener=l(function(e,t){return _7(this,e,t,!1)},"addListener");Wi.prototype.on=Wi.prototype.addListener;Wi.prototype.prependListener=l(function(e,t){return _7(this,e,t,!0)},"prependListener");function cye(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}l(cye,"onceWrapper");function g7(i,e,t){var n={fired:!1,wrapFn:void 0,target:i,type:e,listener:t},r=cye.bind(n);return r.listener=t,n.wrapFn=r,r}l(g7,"_onceWrap");Wi.prototype.once=l(function(e,t){return q2(t),this.on(e,g7(this,e,t)),this},"once");Wi.prototype.prependOnceListener=l(function(e,t){return q2(t),this.prependListener(e,g7(this,e,t)),this},"prependOnceListener");Wi.prototype.removeListener=l(function(e,t){var n,r,a,s,o;if(q2(t),r=this._events,r===void 0)return this;if(n=r[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(a=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,a=s;break}if(a<0)return this;a===0?n.shift():uye(n,a),n.length===1&&(r[e]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",e,o||t)}return this},"removeListener");Wi.prototype.off=Wi.prototype.removeListener;Wi.prototype.removeAllListeners=l(function(e){var t,n,r;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),s;for(r=0;r<a.length;++r)s=a[r],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},"removeAllListeners");function b7(i,e,t){var n=i._events;if(n===void 0)return[];var r=n[e];return r===void 0?[]:typeof r=="function"?t?[r.listener||r]:[r]:t?hye(r):v7(r,r.length)}l(b7,"_listeners");Wi.prototype.listeners=l(function(e){return b7(this,e,!0)},"listeners");Wi.prototype.rawListeners=l(function(e){return b7(this,e,!1)},"rawListeners");Wi.listenerCount=function(i,e){return typeof i.listenerCount=="function"?i.listenerCount(e):y7.call(i,e)};Wi.prototype.listenerCount=y7;function y7(i){var e=this._events;if(e!==void 0){var t=e[i];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}l(y7,"listenerCount");Wi.prototype.eventNames=l(function(){return this._eventsCount>0?V2(this._events):[]},"eventNames");function v7(i,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=i[n];return t}l(v7,"arrayClone");function uye(i,e){for(;e+1<i.length;e++)i[e]=i[e+1];i.pop()}l(uye,"spliceOne");function hye(i){for(var e=new Array(i.length),t=0;t<e.length;++t)e[t]=i[t].listener||i[t];return e}l(hye,"unwrapListeners");function fye(i,e){return new Promise(function(t,n){function r(s){i.removeListener(e,a),n(s)}l(r,"errorListener");function a(){typeof i.removeListener=="function"&&i.removeListener("error",r),t([].slice.call(arguments))}l(a,"resolver"),w7(i,e,a,{once:!0}),e!=="error"&&dye(i,r,{once:!0})})}l(fye,"once");function dye(i,e,t){typeof i.on=="function"&&w7(i,"error",e,t)}l(dye,"addErrorHandlerIfEventEmitter");function w7(i,e,t,n){if(typeof i.on=="function")n.once?i.once(e,t):i.on(e,t);else if(typeof i.addEventListener=="function")i.addEventListener(e,l(function r(a){n.once&&i.removeEventListener(e,r),t(a)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}l(w7,"eventTargetAgnosticAddListener")});var yR=qe((uLe,x7)=>{ne();ae();re();window.mcData??={};x7.exports={pc:window.mcData}});function ji(){ji.init.call(this)}function H2(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}function C7(i){return i._maxListeners===void 0?ji.defaultMaxListeners:i._maxListeners}function A7(i,e,t,n){var r,a,s,o;if(H2(t),(a=i._events)===void 0?(a=i._events=Object.create(null),i._eventsCount=0):(a.newListener!==void 0&&(i.emit("newListener",e,t.listener?t.listener:t),a=i._events),s=a[e]),s===void 0)s=a[e]=t,++i._eventsCount;else if(typeof s=="function"?s=a[e]=n?[t,s]:[s,t]:n?s.unshift(t):s.push(t),(r=C7(i))>0&&s.length>r&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=i,c.type=e,c.count=s.length,o=c,console&&console.warn&&console.warn(o)}return i}function pye(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function T7(i,e,t){var n={fired:!1,wrapFn:void 0,target:i,type:e,listener:t},r=pye.bind(n);return r.listener=t,n.wrapFn=r,r}function k7(i,e,t){var n=i._events;if(n===void 0)return[];var r=n[e];return r===void 0?[]:typeof r=="function"?t?[r.listener||r]:[r]:t?function(a){for(var s=new Array(a.length),o=0;o<s.length;++o)s[o]=a[o].listener||a[o];return s}(r):L7(r,r.length)}function R7(i){var e=this._events;if(e!==void 0){var t=e[i];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}function L7(i,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=i[n];return t}var P7,I7,$p,S7,E7,M7,sr,Wh=Gt(()=>{ne();ae();re();$p=typeof Reflect=="object"?Reflect:null,S7=$p&&typeof $p.apply=="function"?$p.apply:function(i,e,t){return Function.prototype.apply.call(i,e,t)};I7=$p&&typeof $p.ownKeys=="function"?$p.ownKeys:Object.getOwnPropertySymbols?function(i){return Object.getOwnPropertyNames(i).concat(Object.getOwnPropertySymbols(i))}:function(i){return Object.getOwnPropertyNames(i)};E7=Number.isNaN||function(i){return i!=i};l(ji,"o");P7=ji,ji.EventEmitter=ji,ji.prototype._events=void 0,ji.prototype._eventsCount=0,ji.prototype._maxListeners=void 0;M7=10;l(H2,"u");l(C7,"f");l(A7,"v");l(pye,"a");l(T7,"l");l(k7,"h");l(R7,"p");l(L7,"c");Object.defineProperty(ji,"defaultMaxListeners",{enumerable:!0,get:function(){return M7},set:function(i){if(typeof i!="number"||i<0||E7(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");M7=i}}),ji.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ji.prototype.setMaxListeners=function(i){if(typeof i!="number"||i<0||E7(i))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+i+".");return this._maxListeners=i,this},ji.prototype.getMaxListeners=function(){return C7(this)},ji.prototype.emit=function(i){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);var n=i==="error",r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;if(n){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var o=r[i];if(o===void 0)return!1;if(typeof o=="function")S7(o,this,e);else{var c=o.length,u=L7(o,c);for(t=0;t<c;++t)S7(u[t],this,e)}return!0},ji.prototype.addListener=function(i,e){return A7(this,i,e,!1)},ji.prototype.on=ji.prototype.addListener,ji.prototype.prependListener=function(i,e){return A7(this,i,e,!0)},ji.prototype.once=function(i,e){return H2(e),this.on(i,T7(this,i,e)),this},ji.prototype.prependOnceListener=function(i,e){return H2(e),this.prependListener(i,T7(this,i,e)),this},ji.prototype.removeListener=function(i,e){var t,n,r,a,s;if(H2(e),(n=this._events)===void 0)return this;if((t=n[i])===void 0)return this;if(t===e||t.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete n[i],n.removeListener&&this.emit("removeListener",i,t.listener||e));else if(typeof t!="function"){for(r=-1,a=t.length-1;a>=0;a--)if(t[a]===e||t[a].listener===e){s=t[a].listener,r=a;break}if(r<0)return this;r===0?t.shift():function(o,c){for(;c+1<o.length;c++)o[c]=o[c+1];o.pop()}(t,r),t.length===1&&(n[i]=t[0]),n.removeListener!==void 0&&this.emit("removeListener",i,s||e)}return this},ji.prototype.off=ji.prototype.removeListener,ji.prototype.removeAllListeners=function(i){var e,t,n;if((t=this._events)===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[i]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete t[i]),this;if(arguments.length===0){var r,a=Object.keys(t);for(n=0;n<a.length;++n)(r=a[n])!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=t[i])=="function")this.removeListener(i,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(i,e[n]);return this},ji.prototype.listeners=function(i){return k7(this,i,!0)},ji.prototype.rawListeners=function(i){return k7(this,i,!1)},ji.listenerCount=function(i,e){return typeof i.listenerCount=="function"?i.listenerCount(e):R7.call(i,e)},ji.prototype.listenerCount=R7,ji.prototype.eventNames=function(){return this._eventsCount>0?I7(this._events):[]};sr=P7;sr.EventEmitter;sr.defaultMaxListeners;sr.init;sr.listenerCount;sr.EventEmitter;sr.defaultMaxListeners;sr.init;sr.listenerCount});function vR(){throw new Error("setTimeout has not been defined")}function wR(){throw new Error("clearTimeout has not been defined")}function B7(i){if(Sl===setTimeout)return setTimeout(i,0);if((Sl===vR||!Sl)&&setTimeout)return Sl=setTimeout,setTimeout(i,0);try{return Sl(i,0)}catch{try{return Sl.call(null,i,0)}catch{return Sl.call(this||Yp,i,0)}}}function mye(){Xp&&jh&&(Xp=!1,jh.length?Ml=jh.concat(Ml):G2=-1,Ml.length&&F7())}function F7(){if(!Xp){var i=B7(mye);Xp=!0;for(var e=Ml.length;e;){for(jh=Ml,Ml=[];++G2<e;)jh&&jh[G2].run();G2=-1,e=Ml.length}jh=null,Xp=!1,function(t){if(El===clearTimeout)return clearTimeout(t);if((El===wR||!El)&&clearTimeout)return El=clearTimeout,clearTimeout(t);try{El(t)}catch{try{return El.call(null,t)}catch{return El.call(this||Yp,t)}}}(i)}}function N7(i,e){(this||Yp).fun=i,(this||Yp).array=e}function xl(){}var O7,Sl,El,Yp,Cn,jh,Ml,Xp,G2,Zi,$h=Gt(()=>{ne();ae();re();Yp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Cn=O7={};l(vR,"i");l(wR,"u");l(B7,"c");(function(){try{Sl=typeof setTimeout=="function"?setTimeout:vR}catch{Sl=vR}try{El=typeof clearTimeout=="function"?clearTimeout:wR}catch{El=wR}})();Ml=[],Xp=!1,G2=-1;l(mye,"h");l(F7,"d");l(N7,"m");l(xl,"p");Cn.nextTick=function(i){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Ml.push(new N7(i,e)),Ml.length!==1||Xp||B7(F7)},N7.prototype.run=function(){(this||Yp).fun.apply(null,(this||Yp).array)},Cn.title="browser",Cn.browser=!0,Cn.env={},Cn.argv=[],Cn.version="",Cn.versions={},Cn.on=xl,Cn.addListener=xl,Cn.once=xl,Cn.off=xl,Cn.removeListener=xl,Cn.removeAllListeners=xl,Cn.emit=xl,Cn.prependListener=xl,Cn.prependOnceListener=xl,Cn.listeners=function(i){return[]},Cn.binding=function(i){throw new Error("process.binding is not supported")},Cn.cwd=function(){return"/"},Cn.chdir=function(i){throw new Error("process.chdir is not supported")},Cn.umask=function(){return 0};Zi=O7;Zi.addListener;Zi.argv;Zi.binding;Zi.browser;Zi.chdir;Zi.cwd;Zi.emit;Zi.env;Zi.listeners;Zi.nextTick;Zi.off;Zi.on;Zi.once;Zi.prependListener;Zi.prependOnceListener;Zi.removeAllListeners;Zi.removeListener;Zi.title;Zi.umask;Zi.version;Zi.versions});function Zh(i){return i.call.bind(i)}function mg(i,e){if(typeof i!="object")return!1;try{return e(i),!0}catch{return!1}}function z7(i){return ia&&La?us(i)!==void 0:e9(i)||t9(i)||i9(i)||n9(i)||r9(i)||a9(i)||s9(i)||o9(i)||l9(i)||c9(i)||u9(i)}function e9(i){return ia&&La?us(i)==="Uint8Array":fn(i)==="[object Uint8Array]"||Mye(i)&&i.buffer!==void 0}function t9(i){return ia&&La?us(i)==="Uint8ClampedArray":fn(i)==="[object Uint8ClampedArray]"}function i9(i){return ia&&La?us(i)==="Uint16Array":fn(i)==="[object Uint16Array]"}function n9(i){return ia&&La?us(i)==="Uint32Array":fn(i)==="[object Uint32Array]"}function r9(i){return ia&&La?us(i)==="Int8Array":fn(i)==="[object Int8Array]"}function a9(i){return ia&&La?us(i)==="Int16Array":fn(i)==="[object Int16Array]"}function s9(i){return ia&&La?us(i)==="Int32Array":fn(i)==="[object Int32Array]"}function o9(i){return ia&&La?us(i)==="Float32Array":fn(i)==="[object Float32Array]"}function l9(i){return ia&&La?us(i)==="Float64Array":fn(i)==="[object Float64Array]"}function c9(i){return ia&&La?us(i)==="BigInt64Array":fn(i)==="[object BigInt64Array]"}function u9(i){return ia&&La?us(i)==="BigUint64Array":fn(i)==="[object BigUint64Array]"}function W2(i){return fn(i)==="[object Map]"}function j2(i){return fn(i)==="[object Set]"}function $2(i){return fn(i)==="[object WeakMap]"}function xR(i){return fn(i)==="[object WeakSet]"}function J2(i){return fn(i)==="[object ArrayBuffer]"}function D7(i){return typeof ArrayBuffer<"u"&&(J2.working?J2(i):i instanceof ArrayBuffer)}function K2(i){return fn(i)==="[object DataView]"}function V7(i){return typeof DataView<"u"&&(K2.working?K2(i):i instanceof DataView)}function Q2(i){return fn(i)==="[object SharedArrayBuffer]"}function q7(i){return typeof SharedArrayBuffer<"u"&&(Q2.working?Q2(i):i instanceof SharedArrayBuffer)}function H7(i){return mg(i,Pye)}function G7(i){return mg(i,Iye)}function W7(i){return mg(i,Cye)}function j7(i){return Q7&&mg(i,Lye)}function $7(i){return TR&&mg(i,Nye)}function Xc(i,e){var t={seen:[],stylize:Fye};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),kR(e)?t.showHidden=e:e&&ct._extend(t,e),Yh(t.showHidden)&&(t.showHidden=!1),Yh(t.depth)&&(t.depth=2),Yh(t.colors)&&(t.colors=!1),Yh(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=Bye),ex(t,i,t.depth)}function Bye(i,e){var t=Xc.styles[e];return t?"\x1B["+Xc.colors[t][0]+"m"+i+"\x1B["+Xc.colors[t][1]+"m":i}function Fye(i,e){return i}function ex(i,e,t){if(i.customInspect&&e&&Z2(e.inspect)&&e.inspect!==ct.inspect&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(t,i);return tx(n)||(n=ex(i,n,t)),n}var r=function(p,d){if(Yh(d))return p.stylize("undefined","undefined");if(tx(d)){var m="'"+JSON.stringify(d).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p.stylize(m,"string")}if(d9(d))return p.stylize(""+d,"number");if(kR(d))return p.stylize(""+d,"boolean");if(rx(d))return p.stylize("null","null")}(i,e);if(r)return r;var a=Object.keys(e),s=function(p){var d={};return p.forEach(function(m,y){d[m]=!0}),d}(a);if(i.showHidden&&(a=Object.getOwnPropertyNames(e)),pg(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return SR(e);if(a.length===0){if(Z2(e)){var o=e.name?": "+e.name:"";return i.stylize("[Function"+o+"]","special")}if(dg(e))return i.stylize(RegExp.prototype.toString.call(e),"regexp");if(ix(e))return i.stylize(Date.prototype.toString.call(e),"date");if(pg(e))return SR(e)}var c,u="",h=!1,f=["{","}"];return f9(e)&&(h=!0,f=["[","]"]),Z2(e)&&(u=" [Function"+(e.name?": "+e.name:"")+"]"),dg(e)&&(u=" "+RegExp.prototype.toString.call(e)),ix(e)&&(u=" "+Date.prototype.toUTCString.call(e)),pg(e)&&(u=" "+SR(e)),a.length!==0||h&&e.length!=0?t<0?dg(e)?i.stylize(RegExp.prototype.toString.call(e),"regexp"):i.stylize("[Object]","special"):(i.seen.push(e),c=h?function(p,d,m,y,g){for(var b=[],x=0,w=d.length;x<w;++x)p9(d,String(x))?b.push(ER(p,d,m,y,String(x),!0)):b.push("");return g.forEach(function(E){E.match(/^\d+$/)||b.push(ER(p,d,m,y,E,!0))}),b}(i,e,t,s,a):a.map(function(p){return ER(i,e,t,s,p,h)}),i.seen.pop(),function(p,d,m){var y=0;return p.reduce(function(g,b){return y++,b.indexOf(`
`)>=0&&y++,g+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?m[0]+(d===""?"":d+`
 `)+" "+p.join(`,
  `)+" "+m[1]:m[0]+d+" "+p.join(", ")+" "+m[1]}(c,u,f)):f[0]+u+f[1]}function SR(i){return"["+Error.prototype.toString.call(i)+"]"}function ER(i,e,t,n,r,a){var s,o,c;if((c=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?o=c.set?i.stylize("[Getter/Setter]","special"):i.stylize("[Getter]","special"):c.set&&(o=i.stylize("[Setter]","special")),p9(n,r)||(s="["+r+"]"),o||(i.seen.indexOf(c.value)<0?(o=rx(t)?ex(i,c.value,null):ex(i,c.value,t-1)).indexOf(`
`)>-1&&(o=a?o.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):`
`+o.split(`
`).map(function(u){return"   "+u}).join(`
`)):o=i.stylize("[Circular]","special")),Yh(s)){if(a&&r.match(/^\d+$/))return o;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=i.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=i.stylize(s,"string"))}return s+": "+o}function f9(i){return Array.isArray(i)}function kR(i){return typeof i=="boolean"}function rx(i){return i===null}function d9(i){return typeof i=="number"}function tx(i){return typeof i=="string"}function Yh(i){return i===void 0}function dg(i){return Zp(i)&&RR(i)==="[object RegExp]"}function Zp(i){return typeof i=="object"&&i!==null}function ix(i){return Zp(i)&&RR(i)==="[object Date]"}function pg(i){return Zp(i)&&(RR(i)==="[object Error]"||i instanceof Error)}function Z2(i){return typeof i=="function"}function RR(i){return Object.prototype.toString.call(i)}function MR(i){return i<10?"0"+i.toString(10):i.toString(10)}function zye(){var i=new Date,e=[MR(i.getHours()),MR(i.getMinutes()),MR(i.getSeconds())].join(":");return[i.getDate(),Uye[i.getMonth()],e].join(" ")}function p9(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Dye(i,e){if(!i){var t=new Error("Promise was rejected with a falsy value");t.reason=i,i=t}return e(i)}var _ye,AR,nx,Y7,gye,bye,yye,vye,wye,Z7,J7,U7,xye,Sye,Eye,K7,xi,Mye,Aye,Tye,Q7,TR,La,ia,kye,fn,Pye,Iye,Cye,fg,ct,go,X7,Oye,X2,h9,Y2,Uye,Xh,Yc=Gt(()=>{ne();ae();re();$h();_ye=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",AR=Object.prototype.toString,nx=l(function(i){return!(_ye&&i&&typeof i=="object"&&Symbol.toStringTag in i)&&AR.call(i)==="[object Arguments]"},"o"),Y7=l(function(i){return!!nx(i)||i!==null&&typeof i=="object"&&typeof i.length=="number"&&i.length>=0&&AR.call(i)!=="[object Array]"&&AR.call(i.callee)==="[object Function]"},"n"),gye=function(){return nx(arguments)}();nx.isLegacyArguments=Y7;bye=gye?nx:Y7,yye=Object.prototype.toString,vye=Function.prototype.toString,wye=/^\s*(?:function)?\*/,Z7=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",J7=Object.getPrototypeOf,U7=function(){if(!Z7)return!1;try{return Function("return function*() {}")()}catch{}}(),xye=U7?J7(U7):{},Sye=l(function(i){return typeof i=="function"&&(!!wye.test(vye.call(i))||(Z7?J7(i)===xye:yye.call(i)==="[object GeneratorFunction]"))},"i"),Eye=typeof Object.create=="function"?function(i,e){e&&(i.super_=e,i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:function(i,e){if(e){i.super_=e;var t=l(function(){},"o");t.prototype=e.prototype,i.prototype=new t,i.prototype.constructor=i}},K7=l(function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"},"i$1"),xi={},Mye=K7,Aye=bye,Tye=Sye;l(Zh,"c$1");Q7=typeof BigInt<"u",TR=typeof Symbol<"u",La=TR&&Symbol.toStringTag!==void 0,ia=typeof Uint8Array<"u",kye=typeof ArrayBuffer<"u";if(ia&&La)var Rye=Object.getPrototypeOf(Uint8Array.prototype),us=Zh(Object.getOwnPropertyDescriptor(Rye,Symbol.toStringTag).get);fn=Zh(Object.prototype.toString),Pye=Zh(Number.prototype.valueOf),Iye=Zh(String.prototype.valueOf),Cye=Zh(Boolean.prototype.valueOf);if(Q7)var Lye=Zh(BigInt.prototype.valueOf);if(TR)var Nye=Zh(Symbol.prototype.valueOf);l(mg,"O");l(z7,"S");l(e9,"B");l(t9,"k");l(i9,"E");l(n9,"D");l(r9,"U");l(a9,"P");l(s9,"x");l(o9,"I");l(l9,"M");l(c9,"z");l(u9,"F");l(W2,"T");l(j2,"N");l($2,"W");l(xR,"$");l(J2,"C");l(D7,"V");l(K2,"G");l(V7,"R");l(Q2,"J");l(q7,"_");l(H7,"H");l(G7,"Z");l(W7,"q");l(j7,"K");l($7,"L");xi.isArgumentsObject=Aye,xi.isGeneratorFunction=Tye,xi.isPromise=function(i){return typeof Promise<"u"&&i instanceof Promise||i!==null&&typeof i=="object"&&typeof i.then=="function"&&typeof i.catch=="function"},xi.isArrayBufferView=function(i){return kye&&ArrayBuffer.isView?ArrayBuffer.isView(i):z7(i)||V7(i)},xi.isTypedArray=z7,xi.isUint8Array=e9,xi.isUint8ClampedArray=t9,xi.isUint16Array=i9,xi.isUint32Array=n9,xi.isInt8Array=r9,xi.isInt16Array=a9,xi.isInt32Array=s9,xi.isFloat32Array=o9,xi.isFloat64Array=l9,xi.isBigInt64Array=c9,xi.isBigUint64Array=u9,W2.working=typeof Map<"u"&&W2(new Map),xi.isMap=function(i){return typeof Map<"u"&&(W2.working?W2(i):i instanceof Map)},j2.working=typeof Set<"u"&&j2(new Set),xi.isSet=function(i){return typeof Set<"u"&&(j2.working?j2(i):i instanceof Set)},$2.working=typeof WeakMap<"u"&&$2(new WeakMap),xi.isWeakMap=function(i){return typeof WeakMap<"u"&&($2.working?$2(i):i instanceof WeakMap)},xR.working=typeof WeakSet<"u"&&xR(new WeakSet),xi.isWeakSet=function(i){return xR(i)},J2.working=typeof ArrayBuffer<"u"&&J2(new ArrayBuffer),xi.isArrayBuffer=D7,K2.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&K2(new DataView(new ArrayBuffer(1),0,1)),xi.isDataView=V7,Q2.working=typeof SharedArrayBuffer<"u"&&Q2(new SharedArrayBuffer),xi.isSharedArrayBuffer=q7,xi.isAsyncFunction=function(i){return fn(i)==="[object AsyncFunction]"},xi.isMapIterator=function(i){return fn(i)==="[object Map Iterator]"},xi.isSetIterator=function(i){return fn(i)==="[object Set Iterator]"},xi.isGeneratorObject=function(i){return fn(i)==="[object Generator]"},xi.isWebAssemblyCompiledModule=function(i){return fn(i)==="[object WebAssembly.Module]"},xi.isNumberObject=H7,xi.isStringObject=G7,xi.isBooleanObject=W7,xi.isBigIntObject=j7,xi.isSymbolObject=$7,xi.isBoxedPrimitive=function(i){return H7(i)||G7(i)||W7(i)||j7(i)||$7(i)},xi.isAnyArrayBuffer=function(i){return ia&&(D7(i)||q7(i))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(i){Object.defineProperty(xi,i,{enumerable:!1,value:function(){throw new Error(i+" is not supported in userland")}})});fg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ct={},go=Zi,X7=Object.getOwnPropertyDescriptors||function(i){for(var e=Object.keys(i),t={},n=0;n<e.length;n++)t[e[n]]=Object.getOwnPropertyDescriptor(i,e[n]);return t},Oye=/%[sdj%]/g;ct.format=function(i){if(!tx(i)){for(var e=[],t=0;t<arguments.length;t++)e.push(Xc(arguments[t]));return e.join(" ")}t=1;for(var n=arguments,r=n.length,a=String(i).replace(Oye,function(o){if(o==="%%")return"%";if(t>=r)return o;switch(o){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch{return"[Circular]"}default:return o}}),s=n[t];t<r;s=n[++t])rx(s)||!Zp(s)?a+=" "+s:a+=" "+Xc(s);return a},ct.deprecate=function(i,e){if(go!==void 0&&go.noDeprecation===!0)return i;if(go===void 0)return function(){return ct.deprecate(i,e).apply(this||fg,arguments)};var t=!1;return function(){if(!t){if(go.throwDeprecation)throw new Error(e);go.traceDeprecation?console.trace(e):console.error(e),t=!0}return i.apply(this||fg,arguments)}};X2={},h9=/^$/;go.env.NODE_DEBUG&&(Y2=go.env.NODE_DEBUG,Y2=Y2.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),h9=new RegExp("^"+Y2+"$","i"));l(Xc,"oe");l(Bye,"ue");l(Fye,"fe");l(ex,"ae");l(SR,"ce");l(ER,"se");l(f9,"pe");l(kR,"ye");l(rx,"le");l(d9,"de");l(tx,"ge");l(Yh,"be");l(dg,"me");l(Zp,"he");l(ix,"je");l(pg,"Ae");l(Z2,"we");l(RR,"ve");l(MR,"Oe");ct.debuglog=function(i){if(i=i.toUpperCase(),!X2[i])if(h9.test(i)){var e=go.pid;X2[i]=function(){var t=ct.format.apply(ct,arguments);console.error("%s %d: %s",i,e,t)}}else X2[i]=function(){};return X2[i]},ct.inspect=Xc,Xc.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Xc.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},ct.types=xi,ct.isArray=f9,ct.isBoolean=kR,ct.isNull=rx,ct.isNullOrUndefined=function(i){return i==null},ct.isNumber=d9,ct.isString=tx,ct.isSymbol=function(i){return typeof i=="symbol"},ct.isUndefined=Yh,ct.isRegExp=dg,ct.types.isRegExp=dg,ct.isObject=Zp,ct.isDate=ix,ct.types.isDate=ix,ct.isError=pg,ct.types.isNativeError=pg,ct.isFunction=Z2,ct.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},ct.isBuffer=K7;Uye=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];l(zye,"Be");l(p9,"ke");ct.log=function(){console.log("%s - %s",zye(),ct.format.apply(ct,arguments))},ct.inherits=Eye,ct._extend=function(i,e){if(!e||!Zp(e))return i;for(var t=Object.keys(e),n=t.length;n--;)i[t[n]]=e[t[n]];return i};Xh=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;l(Dye,"De");ct.promisify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');if(Xh&&i[Xh]){var e;if(typeof(e=i[Xh])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,Xh,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var t,n,r=new Promise(function(o,c){t=o,n=c}),a=[],s=0;s<arguments.length;s++)a.push(arguments[s]);a.push(function(o,c){o?n(o):t(c)});try{i.apply(this||fg,a)}catch(o){n(o)}return r}return l(e,"t"),Object.setPrototypeOf(e,Object.getPrototypeOf(i)),Xh&&Object.defineProperty(e,Xh,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,X7(i))},ct.promisify.custom=Xh,ct.callbackify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var r=t.pop();if(typeof r!="function")throw new TypeError("The last argument must be of type Function");var a=this||fg,s=l(function(){return r.apply(a,arguments)},"o");i.apply(this||fg,t).then(function(o){go.nextTick(s.bind(null,null,o))},function(o){go.nextTick(Dye.bind(null,o,s))})}return l(e,"t"),Object.setPrototypeOf(e,Object.getPrototypeOf(i)),Object.defineProperties(e,X7(i)),e}});var CLe,LLe,NLe,OLe,BLe,FLe,ULe,zLe,DLe,VLe,qLe,HLe,GLe,WLe,jLe,$Le,XLe,YLe,ZLe,JLe,KLe,QLe,e6e,t6e,i6e,n6e,r6e,_g=Gt(()=>{ne();ae();re();Yc();$h();ct._extend;ct.callbackify;ct.debuglog;ct.deprecate;ct.format;ct.inherits;ct.inspect;ct.isArray;ct.isBoolean;ct.isBuffer;ct.isDate;ct.isError;ct.isFunction;ct.isNull;ct.isNullOrUndefined;ct.isNumber;ct.isObject;ct.isPrimitive;ct.isRegExp;ct.isString;ct.isSymbol;ct.isUndefined;ct.log;ct.promisify;CLe=ct._extend,LLe=ct.callbackify,NLe=ct.debuglog,OLe=ct.deprecate,BLe=ct.format,FLe=ct.inherits,ULe=ct.inspect,zLe=ct.isArray,DLe=ct.isBoolean,VLe=ct.isBuffer,qLe=ct.isDate,HLe=ct.isError,GLe=ct.isFunction,WLe=ct.isNull,jLe=ct.isNullOrUndefined,$Le=ct.isNumber,XLe=ct.isObject,YLe=ct.isPrimitive,ZLe=ct.isRegExp,JLe=ct.isString,KLe=ct.isSymbol,QLe=ct.isUndefined,e6e=ct.log,t6e=ct.promisify,i6e=ct.types,n6e=self.TextEncoder,r6e=self.TextDecoder});function g9(i){var e=i.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=i.indexOf("=");return t===-1&&(t=e),[t,t===e?0:4-t%4]}function Vye(i,e,t){for(var n,r,a=[],s=e;s<t;s+=3)n=(i[s]<<16&16711680)+(i[s+1]<<8&65280)+(255&i[s+2]),a.push(Os[(r=n)>>18&63]+Os[r>>12&63]+Os[r>>6&63]+Os[63&r]);return a.join("")}function Al(i){if(i>2147483647)throw new RangeError('The value "'+i+'" is invalid for option "size"');var e=new Uint8Array(i);return Object.setPrototypeOf(e,gt.prototype),e}function gt(i,e,t){if(typeof i=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return LR(i)}return T9(i,e,t)}function T9(i,e,t){if(typeof i=="string")return function(a,s){if(typeof s=="string"&&s!==""||(s="utf8"),!gt.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var o=0|R9(a,s),c=Al(o),u=c.write(a,s);return u!==o&&(c=c.slice(0,u)),c}(i,e);if(ArrayBuffer.isView(i))return PR(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(Tl(i,ArrayBuffer)||i&&Tl(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Tl(i,SharedArrayBuffer)||i&&Tl(i.buffer,SharedArrayBuffer)))return y9(i,e,t);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=i.valueOf&&i.valueOf();if(n!=null&&n!==i)return gt.from(n,e,t);var r=function(a){if(gt.isBuffer(a)){var s=0|BR(a.length),o=Al(s);return o.length===0||a.copy(o,0,0,s),o}if(a.length!==void 0)return typeof a.length!="number"||FR(a.length)?Al(0):PR(a);if(a.type==="Buffer"&&Array.isArray(a.data))return PR(a.data)}(i);if(r)return r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return gt.from(i[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}function k9(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function LR(i){return k9(i),Al(i<0?0:0|BR(i))}function PR(i){for(var e=i.length<0?0:0|BR(i.length),t=Al(e),n=0;n<e;n+=1)t[n]=255&i[n];return t}function y9(i,e,t){if(e<0||i.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=e===void 0&&t===void 0?new Uint8Array(i):t===void 0?new Uint8Array(i,e):new Uint8Array(i,e,t),Object.setPrototypeOf(n,gt.prototype),n}function BR(i){if(i>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|i}function R9(i,e){if(gt.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||Tl(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);var t=i.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return NR(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return L9(i).length;default:if(r)return n?-1:NR(i).length;e=(""+e).toLowerCase(),r=!0}}function Hye(i,e,t){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0)<=(e>>>=0))return"";for(i||(i="utf8");;)switch(i){case"hex":return Kye(this,e,t);case"utf8":case"utf-8":return I9(this,e,t);case"ascii":return Zye(this,e,t);case"latin1":case"binary":return Jye(this,e,t);case"base64":return Yye(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Qye(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),n=!0}}function Kh(i,e,t){var n=i[e];i[e]=i[t],i[t]=n}function v9(i,e,t,n,r){if(i.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),FR(t=+t)&&(t=r?0:i.length-1),t<0&&(t=i.length+t),t>=i.length){if(r)return-1;t=i.length-1}else if(t<0){if(!r)return-1;t=0}if(typeof e=="string"&&(e=gt.from(e,n)),gt.isBuffer(e))return e.length===0?-1:w9(i,e,t,n,r);if(typeof e=="number")return e&=255,typeof Uint8Array.prototype.indexOf=="function"?r?Uint8Array.prototype.indexOf.call(i,e,t):Uint8Array.prototype.lastIndexOf.call(i,e,t):w9(i,[e],t,n,r);throw new TypeError("val must be string, number or Buffer")}function w9(i,e,t,n,r){var a,s=1,o=i.length,c=e.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(i.length<2||e.length<2)return-1;s=2,o/=2,c/=2,t/=2}function u(d,m){return s===1?d[m]:d.readUInt16BE(m*s)}if(l(u,"h"),r){var h=-1;for(a=t;a<o;a++)if(u(i,a)===u(e,h===-1?0:a-h)){if(h===-1&&(h=a),a-h+1===c)return h*s}else h!==-1&&(a-=a-h),h=-1}else for(t+c>o&&(t=o-c),a=t;a>=0;a--){for(var f=!0,p=0;p<c;p++)if(u(i,a+p)!==u(e,p)){f=!1;break}if(f)return a}return-1}function Gye(i,e,t,n){t=Number(t)||0;var r=i.length-t;n?(n=Number(n))>r&&(n=r):n=r;var a=e.length;n>a/2&&(n=a/2);for(var s=0;s<n;++s){var o=parseInt(e.substr(2*s,2),16);if(FR(o))return s;i[t+s]=o}return s}function Wye(i,e,t,n){return lx(NR(e,i.length-t),i,t,n)}function P9(i,e,t,n){return lx(function(r){for(var a=[],s=0;s<r.length;++s)a.push(255&r.charCodeAt(s));return a}(e),i,t,n)}function jye(i,e,t,n){return P9(i,e,t,n)}function $ye(i,e,t,n){return lx(L9(e),i,t,n)}function Xye(i,e,t,n){return lx(function(r,a){for(var s,o,c,u=[],h=0;h<r.length&&!((a-=2)<0);++h)s=r.charCodeAt(h),o=s>>8,c=s%256,u.push(c),u.push(o);return u}(e,i.length-t),i,t,n)}function Yye(i,e,t){return e===0&&t===i.length?CR.fromByteArray(i):CR.fromByteArray(i.slice(e,t))}function I9(i,e,t){t=Math.min(i.length,t);for(var n=[],r=e;r<t;){var a,s,o,c,u=i[r],h=null,f=u>239?4:u>223?3:u>191?2:1;if(r+f<=t)switch(f){case 1:u<128&&(h=u);break;case 2:(192&(a=i[r+1]))==128&&(c=(31&u)<<6|63&a)>127&&(h=c);break;case 3:a=i[r+1],s=i[r+2],(192&a)==128&&(192&s)==128&&(c=(15&u)<<12|(63&a)<<6|63&s)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:a=i[r+1],s=i[r+2],o=i[r+3],(192&a)==128&&(192&s)==128&&(192&o)==128&&(c=(15&u)<<18|(63&a)<<12|(63&s)<<6|63&o)>65535&&c<1114112&&(h=c)}h===null?(h=65533,f=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),r+=f}return function(p){var d=p.length;if(d<=4096)return String.fromCharCode.apply(String,p);for(var m="",y=0;y<d;)m+=String.fromCharCode.apply(String,p.slice(y,y+=4096));return m}(n)}function Zye(i,e,t){var n="";t=Math.min(i.length,t);for(var r=e;r<t;++r)n+=String.fromCharCode(127&i[r]);return n}function Jye(i,e,t){var n="";t=Math.min(i.length,t);for(var r=e;r<t;++r)n+=String.fromCharCode(i[r]);return n}function Kye(i,e,t){var n=i.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);for(var r="",a=e;a<t;++a)r+=tve[i[a]];return r}function Qye(i,e,t){for(var n=i.slice(e,t),r="",a=0;a<n.length;a+=2)r+=String.fromCharCode(n[a]+256*n[a+1]);return r}function or(i,e,t){if(i%1!=0||i<0)throw new RangeError("offset is not uint");if(i+e>t)throw new RangeError("Trying to access beyond buffer length")}function na(i,e,t,n,r,a){if(!gt.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<a)throw new RangeError('"value" argument is out of bounds');if(t+n>i.length)throw new RangeError("Index out of range")}function C9(i,e,t,n,r,a){if(t+n>i.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function x9(i,e,t,n,r){return e=+e,t>>>=0,r||C9(i,0,t,4),Jp.write(i,e,t,n,23,4),t+4}function S9(i,e,t,n,r){return e=+e,t>>>=0,r||C9(i,0,t,8),Jp.write(i,e,t,n,52,8),t+8}function NR(i,e){var t;e=e||1/0;for(var n=i.length,r=null,a=[],s=0;s<n;++s){if((t=i.charCodeAt(s))>55295&&t<57344){if(!r){if(t>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}r=t;continue}if(t<56320){(e-=3)>-1&&a.push(239,191,189),r=t;continue}t=65536+(r-55296<<10|t-56320)}else r&&(e-=3)>-1&&a.push(239,191,189);if(r=null,t<128){if((e-=1)<0)break;a.push(t)}else if(t<2048){if((e-=2)<0)break;a.push(t>>6|192,63&t|128)}else if(t<65536){if((e-=3)<0)break;a.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return a}function L9(i){return CR.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(eve,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(i))}function lx(i,e,t,n){for(var r=0;r<n&&!(r+t>=e.length||r>=i.length);++r)e[r+t]=i[r];return r}function Tl(i,e){return i instanceof e||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===e.name}function FR(i){return i!=i}function E9(i,e){for(var t in i)e[t]=i[t]}function Qh(i,e,t){return bo(i,e,t)}function gg(i){var e;switch(this.encoding=function(t){var n=function(r){if(!r)return"utf8";for(var a;;)switch(r){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return r;default:if(a)return;r=(""+r).toLowerCase(),a=!0}}(t);if(typeof n!="string"&&(OR.isEncoding===M9||!M9(t)))throw new Error("Unknown encoding: "+t);return n||t}(i),this.encoding){case"utf16le":this.text=rve,this.end=ave,e=4;break;case"utf8":this.fillLast=nve,e=4;break;case"base64":this.text=sve,this.end=ove,e=3;break;default:return this.write=lve,this.end=cve,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=OR.allocUnsafe(e)}function IR(i){return i<=127?0:i>>5==6?2:i>>4==14?3:i>>3==30?4:i>>6==2?-1:-2}function nve(i){var e=this.lastTotal-this.lastNeed,t=function(n,r,a){if((192&r[0])!=128)return n.lastNeed=0,"\uFFFD";if(n.lastNeed>1&&r.length>1){if((192&r[1])!=128)return n.lastNeed=1,"\uFFFD";if(n.lastNeed>2&&r.length>2&&(192&r[2])!=128)return n.lastNeed=2,"\uFFFD"}}(this,i);return t!==void 0?t:this.lastNeed<=i.length?(i.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(i.copy(this.lastChar,e,0,i.length),this.lastNeed-=i.length,void 0)}function rve(i,e){if((i.length-e)%2==0){var t=i.toString("utf16le",e);if(t){var n=t.charCodeAt(t.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=i[i.length-2],this.lastChar[1]=i[i.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=i[i.length-1],i.toString("utf16le",e,i.length-1)}function ave(i){var e=i&&i.length?this.write(i):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,t)}return e}function sve(i,e){var t=(i.length-e)%3;return t===0?i.toString("base64",e):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=i[i.length-1]:(this.lastChar[0]=i[i.length-2],this.lastChar[1]=i[i.length-1]),i.toString("base64",e,i.length-t))}function ove(i){var e=i&&i.length?this.write(i):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function lve(i){return i.toString(this.encoding)}function cve(i){return i&&i.length?this.write(i):""}var A9,Os,Na,m9,ax,Jh,_9,qye,kl,CR,Jp,b9,eve,tve,sx,ox,bo,ive,Kp,OR,M9,cx=Gt(()=>{ne();ae();re();for(A9={byteLength:function(i){var e=g9(i),t=e[0],n=e[1];return 3*(t+n)/4-n},toByteArray:function(i){var e,t,n=g9(i),r=n[0],a=n[1],s=new m9(function(u,h,f){return 3*(h+f)/4-f}(0,r,a)),o=0,c=a>0?r-4:r;for(t=0;t<c;t+=4)e=Na[i.charCodeAt(t)]<<18|Na[i.charCodeAt(t+1)]<<12|Na[i.charCodeAt(t+2)]<<6|Na[i.charCodeAt(t+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=255&e;return a===2&&(e=Na[i.charCodeAt(t)]<<2|Na[i.charCodeAt(t+1)]>>4,s[o++]=255&e),a===1&&(e=Na[i.charCodeAt(t)]<<10|Na[i.charCodeAt(t+1)]<<4|Na[i.charCodeAt(t+2)]>>2,s[o++]=e>>8&255,s[o++]=255&e),s},fromByteArray:function(i){for(var e,t=i.length,n=t%3,r=[],a=0,s=t-n;a<s;a+=16383)r.push(Vye(i,a,a+16383>s?s:a+16383));return n===1?(e=i[t-1],r.push(Os[e>>2]+Os[e<<4&63]+"==")):n===2&&(e=(i[t-2]<<8)+i[t-1],r.push(Os[e>>10]+Os[e>>4&63]+Os[e<<2&63]+"=")),r.join("")}},Os=[],Na=[],m9=typeof Uint8Array<"u"?Uint8Array:Array,ax="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jh=0,_9=ax.length;Jh<_9;++Jh)Os[Jh]=ax[Jh],Na[ax.charCodeAt(Jh)]=Jh;l(g9,"u$2");l(Vye,"c$1");Na["-".charCodeAt(0)]=62,Na["_".charCodeAt(0)]=63;qye={read:function(i,e,t,n,r){var a,s,o=8*r-n-1,c=(1<<o)-1,u=c>>1,h=-7,f=t?r-1:0,p=t?-1:1,d=i[e+f];for(f+=p,a=d&(1<<-h)-1,d>>=-h,h+=o;h>0;a=256*a+i[e+f],f+=p,h-=8);for(s=a&(1<<-h)-1,a>>=-h,h+=n;h>0;s=256*s+i[e+f],f+=p,h-=8);if(a===0)a=1-u;else{if(a===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),a-=u}return(d?-1:1)*s*Math.pow(2,a-n)},write:function(i,e,t,n,r,a){var s,o,c,u=8*a-r-1,h=(1<<u)-1,f=h>>1,p=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,m=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+f>=1?p/c:p*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=h?(o=0,s=h):s+f>=1?(o=(e*c-1)*Math.pow(2,r),s+=f):(o=e*Math.pow(2,f-1)*Math.pow(2,r),s=0));r>=8;i[t+d]=255&o,d+=m,o/=256,r-=8);for(s=s<<r|o,u+=r;u>0;i[t+d]=255&s,d+=m,s/=256,u-=8);i[t+d-m]|=128*y}},kl={},CR=A9,Jp=qye,b9=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;kl.Buffer=gt,kl.SlowBuffer=function(i){return+i!=i&&(i=0),gt.alloc(+i)},kl.INSPECT_MAX_BYTES=50;l(Al,"f$2");l(gt,"u$1$1");l(T9,"s$1");l(k9,"h$1$1");l(LR,"a$2");l(PR,"p");l(y9,"c$1$1");l(BR,"l$1");l(R9,"y");l(Hye,"g");l(Kh,"w");l(v9,"d");l(w9,"v");l(Gye,"b");l(Wye,"m");l(P9,"E");l(jye,"B");l($ye,"A");l(Xye,"U");l(Yye,"T");l(I9,"I");kl.kMaxLength=2147483647,gt.TYPED_ARRAY_SUPPORT=function(){try{var i=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(i,e),i.foo()===42}catch{return!1}}(),gt.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(gt.prototype,"parent",{enumerable:!0,get:function(){if(gt.isBuffer(this))return this.buffer}}),Object.defineProperty(gt.prototype,"offset",{enumerable:!0,get:function(){if(gt.isBuffer(this))return this.byteOffset}}),gt.poolSize=8192,gt.from=function(i,e,t){return T9(i,e,t)},Object.setPrototypeOf(gt.prototype,Uint8Array.prototype),Object.setPrototypeOf(gt,Uint8Array),gt.alloc=function(i,e,t){return function(n,r,a){return k9(n),n<=0?Al(n):r!==void 0?typeof a=="string"?Al(n).fill(r,a):Al(n).fill(r):Al(n)}(i,e,t)},gt.allocUnsafe=function(i){return LR(i)},gt.allocUnsafeSlow=function(i){return LR(i)},gt.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==gt.prototype},gt.compare=function(i,e){if(Tl(i,Uint8Array)&&(i=gt.from(i,i.offset,i.byteLength)),Tl(e,Uint8Array)&&(e=gt.from(e,e.offset,e.byteLength)),!gt.isBuffer(i)||!gt.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===e)return 0;for(var t=i.length,n=e.length,r=0,a=Math.min(t,n);r<a;++r)if(i[r]!==e[r]){t=i[r],n=e[r];break}return t<n?-1:n<t?1:0},gt.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},gt.concat=function(i,e){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return gt.alloc(0);var t;if(e===void 0)for(e=0,t=0;t<i.length;++t)e+=i[t].length;var n=gt.allocUnsafe(e),r=0;for(t=0;t<i.length;++t){var a=i[t];if(Tl(a,Uint8Array)&&(a=gt.from(a)),!gt.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},gt.byteLength=R9,gt.prototype._isBuffer=!0,gt.prototype.swap16=function(){var i=this.length;if(i%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<i;e+=2)Kh(this,e,e+1);return this},gt.prototype.swap32=function(){var i=this.length;if(i%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<i;e+=4)Kh(this,e,e+3),Kh(this,e+1,e+2);return this},gt.prototype.swap64=function(){var i=this.length;if(i%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<i;e+=8)Kh(this,e,e+7),Kh(this,e+1,e+6),Kh(this,e+2,e+5),Kh(this,e+3,e+4);return this},gt.prototype.toString=function(){var i=this.length;return i===0?"":arguments.length===0?I9(this,0,i):Hye.apply(this,arguments)},gt.prototype.toLocaleString=gt.prototype.toString,gt.prototype.equals=function(i){if(!gt.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i||gt.compare(this,i)===0},gt.prototype.inspect=function(){var i="",e=kl.INSPECT_MAX_BYTES;return i=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(i+=" ... "),"<Buffer "+i+">"},b9&&(gt.prototype[b9]=gt.prototype.inspect),gt.prototype.compare=function(i,e,t,n,r){if(Tl(i,Uint8Array)&&(i=gt.from(i,i.offset,i.byteLength)),!gt.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(e===void 0&&(e=0),t===void 0&&(t=i?i.length:0),n===void 0&&(n=0),r===void 0&&(r=this.length),e<0||t>i.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=t)return 0;if(n>=r)return-1;if(e>=t)return 1;if(this===i)return 0;for(var a=(r>>>=0)-(n>>>=0),s=(t>>>=0)-(e>>>=0),o=Math.min(a,s),c=this.slice(n,r),u=i.slice(e,t),h=0;h<o;++h)if(c[h]!==u[h]){a=c[h],s=u[h];break}return a<s?-1:s<a?1:0},gt.prototype.includes=function(i,e,t){return this.indexOf(i,e,t)!==-1},gt.prototype.indexOf=function(i,e,t){return v9(this,i,e,t,!0)},gt.prototype.lastIndexOf=function(i,e,t){return v9(this,i,e,t,!1)},gt.prototype.write=function(i,e,t,n){if(e===void 0)n="utf8",t=this.length,e=0;else if(t===void 0&&typeof e=="string")n=e,t=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(t)?(t>>>=0,n===void 0&&(n="utf8")):(n=t,t=void 0)}var r=this.length-e;if((t===void 0||t>r)&&(t=r),i.length>0&&(t<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return Gye(this,i,e,t);case"utf8":case"utf-8":return Wye(this,i,e,t);case"ascii":return P9(this,i,e,t);case"latin1":case"binary":return jye(this,i,e,t);case"base64":return $ye(this,i,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xye(this,i,e,t);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},gt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};l(Zye,"S");l(Jye,"R");l(Kye,"O");l(Qye,"L");l(or,"x");l(na,"C");l(C9,"P");l(x9,"k");l(S9,"M");gt.prototype.slice=function(i,e){var t=this.length;(i=~~i)<0?(i+=t)<0&&(i=0):i>t&&(i=t),(e=e===void 0?t:~~e)<0?(e+=t)<0&&(e=0):e>t&&(e=t),e<i&&(e=i);var n=this.subarray(i,e);return Object.setPrototypeOf(n,gt.prototype),n},gt.prototype.readUIntLE=function(i,e,t){i>>>=0,e>>>=0,t||or(i,e,this.length);for(var n=this[i],r=1,a=0;++a<e&&(r*=256);)n+=this[i+a]*r;return n},gt.prototype.readUIntBE=function(i,e,t){i>>>=0,e>>>=0,t||or(i,e,this.length);for(var n=this[i+--e],r=1;e>0&&(r*=256);)n+=this[i+--e]*r;return n},gt.prototype.readUInt8=function(i,e){return i>>>=0,e||or(i,1,this.length),this[i]},gt.prototype.readUInt16LE=function(i,e){return i>>>=0,e||or(i,2,this.length),this[i]|this[i+1]<<8},gt.prototype.readUInt16BE=function(i,e){return i>>>=0,e||or(i,2,this.length),this[i]<<8|this[i+1]},gt.prototype.readUInt32LE=function(i,e){return i>>>=0,e||or(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+16777216*this[i+3]},gt.prototype.readUInt32BE=function(i,e){return i>>>=0,e||or(i,4,this.length),16777216*this[i]+(this[i+1]<<16|this[i+2]<<8|this[i+3])},gt.prototype.readIntLE=function(i,e,t){i>>>=0,e>>>=0,t||or(i,e,this.length);for(var n=this[i],r=1,a=0;++a<e&&(r*=256);)n+=this[i+a]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},gt.prototype.readIntBE=function(i,e,t){i>>>=0,e>>>=0,t||or(i,e,this.length);for(var n=e,r=1,a=this[i+--n];n>0&&(r*=256);)a+=this[i+--n]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*e)),a},gt.prototype.readInt8=function(i,e){return i>>>=0,e||or(i,1,this.length),128&this[i]?-1*(255-this[i]+1):this[i]},gt.prototype.readInt16LE=function(i,e){i>>>=0,e||or(i,2,this.length);var t=this[i]|this[i+1]<<8;return 32768&t?4294901760|t:t},gt.prototype.readInt16BE=function(i,e){i>>>=0,e||or(i,2,this.length);var t=this[i+1]|this[i]<<8;return 32768&t?4294901760|t:t},gt.prototype.readInt32LE=function(i,e){return i>>>=0,e||or(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},gt.prototype.readInt32BE=function(i,e){return i>>>=0,e||or(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},gt.prototype.readFloatLE=function(i,e){return i>>>=0,e||or(i,4,this.length),Jp.read(this,i,!0,23,4)},gt.prototype.readFloatBE=function(i,e){return i>>>=0,e||or(i,4,this.length),Jp.read(this,i,!1,23,4)},gt.prototype.readDoubleLE=function(i,e){return i>>>=0,e||or(i,8,this.length),Jp.read(this,i,!0,52,8)},gt.prototype.readDoubleBE=function(i,e){return i>>>=0,e||or(i,8,this.length),Jp.read(this,i,!1,52,8)},gt.prototype.writeUIntLE=function(i,e,t,n){i=+i,e>>>=0,t>>>=0,n||na(this,i,e,t,Math.pow(2,8*t)-1,0);var r=1,a=0;for(this[e]=255&i;++a<t&&(r*=256);)this[e+a]=i/r&255;return e+t},gt.prototype.writeUIntBE=function(i,e,t,n){i=+i,e>>>=0,t>>>=0,n||na(this,i,e,t,Math.pow(2,8*t)-1,0);var r=t-1,a=1;for(this[e+r]=255&i;--r>=0&&(a*=256);)this[e+r]=i/a&255;return e+t},gt.prototype.writeUInt8=function(i,e,t){return i=+i,e>>>=0,t||na(this,i,e,1,255,0),this[e]=255&i,e+1},gt.prototype.writeUInt16LE=function(i,e,t){return i=+i,e>>>=0,t||na(this,i,e,2,65535,0),this[e]=255&i,this[e+1]=i>>>8,e+2},gt.prototype.writeUInt16BE=function(i,e,t){return i=+i,e>>>=0,t||na(this,i,e,2,65535,0),this[e]=i>>>8,this[e+1]=255&i,e+2},gt.prototype.writeUInt32LE=function(i,e,t){return i=+i,e>>>=0,t||na(this,i,e,4,4294967295,0),this[e+3]=i>>>24,this[e+2]=i>>>16,this[e+1]=i>>>8,this[e]=255&i,e+4},gt.prototype.writeUInt32BE=function(i,e,t){return i=+i,e>>>=0,t||na(this,i,e,4,4294967295,0),this[e]=i>>>24,this[e+1]=i>>>16,this[e+2]=i>>>8,this[e+3]=255&i,e+4},gt.prototype.writeIntLE=function(i,e,t,n){if(i=+i,e>>>=0,!n){var r=Math.pow(2,8*t-1);na(this,i,e,t,r-1,-r)}var a=0,s=1,o=0;for(this[e]=255&i;++a<t&&(s*=256);)i<0&&o===0&&this[e+a-1]!==0&&(o=1),this[e+a]=(i/s>>0)-o&255;return e+t},gt.prototype.writeIntBE=function(i,e,t,n){if(i=+i,e>>>=0,!n){var r=Math.pow(2,8*t-1);na(this,i,e,t,r-1,-r)}var a=t-1,s=1,o=0;for(this[e+a]=255&i;--a>=0&&(s*=256);)i<0&&o===0&&this[e+a+1]!==0&&(o=1),this[e+a]=(i/s>>0)-o&255;return e+t},gt.prototype.writeInt8=function(i,e,t){return i=+i,e>>>=0,t||na(this,i,e,1,127,-128),i<0&&(i=255+i+1),this[e]=255&i,e+1},gt.prototype.writeInt16LE=function(i,e,t){return i=+i,e>>>=0,t||na(this,i,e,2,32767,-32768),this[e]=255&i,this[e+1]=i>>>8,e+2},gt.prototype.writeInt16BE=function(i,e,t){return i=+i,e>>>=0,t||na(this,i,e,2,32767,-32768),this[e]=i>>>8,this[e+1]=255&i,e+2},gt.prototype.writeInt32LE=function(i,e,t){return i=+i,e>>>=0,t||na(this,i,e,4,2147483647,-2147483648),this[e]=255&i,this[e+1]=i>>>8,this[e+2]=i>>>16,this[e+3]=i>>>24,e+4},gt.prototype.writeInt32BE=function(i,e,t){return i=+i,e>>>=0,t||na(this,i,e,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[e]=i>>>24,this[e+1]=i>>>16,this[e+2]=i>>>8,this[e+3]=255&i,e+4},gt.prototype.writeFloatLE=function(i,e,t){return x9(this,i,e,!0,t)},gt.prototype.writeFloatBE=function(i,e,t){return x9(this,i,e,!1,t)},gt.prototype.writeDoubleLE=function(i,e,t){return S9(this,i,e,!0,t)},gt.prototype.writeDoubleBE=function(i,e,t){return S9(this,i,e,!1,t)},gt.prototype.copy=function(i,e,t,n){if(!gt.isBuffer(i))throw new TypeError("argument should be a Buffer");if(t||(t=0),n||n===0||(n=this.length),e>=i.length&&(e=i.length),e||(e=0),n>0&&n<t&&(n=t),n===t||i.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),i.length-e<n-t&&(n=i.length-e+t);var r=n-t;if(this===i&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(e,t,n);else if(this===i&&t<e&&e<n)for(var a=r-1;a>=0;--a)i[a+e]=this[a+t];else Uint8Array.prototype.set.call(i,this.subarray(t,n),e);return r},gt.prototype.fill=function(i,e,t,n){if(typeof i=="string"){if(typeof e=="string"?(n=e,e=0,t=this.length):typeof t=="string"&&(n=t,t=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!gt.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(i.length===1){var r=i.charCodeAt(0);(n==="utf8"&&r<128||n==="latin1")&&(i=r)}}else typeof i=="number"?i&=255:typeof i=="boolean"&&(i=Number(i));if(e<0||this.length<e||this.length<t)throw new RangeError("Out of range index");if(t<=e)return this;var a;if(e>>>=0,t=t===void 0?this.length:t>>>0,i||(i=0),typeof i=="number")for(a=e;a<t;++a)this[a]=i;else{var s=gt.isBuffer(i)?i:gt.from(i,n),o=s.length;if(o===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(a=0;a<t-e;++a)this[a+e]=s[a%o]}return this};eve=/[^+/0-9A-Za-z-_]/g;l(NR,"_");l(L9,"z");l(lx,"D");l(Tl,"F");l(FR,"N");tve=function(){for(var i=new Array(256),e=0;e<16;++e)for(var t=16*e,n=0;n<16;++n)i[t+n]="0123456789abcdef"[e]+"0123456789abcdef"[n];return i}();kl.Buffer;kl.INSPECT_MAX_BYTES;kl.kMaxLength;sx={},ox=kl,bo=ox.Buffer;l(E9,"t");l(Qh,"f");bo.from&&bo.alloc&&bo.allocUnsafe&&bo.allocUnsafeSlow?sx=ox:(E9(ox,sx),sx.Buffer=Qh),Qh.prototype=Object.create(bo.prototype),E9(bo,Qh),Qh.from=function(i,e,t){if(typeof i=="number")throw new TypeError("Argument must not be a number");return bo(i,e,t)},Qh.alloc=function(i,e,t){if(typeof i!="number")throw new TypeError("Argument must be a number");var n=bo(i);return e!==void 0?typeof t=="string"?n.fill(e,t):n.fill(e):n.fill(0),n},Qh.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return bo(i)},Qh.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return ox.SlowBuffer(i)};ive=sx,Kp={},OR=ive.Buffer,M9=OR.isEncoding||function(i){switch((i=""+i)&&i.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};l(gg,"a");l(IR,"r");l(nve,"n$1");l(rve,"h");l(ave,"l");l(sve,"u$1");l(ove,"o$1");l(lve,"f$1");l(cve,"c");Kp.StringDecoder=gg,gg.prototype.write=function(i){if(i.length===0)return"";var e,t;if(this.lastNeed){if((e=this.fillLast(i))===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<i.length?e?e+this.text(i,t):this.text(i,t):e||""},gg.prototype.end=function(i){var e=i&&i.length?this.write(i):"";return this.lastNeed?e+"\uFFFD":e},gg.prototype.text=function(i,e){var t=function(r,a,s){var o=a.length-1;if(o<s)return 0;var c=IR(a[o]);return c>=0?(c>0&&(r.lastNeed=c-1),c):--o<s||c===-2?0:(c=IR(a[o]))>=0?(c>0&&(r.lastNeed=c-2),c):--o<s||c===-2?0:(c=IR(a[o]))>=0?(c>0&&(c===2?c=0:r.lastNeed=c-3),c):0}(this,i,e);if(!this.lastNeed)return i.toString("utf8",e);this.lastTotal=t;var n=i.length-(t-this.lastNeed);return i.copy(this.lastChar,0,n),i.toString("utf8",e,n)},gg.prototype.fillLast=function(i){if(this.lastNeed<=i.length)return i.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);i.copy(this.lastChar,this.lastTotal-this.lastNeed,0,i.length),this.lastNeed-=i.length};Kp.StringDecoder;Kp.StringDecoder});function uve(){if(N9)return bg;N9=!0,bg.byteLength=o,bg.toByteArray=u,bg.fromByteArray=p;for(var i=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,a=n.length;r<a;++r)i[r]=n[r],e[n.charCodeAt(r)]=r;e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63;function s(d){var m=d.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=d.indexOf("=");y===-1&&(y=m);var g=y===m?0:4-y%4;return[y,g]}l(s,"getLens");function o(d){var m=s(d),y=m[0],g=m[1];return(y+g)*3/4-g}l(o,"byteLength");function c(d,m,y){return(m+y)*3/4-y}l(c,"_byteLength");function u(d){var m,y=s(d),g=y[0],b=y[1],x=new t(c(d,g,b)),w=0,E=b>0?g-4:g,M;for(M=0;M<E;M+=4)m=e[d.charCodeAt(M)]<<18|e[d.charCodeAt(M+1)]<<12|e[d.charCodeAt(M+2)]<<6|e[d.charCodeAt(M+3)],x[w++]=m>>16&255,x[w++]=m>>8&255,x[w++]=m&255;return b===2&&(m=e[d.charCodeAt(M)]<<2|e[d.charCodeAt(M+1)]>>4,x[w++]=m&255),b===1&&(m=e[d.charCodeAt(M)]<<10|e[d.charCodeAt(M+1)]<<4|e[d.charCodeAt(M+2)]>>2,x[w++]=m>>8&255,x[w++]=m&255),x}l(u,"toByteArray");function h(d){return i[d>>18&63]+i[d>>12&63]+i[d>>6&63]+i[d&63]}l(h,"tripletToBase64");function f(d,m,y){for(var g,b=[],x=m;x<y;x+=3)g=(d[x]<<16&16711680)+(d[x+1]<<8&65280)+(d[x+2]&255),b.push(h(g));return b.join("")}l(f,"encodeChunk");function p(d){for(var m,y=d.length,g=y%3,b=[],x=16383,w=0,E=y-g;w<E;w+=x)b.push(f(d,w,w+x>E?E:w+x));return g===1?(m=d[y-1],b.push(i[m>>2]+i[m<<4&63]+"==")):g===2&&(m=(d[y-2]<<8)+d[y-1],b.push(i[m>>10]+i[m>>4&63]+i[m<<2&63]+"=")),b.join("")}return l(p,"fromByteArray"),bg}function hve(){if(O9)return ux;O9=!0;return ux.read=function(i,e,t,n,r){var a,s,o=r*8-n-1,c=(1<<o)-1,u=c>>1,h=-7,f=t?r-1:0,p=t?-1:1,d=i[e+f];for(f+=p,a=d&(1<<-h)-1,d>>=-h,h+=o;h>0;a=a*256+i[e+f],f+=p,h-=8);for(s=a&(1<<-h)-1,a>>=-h,h+=n;h>0;s=s*256+i[e+f],f+=p,h-=8);if(a===0)a=1-u;else{if(a===c)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-u}return(d?-1:1)*s*Math.pow(2,a-n)},ux.write=function(i,e,t,n,r,a){var s,o,c,u=a*8-r-1,h=(1<<u)-1,f=h>>1,p=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,m=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+f>=1?e+=p/c:e+=p*Math.pow(2,1-f),e*c>=2&&(s++,c/=2),s+f>=h?(o=0,s=h):s+f>=1?(o=(e*c-1)*Math.pow(2,r),s=s+f):(o=e*Math.pow(2,f-1)*Math.pow(2,r),s=0));r>=8;i[t+d]=o&255,d+=m,o/=256,r-=8);for(s=s<<r|o,u+=r;u>0;i[t+d]=s&255,d+=m,s/=256,u-=8);i[t+d-m]|=y*128},ux}function fve(){if(B9)return ef;B9=!0;let i=uve(),e=hve(),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ef.Buffer=s,ef.SlowBuffer=b,ef.INSPECT_MAX_BYTES=50;let n=2147483647;ef.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=r(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function r(){try{let W=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(W,L),W.foo()===42}catch{return!1}}l(r,"typedArraySupport"),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(W){if(W>n)throw new RangeError('The value "'+W+'" is invalid for option "size"');let L=new Uint8Array(W);return Object.setPrototypeOf(L,s.prototype),L}l(a,"createBuffer");function s(W,L,P){if(typeof W=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(W)}return o(W,L,P)}l(s,"Buffer"),s.poolSize=8192;function o(W,L,P){if(typeof W=="string")return f(W,L);if(ArrayBuffer.isView(W))return d(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Xe(W,ArrayBuffer)||W&&Xe(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Xe(W,SharedArrayBuffer)||W&&Xe(W.buffer,SharedArrayBuffer)))return m(W,L,P);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let se=W.valueOf&&W.valueOf();if(se!=null&&se!==W)return s.from(se,L,P);let de=y(W);if(de)return de;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return s.from(W[Symbol.toPrimitive]("string"),L,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}l(o,"from"),s.from=function(W,L,P){return o(W,L,P)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}l(c,"assertSize");function u(W,L,P){return c(W),W<=0?a(W):L!==void 0?typeof P=="string"?a(W).fill(L,P):a(W).fill(L):a(W)}l(u,"alloc"),s.alloc=function(W,L,P){return u(W,L,P)};function h(W){return c(W),a(W<0?0:g(W)|0)}l(h,"allocUnsafe"),s.allocUnsafe=function(W){return h(W)},s.allocUnsafeSlow=function(W){return h(W)};function f(W,L){if((typeof L!="string"||L==="")&&(L="utf8"),!s.isEncoding(L))throw new TypeError("Unknown encoding: "+L);let P=x(W,L)|0,se=a(P),de=se.write(W,L);return de!==P&&(se=se.slice(0,de)),se}l(f,"fromString");function p(W){let L=W.length<0?0:g(W.length)|0,P=a(L);for(let se=0;se<L;se+=1)P[se]=W[se]&255;return P}l(p,"fromArrayLike");function d(W){if(Xe(W,Uint8Array)){let L=new Uint8Array(W);return m(L.buffer,L.byteOffset,L.byteLength)}return p(W)}l(d,"fromArrayView");function m(W,L,P){if(L<0||W.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<L+(P||0))throw new RangeError('"length" is outside of buffer bounds');let se;return L===void 0&&P===void 0?se=new Uint8Array(W):P===void 0?se=new Uint8Array(W,L):se=new Uint8Array(W,L,P),Object.setPrototypeOf(se,s.prototype),se}l(m,"fromArrayBuffer");function y(W){if(s.isBuffer(W)){let L=g(W.length)|0,P=a(L);return P.length===0||W.copy(P,0,0,L),P}if(W.length!==void 0)return typeof W.length!="number"||nt(W.length)?a(0):p(W);if(W.type==="Buffer"&&Array.isArray(W.data))return p(W.data)}l(y,"fromObject");function g(W){if(W>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return W|0}l(g,"checked");function b(W){return+W!=W&&(W=0),s.alloc(+W)}l(b,"SlowBuffer"),s.isBuffer=l(function(L){return L!=null&&L._isBuffer===!0&&L!==s.prototype},"isBuffer"),s.compare=l(function(L,P){if(Xe(L,Uint8Array)&&(L=s.from(L,L.offset,L.byteLength)),Xe(P,Uint8Array)&&(P=s.from(P,P.offset,P.byteLength)),!s.isBuffer(L)||!s.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===P)return 0;let se=L.length,de=P.length;for(let O=0,be=Math.min(se,de);O<be;++O)if(L[O]!==P[O]){se=L[O],de=P[O];break}return se<de?-1:de<se?1:0},"compare"),s.isEncoding=l(function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),s.concat=l(function(L,P){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return s.alloc(0);let se;if(P===void 0)for(P=0,se=0;se<L.length;++se)P+=L[se].length;let de=s.allocUnsafe(P),O=0;for(se=0;se<L.length;++se){let be=L[se];if(Xe(be,Uint8Array))O+be.length>de.length?(s.isBuffer(be)||(be=s.from(be)),be.copy(de,O)):Uint8Array.prototype.set.call(de,be,O);else if(s.isBuffer(be))be.copy(de,O);else throw new TypeError('"list" argument must be an Array of Buffers');O+=be.length}return de},"concat");function x(W,L){if(s.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Xe(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);let P=W.length,se=arguments.length>2&&arguments[2]===!0;if(!se&&P===0)return 0;let de=!1;for(;;)switch(L){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return J(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return Ie(W).length;default:if(de)return se?-1:J(W).length;L=(""+L).toLowerCase(),de=!0}}l(x,"byteLength"),s.byteLength=x;function w(W,L,P){let se=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,L>>>=0,P<=L))return"";for(W||(W="utf8");;)switch(W){case"hex":return Y(this,L,P);case"utf8":case"utf-8":return U(this,L,P);case"ascii":return fe(this,L,P);case"latin1":case"binary":return H(this,L,P);case"base64":return R(this,L,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,L,P);default:if(se)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),se=!0}}l(w,"slowToString"),s.prototype._isBuffer=!0;function E(W,L,P){let se=W[L];W[L]=W[P],W[P]=se}l(E,"swap"),s.prototype.swap16=l(function(){let L=this.length;if(L%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let P=0;P<L;P+=2)E(this,P,P+1);return this},"swap16"),s.prototype.swap32=l(function(){let L=this.length;if(L%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let P=0;P<L;P+=4)E(this,P,P+3),E(this,P+1,P+2);return this},"swap32"),s.prototype.swap64=l(function(){let L=this.length;if(L%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let P=0;P<L;P+=8)E(this,P,P+7),E(this,P+1,P+6),E(this,P+2,P+5),E(this,P+3,P+4);return this},"swap64"),s.prototype.toString=l(function(){let L=this.length;return L===0?"":arguments.length===0?U(this,0,L):w.apply(this,arguments)},"toString"),s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=l(function(L){if(!s.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L?!0:s.compare(this,L)===0},"equals"),s.prototype.inspect=l(function(){let L="",P=ef.INSPECT_MAX_BYTES;return L=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(L+=" ... "),"<Buffer "+L+">"},"inspect"),t&&(s.prototype[t]=s.prototype.inspect),s.prototype.compare=l(function(L,P,se,de,O){if(Xe(L,Uint8Array)&&(L=s.from(L,L.offset,L.byteLength)),!s.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(P===void 0&&(P=0),se===void 0&&(se=L?L.length:0),de===void 0&&(de=0),O===void 0&&(O=this.length),P<0||se>L.length||de<0||O>this.length)throw new RangeError("out of range index");if(de>=O&&P>=se)return 0;if(de>=O)return-1;if(P>=se)return 1;if(P>>>=0,se>>>=0,de>>>=0,O>>>=0,this===L)return 0;let be=O-de,Ue=se-P,We=Math.min(be,Ue),_e=this.slice(de,O),Re=L.slice(P,se);for(let te=0;te<We;++te)if(_e[te]!==Re[te]){be=_e[te],Ue=Re[te];break}return be<Ue?-1:Ue<be?1:0},"compare");function M(W,L,P,se,de){if(W.length===0)return-1;if(typeof P=="string"?(se=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,nt(P)&&(P=de?0:W.length-1),P<0&&(P=W.length+P),P>=W.length){if(de)return-1;P=W.length-1}else if(P<0)if(de)P=0;else return-1;if(typeof L=="string"&&(L=s.from(L,se)),s.isBuffer(L))return L.length===0?-1:C(W,L,P,se,de);if(typeof L=="number")return L=L&255,typeof Uint8Array.prototype.indexOf=="function"?de?Uint8Array.prototype.indexOf.call(W,L,P):Uint8Array.prototype.lastIndexOf.call(W,L,P):C(W,[L],P,se,de);throw new TypeError("val must be string, number or Buffer")}l(M,"bidirectionalIndexOf");function C(W,L,P,se,de){let O=1,be=W.length,Ue=L.length;if(se!==void 0&&(se=String(se).toLowerCase(),se==="ucs2"||se==="ucs-2"||se==="utf16le"||se==="utf-16le")){if(W.length<2||L.length<2)return-1;O=2,be/=2,Ue/=2,P/=2}function We(Re,te){return O===1?Re[te]:Re.readUInt16BE(te*O)}l(We,"read");let _e;if(de){let Re=-1;for(_e=P;_e<be;_e++)if(We(W,_e)===We(L,Re===-1?0:_e-Re)){if(Re===-1&&(Re=_e),_e-Re+1===Ue)return Re*O}else Re!==-1&&(_e-=_e-Re),Re=-1}else for(P+Ue>be&&(P=be-Ue),_e=P;_e>=0;_e--){let Re=!0;for(let te=0;te<Ue;te++)if(We(W,_e+te)!==We(L,te)){Re=!1;break}if(Re)return _e}return-1}l(C,"arrayIndexOf"),s.prototype.includes=l(function(L,P,se){return this.indexOf(L,P,se)!==-1},"includes"),s.prototype.indexOf=l(function(L,P,se){return M(this,L,P,se,!0)},"indexOf"),s.prototype.lastIndexOf=l(function(L,P,se){return M(this,L,P,se,!1)},"lastIndexOf");function I(W,L,P,se){P=Number(P)||0;let de=W.length-P;se?(se=Number(se),se>de&&(se=de)):se=de;let O=L.length;se>O/2&&(se=O/2);let be;for(be=0;be<se;++be){let Ue=parseInt(L.substr(be*2,2),16);if(nt(Ue))return be;W[P+be]=Ue}return be}l(I,"hexWrite");function F(W,L,P,se){return Ce(J(L,W.length-P),W,P,se)}l(F,"utf8Write");function A(W,L,P,se){return Ce(me(L),W,P,se)}l(A,"asciiWrite");function T(W,L,P,se){return Ce(Ie(L),W,P,se)}l(T,"base64Write");function j(W,L,P,se){return Ce(Se(L,W.length-P),W,P,se)}l(j,"ucs2Write"),s.prototype.write=l(function(L,P,se,de){if(P===void 0)de="utf8",se=this.length,P=0;else if(se===void 0&&typeof P=="string")de=P,se=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(se)?(se=se>>>0,de===void 0&&(de="utf8")):(de=se,se=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let O=this.length-P;if((se===void 0||se>O)&&(se=O),L.length>0&&(se<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");de||(de="utf8");let be=!1;for(;;)switch(de){case"hex":return I(this,L,P,se);case"utf8":case"utf-8":return F(this,L,P,se);case"ascii":case"latin1":case"binary":return A(this,L,P,se);case"base64":return T(this,L,P,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,L,P,se);default:if(be)throw new TypeError("Unknown encoding: "+de);de=(""+de).toLowerCase(),be=!0}},"write"),s.prototype.toJSON=l(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function R(W,L,P){return L===0&&P===W.length?i.fromByteArray(W):i.fromByteArray(W.slice(L,P))}l(R,"base64Slice");function U(W,L,P){P=Math.min(W.length,P);let se=[],de=L;for(;de<P;){let O=W[de],be=null,Ue=O>239?4:O>223?3:O>191?2:1;if(de+Ue<=P){let We,_e,Re,te;switch(Ue){case 1:O<128&&(be=O);break;case 2:We=W[de+1],(We&192)===128&&(te=(O&31)<<6|We&63,te>127&&(be=te));break;case 3:We=W[de+1],_e=W[de+2],(We&192)===128&&(_e&192)===128&&(te=(O&15)<<12|(We&63)<<6|_e&63,te>2047&&(te<55296||te>57343)&&(be=te));break;case 4:We=W[de+1],_e=W[de+2],Re=W[de+3],(We&192)===128&&(_e&192)===128&&(Re&192)===128&&(te=(O&15)<<18|(We&63)<<12|(_e&63)<<6|Re&63,te>65535&&te<1114112&&(be=te))}}be===null?(be=65533,Ue=1):be>65535&&(be-=65536,se.push(be>>>10&1023|55296),be=56320|be&1023),se.push(be),de+=Ue}return X(se)}l(U,"utf8Slice");let q=4096;function X(W){let L=W.length;if(L<=q)return String.fromCharCode.apply(String,W);let P="",se=0;for(;se<L;)P+=String.fromCharCode.apply(String,W.slice(se,se+=q));return P}l(X,"decodeCodePointsArray");function fe(W,L,P){let se="";P=Math.min(W.length,P);for(let de=L;de<P;++de)se+=String.fromCharCode(W[de]&127);return se}l(fe,"asciiSlice");function H(W,L,P){let se="";P=Math.min(W.length,P);for(let de=L;de<P;++de)se+=String.fromCharCode(W[de]);return se}l(H,"latin1Slice");function Y(W,L,P){let se=W.length;(!L||L<0)&&(L=0),(!P||P<0||P>se)&&(P=se);let de="";for(let O=L;O<P;++O)de+=z[W[O]];return de}l(Y,"hexSlice");function $(W,L,P){let se=W.slice(L,P),de="";for(let O=0;O<se.length-1;O+=2)de+=String.fromCharCode(se[O]+se[O+1]*256);return de}l($,"utf16leSlice"),s.prototype.slice=l(function(L,P){let se=this.length;L=~~L,P=P===void 0?se:~~P,L<0?(L+=se,L<0&&(L=0)):L>se&&(L=se),P<0?(P+=se,P<0&&(P=0)):P>se&&(P=se),P<L&&(P=L);let de=this.subarray(L,P);return Object.setPrototypeOf(de,s.prototype),de},"slice");function Z(W,L,P){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+L>P)throw new RangeError("Trying to access beyond buffer length")}l(Z,"checkOffset"),s.prototype.readUintLE=s.prototype.readUIntLE=l(function(L,P,se){L=L>>>0,P=P>>>0,se||Z(L,P,this.length);let de=this[L],O=1,be=0;for(;++be<P&&(O*=256);)de+=this[L+be]*O;return de},"readUIntLE"),s.prototype.readUintBE=s.prototype.readUIntBE=l(function(L,P,se){L=L>>>0,P=P>>>0,se||Z(L,P,this.length);let de=this[L+--P],O=1;for(;P>0&&(O*=256);)de+=this[L+--P]*O;return de},"readUIntBE"),s.prototype.readUint8=s.prototype.readUInt8=l(function(L,P){return L=L>>>0,P||Z(L,1,this.length),this[L]},"readUInt8"),s.prototype.readUint16LE=s.prototype.readUInt16LE=l(function(L,P){return L=L>>>0,P||Z(L,2,this.length),this[L]|this[L+1]<<8},"readUInt16LE"),s.prototype.readUint16BE=s.prototype.readUInt16BE=l(function(L,P){return L=L>>>0,P||Z(L,2,this.length),this[L]<<8|this[L+1]},"readUInt16BE"),s.prototype.readUint32LE=s.prototype.readUInt32LE=l(function(L,P){return L=L>>>0,P||Z(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+this[L+3]*16777216},"readUInt32LE"),s.prototype.readUint32BE=s.prototype.readUInt32BE=l(function(L,P){return L=L>>>0,P||Z(L,4,this.length),this[L]*16777216+(this[L+1]<<16|this[L+2]<<8|this[L+3])},"readUInt32BE"),s.prototype.readBigUInt64LE=B(l(function(L){L=L>>>0,S(L,"offset");let P=this[L],se=this[L+7];(P===void 0||se===void 0)&&G(L,this.length-8);let de=P+this[++L]*2**8+this[++L]*2**16+this[++L]*2**24,O=this[++L]+this[++L]*2**8+this[++L]*2**16+se*2**24;return BigInt(de)+(BigInt(O)<<BigInt(32))},"readBigUInt64LE")),s.prototype.readBigUInt64BE=B(l(function(L){L=L>>>0,S(L,"offset");let P=this[L],se=this[L+7];(P===void 0||se===void 0)&&G(L,this.length-8);let de=P*2**24+this[++L]*2**16+this[++L]*2**8+this[++L],O=this[++L]*2**24+this[++L]*2**16+this[++L]*2**8+se;return(BigInt(de)<<BigInt(32))+BigInt(O)},"readBigUInt64BE")),s.prototype.readIntLE=l(function(L,P,se){L=L>>>0,P=P>>>0,se||Z(L,P,this.length);let de=this[L],O=1,be=0;for(;++be<P&&(O*=256);)de+=this[L+be]*O;return O*=128,de>=O&&(de-=Math.pow(2,8*P)),de},"readIntLE"),s.prototype.readIntBE=l(function(L,P,se){L=L>>>0,P=P>>>0,se||Z(L,P,this.length);let de=P,O=1,be=this[L+--de];for(;de>0&&(O*=256);)be+=this[L+--de]*O;return O*=128,be>=O&&(be-=Math.pow(2,8*P)),be},"readIntBE"),s.prototype.readInt8=l(function(L,P){return L=L>>>0,P||Z(L,1,this.length),this[L]&128?(255-this[L]+1)*-1:this[L]},"readInt8"),s.prototype.readInt16LE=l(function(L,P){L=L>>>0,P||Z(L,2,this.length);let se=this[L]|this[L+1]<<8;return se&32768?se|4294901760:se},"readInt16LE"),s.prototype.readInt16BE=l(function(L,P){L=L>>>0,P||Z(L,2,this.length);let se=this[L+1]|this[L]<<8;return se&32768?se|4294901760:se},"readInt16BE"),s.prototype.readInt32LE=l(function(L,P){return L=L>>>0,P||Z(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},"readInt32LE"),s.prototype.readInt32BE=l(function(L,P){return L=L>>>0,P||Z(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},"readInt32BE"),s.prototype.readBigInt64LE=B(l(function(L){L=L>>>0,S(L,"offset");let P=this[L],se=this[L+7];(P===void 0||se===void 0)&&G(L,this.length-8);let de=this[L+4]+this[L+5]*2**8+this[L+6]*2**16+(se<<24);return(BigInt(de)<<BigInt(32))+BigInt(P+this[++L]*2**8+this[++L]*2**16+this[++L]*2**24)},"readBigInt64LE")),s.prototype.readBigInt64BE=B(l(function(L){L=L>>>0,S(L,"offset");let P=this[L],se=this[L+7];(P===void 0||se===void 0)&&G(L,this.length-8);let de=(P<<24)+this[++L]*2**16+this[++L]*2**8+this[++L];return(BigInt(de)<<BigInt(32))+BigInt(this[++L]*2**24+this[++L]*2**16+this[++L]*2**8+se)},"readBigInt64BE")),s.prototype.readFloatLE=l(function(L,P){return L=L>>>0,P||Z(L,4,this.length),e.read(this,L,!0,23,4)},"readFloatLE"),s.prototype.readFloatBE=l(function(L,P){return L=L>>>0,P||Z(L,4,this.length),e.read(this,L,!1,23,4)},"readFloatBE"),s.prototype.readDoubleLE=l(function(L,P){return L=L>>>0,P||Z(L,8,this.length),e.read(this,L,!0,52,8)},"readDoubleLE"),s.prototype.readDoubleBE=l(function(L,P){return L=L>>>0,P||Z(L,8,this.length),e.read(this,L,!1,52,8)},"readDoubleBE");function ie(W,L,P,se,de,O){if(!s.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>de||L<O)throw new RangeError('"value" argument is out of bounds');if(P+se>W.length)throw new RangeError("Index out of range")}l(ie,"checkInt"),s.prototype.writeUintLE=s.prototype.writeUIntLE=l(function(L,P,se,de){if(L=+L,P=P>>>0,se=se>>>0,!de){let Ue=Math.pow(2,8*se)-1;ie(this,L,P,se,Ue,0)}let O=1,be=0;for(this[P]=L&255;++be<se&&(O*=256);)this[P+be]=L/O&255;return P+se},"writeUIntLE"),s.prototype.writeUintBE=s.prototype.writeUIntBE=l(function(L,P,se,de){if(L=+L,P=P>>>0,se=se>>>0,!de){let Ue=Math.pow(2,8*se)-1;ie(this,L,P,se,Ue,0)}let O=se-1,be=1;for(this[P+O]=L&255;--O>=0&&(be*=256);)this[P+O]=L/be&255;return P+se},"writeUIntBE"),s.prototype.writeUint8=s.prototype.writeUInt8=l(function(L,P,se){return L=+L,P=P>>>0,se||ie(this,L,P,1,255,0),this[P]=L&255,P+1},"writeUInt8"),s.prototype.writeUint16LE=s.prototype.writeUInt16LE=l(function(L,P,se){return L=+L,P=P>>>0,se||ie(this,L,P,2,65535,0),this[P]=L&255,this[P+1]=L>>>8,P+2},"writeUInt16LE"),s.prototype.writeUint16BE=s.prototype.writeUInt16BE=l(function(L,P,se){return L=+L,P=P>>>0,se||ie(this,L,P,2,65535,0),this[P]=L>>>8,this[P+1]=L&255,P+2},"writeUInt16BE"),s.prototype.writeUint32LE=s.prototype.writeUInt32LE=l(function(L,P,se){return L=+L,P=P>>>0,se||ie(this,L,P,4,4294967295,0),this[P+3]=L>>>24,this[P+2]=L>>>16,this[P+1]=L>>>8,this[P]=L&255,P+4},"writeUInt32LE"),s.prototype.writeUint32BE=s.prototype.writeUInt32BE=l(function(L,P,se){return L=+L,P=P>>>0,se||ie(this,L,P,4,4294967295,0),this[P]=L>>>24,this[P+1]=L>>>16,this[P+2]=L>>>8,this[P+3]=L&255,P+4},"writeUInt32BE");function ue(W,L,P,se,de){Ze(L,se,de,W,P,7);let O=Number(L&BigInt(4294967295));W[P++]=O,O=O>>8,W[P++]=O,O=O>>8,W[P++]=O,O=O>>8,W[P++]=O;let be=Number(L>>BigInt(32)&BigInt(4294967295));return W[P++]=be,be=be>>8,W[P++]=be,be=be>>8,W[P++]=be,be=be>>8,W[P++]=be,P}l(ue,"wrtBigUInt64LE");function Me(W,L,P,se,de){Ze(L,se,de,W,P,7);let O=Number(L&BigInt(4294967295));W[P+7]=O,O=O>>8,W[P+6]=O,O=O>>8,W[P+5]=O,O=O>>8,W[P+4]=O;let be=Number(L>>BigInt(32)&BigInt(4294967295));return W[P+3]=be,be=be>>8,W[P+2]=be,be=be>>8,W[P+1]=be,be=be>>8,W[P]=be,P+8}l(Me,"wrtBigUInt64BE"),s.prototype.writeBigUInt64LE=B(l(function(L,P=0){return ue(this,L,P,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),s.prototype.writeBigUInt64BE=B(l(function(L,P=0){return Me(this,L,P,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),s.prototype.writeIntLE=l(function(L,P,se,de){if(L=+L,P=P>>>0,!de){let We=Math.pow(2,8*se-1);ie(this,L,P,se,We-1,-We)}let O=0,be=1,Ue=0;for(this[P]=L&255;++O<se&&(be*=256);)L<0&&Ue===0&&this[P+O-1]!==0&&(Ue=1),this[P+O]=(L/be>>0)-Ue&255;return P+se},"writeIntLE"),s.prototype.writeIntBE=l(function(L,P,se,de){if(L=+L,P=P>>>0,!de){let We=Math.pow(2,8*se-1);ie(this,L,P,se,We-1,-We)}let O=se-1,be=1,Ue=0;for(this[P+O]=L&255;--O>=0&&(be*=256);)L<0&&Ue===0&&this[P+O+1]!==0&&(Ue=1),this[P+O]=(L/be>>0)-Ue&255;return P+se},"writeIntBE"),s.prototype.writeInt8=l(function(L,P,se){return L=+L,P=P>>>0,se||ie(this,L,P,1,127,-128),L<0&&(L=255+L+1),this[P]=L&255,P+1},"writeInt8"),s.prototype.writeInt16LE=l(function(L,P,se){return L=+L,P=P>>>0,se||ie(this,L,P,2,32767,-32768),this[P]=L&255,this[P+1]=L>>>8,P+2},"writeInt16LE"),s.prototype.writeInt16BE=l(function(L,P,se){return L=+L,P=P>>>0,se||ie(this,L,P,2,32767,-32768),this[P]=L>>>8,this[P+1]=L&255,P+2},"writeInt16BE"),s.prototype.writeInt32LE=l(function(L,P,se){return L=+L,P=P>>>0,se||ie(this,L,P,4,2147483647,-2147483648),this[P]=L&255,this[P+1]=L>>>8,this[P+2]=L>>>16,this[P+3]=L>>>24,P+4},"writeInt32LE"),s.prototype.writeInt32BE=l(function(L,P,se){return L=+L,P=P>>>0,se||ie(this,L,P,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[P]=L>>>24,this[P+1]=L>>>16,this[P+2]=L>>>8,this[P+3]=L&255,P+4},"writeInt32BE"),s.prototype.writeBigInt64LE=B(l(function(L,P=0){return ue(this,L,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),s.prototype.writeBigInt64BE=B(l(function(L,P=0){return Me(this,L,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function Fe(W,L,P,se,de,O){if(P+se>W.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}l(Fe,"checkIEEE754");function De(W,L,P,se,de){return L=+L,P=P>>>0,de||Fe(W,L,P,4),e.write(W,L,P,se,23,4),P+4}l(De,"writeFloat"),s.prototype.writeFloatLE=l(function(L,P,se){return De(this,L,P,!0,se)},"writeFloatLE"),s.prototype.writeFloatBE=l(function(L,P,se){return De(this,L,P,!1,se)},"writeFloatBE");function Ge(W,L,P,se,de){return L=+L,P=P>>>0,de||Fe(W,L,P,8),e.write(W,L,P,se,52,8),P+8}l(Ge,"writeDouble"),s.prototype.writeDoubleLE=l(function(L,P,se){return Ge(this,L,P,!0,se)},"writeDoubleLE"),s.prototype.writeDoubleBE=l(function(L,P,se){return Ge(this,L,P,!1,se)},"writeDoubleBE"),s.prototype.copy=l(function(L,P,se,de){if(!s.isBuffer(L))throw new TypeError("argument should be a Buffer");if(se||(se=0),!de&&de!==0&&(de=this.length),P>=L.length&&(P=L.length),P||(P=0),de>0&&de<se&&(de=se),de===se||L.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(se<0||se>=this.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("sourceEnd out of bounds");de>this.length&&(de=this.length),L.length-P<de-se&&(de=L.length-P+se);let O=de-se;return this===L&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,se,de):Uint8Array.prototype.set.call(L,this.subarray(se,de),P),O},"copy"),s.prototype.fill=l(function(L,P,se,de){if(typeof L=="string"){if(typeof P=="string"?(de=P,P=0,se=this.length):typeof se=="string"&&(de=se,se=this.length),de!==void 0&&typeof de!="string")throw new TypeError("encoding must be a string");if(typeof de=="string"&&!s.isEncoding(de))throw new TypeError("Unknown encoding: "+de);if(L.length===1){let be=L.charCodeAt(0);(de==="utf8"&&be<128||de==="latin1")&&(L=be)}}else typeof L=="number"?L=L&255:typeof L=="boolean"&&(L=Number(L));if(P<0||this.length<P||this.length<se)throw new RangeError("Out of range index");if(se<=P)return this;P=P>>>0,se=se===void 0?this.length:se>>>0,L||(L=0);let O;if(typeof L=="number")for(O=P;O<se;++O)this[O]=L;else{let be=s.isBuffer(L)?L:s.from(L,de),Ue=be.length;if(Ue===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(O=0;O<se-P;++O)this[O+P]=be[O%Ue]}return this},"fill");let ve={};function we(W,L,P){ve[W]=class extends P{static{l(this,"NodeError")}constructor(){super(),Object.defineProperty(this,"message",{value:L.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(de){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:de,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}l(we,"E"),we("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),we("ERR_INVALID_ARG_TYPE",function(W,L){return`The "${W}" argument must be of type number. Received type ${typeof L}`},TypeError),we("ERR_OUT_OF_RANGE",function(W,L,P){let se=`The value of "${W}" is out of range.`,de=P;return Number.isInteger(P)&&Math.abs(P)>2**32?de=He(String(P)):typeof P=="bigint"&&(de=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(de=He(de)),de+="n"),se+=` It must be ${L}. Received ${de}`,se},RangeError);function He(W){let L="",P=W.length,se=W[0]==="-"?1:0;for(;P>=se+4;P-=3)L=`_${W.slice(P-3,P)}${L}`;return`${W.slice(0,P)}${L}`}l(He,"addNumericalSeparator");function Ke(W,L,P){S(L,"offset"),(W[L]===void 0||W[L+P]===void 0)&&G(L,W.length-(P+1))}l(Ke,"checkBounds");function Ze(W,L,P,se,de,O){if(W>P||W<L){let be=typeof L=="bigint"?"n":"",Ue;throw O>3?L===0||L===BigInt(0)?Ue=`>= 0${be} and < 2${be} ** ${(O+1)*8}${be}`:Ue=`>= -(2${be} ** ${(O+1)*8-1}${be}) and < 2 ** ${(O+1)*8-1}${be}`:Ue=`>= ${L}${be} and <= ${P}${be}`,new ve.ERR_OUT_OF_RANGE("value",Ue,W)}Ke(se,de,O)}l(Ze,"checkIntBI");function S(W,L){if(typeof W!="number")throw new ve.ERR_INVALID_ARG_TYPE(L,"number",W)}l(S,"validateNumber");function G(W,L,P){throw Math.floor(W)!==W?(S(W,P),new ve.ERR_OUT_OF_RANGE(P||"offset","an integer",W)):L<0?new ve.ERR_BUFFER_OUT_OF_BOUNDS:new ve.ERR_OUT_OF_RANGE(P||"offset",`>= ${P?1:0} and <= ${L}`,W)}l(G,"boundsError");let Q=/[^+/0-9A-Za-z-_]/g;function K(W){if(W=W.split("=")[0],W=W.trim().replace(Q,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}l(K,"base64clean");function J(W,L){L=L||1/0;let P,se=W.length,de=null,O=[];for(let be=0;be<se;++be){if(P=W.charCodeAt(be),P>55295&&P<57344){if(!de){if(P>56319){(L-=3)>-1&&O.push(239,191,189);continue}else if(be+1===se){(L-=3)>-1&&O.push(239,191,189);continue}de=P;continue}if(P<56320){(L-=3)>-1&&O.push(239,191,189),de=P;continue}P=(de-55296<<10|P-56320)+65536}else de&&(L-=3)>-1&&O.push(239,191,189);if(de=null,P<128){if((L-=1)<0)break;O.push(P)}else if(P<2048){if((L-=2)<0)break;O.push(P>>6|192,P&63|128)}else if(P<65536){if((L-=3)<0)break;O.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((L-=4)<0)break;O.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return O}l(J,"utf8ToBytes");function me(W){let L=[];for(let P=0;P<W.length;++P)L.push(W.charCodeAt(P)&255);return L}l(me,"asciiToBytes");function Se(W,L){let P,se,de,O=[];for(let be=0;be<W.length&&!((L-=2)<0);++be)P=W.charCodeAt(be),se=P>>8,de=P%256,O.push(de),O.push(se);return O}l(Se,"utf16leToBytes");function Ie(W){return i.toByteArray(K(W))}l(Ie,"base64ToBytes");function Ce(W,L,P,se){let de;for(de=0;de<se&&!(de+P>=L.length||de>=W.length);++de)L[de+P]=W[de];return de}l(Ce,"blitBuffer");function Xe(W,L){return W instanceof L||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===L.name}l(Xe,"isInstance");function nt(W){return W!==W}l(nt,"numberIsNaN");let z=function(){let W="0123456789abcdef",L=new Array(256);for(let P=0;P<16;++P){let se=P*16;for(let de=0;de<16;++de)L[se+de]=W[P]+W[de]}return L}();function B(W){return typeof BigInt>"u"?Ae:W}l(B,"defineBigIntMethod");function Ae(){throw new Error("BigInt not supported")}return l(Ae,"BufferBigIntNotDefined"),ef}function nf(){return F9||(F9=!0,typeof Object.create=="function"?hx=l(function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):hx=l(function(e,t){if(t){e.super_=t;var n=l(function(){},"TempCtor");n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},"inherits")),hx}function Q9(){return U9||(U9=!0,UR=sr.EventEmitter),UR}function dve(){if(z9)return zR;z9=!0;function i(p,d){var m=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);d&&(y=y.filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable})),m.push.apply(m,y)}return m}l(i,"ownKeys");function e(p){for(var d=1;d<arguments.length;d++){var m=arguments[d]!=null?arguments[d]:{};d%2?i(Object(m),!0).forEach(function(y){t(p,y,m[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(m)):i(Object(m)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(m,y))})}return p}l(e,"_objectSpread");function t(p,d,m){return d in p?Object.defineProperty(p,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[d]=m,p}l(t,"_defineProperty");function n(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}l(n,"_classCallCheck");function r(p,d){for(var m=0;m<d.length;m++){var y=d[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}l(r,"_defineProperties");function a(p,d,m){return d&&r(p.prototype,d),m&&r(p,m),p}l(a,"_createClass");var s=yo,o=s.Buffer,c=ct,u=c.inspect,h=u&&u.custom||"inspect";function f(p,d,m){o.prototype.copy.call(p,d,m)}return l(f,"copyBuffer"),zR=function(){function p(){n(this,p),this.head=null,this.tail=null,this.length=0}return l(p,"BufferList"),a(p,[{key:"push",value:l(function(m){var y={data:m,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length},"push")},{key:"unshift",value:l(function(m){var y={data:m,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length},"unshift")},{key:"shift",value:l(function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}},"shift")},{key:"clear",value:l(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:l(function(m){if(this.length===0)return"";for(var y=this.head,g=""+y.data;y=y.next;)g+=m+y.data;return g},"join")},{key:"concat",value:l(function(m){if(this.length===0)return o.alloc(0);for(var y=o.allocUnsafe(m>>>0),g=this.head,b=0;g;)f(g.data,y,b),b+=g.data.length,g=g.next;return y},"concat")},{key:"consume",value:l(function(m,y){var g;return m<this.head.data.length?(g=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?g=this.shift():g=y?this._getString(m):this._getBuffer(m),g},"consume")},{key:"first",value:l(function(){return this.head.data},"first")},{key:"_getString",value:l(function(m){var y=this.head,g=1,b=y.data;for(m-=b.length;y=y.next;){var x=y.data,w=m>x.length?x.length:m;if(w===x.length?b+=x:b+=x.slice(0,m),m-=w,m===0){w===x.length?(++g,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=x.slice(w));break}++g}return this.length-=g,b},"_getString")},{key:"_getBuffer",value:l(function(m){var y=o.allocUnsafe(m),g=this.head,b=1;for(g.data.copy(y),m-=g.data.length;g=g.next;){var x=g.data,w=m>x.length?x.length:m;if(x.copy(y,y.length-m,0,w),m-=w,m===0){w===x.length?(++b,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=x.slice(w));break}++b}return this.length-=b,y},"_getBuffer")},{key:h,value:l(function(m,y){return u(this,e({},y,{depth:0,customInspect:!1}))},"value")}]),p}(),zR}function eq(){if(D9)return DR;D9=!0;var i=Ti;function e(o,c){var u=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(c?c(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,o)):i.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(p){!c&&p?u._writableState?u._writableState.errorEmitted?i.nextTick(n,u):(u._writableState.errorEmitted=!0,i.nextTick(t,u,p)):i.nextTick(t,u,p):c?(i.nextTick(n,u),c(p)):i.nextTick(n,u)}),this)}l(e,"destroy");function t(o,c){a(o,c),n(o)}l(t,"emitErrorAndCloseNT");function n(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}l(n,"emitCloseNT");function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}l(r,"undestroy");function a(o,c){o.emit("error",c)}l(a,"emitErrorNT");function s(o,c){var u=o._readableState,h=o._writableState;u&&u.autoDestroy||h&&h.autoDestroy?o.destroy(c):o.emit("error",c)}return l(s,"errorOrDestroy"),DR={destroy:e,undestroy:r,errorOrDestroy:s},DR}function Qp(){if(V9)return VR;V9=!0;let i={};function e(s,o,c){c||(c=Error);function u(f,p,d){return typeof o=="string"?o:o(f,p,d)}l(u,"getMessage");class h extends c{static{l(this,"NodeError")}constructor(p,d,m){super(u(p,d,m))}}h.prototype.name=c.name,h.prototype.code=s,i[s]=h}l(e,"createErrorType");function t(s,o){if(Array.isArray(s)){let c=s.length;return s=s.map(u=>String(u)),c>2?`one of ${o} ${s.slice(0,c-1).join(", ")}, or `+s[c-1]:c===2?`one of ${o} ${s[0]} or ${s[1]}`:`of ${o} ${s[0]}`}else return`of ${o} ${String(s)}`}l(t,"oneOf");function n(s,o,c){return s.substr(!c||c<0?0:+c,o.length)===o}l(n,"startsWith");function r(s,o,c){return(c===void 0||c>s.length)&&(c=s.length),s.substring(c-o.length,c)===o}l(r,"endsWith");function a(s,o,c){return typeof c!="number"&&(c=0),c+o.length>s.length?!1:s.indexOf(o,c)!==-1}return l(a,"includes"),e("ERR_INVALID_OPT_VALUE",function(s,o){return'The value "'+o+'" is invalid for option "'+s+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(s,o,c){let u;typeof o=="string"&&n(o,"not ")?(u="must not be",o=o.replace(/^not /,"")):u="must be";let h;if(r(s," argument"))h=`The ${s} ${u} ${t(o,"type")}`;else{let f=a(s,".")?"property":"argument";h=`The "${s}" ${f} ${u} ${t(o,"type")}`}return h+=`. Received type ${typeof c}`,h},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),VR.codes=i,VR}function tq(){if(q9)return qR;q9=!0;var i=Qp().codes.ERR_INVALID_OPT_VALUE;function e(n,r,a){return n.highWaterMark!=null?n.highWaterMark:r?n[a]:null}l(e,"highWaterMarkFrom");function t(n,r,a,s){var o=e(r,s,a);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var c=s?a:"highWaterMark";throw new i(c,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return l(t,"getHighWaterMark"),qR={getHighWaterMark:t},qR}function pve(){if(H9)return HR;H9=!0,HR=i;function i(t,n){if(e("noDeprecation"))return t;var r=!1;function a(){if(!r){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return t.apply(this||GR,arguments)}return l(a,"deprecated"),a}l(i,"deprecate");function e(t){try{if(!GR.localStorage)return!1}catch{return!1}var n=GR.localStorage[t];return n==null?!1:String(n).toLowerCase()==="true"}return l(e,"config"),HR}function eP(){if(G9)return WR;G9=!0;var i=Ti;WR=A;function e(ve){var we=this;this.next=null,this.entry=null,this.finish=function(){Ge(we,ve)}}l(e,"CorkedRequest");var t;A.WritableState=I;var n={deprecate:pve()},r=Q9(),a=yo.Buffer,s=mve.Uint8Array||function(){};function o(ve){return a.from(ve)}l(o,"_uint8ArrayToBuffer");function c(ve){return a.isBuffer(ve)||ve instanceof s}l(c,"_isUint8Array");var u=eq(),h=tq(),f=h.getHighWaterMark,p=Qp().codes,d=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_MULTIPLE_CALLBACK,g=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,x=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,E=p.ERR_UNKNOWN_ENCODING,M=u.errorOrDestroy;nf()(A,r);function C(){}l(C,"nop");function I(ve,we,He){t=t||tf(),ve=ve||{},typeof He!="boolean"&&(He=we instanceof t),this.objectMode=!!ve.objectMode,He&&(this.objectMode=this.objectMode||!!ve.writableObjectMode),this.highWaterMark=f(this,ve,"writableHighWaterMark",He),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ke=ve.decodeStrings===!1;this.decodeStrings=!Ke,this.defaultEncoding=ve.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ze){H(we,Ze)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ve.emitClose!==!1,this.autoDestroy=!!ve.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}l(I,"WritableState"),I.prototype.getBuffer=l(function(){for(var we=this.bufferedRequest,He=[];we;)He.push(we),we=we.next;return He},"getBuffer"),function(){try{Object.defineProperty(I.prototype,"buffer",{get:n.deprecate(l(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var F;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:l(function(we){return F.call(this,we)?!0:this!==A?!1:we&&we._writableState instanceof I},"value")})):F=l(function(we){return we instanceof this},"realHasInstance");function A(ve){t=t||tf();var we=this instanceof t;if(!we&&!F.call(A,this))return new A(ve);this._writableState=new I(ve,this,we),this.writable=!0,ve&&(typeof ve.write=="function"&&(this._write=ve.write),typeof ve.writev=="function"&&(this._writev=ve.writev),typeof ve.destroy=="function"&&(this._destroy=ve.destroy),typeof ve.final=="function"&&(this._final=ve.final)),r.call(this)}l(A,"Writable"),A.prototype.pipe=function(){M(this,new g)};function T(ve,we){var He=new w;M(ve,He),i.nextTick(we,He)}l(T,"writeAfterEnd");function j(ve,we,He,Ke){var Ze;return He===null?Ze=new x:typeof He!="string"&&!we.objectMode&&(Ze=new d("chunk",["string","Buffer"],He)),Ze?(M(ve,Ze),i.nextTick(Ke,Ze),!1):!0}l(j,"validChunk"),A.prototype.write=function(ve,we,He){var Ke=this._writableState,Ze=!1,S=!Ke.objectMode&&c(ve);return S&&!a.isBuffer(ve)&&(ve=o(ve)),typeof we=="function"&&(He=we,we=null),S?we="buffer":we||(we=Ke.defaultEncoding),typeof He!="function"&&(He=C),Ke.ending?T(this,He):(S||j(this,Ke,ve,He))&&(Ke.pendingcb++,Ze=U(this,Ke,S,ve,we,He)),Ze},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var ve=this._writableState;ve.corked&&(ve.corked--,!ve.writing&&!ve.corked&&!ve.bufferProcessing&&ve.bufferedRequest&&Z(this,ve))},A.prototype.setDefaultEncoding=l(function(we){if(typeof we=="string"&&(we=we.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((we+"").toLowerCase())>-1))throw new E(we);return this._writableState.defaultEncoding=we,this},"setDefaultEncoding"),Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:l(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function R(ve,we,He){return!ve.objectMode&&ve.decodeStrings!==!1&&typeof we=="string"&&(we=a.from(we,He)),we}l(R,"decodeChunk"),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:l(function(){return this._writableState.highWaterMark},"get")});function U(ve,we,He,Ke,Ze,S){if(!He){var G=R(we,Ke,Ze);Ke!==G&&(He=!0,Ze="buffer",Ke=G)}var Q=we.objectMode?1:Ke.length;we.length+=Q;var K=we.length<we.highWaterMark;if(K||(we.needDrain=!0),we.writing||we.corked){var J=we.lastBufferedRequest;we.lastBufferedRequest={chunk:Ke,encoding:Ze,isBuf:He,callback:S,next:null},J?J.next=we.lastBufferedRequest:we.bufferedRequest=we.lastBufferedRequest,we.bufferedRequestCount+=1}else q(ve,we,!1,Q,Ke,Ze,S);return K}l(U,"writeOrBuffer");function q(ve,we,He,Ke,Ze,S,G){we.writelen=Ke,we.writecb=G,we.writing=!0,we.sync=!0,we.destroyed?we.onwrite(new b("write")):He?ve._writev(Ze,we.onwrite):ve._write(Ze,S,we.onwrite),we.sync=!1}l(q,"doWrite");function X(ve,we,He,Ke,Ze){--we.pendingcb,He?(i.nextTick(Ze,Ke),i.nextTick(Fe,ve,we),ve._writableState.errorEmitted=!0,M(ve,Ke)):(Ze(Ke),ve._writableState.errorEmitted=!0,M(ve,Ke),Fe(ve,we))}l(X,"onwriteError");function fe(ve){ve.writing=!1,ve.writecb=null,ve.length-=ve.writelen,ve.writelen=0}l(fe,"onwriteStateUpdate");function H(ve,we){var He=ve._writableState,Ke=He.sync,Ze=He.writecb;if(typeof Ze!="function")throw new y;if(fe(He),we)X(ve,He,Ke,we,Ze);else{var S=ie(He)||ve.destroyed;!S&&!He.corked&&!He.bufferProcessing&&He.bufferedRequest&&Z(ve,He),Ke?i.nextTick(Y,ve,He,S,Ze):Y(ve,He,S,Ze)}}l(H,"onwrite");function Y(ve,we,He,Ke){He||$(ve,we),we.pendingcb--,Ke(),Fe(ve,we)}l(Y,"afterWrite");function $(ve,we){we.length===0&&we.needDrain&&(we.needDrain=!1,ve.emit("drain"))}l($,"onwriteDrain");function Z(ve,we){we.bufferProcessing=!0;var He=we.bufferedRequest;if(ve._writev&&He&&He.next){var Ke=we.bufferedRequestCount,Ze=new Array(Ke),S=we.corkedRequestsFree;S.entry=He;for(var G=0,Q=!0;He;)Ze[G]=He,He.isBuf||(Q=!1),He=He.next,G+=1;Ze.allBuffers=Q,q(ve,we,!0,we.length,Ze,"",S.finish),we.pendingcb++,we.lastBufferedRequest=null,S.next?(we.corkedRequestsFree=S.next,S.next=null):we.corkedRequestsFree=new e(we),we.bufferedRequestCount=0}else{for(;He;){var K=He.chunk,J=He.encoding,me=He.callback,Se=we.objectMode?1:K.length;if(q(ve,we,!1,Se,K,J,me),He=He.next,we.bufferedRequestCount--,we.writing)break}He===null&&(we.lastBufferedRequest=null)}we.bufferedRequest=He,we.bufferProcessing=!1}l(Z,"clearBuffer"),A.prototype._write=function(ve,we,He){He(new m("_write()"))},A.prototype._writev=null,A.prototype.end=function(ve,we,He){var Ke=this._writableState;return typeof ve=="function"?(He=ve,ve=null,we=null):typeof we=="function"&&(He=we,we=null),ve!=null&&this.write(ve,we),Ke.corked&&(Ke.corked=1,this.uncork()),Ke.ending||De(this,Ke,He),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:l(function(){return this._writableState.length},"get")});function ie(ve){return ve.ending&&ve.length===0&&ve.bufferedRequest===null&&!ve.finished&&!ve.writing}l(ie,"needFinish");function ue(ve,we){ve._final(function(He){we.pendingcb--,He&&M(ve,He),we.prefinished=!0,ve.emit("prefinish"),Fe(ve,we)})}l(ue,"callFinal");function Me(ve,we){!we.prefinished&&!we.finalCalled&&(typeof ve._final=="function"&&!we.destroyed?(we.pendingcb++,we.finalCalled=!0,i.nextTick(ue,ve,we)):(we.prefinished=!0,ve.emit("prefinish")))}l(Me,"prefinish");function Fe(ve,we){var He=ie(we);if(He&&(Me(ve,we),we.pendingcb===0&&(we.finished=!0,ve.emit("finish"),we.autoDestroy))){var Ke=ve._readableState;(!Ke||Ke.autoDestroy&&Ke.endEmitted)&&ve.destroy()}return He}l(Fe,"finishMaybe");function De(ve,we,He){we.ending=!0,Fe(ve,we),He&&(we.finished?i.nextTick(He):ve.once("finish",He)),we.ended=!0,ve.writable=!1}l(De,"endWritable");function Ge(ve,we,He){var Ke=ve.entry;for(ve.entry=null;Ke;){var Ze=Ke.callback;we.pendingcb--,Ze(He),Ke=Ke.next}we.corkedRequestsFree.next=ve}return l(Ge,"onCorkedFinish"),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:l(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:l(function(we){this._writableState&&(this._writableState.destroyed=we)},"set")}),A.prototype.destroy=u.destroy,A.prototype._undestroy=u.undestroy,A.prototype._destroy=function(ve,we){we(ve)},WR}function tf(){if(W9)return jR;W9=!0;var i=Ti,e=Object.keys||function(h){var f=[];for(var p in h)f.push(p);return f};jR=o;var t=tP(),n=eP();nf()(o,t);for(var r=e(n.prototype),a=0;a<r.length;a++){var s=r[a];o.prototype[s]||(o.prototype[s]=n.prototype[s])}function o(h){if(!(this instanceof o))return new o(h);t.call(this,h),n.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}l(o,"Duplex"),Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:l(function(){return this._writableState.highWaterMark},"get")}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:l(function(){return this._writableState&&this._writableState.getBuffer()},"get")}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:l(function(){return this._writableState.length},"get")});function c(){this._writableState.ended||i.nextTick(u,this)}l(c,"onend");function u(h){h.end()}return l(u,"onEndNT"),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:l(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:l(function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)},"set")}),jR}function fx(){if(j9)return $R;j9=!0;var i=Qp().codes.ERR_STREAM_PREMATURE_CLOSE;function e(a){var s=!1;return function(){if(!s){s=!0;for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];a.apply(this,c)}}}l(e,"once");function t(){}l(t,"noop");function n(a){return a.setHeader&&typeof a.abort=="function"}l(n,"isRequest");function r(a,s,o){if(typeof s=="function")return r(a,null,s);s||(s={}),o=e(o||t);var c=s.readable||s.readable!==!1&&a.readable,u=s.writable||s.writable!==!1&&a.writable,h=l(function(){a.writable||p()},"onlegacyfinish"),f=a._writableState&&a._writableState.finished,p=l(function(){u=!1,f=!0,c||o.call(a)},"onfinish"),d=a._readableState&&a._readableState.endEmitted,m=l(function(){c=!1,d=!0,u||o.call(a)},"onend"),y=l(function(w){o.call(a,w)},"onerror"),g=l(function(){var w;if(c&&!d)return(!a._readableState||!a._readableState.ended)&&(w=new i),o.call(a,w);if(u&&!f)return(!a._writableState||!a._writableState.ended)&&(w=new i),o.call(a,w)},"onclose"),b=l(function(){a.req.on("finish",p)},"onrequest");return n(a)?(a.on("complete",p),a.on("abort",g),a.req?b():a.on("request",b)):u&&!a._writableState&&(a.on("end",h),a.on("close",h)),a.on("end",m),a.on("finish",p),s.error!==!1&&a.on("error",y),a.on("close",g),function(){a.removeListener("complete",p),a.removeListener("abort",g),a.removeListener("request",b),a.req&&a.req.removeListener("finish",p),a.removeListener("end",h),a.removeListener("close",h),a.removeListener("finish",p),a.removeListener("end",m),a.removeListener("error",y),a.removeListener("close",g)}}return l(r,"eos"),$R=r,$R}function _ve(){if($9)return XR;$9=!0;var i=Ti,e;function t(x,w,E){return w in x?Object.defineProperty(x,w,{value:E,enumerable:!0,configurable:!0,writable:!0}):x[w]=E,x}l(t,"_defineProperty");var n=fx(),r=Symbol("lastResolve"),a=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),c=Symbol("lastPromise"),u=Symbol("handlePromise"),h=Symbol("stream");function f(x,w){return{value:x,done:w}}l(f,"createIterResult");function p(x){var w=x[r];if(w!==null){var E=x[h].read();E!==null&&(x[c]=null,x[r]=null,x[a]=null,w(f(E,!1)))}}l(p,"readAndResolve");function d(x){i.nextTick(p,x)}l(d,"onReadable");function m(x,w){return function(E,M){x.then(function(){if(w[o]){E(f(void 0,!0));return}w[u](E,M)},M)}}l(m,"wrapForNext");var y=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((e={get stream(){return this[h]},next:l(function(){var w=this,E=this[s];if(E!==null)return Promise.reject(E);if(this[o])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise(function(F,A){i.nextTick(function(){w[s]?A(w[s]):F(f(void 0,!0))})});var M=this[c],C;if(M)C=new Promise(m(M,this));else{var I=this[h].read();if(I!==null)return Promise.resolve(f(I,!1));C=new Promise(this[u])}return this[c]=C,C},"next")},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",l(function(){var w=this;return new Promise(function(E,M){w[h].destroy(null,function(C){if(C){M(C);return}E(f(void 0,!0))})})},"_return")),e),y),b=l(function(w){var E,M=Object.create(g,(E={},t(E,h,{value:w,writable:!0}),t(E,r,{value:null,writable:!0}),t(E,a,{value:null,writable:!0}),t(E,s,{value:null,writable:!0}),t(E,o,{value:w._readableState.endEmitted,writable:!0}),t(E,u,{value:l(function(I,F){var A=M[h].read();A?(M[c]=null,M[r]=null,M[a]=null,I(f(A,!1))):(M[r]=I,M[a]=F)},"value"),writable:!0}),E));return M[c]=null,n(w,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=M[a];I!==null&&(M[c]=null,M[r]=null,M[a]=null,I(C)),M[s]=C;return}var F=M[r];F!==null&&(M[c]=null,M[r]=null,M[a]=null,F(f(void 0,!0))),M[o]=!0}),w.on("readable",d.bind(null,M)),M},"createReadableStreamAsyncIterator");return XR=b,XR}function gve(){return X9||(X9=!0,YR=l(function(){throw new Error("Readable.from is not available in the browser")},"exports$4")),YR}function tP(){if(Y9)return ZR;Y9=!0;var i=Ti;ZR=T;var e;T.ReadableState=A,sr.EventEmitter;var t=l(function(G,Q){return G.listeners(Q).length},"EElistenerCount"),n=Q9(),r=yo.Buffer,a=bve.Uint8Array||function(){};function s(S){return r.from(S)}l(s,"_uint8ArrayToBuffer");function o(S){return r.isBuffer(S)||S instanceof a}l(o,"_isUint8Array");var c=ct,u;c&&c.debuglog?u=c.debuglog("stream"):u=l(function(){},"debug");var h=dve(),f=eq(),p=tq(),d=p.getHighWaterMark,m=Qp().codes,y=m.ERR_INVALID_ARG_TYPE,g=m.ERR_STREAM_PUSH_AFTER_EOF,b=m.ERR_METHOD_NOT_IMPLEMENTED,x=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w,E,M;nf()(T,n);var C=f.errorOrDestroy,I=["error","close","destroy","pause","resume"];function F(S,G,Q){if(typeof S.prependListener=="function")return S.prependListener(G,Q);!S._events||!S._events[G]?S.on(G,Q):Array.isArray(S._events[G])?S._events[G].unshift(Q):S._events[G]=[Q,S._events[G]]}l(F,"prependListener");function A(S,G,Q){e=e||tf(),S=S||{},typeof Q!="boolean"&&(Q=G instanceof e),this.objectMode=!!S.objectMode,Q&&(this.objectMode=this.objectMode||!!S.readableObjectMode),this.highWaterMark=d(this,S,"readableHighWaterMark",Q),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.destroyed=!1,this.defaultEncoding=S.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,S.encoding&&(w||(w=Kp.StringDecoder),this.decoder=new w(S.encoding),this.encoding=S.encoding)}l(A,"ReadableState");function T(S){if(e=e||tf(),!(this instanceof T))return new T(S);var G=this instanceof e;this._readableState=new A(S,this,G),this.readable=!0,S&&(typeof S.read=="function"&&(this._read=S.read),typeof S.destroy=="function"&&(this._destroy=S.destroy)),n.call(this)}l(T,"Readable"),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:l(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:l(function(G){this._readableState&&(this._readableState.destroyed=G)},"set")}),T.prototype.destroy=f.destroy,T.prototype._undestroy=f.undestroy,T.prototype._destroy=function(S,G){G(S)},T.prototype.push=function(S,G){var Q=this._readableState,K;return Q.objectMode?K=!0:typeof S=="string"&&(G=G||Q.defaultEncoding,G!==Q.encoding&&(S=r.from(S,G),G=""),K=!0),j(this,S,G,!1,K)},T.prototype.unshift=function(S){return j(this,S,null,!0,!1)};function j(S,G,Q,K,J){u("readableAddChunk",G);var me=S._readableState;if(G===null)me.reading=!1,H(S,me);else{var Se;if(J||(Se=U(me,G)),Se)C(S,Se);else if(me.objectMode||G&&G.length>0)if(typeof G!="string"&&!me.objectMode&&Object.getPrototypeOf(G)!==r.prototype&&(G=s(G)),K)me.endEmitted?C(S,new x):R(S,me,G,!0);else if(me.ended)C(S,new g);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!Q?(G=me.decoder.write(G),me.objectMode||G.length!==0?R(S,me,G,!1):Z(S,me)):R(S,me,G,!1)}else K||(me.reading=!1,Z(S,me))}return!me.ended&&(me.length<me.highWaterMark||me.length===0)}l(j,"readableAddChunk");function R(S,G,Q,K){G.flowing&&G.length===0&&!G.sync?(G.awaitDrain=0,S.emit("data",Q)):(G.length+=G.objectMode?1:Q.length,K?G.buffer.unshift(Q):G.buffer.push(Q),G.needReadable&&Y(S)),Z(S,G)}l(R,"addChunk");function U(S,G){var Q;return!o(G)&&typeof G!="string"&&G!==void 0&&!S.objectMode&&(Q=new y("chunk",["string","Buffer","Uint8Array"],G)),Q}l(U,"chunkInvalid"),T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(S){w||(w=Kp.StringDecoder);var G=new w(S);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,K="";Q!==null;)K+=G.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),K!==""&&this._readableState.buffer.push(K),this._readableState.length=K.length,this};var q=1073741824;function X(S){return S>=q?S=q:(S--,S|=S>>>1,S|=S>>>2,S|=S>>>4,S|=S>>>8,S|=S>>>16,S++),S}l(X,"computeNewHighWaterMark");function fe(S,G){return S<=0||G.length===0&&G.ended?0:G.objectMode?1:S!==S?G.flowing&&G.length?G.buffer.head.data.length:G.length:(S>G.highWaterMark&&(G.highWaterMark=X(S)),S<=G.length?S:G.ended?G.length:(G.needReadable=!0,0))}l(fe,"howMuchToRead"),T.prototype.read=function(S){u("read",S),S=parseInt(S,10);var G=this._readableState,Q=S;if(S!==0&&(G.emittedReadable=!1),S===0&&G.needReadable&&((G.highWaterMark!==0?G.length>=G.highWaterMark:G.length>0)||G.ended))return u("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?He(this):Y(this),null;if(S=fe(S,G),S===0&&G.ended)return G.length===0&&He(this),null;var K=G.needReadable;u("need readable",K),(G.length===0||G.length-S<G.highWaterMark)&&(K=!0,u("length less than watermark",K)),G.ended||G.reading?(K=!1,u("reading or ended",K)):K&&(u("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,G.reading||(S=fe(Q,G)));var J;return S>0?J=we(S,G):J=null,J===null?(G.needReadable=G.length<=G.highWaterMark,S=0):(G.length-=S,G.awaitDrain=0),G.length===0&&(G.ended||(G.needReadable=!0),Q!==S&&G.ended&&He(this)),J!==null&&this.emit("data",J),J};function H(S,G){if(u("onEofChunk"),!G.ended){if(G.decoder){var Q=G.decoder.end();Q&&Q.length&&(G.buffer.push(Q),G.length+=G.objectMode?1:Q.length)}G.ended=!0,G.sync?Y(S):(G.needReadable=!1,G.emittedReadable||(G.emittedReadable=!0,$(S)))}}l(H,"onEofChunk");function Y(S){var G=S._readableState;u("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(u("emitReadable",G.flowing),G.emittedReadable=!0,i.nextTick($,S))}l(Y,"emitReadable");function $(S){var G=S._readableState;u("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&(G.length||G.ended)&&(S.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,ve(S)}l($,"emitReadable_");function Z(S,G){G.readingMore||(G.readingMore=!0,i.nextTick(ie,S,G))}l(Z,"maybeReadMore");function ie(S,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){var Q=G.length;if(u("maybeReadMore read 0"),S.read(0),Q===G.length)break}G.readingMore=!1}l(ie,"maybeReadMore_"),T.prototype._read=function(S){C(this,new b("_read()"))},T.prototype.pipe=function(S,G){var Q=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=S;break;case 1:K.pipes=[K.pipes,S];break;default:K.pipes.push(S);break}K.pipesCount+=1,u("pipe count=%d opts=%j",K.pipesCount,G);var J=(!G||G.end!==!1)&&S!==i.stdout&&S!==i.stderr,me=J?Ie:L;K.endEmitted?i.nextTick(me):Q.once("end",me),S.on("unpipe",Se);function Se(P,se){u("onunpipe"),P===Q&&se&&se.hasUnpiped===!1&&(se.hasUnpiped=!0,nt())}l(Se,"onunpipe");function Ie(){u("onend"),S.end()}l(Ie,"onend");var Ce=ue(Q);S.on("drain",Ce);var Xe=!1;function nt(){u("cleanup"),S.removeListener("close",Ae),S.removeListener("finish",W),S.removeListener("drain",Ce),S.removeListener("error",B),S.removeListener("unpipe",Se),Q.removeListener("end",Ie),Q.removeListener("end",L),Q.removeListener("data",z),Xe=!0,K.awaitDrain&&(!S._writableState||S._writableState.needDrain)&&Ce()}l(nt,"cleanup"),Q.on("data",z);function z(P){u("ondata");var se=S.write(P);u("dest.write",se),se===!1&&((K.pipesCount===1&&K.pipes===S||K.pipesCount>1&&Ze(K.pipes,S)!==-1)&&!Xe&&(u("false write response, pause",K.awaitDrain),K.awaitDrain++),Q.pause())}l(z,"ondata");function B(P){u("onerror",P),L(),S.removeListener("error",B),t(S,"error")===0&&C(S,P)}l(B,"onerror"),F(S,"error",B);function Ae(){S.removeListener("finish",W),L()}l(Ae,"onclose"),S.once("close",Ae);function W(){u("onfinish"),S.removeListener("close",Ae),L()}l(W,"onfinish"),S.once("finish",W);function L(){u("unpipe"),Q.unpipe(S)}return l(L,"unpipe"),S.emit("pipe",Q),K.flowing||(u("pipe resume"),Q.resume()),S};function ue(S){return l(function(){var Q=S._readableState;u("pipeOnDrain",Q.awaitDrain),Q.awaitDrain&&Q.awaitDrain--,Q.awaitDrain===0&&t(S,"data")&&(Q.flowing=!0,ve(S))},"pipeOnDrainFunctionResult")}l(ue,"pipeOnDrain"),T.prototype.unpipe=function(S){var G=this._readableState,Q={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return S&&S!==G.pipes?this:(S||(S=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,S&&S.emit("unpipe",this,Q),this);if(!S){var K=G.pipes,J=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var me=0;me<J;me++)K[me].emit("unpipe",this,{hasUnpiped:!1});return this}var Se=Ze(G.pipes,S);return Se===-1?this:(G.pipes.splice(Se,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),S.emit("unpipe",this,Q),this)},T.prototype.on=function(S,G){var Q=n.prototype.on.call(this,S,G),K=this._readableState;return S==="data"?(K.readableListening=this.listenerCount("readable")>0,K.flowing!==!1&&this.resume()):S==="readable"&&!K.endEmitted&&!K.readableListening&&(K.readableListening=K.needReadable=!0,K.flowing=!1,K.emittedReadable=!1,u("on readable",K.length,K.reading),K.length?Y(this):K.reading||i.nextTick(Fe,this)),Q},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(S,G){var Q=n.prototype.removeListener.call(this,S,G);return S==="readable"&&i.nextTick(Me,this),Q},T.prototype.removeAllListeners=function(S){var G=n.prototype.removeAllListeners.apply(this,arguments);return(S==="readable"||S===void 0)&&i.nextTick(Me,this),G};function Me(S){var G=S._readableState;G.readableListening=S.listenerCount("readable")>0,G.resumeScheduled&&!G.paused?G.flowing=!0:S.listenerCount("data")>0&&S.resume()}l(Me,"updateReadableListening");function Fe(S){u("readable nexttick read 0"),S.read(0)}l(Fe,"nReadingNextTick"),T.prototype.resume=function(){var S=this._readableState;return S.flowing||(u("resume"),S.flowing=!S.readableListening,De(this,S)),S.paused=!1,this};function De(S,G){G.resumeScheduled||(G.resumeScheduled=!0,i.nextTick(Ge,S,G))}l(De,"resume");function Ge(S,G){u("resume",G.reading),G.reading||S.read(0),G.resumeScheduled=!1,S.emit("resume"),ve(S),G.flowing&&!G.reading&&S.read(0)}l(Ge,"resume_"),T.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ve(S){var G=S._readableState;for(u("flow",G.flowing);G.flowing&&S.read()!==null;);}l(ve,"flow"),T.prototype.wrap=function(S){var G=this,Q=this._readableState,K=!1;S.on("end",function(){if(u("wrapped end"),Q.decoder&&!Q.ended){var Se=Q.decoder.end();Se&&Se.length&&G.push(Se)}G.push(null)}),S.on("data",function(Se){if(u("wrapped data"),Q.decoder&&(Se=Q.decoder.write(Se)),!(Q.objectMode&&Se==null)&&!(!Q.objectMode&&(!Se||!Se.length))){var Ie=G.push(Se);Ie||(K=!0,S.pause())}});for(var J in S)this[J]===void 0&&typeof S[J]=="function"&&(this[J]=l(function(Ie){return l(function(){return S[Ie].apply(S,arguments)},"methodWrapReturnFunction")},"methodWrap")(J));for(var me=0;me<I.length;me++)S.on(I[me],this.emit.bind(this,I[me]));return this._read=function(Se){u("wrapped _read",Se),K&&(K=!1,S.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=_ve()),E(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:l(function(){return this._readableState.highWaterMark},"get")}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:l(function(){return this._readableState&&this._readableState.buffer},"get")}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:l(function(){return this._readableState.flowing},"get"),set:l(function(G){this._readableState&&(this._readableState.flowing=G)},"set")}),T._fromList=we,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:l(function(){return this._readableState.length},"get")});function we(S,G){if(G.length===0)return null;var Q;return G.objectMode?Q=G.buffer.shift():!S||S>=G.length?(G.decoder?Q=G.buffer.join(""):G.buffer.length===1?Q=G.buffer.first():Q=G.buffer.concat(G.length),G.buffer.clear()):Q=G.buffer.consume(S,G.decoder),Q}l(we,"fromList");function He(S){var G=S._readableState;u("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,i.nextTick(Ke,G,S))}l(He,"endReadable");function Ke(S,G){if(u("endReadableNT",S.endEmitted,S.length),!S.endEmitted&&S.length===0&&(S.endEmitted=!0,G.readable=!1,G.emit("end"),S.autoDestroy)){var Q=G._writableState;(!Q||Q.autoDestroy&&Q.finished)&&G.destroy()}}l(Ke,"endReadableNT"),typeof Symbol=="function"&&(T.from=function(S,G){return M===void 0&&(M=gve()),M(T,S,G)});function Ze(S,G){for(var Q=0,K=S.length;Q<K;Q++)if(S[Q]===G)return Q;return-1}return l(Ze,"indexOf"),ZR}function iP(){if(Z9)return JR;Z9=!0,JR=o;var i=Qp().codes,e=i.ERR_METHOD_NOT_IMPLEMENTED,t=i.ERR_MULTIPLE_CALLBACK,n=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,r=i.ERR_TRANSFORM_WITH_LENGTH_0,a=tf();nf()(o,a);function s(h,f){var p=this._transformState;p.transforming=!1;var d=p.writecb;if(d===null)return this.emit("error",new t);p.writechunk=null,p.writecb=null,f!=null&&this.push(f),d(h);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}l(s,"afterTransform");function o(h){if(!(this instanceof o))return new o(h);a.call(this,h),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",c)}l(o,"Transform");function c(){var h=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,p){u(h,f,p)}):u(this,null,null)}l(c,"prefinish"),o.prototype.push=function(h,f){return this._transformState.needTransform=!1,a.prototype.push.call(this,h,f)},o.prototype._transform=function(h,f,p){p(new e("_transform()"))},o.prototype._write=function(h,f,p){var d=this._transformState;if(d.writecb=p,d.writechunk=h,d.writeencoding=f,!d.transforming){var m=this._readableState;(d.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},o.prototype._read=function(h){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},o.prototype._destroy=function(h,f){a.prototype._destroy.call(this,h,function(p){f(p)})};function u(h,f,p){if(f)return h.emit("error",f);if(p!=null&&h.push(p),h._writableState.length)throw new r;if(h._transformState.transforming)throw new n;return h.push(null)}return l(u,"done"),JR}function iq(){if(J9)return KR;J9=!0,KR=e;var i=iP();nf()(e,i);function e(t){if(!(this instanceof e))return new e(t);i.call(this,t)}return l(e,"PassThrough"),e.prototype._transform=function(t,n,r){r(null,t)},KR}function nq(){if(K9)return QR;K9=!0;var i;function e(p){var d=!1;return function(){d||(d=!0,p.apply(void 0,arguments))}}l(e,"once");var t=Qp().codes,n=t.ERR_MISSING_ARGS,r=t.ERR_STREAM_DESTROYED;function a(p){if(p)throw p}l(a,"noop");function s(p){return p.setHeader&&typeof p.abort=="function"}l(s,"isRequest");function o(p,d,m,y){y=e(y);var g=!1;p.on("close",function(){g=!0}),i===void 0&&(i=fx()),i(p,{readable:d,writable:m},function(x){if(x)return y(x);g=!0,y()});var b=!1;return function(x){if(!g&&!b){if(b=!0,s(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();y(x||new r("pipe"))}}}l(o,"destroyer");function c(p){p()}l(c,"call");function u(p,d){return p.pipe(d)}l(u,"pipe");function h(p){return!p.length||typeof p[p.length-1]!="function"?a:p.pop()}l(h,"popCallback");function f(){for(var p=arguments.length,d=new Array(p),m=0;m<p;m++)d[m]=arguments[m];var y=h(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new n("streams");var g,b=d.map(function(x,w){var E=w<d.length-1,M=w>0;return o(x,E,M,function(C){g||(g=C),C&&b.forEach(c),!E&&(b.forEach(c),y(g))})});return d.reduce(u)}return l(f,"pipeline"),QR=f,QR}var bg,N9,ux,O9,ef,B9,yo,hx,F9,UR,U9,zR,z9,DR,D9,VR,V9,qR,q9,HR,H9,GR,WR,G9,mve,jR,W9,$R,j9,XR,$9,YR,X9,ZR,Y9,bve,JR,Z9,KR,J9,QR,K9,dx=Gt(()=>{ne();ae();re();Wh();_g();Yc();np();cx();bg={},N9=!1;l(uve,"dew$2$1");ux={},O9=!1;l(hve,"dew$1$1");ef={},B9=!1;l(fve,"dew$g");yo=fve();yo.Buffer;yo.INSPECT_MAX_BYTES;yo.kMaxLength;hx={},F9=!1;l(nf,"dew$f");UR={},U9=!1;l(Q9,"dew$e");zR={},z9=!1;l(dve,"dew$d");DR={},D9=!1;l(eq,"dew$c");VR={},V9=!1;l(Qp,"dew$b");qR={},q9=!1;l(tq,"dew$a");HR={},H9=!1,GR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;l(pve,"dew$9");WR={},G9=!1,mve=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;l(eP,"dew$8");jR={},W9=!1;l(tf,"dew$7");$R={},j9=!1;l(fx,"dew$6");XR={},$9=!1;l(_ve,"dew$5");YR={},X9=!1;l(gve,"dew$4");ZR={},Y9=!1,bve=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;l(tP,"dew$3");JR={},Z9=!1;l(iP,"dew$2");KR={},J9=!1;l(iq,"dew$1");QR={},K9=!1;l(nq,"dew")});var A6e,T6e,k6e,R6e,P6e,I6e,px=Gt(()=>{ne();ae();re();Wh();Wh();sr.once=function(i,e){return new Promise((t,n)=>{function r(...s){a!==void 0&&i.removeListener("error",a),t(s)}l(r,"eventListener");let a;e!=="error"&&(a=l(s=>{i.removeListener(name,r),n(s)},"errorListener"),i.once("error",a)),i.once(e,r)})};sr.on=function(i,e){let t=[],n=[],r=null,a=!1,s={async next(){let u=t.shift();if(u)return createIterResult(u,!1);if(r){let h=Promise.reject(r);return r=null,h}return a?createIterResult(void 0,!0):new Promise((h,f)=>n.push({resolve:h,reject:f}))},async return(){i.removeListener(e,o),i.removeListener("error",c),a=!0;for(let u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){r=u,i.removeListener(e,o),i.removeListener("error",c)},[Symbol.asyncIterator](){return this}};return i.on(e,o),i.on("error",c),s;function o(...u){let h=n.shift();h?h.resolve(createIterResult(u,!1)):t.push(u)}l(o,"eventHandler");function c(u){a=!0;let h=n.shift();h?h.reject(u):r=u,s.return()}l(c,"errorHandler")};({EventEmitter:A6e,defaultMaxListeners:T6e,init:k6e,listenerCount:R6e,on:P6e,once:I6e}=sr)});function yve(){if(rq)return nP;rq=!0,nP=t;var i=sr.EventEmitter,e=nf();e(t,i),t.Readable=tP(),t.Writable=eP(),t.Duplex=tf(),t.Transform=iP(),t.PassThrough=iq(),t.finished=fx(),t.pipeline=nq(),t.Stream=t;function t(){i.call(this||rP)}return l(t,"Stream"),t.prototype.pipe=function(n,r){var a=this||rP;function s(d){n.writable&&n.write(d)===!1&&a.pause&&a.pause()}l(s,"ondata"),a.on("data",s);function o(){a.readable&&a.resume&&a.resume()}l(o,"ondrain"),n.on("drain",o),!n._isStdio&&(!r||r.end!==!1)&&(a.on("end",u),a.on("close",h));var c=!1;function u(){c||(c=!0,n.end())}l(u,"onend");function h(){c||(c=!0,typeof n.destroy=="function"&&n.destroy())}l(h,"onclose");function f(d){if(p(),i.listenerCount(this||rP,"error")===0)throw d}l(f,"onerror"),a.on("error",f),n.on("error",f);function p(){a.removeListener("data",s),n.removeListener("drain",o),a.removeListener("end",u),a.removeListener("close",h),a.removeListener("error",f),n.removeListener("error",f),a.removeListener("end",p),a.removeListener("close",p),n.removeListener("close",p)}return l(p,"cleanup"),a.on("end",p),a.on("close",p),n.on("close",p),n.emit("pipe",a),n},nP}var nP,rq,rP,ra,mx=Gt(()=>{ne();ae();re();px();dx();Wh();nP={},rq=!1,rP=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global;l(yve,"dew");ra=yve()});var aP={};Xa(aP,{TextDecoder:()=>Wve,TextEncoder:()=>Gve,_extend:()=>vve,callbackify:()=>wve,debuglog:()=>xve,default:()=>ct,deprecate:()=>Sve,format:()=>Eve,inherits:()=>Mve,inspect:()=>Ave,isArray:()=>Tve,isBoolean:()=>kve,isBuffer:()=>Rve,isDate:()=>Pve,isError:()=>Ive,isFunction:()=>Cve,isNull:()=>Lve,isNullOrUndefined:()=>Nve,isNumber:()=>Ove,isObject:()=>Bve,isPrimitive:()=>Fve,isRegExp:()=>Uve,isString:()=>zve,isSymbol:()=>Dve,isUndefined:()=>Vve,log:()=>qve,promisify:()=>_x,types:()=>Hve});var vve,wve,xve,Sve,Eve,Mve,Ave,Tve,kve,Rve,Pve,Ive,Cve,Lve,Nve,Ove,Bve,Fve,Uve,zve,Dve,Vve,qve,_x,Hve,Gve,Wve,yg=Gt(()=>{ne();ae();re();_g();Yc();Yc();$h();vve=ct._extend,wve=ct.callbackify,xve=ct.debuglog,Sve=ct.deprecate,Eve=ct.format,Mve=ct.inherits,Ave=ct.inspect,Tve=ct.isArray,kve=ct.isBoolean,Rve=ct.isBuffer,Pve=ct.isDate,Ive=ct.isError,Cve=ct.isFunction,Lve=ct.isNull,Nve=ct.isNullOrUndefined,Ove=ct.isNumber,Bve=ct.isObject,Fve=ct.isPrimitive,Uve=ct.isRegExp,zve=ct.isString,Dve=ct.isSymbol,Vve=ct.isUndefined,qve=ct.log,_x=ct.promisify,Hve=ct.types,Gve=ct.TextEncoder=globalThis.TextEncoder,Wve=ct.TextDecoder=globalThis.TextDecoder});var aq,cNe,uNe,hNe,fNe,dNe,pNe,mNe,_Ne,sq=Gt(()=>{ne();ae();re();mx();mx();yg();px();Wh();dx();_g();Yc();$h();np();cx();aq=ra.Readable;aq.wrap=function(i,e){return e=Object.assign({objectMode:i.readableObjectMode!=null||i.objectMode!=null||!0},e),e.destroy=function(t,n){i.destroy(t),n(t)},new aq(e).wrap(i)};cNe=ra.Writable,uNe=ra.Duplex,hNe=ra.Transform,fNe=ra.PassThrough,dNe=ra.finished,pNe=ra.pipeline,mNe=ra.Stream,_Ne={finished:_x(ra.finished),pipeline:_x(ra.pipeline)}});var xP={};Xa(xP,{AssertionError:()=>Hwe,deepEqual:()=>Gwe,deepStrictEqual:()=>Wwe,default:()=>Ht,doesNotReject:()=>jwe,doesNotThrow:()=>$we,equal:()=>Xwe,fail:()=>Ywe,ifError:()=>Zwe,notDeepEqual:()=>Jwe,notDeepStrictEqual:()=>Kwe,notEqual:()=>Qwe,notStrictEqual:()=>e2e,ok:()=>t2e,rejects:()=>i2e,strict:()=>n2e,strictEqual:()=>r2e,throws:()=>a2e});function oq(i,e){if(i==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(i),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var a=Object.keys(Object(r)),s=0,o=a.length;s<o;s++){var c=a[s],u=Object.getOwnPropertyDescriptor(r,c);u!==void 0&&u.enumerable&&(t[c]=r[c])}}return t}function Jq(){if(vq)return fP;function i(u){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}l(i,"e");function e(u,h){return!h||i(h)!=="object"&&typeof h!="function"?function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(u):h}l(e,"n");function t(u){return(t=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(u)}l(t,"r");function n(u,h){return(n=Object.setPrototypeOf||function(f,p){return f.__proto__=p,f})(u,h)}l(n,"o"),vq=!0;var r,a,s={};function o(u,h,f){f||(f=Error);var p=function(d){function m(y,g,b){var x;return function(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}(this,m),(x=e(this,t(m).call(this,function(w,E,M){return typeof h=="string"?h:h(w,E,M)}(y,g,b)))).code=u,x}return l(m,"a"),function(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),g&&n(y,g)}(m,d),m}(f);s[u]=p}l(o,"f");function c(u,h){if(Array.isArray(u)){var f=u.length;return u=u.map(function(p){return String(p)}),f>2?"one of ".concat(h," ").concat(u.slice(0,f-1).join(", "),", or ")+u[f-1]:f===2?"one of ".concat(h," ").concat(u[0]," or ").concat(u[1]):"of ".concat(h," ").concat(u[0])}return"of ".concat(h," ").concat(String(u))}return l(c,"s"),o("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),o("ERR_INVALID_ARG_TYPE",function(u,h,f){var p,d,m;if(r===void 0&&(r=bP()),r(typeof u=="string","'name' must be a string"),typeof h=="string"&&(d="not ",h.substr(0,d.length)===d)?(p="must not be",h=h.replace(/^not /,"")):p="must be",function(g,b,x){return(x===void 0||x>g.length)&&(x=g.length),g.substring(x-b.length,x)===b}(u," argument"))m="The ".concat(u," ").concat(p," ").concat(c(h,"type"));else{var y=function(g,b,x){return typeof x!="number"&&(x=0),!(x+b.length>g.length)&&g.indexOf(b,x)!==-1}(u,".")?"property":"argument";m='The "'.concat(u,'" ').concat(y," ").concat(p," ").concat(c(h,"type"))}return m+=". Received type ".concat(i(f))},TypeError),o("ERR_INVALID_ARG_VALUE",function(u,h){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";a===void 0&&(a=ct);var p=a.inspect(h);return p.length>128&&(p="".concat(p.slice(0,128),"...")),"The argument '".concat(u,"' ").concat(f,". Received ").concat(p)},TypeError),o("ERR_INVALID_RETURN_VALUE",function(u,h,f){var p;return p=f&&f.constructor&&f.constructor.name?"instance of ".concat(f.constructor.name):"type ".concat(i(f)),"Expected ".concat(u,' to be returned from the "').concat(h,'"')+" function but got ".concat(p,".")},TypeError),o("ERR_MISSING_ARGS",function(){for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];r===void 0&&(r=bP()),r(h.length>0,"At least one arg needs to be specified");var p="The ",d=h.length;switch(h=h.map(function(m){return'"'.concat(m,'"')}),d){case 1:p+="".concat(h[0]," argument");break;case 2:p+="".concat(h[0]," and ").concat(h[1]," arguments");break;default:p+=h.slice(0,d-1).join(", "),p+=", and ".concat(h[d-1]," arguments")}return"".concat(p," must be specified")},TypeError),fP.codes=s,fP}function Pwe(){if(xq)return wq;xq=!0;var i=Zi;function e(I,F,A){return F in I?Object.defineProperty(I,F,{value:A,enumerable:!0,configurable:!0,writable:!0}):I[F]=A,I}l(e,"r");function t(I,F){for(var A=0;A<F.length;A++){var T=F[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(I,T.key,T)}}l(t,"o");function n(I,F){return!F||h(F)!=="object"&&typeof F!="function"?r(I):F}l(n,"c");function r(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}l(r,"a");function a(I){var F=typeof Map=="function"?new Map:void 0;return(a=l(function(A){if(A===null||(T=A,Function.toString.call(T).indexOf("[native code]")===-1))return A;var T;if(typeof A!="function")throw new TypeError("Super expression must either be null or a function");if(F!==void 0){if(F.has(A))return F.get(A);F.set(A,j)}function j(){return o(A,arguments,u(this).constructor)}return l(j,"r"),j.prototype=Object.create(A.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),c(j,A)},"f"))(I)}l(a,"f");function s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}l(s,"s");function o(I,F,A){return(o=s()?Reflect.construct:function(T,j,R){var U=[null];U.push.apply(U,j);var q=new(Function.bind.apply(T,U));return R&&c(q,R.prototype),q}).apply(null,arguments)}l(o,"p");function c(I,F){return(c=Object.setPrototypeOf||function(A,T){return A.__proto__=T,A})(I,F)}l(c,"g");function u(I){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)})(I)}l(u,"h");function h(I){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(I)}l(h,"y");var f=ct.inspect,p=Jq().codes.ERR_INVALID_ARG_TYPE;function d(I,F,A){return(A===void 0||A>I.length)&&(A=I.length),I.substring(A-F.length,A)===F}l(d,"d");var m="",y="",g="",b="",x={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function w(I){var F=Object.keys(I),A=Object.create(Object.getPrototypeOf(I));return F.forEach(function(T){A[T]=I[T]}),Object.defineProperty(A,"message",{value:I.message}),A}l(w,"O");function E(I){return f(I,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}l(E,"x");function M(I,F,A){var T="",j="",R=0,U="",q=!1,X=E(I),fe=X.split(`
`),H=E(F).split(`
`),Y=0,$="";if(A==="strictEqual"&&h(I)==="object"&&h(F)==="object"&&I!==null&&F!==null&&(A="strictEqualObject"),fe.length===1&&H.length===1&&fe[0]!==H[0]){var Z=fe[0].length+H[0].length;if(Z<=10){if(!(h(I)==="object"&&I!==null||h(F)==="object"&&F!==null||I===0&&F===0))return"".concat(x[A],`

`)+"".concat(fe[0]," !== ").concat(H[0],`
`)}else if(A!=="strictEqualObject"&&Z<(i.stderr&&i.stderr.isTTY?i.stderr.columns:80)){for(;fe[0][Y]===H[0][Y];)Y++;Y>2&&($=`
  `.concat(function(S,G){if(G=Math.floor(G),S.length==0||G==0)return"";var Q=S.length*G;for(G=Math.floor(Math.log(G)/Math.log(2));G;)S+=S,G--;return S+=S.substring(0,Q-S.length)}(" ",Y),"^"),Y=0)}}for(var ie=fe[fe.length-1],ue=H[H.length-1];ie===ue&&(Y++<2?U=`
  `.concat(ie).concat(U):T=ie,fe.pop(),H.pop(),fe.length!==0&&H.length!==0);)ie=fe[fe.length-1],ue=H[H.length-1];var Me=Math.max(fe.length,H.length);if(Me===0){var Fe=X.split(`
`);if(Fe.length>30)for(Fe[26]="".concat(m,"...").concat(b);Fe.length>27;)Fe.pop();return"".concat(x.notIdentical,`

`).concat(Fe.join(`
`),`
`)}Y>3&&(U=`
`.concat(m,"...").concat(b).concat(U),q=!0),T!==""&&(U=`
  `.concat(T).concat(U),T="");var De=0,Ge=x[A]+`
`.concat(y,"+ actual").concat(b," ").concat(g,"- expected").concat(b),ve=" ".concat(m,"...").concat(b," Lines skipped");for(Y=0;Y<Me;Y++){var we=Y-R;if(fe.length<Y+1)we>1&&Y>2&&(we>4?(j+=`
`.concat(m,"...").concat(b),q=!0):we>3&&(j+=`
  `.concat(H[Y-2]),De++),j+=`
  `.concat(H[Y-1]),De++),R=Y,T+=`
`.concat(g,"-").concat(b," ").concat(H[Y]),De++;else if(H.length<Y+1)we>1&&Y>2&&(we>4?(j+=`
`.concat(m,"...").concat(b),q=!0):we>3&&(j+=`
  `.concat(fe[Y-2]),De++),j+=`
  `.concat(fe[Y-1]),De++),R=Y,j+=`
`.concat(y,"+").concat(b," ").concat(fe[Y]),De++;else{var He=H[Y],Ke=fe[Y],Ze=Ke!==He&&(!d(Ke,",")||Ke.slice(0,-1)!==He);Ze&&d(He,",")&&He.slice(0,-1)===Ke&&(Ze=!1,Ke+=","),Ze?(we>1&&Y>2&&(we>4?(j+=`
`.concat(m,"...").concat(b),q=!0):we>3&&(j+=`
  `.concat(fe[Y-2]),De++),j+=`
  `.concat(fe[Y-1]),De++),R=Y,j+=`
`.concat(y,"+").concat(b," ").concat(Ke),T+=`
`.concat(g,"-").concat(b," ").concat(He),De+=2):(j+=T,T="",we!==1&&Y!==0||(j+=`
  `.concat(Ke),De++))}if(De>20&&Y<Me-2)return"".concat(Ge).concat(ve,`
`).concat(j,`
`).concat(m,"...").concat(b).concat(T,`
`)+"".concat(m,"...").concat(b)}return"".concat(Ge).concat(q?ve:"",`
`).concat(j).concat(T).concat(U).concat($)}l(M,"q");var C=function(I){function F(j){var R;if(function(Fe,De){if(!(Fe instanceof De))throw new TypeError("Cannot call a class as a function")}(this,F),h(j)!=="object"||j===null)throw new p("options","Object",j);var U=j.message,q=j.operator,X=j.stackStartFn,fe=j.actual,H=j.expected,Y=Error.stackTraceLimit;if(Error.stackTraceLimit=0,U!=null)R=n(this,u(F).call(this,String(U)));else if(i.stderr&&i.stderr.isTTY&&(i.stderr&&i.stderr.getColorDepth&&i.stderr.getColorDepth()!==1?(m="\x1B[34m",y="\x1B[32m",b="\x1B[39m",g="\x1B[31m"):(m="",y="",b="",g="")),h(fe)==="object"&&fe!==null&&h(H)==="object"&&H!==null&&"stack"in fe&&fe instanceof Error&&"stack"in H&&H instanceof Error&&(fe=w(fe),H=w(H)),q==="deepStrictEqual"||q==="strictEqual")R=n(this,u(F).call(this,M(fe,H,q)));else if(q==="notDeepStrictEqual"||q==="notStrictEqual"){var $=x[q],Z=E(fe).split(`
`);if(q==="notStrictEqual"&&h(fe)==="object"&&fe!==null&&($=x.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(m,"...").concat(b);Z.length>27;)Z.pop();R=Z.length===1?n(this,u(F).call(this,"".concat($," ").concat(Z[0]))):n(this,u(F).call(this,"".concat($,`

`).concat(Z.join(`
`),`
`)))}else{var ie=E(fe),ue="",Me=x[q];q==="notDeepEqual"||q==="notEqual"?(ie="".concat(x[q],`

`).concat(ie)).length>1024&&(ie="".concat(ie.slice(0,1021),"...")):(ue="".concat(E(H)),ie.length>512&&(ie="".concat(ie.slice(0,509),"...")),ue.length>512&&(ue="".concat(ue.slice(0,509),"...")),q==="deepEqual"||q==="equal"?ie="".concat(Me,`

`).concat(ie,`

should equal

`):ue=" ".concat(q," ").concat(ue)),R=n(this,u(F).call(this,"".concat(ie).concat(ue)))}return Error.stackTraceLimit=Y,R.generatedMessage=!U,Object.defineProperty(r(R),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),R.code="ERR_ASSERTION",R.actual=fe,R.expected=H,R.operator=q,Error.captureStackTrace&&Error.captureStackTrace(r(R),X),R.stack,R.name="AssertionError",n(R)}l(F,"e");var A,T;return function(j,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(R&&R.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),R&&c(j,R)}(F,I),A=F,(T=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:f.custom,value:function(j,R){return f(this,function(U){for(var q=1;q<arguments.length;q++){var X=arguments[q]!=null?arguments[q]:{},fe=Object.keys(X);typeof Object.getOwnPropertySymbols=="function"&&(fe=fe.concat(Object.getOwnPropertySymbols(X).filter(function(H){return Object.getOwnPropertyDescriptor(X,H).enumerable}))),fe.forEach(function(H){e(U,H,X[H])})}return U}({},R,{customInspect:!1,depth:0}))}}])&&t(A.prototype,T),F}(a(Error));return wq=C}function Sq(i,e){return function(t){if(Array.isArray(t))return t}(i)||function(t,n){var r=[],a=!0,s=!1,o=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done)&&(r.push(c.value),!n||r.length!==n);a=!0);}catch(h){s=!0,o=h}finally{try{a||u.return==null||u.return()}finally{if(s)throw o}}return r}(i,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Bs(i){return(Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(i)}function wP(i){return i.call.bind(i)}function zwe(i){if(i.length===0||i.length>10)return!0;for(var e=0;e<i.length;e++){var t=i.charCodeAt(e);if(t<48||t>57)return!0}return i.length===10&&i>=Math.pow(2,32)}function vx(i){return Object.keys(i).filter(zwe).concat(xx(i).filter(Object.prototype.propertyIsEnumerable.bind(i)))}function Lq(i,e){if(i===e)return 0;for(var t=i.length,n=e.length,r=0,a=Math.min(t,n);r<a;++r)if(i[r]!==e[r]){t=i[r],n=e[r];break}return t<n?-1:n<t?1:0}function hs(i,e,t,n){if(i===e)return i!==0||!t||Mq(i,e);if(t){if(Bs(i)!=="object")return typeof i=="number"&&gP(i)&&gP(e);if(Bs(e)!=="object"||i===null||e===null||Object.getPrototypeOf(i)!==Object.getPrototypeOf(e))return!1}else{if(i===null||Bs(i)!=="object")return(e===null||Bs(e)!=="object")&&i==e;if(e===null||Bs(e)!=="object")return!1}var r,a,s,o,c=Aq(i);if(c!==Aq(e))return!1;if(Array.isArray(i)){if(i.length!==e.length)return!1;var u=vx(i),h=vx(e);return u.length===h.length&&xg(i,e,t,n,1,u)}if(c==="[object Object]"&&(!bx(i)&&bx(e)||!yx(i)&&yx(e)))return!1;if(Tq(i)){if(!Tq(e)||Date.prototype.getTime.call(i)!==Date.prototype.getTime.call(e))return!1}else if(kq(i)){if(!kq(e)||(s=i,o=e,!(Iwe?s.source===o.source&&s.flags===o.flags:RegExp.prototype.toString.call(s)===RegExp.prototype.toString.call(o))))return!1}else if(Nwe(i)||i instanceof Error){if(i.message!==e.message||i.name!==e.name)return!1}else{if(Lwe(i)){if(t||!Fwe(i)&&!Uwe(i)){if(!function(d,m){return d.byteLength===m.byteLength&&Lq(new Uint8Array(d.buffer,d.byteOffset,d.byteLength),new Uint8Array(m.buffer,m.byteOffset,m.byteLength))===0}(i,e))return!1}else if(!function(d,m){if(d.byteLength!==m.byteLength)return!1;for(var y=0;y<d.byteLength;y++)if(d[y]!==m[y])return!1;return!0}(i,e))return!1;var f=vx(i),p=vx(e);return f.length===p.length&&xg(i,e,t,n,0,f)}if(yx(i))return!(!yx(e)||i.size!==e.size)&&xg(i,e,t,n,2);if(bx(i))return!(!bx(e)||i.size!==e.size)&&xg(i,e,t,n,3);if(Cwe(i)){if(a=e,(r=i).byteLength!==a.byteLength||Lq(new Uint8Array(r),new Uint8Array(a))!==0)return!1}else if(Owe(i)&&!function(d,m){return Rq(d)?Rq(m)&&Mq(Number.prototype.valueOf.call(d),Number.prototype.valueOf.call(m)):Pq(d)?Pq(m)&&String.prototype.valueOf.call(d)===String.prototype.valueOf.call(m):Iq(d)?Iq(m)&&Boolean.prototype.valueOf.call(d)===Boolean.prototype.valueOf.call(m):Cq(d)?Cq(m)&&BigInt.prototype.valueOf.call(d)===BigInt.prototype.valueOf.call(m):Bwe(m)&&Symbol.prototype.valueOf.call(d)===Symbol.prototype.valueOf.call(m)}(i,e))return!1}return xg(i,e,t,n,0)}function Nq(i,e){return e.filter(function(t){return Sx(i,t)})}function xg(i,e,t,n,r,a){if(arguments.length===5){a=Object.keys(i);var s=Object.keys(e);if(a.length!==s.length)return!1}for(var o=0;o<a.length;o++)if(!Sg(e,a[o]))return!1;if(t&&arguments.length===5){var c=xx(i);if(c.length!==0){var u=0;for(o=0;o<c.length;o++){var h=c[o];if(Sx(i,h)){if(!Sx(e,h))return!1;a.push(h),u++}else if(Sx(e,h))return!1}var f=xx(e);if(c.length!==f.length&&Nq(e,f).length!==u)return!1}else{var p=xx(e);if(p.length!==0&&Nq(e,p).length!==0)return!1}}if(a.length===0&&(r===0||r===1&&i.length===0||i.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var d=n.val1.get(i);if(d!==void 0){var m=n.val2.get(e);if(m!==void 0)return d===m}n.position++}n.val1.set(i,n.position),n.val2.set(e,n.position);var y=qwe(i,e,t,a,n,r);return n.val1.delete(i),n.val2.delete(e),y}function Oq(i,e,t,n){for(var r=Ex(i),a=0;a<r.length;a++){var s=r[a];if(hs(e,s,t,n))return i.delete(s),!0}return!1}function Kq(i){switch(Bs(i)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":i=+i;case"number":if(gP(i))return!1}return!0}function Dwe(i,e,t){var n=Kq(t);return n??(e.has(n)&&!i.has(n))}function Vwe(i,e,t,n,r){var a=Kq(t);if(a!=null)return a;var s=e.get(a);return!(s===void 0&&!e.has(a)||!hs(n,s,!1,r))&&!i.has(a)&&hs(n,s,!1,r)}function Bq(i,e,t,n,r,a){for(var s=Ex(i),o=0;o<s.length;o++){var c=s[o];if(hs(t,c,r,a)&&hs(n,e.get(c),r,a))return i.delete(c),!0}return!1}function qwe(i,e,t,n,r,a){var s=0;if(a===2){if(!function(h,f,p,d){for(var m=null,y=Ex(h),g=0;g<y.length;g++){var b=y[g];if(Bs(b)==="object"&&b!==null)m===null&&(m=new Set),m.add(b);else if(!f.has(b)){if(p||!Dwe(h,f,b))return!1;m===null&&(m=new Set),m.add(b)}}if(m!==null){for(var x=Ex(f),w=0;w<x.length;w++){var E=x[w];if(Bs(E)==="object"&&E!==null){if(!Oq(m,E,p,d))return!1}else if(!p&&!h.has(E)&&!Oq(m,E,p,d))return!1}return m.size===0}return!0}(i,e,t,r))return!1}else if(a===3){if(!function(h,f,p,d){for(var m=null,y=Eq(h),g=0;g<y.length;g++){var b=Sq(y[g],2),x=b[0],w=b[1];if(Bs(x)==="object"&&x!==null)m===null&&(m=new Set),m.add(x);else{var E=f.get(x);if(E===void 0&&!f.has(x)||!hs(w,E,p,d)){if(p||!Vwe(h,f,x,w,d))return!1;m===null&&(m=new Set),m.add(x)}}}if(m!==null){for(var M=Eq(f),C=0;C<M.length;C++){var I=Sq(M[C],2),F=(x=I[0],I[1]);if(Bs(x)==="object"&&x!==null){if(!Bq(m,h,x,F,p,d))return!1}else if(!(p||h.has(x)&&hs(h.get(x),F,!1,d)||Bq(m,h,x,F,!1,d)))return!1}return m.size===0}return!0}(i,e,t,r))return!1}else if(a===1)for(;s<i.length;s++){if(!Sg(i,s)){if(Sg(e,s))return!1;for(var o=Object.keys(i);s<o.length;s++){var c=o[s];if(!Sg(e,c)||!hs(i[c],e[c],t,r))return!1}return o.length===Object.keys(e).length}if(!Sg(e,s)||!hs(i[s],e[s],t,r))return!1}for(s=0;s<n.length;s++){var u=n[s];if(!hs(i[u],e[u],t,r))return!1}return!0}function bP(){if(Uq)return dP;Uq=!0;var i=Zi;function e(H){return(e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(H)}l(e,"c");var t,n,r=Jq().codes,a=r.ERR_AMBIGUOUS_ARGUMENT,s=r.ERR_INVALID_ARG_TYPE,o=r.ERR_INVALID_ARG_VALUE,c=r.ERR_INVALID_RETURN_VALUE,u=r.ERR_MISSING_ARGS,h=Pwe(),f=ct.inspect,p=ct.types,d=p.isPromise,m=p.isRegExp,y=Object.assign?Object.assign:jve.assign,g=Object.is?Object.is:Xq;function b(){t=Fq.isDeepEqual,n=Fq.isDeepStrictEqual}l(b,"j");var x=!1,w=dP=I,E={};function M(H){throw H.message instanceof Error?H.message:new h(H)}l(M,"R");function C(H,Y,$,Z){if(!$){var ie=!1;if(Y===0)ie=!0,Z="No value argument passed to `assert.ok()`";else if(Z instanceof Error)throw Z;var ue=new h({actual:$,expected:!0,message:Z,operator:"==",stackStartFn:H});throw ue.generatedMessage=ie,ue}}l(C,"A");function I(){for(var H=arguments.length,Y=new Array(H),$=0;$<H;$++)Y[$]=arguments[$];C.apply(void 0,[I,Y.length].concat(Y))}l(I,"k"),w.fail=l(function H(Y,$,Z,ie,ue){var Me,Fe=arguments.length;if(Fe===0)Me="Failed";else if(Fe===1)Z=Y,Y=void 0;else{if(x===!1){x=!0;var De=i.emitWarning?i.emitWarning:console.warn.bind(console);De("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Fe===2&&(ie="!=")}if(Z instanceof Error)throw Z;var Ge={actual:Y,expected:$,operator:ie===void 0?"fail":ie,stackStartFn:ue||H};Z!==void 0&&(Ge.message=Z);var ve=new h(Ge);throw Me&&(ve.message=Me,ve.generatedMessage=!0),ve},"t"),w.AssertionError=h,w.ok=I,w.equal=l(function H(Y,$,Z){if(arguments.length<2)throw new u("actual","expected");Y!=$&&M({actual:Y,expected:$,message:Z,operator:"==",stackStartFn:H})},"t"),w.notEqual=l(function H(Y,$,Z){if(arguments.length<2)throw new u("actual","expected");Y==$&&M({actual:Y,expected:$,message:Z,operator:"!=",stackStartFn:H})},"t"),w.deepEqual=l(function H(Y,$,Z){if(arguments.length<2)throw new u("actual","expected");t===void 0&&b(),t(Y,$)||M({actual:Y,expected:$,message:Z,operator:"deepEqual",stackStartFn:H})},"t"),w.notDeepEqual=l(function H(Y,$,Z){if(arguments.length<2)throw new u("actual","expected");t===void 0&&b(),t(Y,$)&&M({actual:Y,expected:$,message:Z,operator:"notDeepEqual",stackStartFn:H})},"t"),w.deepStrictEqual=l(function H(Y,$,Z){if(arguments.length<2)throw new u("actual","expected");t===void 0&&b(),n(Y,$)||M({actual:Y,expected:$,message:Z,operator:"deepStrictEqual",stackStartFn:H})},"t"),w.notDeepStrictEqual=l(function H(Y,$,Z){if(arguments.length<2)throw new u("actual","expected");t===void 0&&b(),n(Y,$)&&M({actual:Y,expected:$,message:Z,operator:"notDeepStrictEqual",stackStartFn:H})},"t"),w.strictEqual=l(function H(Y,$,Z){if(arguments.length<2)throw new u("actual","expected");g(Y,$)||M({actual:Y,expected:$,message:Z,operator:"strictEqual",stackStartFn:H})},"t"),w.notStrictEqual=l(function H(Y,$,Z){if(arguments.length<2)throw new u("actual","expected");g(Y,$)&&M({actual:Y,expected:$,message:Z,operator:"notStrictEqual",stackStartFn:H})},"t");var F=l(function H(Y,$,Z){var ie=this;(function(ue,Me){if(!(ue instanceof Me))throw new TypeError("Cannot call a class as a function")})(this,H),$.forEach(function(ue){ue in Y&&(Z!==void 0&&typeof Z[ue]=="string"&&m(Y[ue])&&Y[ue].test(Z[ue])?ie[ue]=Z[ue]:ie[ue]=Y[ue])})},"t");function A(H,Y,$,Z,ie,ue){if(!($ in H)||!n(H[$],Y[$])){if(!Z){var Me=new F(H,ie),Fe=new F(Y,ie,H),De=new h({actual:Me,expected:Fe,operator:"deepStrictEqual",stackStartFn:ue});throw De.actual=H,De.expected=Y,De.operator=ue.name,De}M({actual:H,expected:Y,message:Z,operator:ue.name,stackStartFn:ue})}}l(A,"T");function T(H,Y,$,Z){if(typeof Y!="function"){if(m(Y))return Y.test(H);if(arguments.length===2)throw new s("expected",["Function","RegExp"],Y);if(e(H)!=="object"||H===null){var ie=new h({actual:H,expected:Y,message:$,operator:"deepStrictEqual",stackStartFn:Z});throw ie.operator=Z.name,ie}var ue=Object.keys(Y);if(Y instanceof Error)ue.push("name","message");else if(ue.length===0)throw new o("error",Y,"may not be an empty object");return t===void 0&&b(),ue.forEach(function(Me){typeof H[Me]=="string"&&m(Y[Me])&&Y[Me].test(H[Me])||A(H,Y,Me,$,ue,Z)}),!0}return Y.prototype!==void 0&&H instanceof Y||!Error.isPrototypeOf(Y)&&Y.call({},H)===!0}l(T,"P");function j(H){if(typeof H!="function")throw new s("fn","Function",H);try{H()}catch(Y){return Y}return E}l(j,"I");function R(H){return d(H)||H!==null&&e(H)==="object"&&typeof H.then=="function"&&typeof H.catch=="function"}l(R,"D");function U(H){return Promise.resolve().then(function(){var Y;if(typeof H=="function"){if(!R(Y=H()))throw new c("instance of Promise","promiseFn",Y)}else{if(!R(H))throw new s("promiseFn",["Function","Promise"],H);Y=H}return Promise.resolve().then(function(){return Y}).then(function(){return E}).catch(function($){return $})})}l(U,"F");function q(H,Y,$,Z){if(typeof $=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],$);if(e(Y)==="object"&&Y!==null){if(Y.message===$)throw new a("error/message",'The error message "'.concat(Y.message,'" is identical to the message.'))}else if(Y===$)throw new a("error/message",'The error "'.concat(Y,'" is identical to the message.'));Z=$,$=void 0}else if($!=null&&e($)!=="object"&&typeof $!="function")throw new s("error",["Object","Error","Function","RegExp"],$);if(Y===E){var ie="";$&&$.name&&(ie+=" (".concat($.name,")")),ie+=Z?": ".concat(Z):".";var ue=H.name==="rejects"?"rejection":"exception";M({actual:void 0,expected:$,operator:H.name,message:"Missing expected ".concat(ue).concat(ie),stackStartFn:H})}if($&&!T(Y,$,Z,H))throw Y}l(q,"N");function X(H,Y,$,Z){if(Y!==E){if(typeof $=="string"&&(Z=$,$=void 0),!$||T(Y,$)){var ie=Z?": ".concat(Z):".",ue=H.name==="doesNotReject"?"rejection":"exception";M({actual:Y,expected:$,operator:H.name,message:"Got unwanted ".concat(ue).concat(ie,`
`)+'Actual message: "'.concat(Y&&Y.message,'"'),stackStartFn:H})}throw Y}}l(X,"L");function fe(){for(var H=arguments.length,Y=new Array(H),$=0;$<H;$++)Y[$]=arguments[$];C.apply(void 0,[fe,Y.length].concat(Y))}return l(fe,"M"),w.throws=l(function H(Y){for(var $=arguments.length,Z=new Array($>1?$-1:0),ie=1;ie<$;ie++)Z[ie-1]=arguments[ie];q.apply(void 0,[H,j(Y)].concat(Z))},"t"),w.rejects=l(function H(Y){for(var $=arguments.length,Z=new Array($>1?$-1:0),ie=1;ie<$;ie++)Z[ie-1]=arguments[ie];return U(Y).then(function(ue){return q.apply(void 0,[H,ue].concat(Z))})},"t"),w.doesNotThrow=l(function H(Y){for(var $=arguments.length,Z=new Array($>1?$-1:0),ie=1;ie<$;ie++)Z[ie-1]=arguments[ie];X.apply(void 0,[H,j(Y)].concat(Z))},"t"),w.doesNotReject=l(function H(Y){for(var $=arguments.length,Z=new Array($>1?$-1:0),ie=1;ie<$;ie++)Z[ie-1]=arguments[ie];return U(Y).then(function(ue){return X.apply(void 0,[H,ue].concat(Z))})},"t"),w.ifError=l(function H(Y){if(Y!=null){var $="ifError got unwanted exception: ";e(Y)==="object"&&typeof Y.message=="string"?Y.message.length===0&&Y.constructor?$+=Y.constructor.name:$+=Y.message:$+=f(Y);var Z=new h({actual:Y,expected:null,operator:"ifError",message:$,stackStartFn:H}),ie=Y.stack;if(typeof ie=="string"){var ue=ie.split(`
`);ue.shift();for(var Me=Z.stack.split(`
`),Fe=0;Fe<ue.length;Fe++){var De=Me.indexOf(ue[Fe]);if(De!==-1){Me=Me.slice(0,De);break}}Z.stack="".concat(Me.join(`
`),`
`).concat(ue.join(`
`))}throw Z}},"t"),w.strict=y(fe,w,{equal:w.strictEqual,deepEqual:w.deepStrictEqual,notEqual:w.notStrictEqual,notDeepEqual:w.notDeepStrictEqual}),w.strict.strict=w.strict,dP}var jve,zq,lq,Dq,vg,sP,cq,oP,uq,hq,wg,gx,fq,dq,$ve,Xve,Yve,pq,wx,mq,Zve,Jve,Kve,Qve,ewe,pP,Vq,twe,qq,Mx,iwe,_q,nwe,rwe,awe,lP,swe,owe,Hq,Eg,sf,cP,lwe,rf,af,uP,hP,gq,cwe,uwe,hwe,fwe,dwe,Gq,bq,Wq,pwe,mwe,_we,mP,_P,yq,gwe,bwe,ywe,vwe,wwe,jq,xwe,$q,Xq,yP,vP,Swe,Ewe,Mwe,Awe,Twe,Yq,kwe,Zq,Rwe,fP,vq,wq,xq,Iwe,Ex,Eq,Mq,xx,gP,Sg,Sx,Aq,Vr,Cwe,Lwe,Tq,bx,kq,yx,Nwe,Owe,Rq,Pq,Iq,Cq,Bwe,Fwe,Uwe,Fq,dP,Uq,Ht,Hwe,Gwe,Wwe,jwe,$we,Xwe,Ywe,Zwe,Jwe,Kwe,Qwe,e2e,t2e,i2e,n2e,r2e,a2e,Ax=Gt(()=>{ne();ae();re();Yc();$h();l(oq,"e");jve={assign:oq,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:oq})}},lq=Object.prototype.toString,Dq=l(function(i){var e=lq.call(i),t=e==="[object Arguments]";return t||(t=e!=="[object Array]"&&i!==null&&typeof i=="object"&&typeof i.length=="number"&&i.length>=0&&lq.call(i.callee)==="[object Function]"),t},"r$1");Object.keys||(vg=Object.prototype.hasOwnProperty,sP=Object.prototype.toString,cq=Dq,oP=Object.prototype.propertyIsEnumerable,uq=!oP.call({toString:null},"toString"),hq=oP.call(function(){},"prototype"),wg=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],gx=l(function(i){var e=i.constructor;return e&&e.prototype===i},"f"),fq={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},dq=function(){if(typeof window>"u")return!1;for(var i in window)try{if(!fq["$"+i]&&vg.call(window,i)&&window[i]!==null&&typeof window[i]=="object")try{gx(window[i])}catch{return!0}}catch{return!0}return!1}(),zq=l(function(i){var e=i!==null&&typeof i=="object",t=sP.call(i)==="[object Function]",n=cq(i),r=e&&sP.call(i)==="[object String]",a=[];if(!e&&!t&&!n)throw new TypeError("Object.keys called on a non-object");var s=hq&&t;if(r&&i.length>0&&!vg.call(i,0))for(var o=0;o<i.length;++o)a.push(String(o));if(n&&i.length>0)for(var c=0;c<i.length;++c)a.push(String(c));else for(var u in i)s&&u==="prototype"||!vg.call(i,u)||a.push(String(u));if(uq)for(var h=function(p){if(typeof window>"u"||!dq)return gx(p);try{return gx(p)}catch{return!1}}(i),f=0;f<wg.length;++f)h&&wg[f]==="constructor"||!vg.call(i,wg[f])||a.push(wg[f]);return a},"t"));$ve=zq,Xve=Array.prototype.slice,Yve=Dq,pq=Object.keys,wx=pq?function(i){return pq(i)}:$ve,mq=Object.keys;wx.shim=function(){return Object.keys?function(){var i=Object.keys(arguments);return i&&i.length===arguments.length}(1,2)||(Object.keys=function(i){return Yve(i)?mq(Xve.call(i)):mq(i)}):Object.keys=wx,Object.keys||wx};Zve=wx,Jve=Zve,Kve=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Qve=Object.prototype.toString,ewe=Array.prototype.concat,pP=Object.defineProperty,Vq=pP&&function(){var i={};try{for(var e in pP(i,"x",{enumerable:!1,value:i}),i)return!1;return i.x===i}catch{return!1}}(),twe=l(function(i,e,t,n){var r;(!(e in i)||typeof(r=n)=="function"&&Qve.call(r)==="[object Function]"&&n())&&(Vq?pP(i,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):i[e]=t)},"l$1"),qq=l(function(i,e){var t=arguments.length>2?arguments[2]:{},n=Jve(e);Kve&&(n=ewe.call(n,Object.getOwnPropertySymbols(e)));for(var r=0;r<n.length;r+=1)twe(i,n[r],e[n[r]],t[n[r]])},"u$1");qq.supportsDescriptors=!!Vq;Mx=qq,iwe=l(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var i={},e=Symbol("test"),t=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(t)!=="[object Symbol]")return!1;for(e in i[e]=42,i)return!1;if(typeof Object.keys=="function"&&Object.keys(i).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(i).length!==0)return!1;var n=Object.getOwnPropertySymbols(i);if(n.length!==1||n[0]!==e||!Object.prototype.propertyIsEnumerable.call(i,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var r=Object.getOwnPropertyDescriptor(i,e);if(r.value!==42||r.enumerable!==!0)return!1}return!0},"t$1"),_q=(typeof globalThis<"u"?globalThis:typeof self<"u"?self:global).Symbol,nwe=iwe,rwe=l(function(){return typeof _q=="function"&&typeof Symbol=="function"&&typeof _q("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&nwe()},"l$2"),awe="Function.prototype.bind called on incompatible ",lP=Array.prototype.slice,swe=Object.prototype.toString,owe=l(function(i){var e=this;if(typeof e!="function"||swe.call(e)!=="[object Function]")throw new TypeError(awe+e);for(var t,n=lP.call(arguments,1),r=function(){if(this instanceof t){var u=e.apply(this,n.concat(lP.call(arguments)));return Object(u)===u?u:this}return e.apply(i,n.concat(lP.call(arguments)))},a=Math.max(0,e.length-n.length),s=[],o=0;o<a;o++)s.push("$"+o);if(t=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(r),e.prototype){var c=l(function(){},"y");c.prototype=e.prototype,t.prototype=new c,c.prototype=null}return t},"r$3"),Hq=Function.prototype.bind||owe,Eg=TypeError,sf=Object.getOwnPropertyDescriptor;if(sf)try{sf({},"")}catch{sf=null}cP=l(function(){throw new Eg},"n$3"),lwe=sf?function(){try{return arguments.callee,cP}catch{try{return sf(arguments,"callee").get}catch{return cP}}}():cP,rf=rwe(),af=Object.getPrototypeOf||function(i){return i.__proto__},uP=typeof Uint8Array>"u"?void 0:af(Uint8Array),hP={"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?void 0:ArrayBuffer,"%ArrayBufferPrototype%":typeof ArrayBuffer>"u"?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":rf?af([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":void 0,"%Atomics%":typeof Atomics>"u"?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":typeof DataView>"u"?void 0:DataView,"%DataViewPrototype%":typeof DataView>"u"?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":typeof Float32Array>"u"?void 0:Float32Array,"%Float32ArrayPrototype%":typeof Float32Array>"u"?void 0:Float32Array.prototype,"%Float64Array%":typeof Float64Array>"u"?void 0:Float64Array,"%Float64ArrayPrototype%":typeof Float64Array>"u"?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":typeof Int8Array>"u"?void 0:Int8Array,"%Int8ArrayPrototype%":typeof Int8Array>"u"?void 0:Int8Array.prototype,"%Int16Array%":typeof Int16Array>"u"?void 0:Int16Array,"%Int16ArrayPrototype%":typeof Int16Array>"u"?void 0:Int8Array.prototype,"%Int32Array%":typeof Int32Array>"u"?void 0:Int32Array,"%Int32ArrayPrototype%":typeof Int32Array>"u"?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":rf?af(af([][Symbol.iterator]())):void 0,"%JSON%":typeof JSON=="object"?JSON:void 0,"%JSONParse%":typeof JSON=="object"?JSON.parse:void 0,"%Map%":typeof Map>"u"?void 0:Map,"%MapIteratorPrototype%":typeof Map<"u"&&rf?af(new Map()[Symbol.iterator]()):void 0,"%MapPrototype%":typeof Map>"u"?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?void 0:Promise,"%PromisePrototype%":typeof Promise>"u"?void 0:Promise.prototype,"%PromiseProto_then%":typeof Promise>"u"?void 0:Promise.prototype.then,"%Promise_all%":typeof Promise>"u"?void 0:Promise.all,"%Promise_reject%":typeof Promise>"u"?void 0:Promise.reject,"%Promise_resolve%":typeof Promise>"u"?void 0:Promise.resolve,"%Proxy%":typeof Proxy>"u"?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":typeof Reflect>"u"?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":typeof Set>"u"?void 0:Set,"%SetIteratorPrototype%":typeof Set<"u"&&rf?af(new Set()[Symbol.iterator]()):void 0,"%SetPrototype%":typeof Set>"u"?void 0:Set.prototype,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":typeof SharedArrayBuffer>"u"?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":rf?af(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":rf?Symbol:void 0,"%SymbolPrototype%":rf?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":lwe,"%TypedArray%":uP,"%TypedArrayPrototype%":uP?uP.prototype:void 0,"%TypeError%":Eg,"%TypeErrorPrototype%":Eg.prototype,"%Uint8Array%":typeof Uint8Array>"u"?void 0:Uint8Array,"%Uint8ArrayPrototype%":typeof Uint8Array>"u"?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":typeof Uint16Array>"u"?void 0:Uint16Array,"%Uint16ArrayPrototype%":typeof Uint16Array>"u"?void 0:Uint16Array.prototype,"%Uint32Array%":typeof Uint32Array>"u"?void 0:Uint32Array,"%Uint32ArrayPrototype%":typeof Uint32Array>"u"?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":typeof WeakMap>"u"?void 0:WeakMap,"%WeakMapPrototype%":typeof WeakMap>"u"?void 0:WeakMap.prototype,"%WeakSet%":typeof WeakSet>"u"?void 0:WeakSet,"%WeakSetPrototype%":typeof WeakSet>"u"?void 0:WeakSet.prototype},gq=Hq.call(Function.call,String.prototype.replace),cwe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,uwe=/\\(\\)?/g,hwe=l(function(i){var e=[];return gq(i,cwe,function(t,n,r,a){e[e.length]=r?gq(a,uwe,"$1"):n||t}),e},"v"),fwe=l(function(i,e){if(!(i in hP))throw new SyntaxError("intrinsic "+i+" does not exist!");if(hP[i]===void 0&&!e)throw new Eg("intrinsic "+i+" exists, but is not available. Please file an issue!");return hP[i]},"P"),dwe=l(function(i,e){if(typeof i!="string"||i.length===0)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new TypeError('"allowMissing" argument must be a boolean');for(var t=hwe(i),n=fwe("%"+(t.length>0?t[0]:"")+"%",e),r=1;r<t.length;r+=1)if(n!=null)if(sf&&r+1>=t.length){var a=sf(n,t[r]);if(!e&&!(t[r]in n))throw new Eg("base intrinsic for "+i+" exists, but the property is not available.");n=a?a.get||a.value:n[t[r]]}else n=n[t[r]];return n},"c$2"),bq=Hq,Wq=dwe("%Function%"),pwe=Wq.apply,mwe=Wq.call;(Gq=l(function(){return bq.apply(mwe,arguments)},"t$4")).apply=function(){return bq.apply(pwe,arguments)};_we=Gq,yq=l(function(i){return i!=i},"i$3"),gwe=(mP=l(function(i,e){return i===0&&e===0?1/i==1/e:i===e||!(!yq(i)||!yq(e))},"r$4"),mP),bwe=(_P=l(function(){return typeof Object.is=="function"?Object.is:gwe},"n$4"),_P),ywe=Mx,vwe=Mx,wwe=mP,jq=_P,xwe=l(function(){var i=bwe();return ywe(Object,{is:i},{is:function(){return Object.is!==i}}),i},"l$5"),$q=_we(jq(),Object);vwe($q,{getPolyfill:jq,implementation:wwe,shim:xwe});Xq=$q;yP=l(function(i){return i!=i},"N");Swe=yP,Ewe=(vP=l(function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:Swe},"e$5"),Mx),Mwe=vP,Awe=Mx,Twe=yP,Yq=vP,kwe=l(function(){var i=Mwe();return Ewe(Number,{isNaN:i},{isNaN:function(){return Number.isNaN!==i}}),i},"o$6"),Zq=Yq();Awe(Zq,{getPolyfill:Yq,implementation:Twe,shim:kwe});Rwe=Zq,fP={},vq=!1;l(Jq,"i$5");wq={},xq=!1;l(Pwe,"f$6");l(Sq,"s$3");l(Bs,"p$3");Iwe=/a/g.flags!==void 0,Ex=l(function(i){var e=[];return i.forEach(function(t){return e.push(t)}),e},"h$1"),Eq=l(function(i){var e=[];return i.forEach(function(t,n){return e.push([n,t])}),e},"y$2"),Mq=Object.is?Object.is:Xq,xx=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},gP=Number.isNaN?Number.isNaN:Rwe;l(wP,"m$2");Sg=wP(Object.prototype.hasOwnProperty),Sx=wP(Object.prototype.propertyIsEnumerable),Aq=wP(Object.prototype.toString),Vr=ct.types,Cwe=Vr.isAnyArrayBuffer,Lwe=Vr.isArrayBufferView,Tq=Vr.isDate,bx=Vr.isMap,kq=Vr.isRegExp,yx=Vr.isSet,Nwe=Vr.isNativeError,Owe=Vr.isBoxedPrimitive,Rq=Vr.isNumberObject,Pq=Vr.isStringObject,Iq=Vr.isBooleanObject,Cq=Vr.isBigIntObject,Bwe=Vr.isSymbolObject,Fwe=Vr.isFloat32Array,Uwe=Vr.isFloat64Array;l(zwe,"U");l(vx,"G");l(Lq,"V");l(hs,"B");l(Nq,"z");l(xg,"C");l(Oq,"Y");l(Kq,"W");l(Dwe,"H");l(Vwe,"J");l(Bq,"K");l(qwe,"Q");Fq={isDeepEqual:function(i,e){return hs(i,e,!1)},isDeepStrictEqual:function(i,e){return hs(i,e,!0)}},dP={},Uq=!1;l(bP,"tt");Ht=bP();Ht.AssertionError;Ht.deepEqual;Ht.deepStrictEqual;Ht.doesNotReject;Ht.doesNotThrow;Ht.equal;Ht.fail;Ht.ifError;Ht.notDeepEqual;Ht.notDeepStrictEqual;Ht.notEqual;Ht.notStrictEqual;Ht.ok;Ht.rejects;Ht.strict;Ht.strictEqual;Ht.throws;Ht.AssertionError;Ht.deepEqual;Ht.deepStrictEqual;Ht.doesNotReject;Ht.doesNotThrow;Ht.equal;Ht.fail;Ht.ifError;Ht.notDeepEqual;Ht.notDeepStrictEqual;Ht.notEqual;Ht.notStrictEqual;Ht.ok;Ht.rejects;Ht.strict;Ht.strictEqual;Ht.throws;Hwe=Ht.AssertionError,Gwe=Ht.deepEqual,Wwe=Ht.deepStrictEqual,jwe=Ht.doesNotReject,$we=Ht.doesNotThrow,Xwe=Ht.equal,Ywe=Ht.fail,Zwe=Ht.ifError,Jwe=Ht.notDeepEqual,Kwe=Ht.notDeepStrictEqual,Qwe=Ht.notEqual,e2e=Ht.notStrictEqual,t2e=Ht.ok,i2e=Ht.rejects,n2e=Ht.strict,r2e=Ht.strictEqual,a2e=Ht.throws});var PP={};Xa(PP,{Deflate:()=>_2e,DeflateRaw:()=>g2e,Gunzip:()=>b2e,Gzip:()=>y2e,Inflate:()=>v2e,InflateRaw:()=>w2e,Unzip:()=>x2e,Z_BEST_COMPRESSION:()=>S2e,Z_BEST_SPEED:()=>E2e,Z_BINARY:()=>M2e,Z_BLOCK:()=>A2e,Z_BUF_ERROR:()=>T2e,Z_DATA_ERROR:()=>k2e,Z_DEFAULT_CHUNK:()=>R2e,Z_DEFAULT_COMPRESSION:()=>P2e,Z_DEFAULT_LEVEL:()=>I2e,Z_DEFAULT_MEMLEVEL:()=>C2e,Z_DEFAULT_STRATEGY:()=>L2e,Z_DEFAULT_WINDOWBITS:()=>N2e,Z_DEFLATED:()=>O2e,Z_ERRNO:()=>B2e,Z_FILTERED:()=>F2e,Z_FINISH:()=>U2e,Z_FIXED:()=>z2e,Z_FULL_FLUSH:()=>D2e,Z_HUFFMAN_ONLY:()=>V2e,Z_MAX_CHUNK:()=>q2e,Z_MAX_LEVEL:()=>H2e,Z_MAX_MEMLEVEL:()=>G2e,Z_MAX_WINDOWBITS:()=>W2e,Z_MIN_CHUNK:()=>j2e,Z_MIN_LEVEL:()=>$2e,Z_MIN_MEMLEVEL:()=>X2e,Z_MIN_WINDOWBITS:()=>Y2e,Z_NEED_DICT:()=>Z2e,Z_NO_COMPRESSION:()=>J2e,Z_NO_FLUSH:()=>K2e,Z_OK:()=>Q2e,Z_PARTIAL_FLUSH:()=>exe,Z_RLE:()=>txe,Z_STREAM_END:()=>ixe,Z_STREAM_ERROR:()=>nxe,Z_SYNC_FLUSH:()=>rxe,Z_TEXT:()=>axe,Z_TREES:()=>sxe,Z_UNKNOWN:()=>oxe,Zlib:()=>lxe,codes:()=>cxe,createDeflate:()=>uxe,createDeflateRaw:()=>hxe,createGunzip:()=>fxe,createGzip:()=>dxe,createInflate:()=>pxe,createInflateRaw:()=>mxe,createUnzip:()=>_xe,default:()=>xt,deflate:()=>gxe,deflateRaw:()=>bxe,deflateRawSync:()=>yxe,deflateSync:()=>vxe,gunzip:()=>wxe,gunzipSync:()=>xxe,gzip:()=>Sxe,gzipSync:()=>Exe,inflate:()=>Mxe,inflateRaw:()=>Axe,inflateRawSync:()=>Txe,inflateSync:()=>kxe,unzip:()=>Rxe,unzipSync:()=>Pxe});function s2e(){if(Qq)return SP;Qq=!0;function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return l(i,"ZStream"),SP=i,SP}function Tx(){if(eH)return Mr;eH=!0;var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function e(r,a){return Object.prototype.hasOwnProperty.call(r,a)}l(e,"_has"),Mr.assign=function(r){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var s=a.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var o in s)e(s,o)&&(r[o]=s[o])}}return r},Mr.shrinkBuf=function(r,a){return r.length===a?r:r.subarray?r.subarray(0,a):(r.length=a,r)};var t={arraySet:function(r,a,s,o,c){if(a.subarray&&r.subarray){r.set(a.subarray(s,s+o),c);return}for(var u=0;u<o;u++)r[c+u]=a[s+u]},flattenChunks:function(r){var a,s,o,c,u,h;for(o=0,a=0,s=r.length;a<s;a++)o+=r[a].length;for(h=new Uint8Array(o),c=0,a=0,s=r.length;a<s;a++)u=r[a],h.set(u,c),c+=u.length;return h}},n={arraySet:function(r,a,s,o,c){for(var u=0;u<o;u++)r[c+u]=a[s+u]},flattenChunks:function(r){return[].concat.apply([],r)}};return Mr.setTyped=function(r){r?(Mr.Buf8=Uint8Array,Mr.Buf16=Uint16Array,Mr.Buf32=Int32Array,Mr.assign(Mr,t)):(Mr.Buf8=Array,Mr.Buf16=Array,Mr.Buf32=Array,Mr.assign(Mr,n))},Mr.setTyped(i),Mr}function o2e(){if(tH)return of;tH=!0;var i=Tx(),e=4,t=0,n=1,r=2;function a(O){for(var be=O.length;--be>=0;)O[be]=0}l(a,"zero");var s=0,o=1,c=2,u=3,h=258,f=29,p=256,d=p+1+f,m=30,y=19,g=2*d+1,b=15,x=16,w=7,E=256,M=16,C=17,I=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=512,U=new Array((d+2)*2);a(U);var q=new Array(m*2);a(q);var X=new Array(R);a(X);var fe=new Array(h-u+1);a(fe);var H=new Array(f);a(H);var Y=new Array(m);a(Y);function $(O,be,Ue,We,_e){this.static_tree=O,this.extra_bits=be,this.extra_base=Ue,this.elems=We,this.max_length=_e,this.has_stree=O&&O.length}l($,"StaticTreeDesc");var Z,ie,ue;function Me(O,be){this.dyn_tree=O,this.max_code=0,this.stat_desc=be}l(Me,"TreeDesc");function Fe(O){return O<256?X[O]:X[256+(O>>>7)]}l(Fe,"d_code");function De(O,be){O.pending_buf[O.pending++]=be&255,O.pending_buf[O.pending++]=be>>>8&255}l(De,"put_short");function Ge(O,be,Ue){O.bi_valid>x-Ue?(O.bi_buf|=be<<O.bi_valid&65535,De(O,O.bi_buf),O.bi_buf=be>>x-O.bi_valid,O.bi_valid+=Ue-x):(O.bi_buf|=be<<O.bi_valid&65535,O.bi_valid+=Ue)}l(Ge,"send_bits");function ve(O,be,Ue){Ge(O,Ue[be*2],Ue[be*2+1])}l(ve,"send_code");function we(O,be){var Ue=0;do Ue|=O&1,O>>>=1,Ue<<=1;while(--be>0);return Ue>>>1}l(we,"bi_reverse");function He(O){O.bi_valid===16?(De(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):O.bi_valid>=8&&(O.pending_buf[O.pending++]=O.bi_buf&255,O.bi_buf>>=8,O.bi_valid-=8)}l(He,"bi_flush");function Ke(O,be){var Ue=be.dyn_tree,We=be.max_code,_e=be.stat_desc.static_tree,Re=be.stat_desc.has_stree,te=be.stat_desc.extra_bits,et=be.stat_desc.extra_base,oe=be.stat_desc.max_length,N,le,Te,ee,Le,Ye,vt=0;for(ee=0;ee<=b;ee++)O.bl_count[ee]=0;for(Ue[O.heap[O.heap_max]*2+1]=0,N=O.heap_max+1;N<g;N++)le=O.heap[N],ee=Ue[Ue[le*2+1]*2+1]+1,ee>oe&&(ee=oe,vt++),Ue[le*2+1]=ee,!(le>We)&&(O.bl_count[ee]++,Le=0,le>=et&&(Le=te[le-et]),Ye=Ue[le*2],O.opt_len+=Ye*(ee+Le),Re&&(O.static_len+=Ye*(_e[le*2+1]+Le)));if(vt!==0){do{for(ee=oe-1;O.bl_count[ee]===0;)ee--;O.bl_count[ee]--,O.bl_count[ee+1]+=2,O.bl_count[oe]--,vt-=2}while(vt>0);for(ee=oe;ee!==0;ee--)for(le=O.bl_count[ee];le!==0;)Te=O.heap[--N],!(Te>We)&&(Ue[Te*2+1]!==ee&&(O.opt_len+=(ee-Ue[Te*2+1])*Ue[Te*2],Ue[Te*2+1]=ee),le--)}}l(Ke,"gen_bitlen");function Ze(O,be,Ue){var We=new Array(b+1),_e=0,Re,te;for(Re=1;Re<=b;Re++)We[Re]=_e=_e+Ue[Re-1]<<1;for(te=0;te<=be;te++){var et=O[te*2+1];et!==0&&(O[te*2]=we(We[et]++,et))}}l(Ze,"gen_codes");function S(){var O,be,Ue,We,_e,Re=new Array(b+1);for(Ue=0,We=0;We<f-1;We++)for(H[We]=Ue,O=0;O<1<<F[We];O++)fe[Ue++]=We;for(fe[Ue-1]=We,_e=0,We=0;We<16;We++)for(Y[We]=_e,O=0;O<1<<A[We];O++)X[_e++]=We;for(_e>>=7;We<m;We++)for(Y[We]=_e<<7,O=0;O<1<<A[We]-7;O++)X[256+_e++]=We;for(be=0;be<=b;be++)Re[be]=0;for(O=0;O<=143;)U[O*2+1]=8,O++,Re[8]++;for(;O<=255;)U[O*2+1]=9,O++,Re[9]++;for(;O<=279;)U[O*2+1]=7,O++,Re[7]++;for(;O<=287;)U[O*2+1]=8,O++,Re[8]++;for(Ze(U,d+1,Re),O=0;O<m;O++)q[O*2+1]=5,q[O*2]=we(O,5);Z=new $(U,F,p+1,d,b),ie=new $(q,A,0,m,b),ue=new $(new Array(0),T,0,y,w)}l(S,"tr_static_init");function G(O){var be;for(be=0;be<d;be++)O.dyn_ltree[be*2]=0;for(be=0;be<m;be++)O.dyn_dtree[be*2]=0;for(be=0;be<y;be++)O.bl_tree[be*2]=0;O.dyn_ltree[E*2]=1,O.opt_len=O.static_len=0,O.last_lit=O.matches=0}l(G,"init_block");function Q(O){O.bi_valid>8?De(O,O.bi_buf):O.bi_valid>0&&(O.pending_buf[O.pending++]=O.bi_buf),O.bi_buf=0,O.bi_valid=0}l(Q,"bi_windup");function K(O,be,Ue,We){Q(O),We&&(De(O,Ue),De(O,~Ue)),i.arraySet(O.pending_buf,O.window,be,Ue,O.pending),O.pending+=Ue}l(K,"copy_block");function J(O,be,Ue,We){var _e=be*2,Re=Ue*2;return O[_e]<O[Re]||O[_e]===O[Re]&&We[be]<=We[Ue]}l(J,"smaller");function me(O,be,Ue){for(var We=O.heap[Ue],_e=Ue<<1;_e<=O.heap_len&&(_e<O.heap_len&&J(be,O.heap[_e+1],O.heap[_e],O.depth)&&_e++,!J(be,We,O.heap[_e],O.depth));)O.heap[Ue]=O.heap[_e],Ue=_e,_e<<=1;O.heap[Ue]=We}l(me,"pqdownheap");function Se(O,be,Ue){var We,_e,Re=0,te,et;if(O.last_lit!==0)do We=O.pending_buf[O.d_buf+Re*2]<<8|O.pending_buf[O.d_buf+Re*2+1],_e=O.pending_buf[O.l_buf+Re],Re++,We===0?ve(O,_e,be):(te=fe[_e],ve(O,te+p+1,be),et=F[te],et!==0&&(_e-=H[te],Ge(O,_e,et)),We--,te=Fe(We),ve(O,te,Ue),et=A[te],et!==0&&(We-=Y[te],Ge(O,We,et)));while(Re<O.last_lit);ve(O,E,be)}l(Se,"compress_block");function Ie(O,be){var Ue=be.dyn_tree,We=be.stat_desc.static_tree,_e=be.stat_desc.has_stree,Re=be.stat_desc.elems,te,et,oe=-1,N;for(O.heap_len=0,O.heap_max=g,te=0;te<Re;te++)Ue[te*2]!==0?(O.heap[++O.heap_len]=oe=te,O.depth[te]=0):Ue[te*2+1]=0;for(;O.heap_len<2;)N=O.heap[++O.heap_len]=oe<2?++oe:0,Ue[N*2]=1,O.depth[N]=0,O.opt_len--,_e&&(O.static_len-=We[N*2+1]);for(be.max_code=oe,te=O.heap_len>>1;te>=1;te--)me(O,Ue,te);N=Re;do te=O.heap[1],O.heap[1]=O.heap[O.heap_len--],me(O,Ue,1),et=O.heap[1],O.heap[--O.heap_max]=te,O.heap[--O.heap_max]=et,Ue[N*2]=Ue[te*2]+Ue[et*2],O.depth[N]=(O.depth[te]>=O.depth[et]?O.depth[te]:O.depth[et])+1,Ue[te*2+1]=Ue[et*2+1]=N,O.heap[1]=N++,me(O,Ue,1);while(O.heap_len>=2);O.heap[--O.heap_max]=O.heap[1],Ke(O,be),Ze(Ue,oe,O.bl_count)}l(Ie,"build_tree");function Ce(O,be,Ue){var We,_e=-1,Re,te=be[0*2+1],et=0,oe=7,N=4;for(te===0&&(oe=138,N=3),be[(Ue+1)*2+1]=65535,We=0;We<=Ue;We++)Re=te,te=be[(We+1)*2+1],!(++et<oe&&Re===te)&&(et<N?O.bl_tree[Re*2]+=et:Re!==0?(Re!==_e&&O.bl_tree[Re*2]++,O.bl_tree[M*2]++):et<=10?O.bl_tree[C*2]++:O.bl_tree[I*2]++,et=0,_e=Re,te===0?(oe=138,N=3):Re===te?(oe=6,N=3):(oe=7,N=4))}l(Ce,"scan_tree");function Xe(O,be,Ue){var We,_e=-1,Re,te=be[0*2+1],et=0,oe=7,N=4;for(te===0&&(oe=138,N=3),We=0;We<=Ue;We++)if(Re=te,te=be[(We+1)*2+1],!(++et<oe&&Re===te)){if(et<N)do ve(O,Re,O.bl_tree);while(--et!==0);else Re!==0?(Re!==_e&&(ve(O,Re,O.bl_tree),et--),ve(O,M,O.bl_tree),Ge(O,et-3,2)):et<=10?(ve(O,C,O.bl_tree),Ge(O,et-3,3)):(ve(O,I,O.bl_tree),Ge(O,et-11,7));et=0,_e=Re,te===0?(oe=138,N=3):Re===te?(oe=6,N=3):(oe=7,N=4)}}l(Xe,"send_tree");function nt(O){var be;for(Ce(O,O.dyn_ltree,O.l_desc.max_code),Ce(O,O.dyn_dtree,O.d_desc.max_code),Ie(O,O.bl_desc),be=y-1;be>=3&&O.bl_tree[j[be]*2+1]===0;be--);return O.opt_len+=3*(be+1)+5+5+4,be}l(nt,"build_bl_tree");function z(O,be,Ue,We){var _e;for(Ge(O,be-257,5),Ge(O,Ue-1,5),Ge(O,We-4,4),_e=0;_e<We;_e++)Ge(O,O.bl_tree[j[_e]*2+1],3);Xe(O,O.dyn_ltree,be-1),Xe(O,O.dyn_dtree,Ue-1)}l(z,"send_all_trees");function B(O){var be=4093624447,Ue;for(Ue=0;Ue<=31;Ue++,be>>>=1)if(be&1&&O.dyn_ltree[Ue*2]!==0)return t;if(O.dyn_ltree[9*2]!==0||O.dyn_ltree[10*2]!==0||O.dyn_ltree[13*2]!==0)return n;for(Ue=32;Ue<p;Ue++)if(O.dyn_ltree[Ue*2]!==0)return n;return t}l(B,"detect_data_type");var Ae=!1;function W(O){Ae||(S(),Ae=!0),O.l_desc=new Me(O.dyn_ltree,Z),O.d_desc=new Me(O.dyn_dtree,ie),O.bl_desc=new Me(O.bl_tree,ue),O.bi_buf=0,O.bi_valid=0,G(O)}l(W,"_tr_init");function L(O,be,Ue,We){Ge(O,(s<<1)+(We?1:0),3),K(O,be,Ue,!0)}l(L,"_tr_stored_block");function P(O){Ge(O,o<<1,3),ve(O,E,U),He(O)}l(P,"_tr_align");function se(O,be,Ue,We){var _e,Re,te=0;O.level>0?(O.strm.data_type===r&&(O.strm.data_type=B(O)),Ie(O,O.l_desc),Ie(O,O.d_desc),te=nt(O),_e=O.opt_len+3+7>>>3,Re=O.static_len+3+7>>>3,Re<=_e&&(_e=Re)):_e=Re=Ue+5,Ue+4<=_e&&be!==-1?L(O,be,Ue,We):O.strategy===e||Re===_e?(Ge(O,(o<<1)+(We?1:0),3),Se(O,U,q)):(Ge(O,(c<<1)+(We?1:0),3),z(O,O.l_desc.max_code+1,O.d_desc.max_code+1,te+1),Se(O,O.dyn_ltree,O.dyn_dtree)),G(O),We&&Q(O)}l(se,"_tr_flush_block");function de(O,be,Ue){return O.pending_buf[O.d_buf+O.last_lit*2]=be>>>8&255,O.pending_buf[O.d_buf+O.last_lit*2+1]=be&255,O.pending_buf[O.l_buf+O.last_lit]=Ue&255,O.last_lit++,be===0?O.dyn_ltree[Ue*2]++:(O.matches++,be--,O.dyn_ltree[(fe[Ue]+p+1)*2]++,O.dyn_dtree[Fe(be)*2]++),O.last_lit===O.lit_bufsize-1}return l(de,"_tr_tally"),of._tr_init=W,of._tr_stored_block=L,of._tr_flush_block=se,of._tr_tally=de,of._tr_align=P,of}function fH(){if(iH)return EP;iH=!0;function i(e,t,n,r){for(var a=e&65535|0,s=e>>>16&65535|0,o=0;n!==0;){o=n>2e3?2e3:n,n-=o;do a=a+t[r++]|0,s=s+a|0;while(--o);a%=65521,s%=65521}return a|s<<16|0}return l(i,"adler32"),EP=i,EP}function dH(){if(nH)return MP;nH=!0;function i(){for(var n,r=[],a=0;a<256;a++){n=a;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;r[a]=n}return r}l(i,"makeTable");var e=i();function t(n,r,a,s){var o=e,c=s+a;n^=-1;for(var u=s;u<c;u++)n=n>>>8^o[(n^r[u])&255];return n^-1}return l(t,"crc32"),MP=t,MP}function l2e(){return rH||(rH=!0,AP={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),AP}function c2e(){if(aH)return Fs;aH=!0;var i=Tx(),e=o2e(),t=fH(),n=dH(),r=l2e(),a=0,s=1,o=3,c=4,u=5,h=0,f=1,p=-2,d=-3,m=-5,y=-1,g=1,b=2,x=3,w=4,E=0,M=2,C=8,I=9,F=15,A=8,T=29,j=256,R=j+1+T,U=30,q=19,X=2*R+1,fe=15,H=3,Y=258,$=Y+H+1,Z=32,ie=42,ue=69,Me=73,Fe=91,De=103,Ge=113,ve=666,we=1,He=2,Ke=3,Ze=4,S=3;function G(N,le){return N.msg=r[le],le}l(G,"err");function Q(N){return(N<<1)-(N>4?9:0)}l(Q,"rank");function K(N){for(var le=N.length;--le>=0;)N[le]=0}l(K,"zero");function J(N){var le=N.state,Te=le.pending;Te>N.avail_out&&(Te=N.avail_out),Te!==0&&(i.arraySet(N.output,le.pending_buf,le.pending_out,Te,N.next_out),N.next_out+=Te,le.pending_out+=Te,N.total_out+=Te,N.avail_out-=Te,le.pending-=Te,le.pending===0&&(le.pending_out=0))}l(J,"flush_pending");function me(N,le){e._tr_flush_block(N,N.block_start>=0?N.block_start:-1,N.strstart-N.block_start,le),N.block_start=N.strstart,J(N.strm)}l(me,"flush_block_only");function Se(N,le){N.pending_buf[N.pending++]=le}l(Se,"put_byte");function Ie(N,le){N.pending_buf[N.pending++]=le>>>8&255,N.pending_buf[N.pending++]=le&255}l(Ie,"putShortMSB");function Ce(N,le,Te,ee){var Le=N.avail_in;return Le>ee&&(Le=ee),Le===0?0:(N.avail_in-=Le,i.arraySet(le,N.input,N.next_in,Le,Te),N.state.wrap===1?N.adler=t(N.adler,le,Le,Te):N.state.wrap===2&&(N.adler=n(N.adler,le,Le,Te)),N.next_in+=Le,N.total_in+=Le,Le)}l(Ce,"read_buf");function Xe(N,le){var Te=N.max_chain_length,ee=N.strstart,Le,Ye,vt=N.prev_length,wt=N.nice_match,ft=N.strstart>N.w_size-$?N.strstart-(N.w_size-$):0,Ft=N.window,Yt=N.w_mask,Mi=N.prev,Kt=N.strstart+Y,Ve=Ft[ee+vt-1],ke=Ft[ee+vt];N.prev_length>=N.good_match&&(Te>>=2),wt>N.lookahead&&(wt=N.lookahead);do if(Le=le,!(Ft[Le+vt]!==ke||Ft[Le+vt-1]!==Ve||Ft[Le]!==Ft[ee]||Ft[++Le]!==Ft[ee+1])){ee+=2,Le++;do;while(Ft[++ee]===Ft[++Le]&&Ft[++ee]===Ft[++Le]&&Ft[++ee]===Ft[++Le]&&Ft[++ee]===Ft[++Le]&&Ft[++ee]===Ft[++Le]&&Ft[++ee]===Ft[++Le]&&Ft[++ee]===Ft[++Le]&&Ft[++ee]===Ft[++Le]&&ee<Kt);if(Ye=Y-(Kt-ee),ee=Kt-Y,Ye>vt){if(N.match_start=le,vt=Ye,Ye>=wt)break;Ve=Ft[ee+vt-1],ke=Ft[ee+vt]}}while((le=Mi[le&Yt])>ft&&--Te!==0);return vt<=N.lookahead?vt:N.lookahead}l(Xe,"longest_match");function nt(N){var le=N.w_size,Te,ee,Le,Ye,vt;do{if(Ye=N.window_size-N.lookahead-N.strstart,N.strstart>=le+(le-$)){i.arraySet(N.window,N.window,le,le,0),N.match_start-=le,N.strstart-=le,N.block_start-=le,ee=N.hash_size,Te=ee;do Le=N.head[--Te],N.head[Te]=Le>=le?Le-le:0;while(--ee);ee=le,Te=ee;do Le=N.prev[--Te],N.prev[Te]=Le>=le?Le-le:0;while(--ee);Ye+=le}if(N.strm.avail_in===0)break;if(ee=Ce(N.strm,N.window,N.strstart+N.lookahead,Ye),N.lookahead+=ee,N.lookahead+N.insert>=H)for(vt=N.strstart-N.insert,N.ins_h=N.window[vt],N.ins_h=(N.ins_h<<N.hash_shift^N.window[vt+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[vt+H-1])&N.hash_mask,N.prev[vt&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=vt,vt++,N.insert--,!(N.lookahead+N.insert<H)););}while(N.lookahead<$&&N.strm.avail_in!==0)}l(nt,"fill_window");function z(N,le){var Te=65535;for(Te>N.pending_buf_size-5&&(Te=N.pending_buf_size-5);;){if(N.lookahead<=1){if(nt(N),N.lookahead===0&&le===a)return we;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var ee=N.block_start+Te;if((N.strstart===0||N.strstart>=ee)&&(N.lookahead=N.strstart-ee,N.strstart=ee,me(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-$&&(me(N,!1),N.strm.avail_out===0))return we}return N.insert=0,le===c?(me(N,!0),N.strm.avail_out===0?Ke:Ze):(N.strstart>N.block_start&&(me(N,!1),N.strm.avail_out===0),we)}l(z,"deflate_stored");function B(N,le){for(var Te,ee;;){if(N.lookahead<$){if(nt(N),N.lookahead<$&&le===a)return we;if(N.lookahead===0)break}if(Te=0,N.lookahead>=H&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+H-1])&N.hash_mask,Te=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),Te!==0&&N.strstart-Te<=N.w_size-$&&(N.match_length=Xe(N,Te)),N.match_length>=H)if(ee=e._tr_tally(N,N.strstart-N.match_start,N.match_length-H),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=H){N.match_length--;do N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+H-1])&N.hash_mask,Te=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart;while(--N.match_length!==0);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else ee=e._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(ee&&(me(N,!1),N.strm.avail_out===0))return we}return N.insert=N.strstart<H-1?N.strstart:H-1,le===c?(me(N,!0),N.strm.avail_out===0?Ke:Ze):N.last_lit&&(me(N,!1),N.strm.avail_out===0)?we:He}l(B,"deflate_fast");function Ae(N,le){for(var Te,ee,Le;;){if(N.lookahead<$){if(nt(N),N.lookahead<$&&le===a)return we;if(N.lookahead===0)break}if(Te=0,N.lookahead>=H&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+H-1])&N.hash_mask,Te=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=H-1,Te!==0&&N.prev_length<N.max_lazy_match&&N.strstart-Te<=N.w_size-$&&(N.match_length=Xe(N,Te),N.match_length<=5&&(N.strategy===g||N.match_length===H&&N.strstart-N.match_start>4096)&&(N.match_length=H-1)),N.prev_length>=H&&N.match_length<=N.prev_length){Le=N.strstart+N.lookahead-H,ee=e._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-H),N.lookahead-=N.prev_length-1,N.prev_length-=2;do++N.strstart<=Le&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+H-1])&N.hash_mask,Te=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart);while(--N.prev_length!==0);if(N.match_available=0,N.match_length=H-1,N.strstart++,ee&&(me(N,!1),N.strm.avail_out===0))return we}else if(N.match_available){if(ee=e._tr_tally(N,0,N.window[N.strstart-1]),ee&&me(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return we}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(ee=e._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<H-1?N.strstart:H-1,le===c?(me(N,!0),N.strm.avail_out===0?Ke:Ze):N.last_lit&&(me(N,!1),N.strm.avail_out===0)?we:He}l(Ae,"deflate_slow");function W(N,le){for(var Te,ee,Le,Ye,vt=N.window;;){if(N.lookahead<=Y){if(nt(N),N.lookahead<=Y&&le===a)return we;if(N.lookahead===0)break}if(N.match_length=0,N.lookahead>=H&&N.strstart>0&&(Le=N.strstart-1,ee=vt[Le],ee===vt[++Le]&&ee===vt[++Le]&&ee===vt[++Le])){Ye=N.strstart+Y;do;while(ee===vt[++Le]&&ee===vt[++Le]&&ee===vt[++Le]&&ee===vt[++Le]&&ee===vt[++Le]&&ee===vt[++Le]&&ee===vt[++Le]&&ee===vt[++Le]&&Le<Ye);N.match_length=Y-(Ye-Le),N.match_length>N.lookahead&&(N.match_length=N.lookahead)}if(N.match_length>=H?(Te=e._tr_tally(N,1,N.match_length-H),N.lookahead-=N.match_length,N.strstart+=N.match_length,N.match_length=0):(Te=e._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++),Te&&(me(N,!1),N.strm.avail_out===0))return we}return N.insert=0,le===c?(me(N,!0),N.strm.avail_out===0?Ke:Ze):N.last_lit&&(me(N,!1),N.strm.avail_out===0)?we:He}l(W,"deflate_rle");function L(N,le){for(var Te;;){if(N.lookahead===0&&(nt(N),N.lookahead===0)){if(le===a)return we;break}if(N.match_length=0,Te=e._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++,Te&&(me(N,!1),N.strm.avail_out===0))return we}return N.insert=0,le===c?(me(N,!0),N.strm.avail_out===0?Ke:Ze):N.last_lit&&(me(N,!1),N.strm.avail_out===0)?we:He}l(L,"deflate_huff");function P(N,le,Te,ee,Le){this.good_length=N,this.max_lazy=le,this.nice_length=Te,this.max_chain=ee,this.func=Le}l(P,"Config");var se;se=[new P(0,0,0,0,z),new P(4,4,8,4,B),new P(4,5,16,8,B),new P(4,6,32,32,B),new P(4,4,16,16,Ae),new P(8,16,32,32,Ae),new P(8,16,128,128,Ae),new P(8,32,128,256,Ae),new P(32,128,258,1024,Ae),new P(32,258,258,4096,Ae)];function de(N){N.window_size=2*N.w_size,K(N.head),N.max_lazy_match=se[N.level].max_lazy,N.good_match=se[N.level].good_length,N.nice_match=se[N.level].nice_length,N.max_chain_length=se[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=H-1,N.match_available=0,N.ins_h=0}l(de,"lm_init");function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(X*2),this.dyn_dtree=new i.Buf16((2*U+1)*2),this.bl_tree=new i.Buf16((2*q+1)*2),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(fe+1),this.heap=new i.Buf16(2*R+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*R+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}l(O,"DeflateState");function be(N){var le;return!N||!N.state?G(N,p):(N.total_in=N.total_out=0,N.data_type=M,le=N.state,le.pending=0,le.pending_out=0,le.wrap<0&&(le.wrap=-le.wrap),le.status=le.wrap?ie:Ge,N.adler=le.wrap===2?0:1,le.last_flush=a,e._tr_init(le),h)}l(be,"deflateResetKeep");function Ue(N){var le=be(N);return le===h&&de(N.state),le}l(Ue,"deflateReset");function We(N,le){return!N||!N.state||N.state.wrap!==2?p:(N.state.gzhead=le,h)}l(We,"deflateSetHeader");function _e(N,le,Te,ee,Le,Ye){if(!N)return p;var vt=1;if(le===y&&(le=6),ee<0?(vt=0,ee=-ee):ee>15&&(vt=2,ee-=16),Le<1||Le>I||Te!==C||ee<8||ee>15||le<0||le>9||Ye<0||Ye>w)return G(N,p);ee===8&&(ee=9);var wt=new O;return N.state=wt,wt.strm=N,wt.wrap=vt,wt.gzhead=null,wt.w_bits=ee,wt.w_size=1<<wt.w_bits,wt.w_mask=wt.w_size-1,wt.hash_bits=Le+7,wt.hash_size=1<<wt.hash_bits,wt.hash_mask=wt.hash_size-1,wt.hash_shift=~~((wt.hash_bits+H-1)/H),wt.window=new i.Buf8(wt.w_size*2),wt.head=new i.Buf16(wt.hash_size),wt.prev=new i.Buf16(wt.w_size),wt.lit_bufsize=1<<Le+6,wt.pending_buf_size=wt.lit_bufsize*4,wt.pending_buf=new i.Buf8(wt.pending_buf_size),wt.d_buf=1*wt.lit_bufsize,wt.l_buf=(1+2)*wt.lit_bufsize,wt.level=le,wt.strategy=Ye,wt.method=Te,Ue(N)}l(_e,"deflateInit2");function Re(N,le){return _e(N,le,C,F,A,E)}l(Re,"deflateInit");function te(N,le){var Te,ee,Le,Ye;if(!N||!N.state||le>u||le<0)return N?G(N,p):p;if(ee=N.state,!N.output||!N.input&&N.avail_in!==0||ee.status===ve&&le!==c)return G(N,N.avail_out===0?m:p);if(ee.strm=N,Te=ee.last_flush,ee.last_flush=le,ee.status===ie)if(ee.wrap===2)N.adler=0,Se(ee,31),Se(ee,139),Se(ee,8),ee.gzhead?(Se(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),Se(ee,ee.gzhead.time&255),Se(ee,ee.gzhead.time>>8&255),Se(ee,ee.gzhead.time>>16&255),Se(ee,ee.gzhead.time>>24&255),Se(ee,ee.level===9?2:ee.strategy>=b||ee.level<2?4:0),Se(ee,ee.gzhead.os&255),ee.gzhead.extra&&ee.gzhead.extra.length&&(Se(ee,ee.gzhead.extra.length&255),Se(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(N.adler=n(N.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=ue):(Se(ee,0),Se(ee,0),Se(ee,0),Se(ee,0),Se(ee,0),Se(ee,ee.level===9?2:ee.strategy>=b||ee.level<2?4:0),Se(ee,S),ee.status=Ge);else{var vt=C+(ee.w_bits-8<<4)<<8,wt=-1;ee.strategy>=b||ee.level<2?wt=0:ee.level<6?wt=1:ee.level===6?wt=2:wt=3,vt|=wt<<6,ee.strstart!==0&&(vt|=Z),vt+=31-vt%31,ee.status=Ge,Ie(ee,vt),ee.strstart!==0&&(Ie(ee,N.adler>>>16),Ie(ee,N.adler&65535)),N.adler=1}if(ee.status===ue)if(ee.gzhead.extra){for(Le=ee.pending;ee.gzindex<(ee.gzhead.extra.length&65535)&&!(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Le&&(N.adler=n(N.adler,ee.pending_buf,ee.pending-Le,Le)),J(N),Le=ee.pending,ee.pending===ee.pending_buf_size));)Se(ee,ee.gzhead.extra[ee.gzindex]&255),ee.gzindex++;ee.gzhead.hcrc&&ee.pending>Le&&(N.adler=n(N.adler,ee.pending_buf,ee.pending-Le,Le)),ee.gzindex===ee.gzhead.extra.length&&(ee.gzindex=0,ee.status=Me)}else ee.status=Me;if(ee.status===Me)if(ee.gzhead.name){Le=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Le&&(N.adler=n(N.adler,ee.pending_buf,ee.pending-Le,Le)),J(N),Le=ee.pending,ee.pending===ee.pending_buf_size)){Ye=1;break}ee.gzindex<ee.gzhead.name.length?Ye=ee.gzhead.name.charCodeAt(ee.gzindex++)&255:Ye=0,Se(ee,Ye)}while(Ye!==0);ee.gzhead.hcrc&&ee.pending>Le&&(N.adler=n(N.adler,ee.pending_buf,ee.pending-Le,Le)),Ye===0&&(ee.gzindex=0,ee.status=Fe)}else ee.status=Fe;if(ee.status===Fe)if(ee.gzhead.comment){Le=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Le&&(N.adler=n(N.adler,ee.pending_buf,ee.pending-Le,Le)),J(N),Le=ee.pending,ee.pending===ee.pending_buf_size)){Ye=1;break}ee.gzindex<ee.gzhead.comment.length?Ye=ee.gzhead.comment.charCodeAt(ee.gzindex++)&255:Ye=0,Se(ee,Ye)}while(Ye!==0);ee.gzhead.hcrc&&ee.pending>Le&&(N.adler=n(N.adler,ee.pending_buf,ee.pending-Le,Le)),Ye===0&&(ee.status=De)}else ee.status=De;if(ee.status===De&&(ee.gzhead.hcrc?(ee.pending+2>ee.pending_buf_size&&J(N),ee.pending+2<=ee.pending_buf_size&&(Se(ee,N.adler&255),Se(ee,N.adler>>8&255),N.adler=0,ee.status=Ge)):ee.status=Ge),ee.pending!==0){if(J(N),N.avail_out===0)return ee.last_flush=-1,h}else if(N.avail_in===0&&Q(le)<=Q(Te)&&le!==c)return G(N,m);if(ee.status===ve&&N.avail_in!==0)return G(N,m);if(N.avail_in!==0||ee.lookahead!==0||le!==a&&ee.status!==ve){var ft=ee.strategy===b?L(ee,le):ee.strategy===x?W(ee,le):se[ee.level].func(ee,le);if((ft===Ke||ft===Ze)&&(ee.status=ve),ft===we||ft===Ke)return N.avail_out===0&&(ee.last_flush=-1),h;if(ft===He&&(le===s?e._tr_align(ee):le!==u&&(e._tr_stored_block(ee,0,0,!1),le===o&&(K(ee.head),ee.lookahead===0&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),J(N),N.avail_out===0))return ee.last_flush=-1,h}return le!==c?h:ee.wrap<=0?f:(ee.wrap===2?(Se(ee,N.adler&255),Se(ee,N.adler>>8&255),Se(ee,N.adler>>16&255),Se(ee,N.adler>>24&255),Se(ee,N.total_in&255),Se(ee,N.total_in>>8&255),Se(ee,N.total_in>>16&255),Se(ee,N.total_in>>24&255)):(Ie(ee,N.adler>>>16),Ie(ee,N.adler&65535)),J(N),ee.wrap>0&&(ee.wrap=-ee.wrap),ee.pending!==0?h:f)}l(te,"deflate");function et(N){var le;return!N||!N.state?p:(le=N.state.status,le!==ie&&le!==ue&&le!==Me&&le!==Fe&&le!==De&&le!==Ge&&le!==ve?G(N,p):(N.state=null,le===Ge?G(N,d):h))}l(et,"deflateEnd");function oe(N,le){var Te=le.length,ee,Le,Ye,vt,wt,ft,Ft,Yt;if(!N||!N.state||(ee=N.state,vt=ee.wrap,vt===2||vt===1&&ee.status!==ie||ee.lookahead))return p;for(vt===1&&(N.adler=t(N.adler,le,Te,0)),ee.wrap=0,Te>=ee.w_size&&(vt===0&&(K(ee.head),ee.strstart=0,ee.block_start=0,ee.insert=0),Yt=new i.Buf8(ee.w_size),i.arraySet(Yt,le,Te-ee.w_size,ee.w_size,0),le=Yt,Te=ee.w_size),wt=N.avail_in,ft=N.next_in,Ft=N.input,N.avail_in=Te,N.next_in=0,N.input=le,nt(ee);ee.lookahead>=H;){Le=ee.strstart,Ye=ee.lookahead-(H-1);do ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[Le+H-1])&ee.hash_mask,ee.prev[Le&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=Le,Le++;while(--Ye);ee.strstart=Le,ee.lookahead=H-1,nt(ee)}return ee.strstart+=ee.lookahead,ee.block_start=ee.strstart,ee.insert=ee.lookahead,ee.lookahead=0,ee.match_length=ee.prev_length=H-1,ee.match_available=0,N.next_in=ft,N.input=Ft,N.avail_in=wt,ee.wrap=vt,h}return l(oe,"deflateSetDictionary"),Fs.deflateInit=Re,Fs.deflateInit2=_e,Fs.deflateReset=Ue,Fs.deflateResetKeep=be,Fs.deflateSetHeader=We,Fs.deflate=te,Fs.deflateEnd=et,Fs.deflateSetDictionary=oe,Fs.deflateInfo="pako deflate (from Nodeca project)",Fs}function u2e(){if(sH)return TP;sH=!0;var i=30,e=12;return TP=l(function(n,r){var a,s,o,c,u,h,f,p,d,m,y,g,b,x,w,E,M,C,I,F,A,T,j,R,U;a=n.state,s=n.next_in,R=n.input,o=s+(n.avail_in-5),c=n.next_out,U=n.output,u=c-(r-n.avail_out),h=c+(n.avail_out-257),f=a.dmax,p=a.wsize,d=a.whave,m=a.wnext,y=a.window,g=a.hold,b=a.bits,x=a.lencode,w=a.distcode,E=(1<<a.lenbits)-1,M=(1<<a.distbits)-1;e:do{b<15&&(g+=R[s++]<<b,b+=8,g+=R[s++]<<b,b+=8),C=x[g&E];t:for(;;){if(I=C>>>24,g>>>=I,b-=I,I=C>>>16&255,I===0)U[c++]=C&65535;else if(I&16){F=C&65535,I&=15,I&&(b<I&&(g+=R[s++]<<b,b+=8),F+=g&(1<<I)-1,g>>>=I,b-=I),b<15&&(g+=R[s++]<<b,b+=8,g+=R[s++]<<b,b+=8),C=w[g&M];i:for(;;){if(I=C>>>24,g>>>=I,b-=I,I=C>>>16&255,I&16){if(A=C&65535,I&=15,b<I&&(g+=R[s++]<<b,b+=8,b<I&&(g+=R[s++]<<b,b+=8)),A+=g&(1<<I)-1,A>f){n.msg="invalid distance too far back",a.mode=i;break e}if(g>>>=I,b-=I,I=c-u,A>I){if(I=A-I,I>d&&a.sane){n.msg="invalid distance too far back",a.mode=i;break e}if(T=0,j=y,m===0){if(T+=p-I,I<F){F-=I;do U[c++]=y[T++];while(--I);T=c-A,j=U}}else if(m<I){if(T+=p+m-I,I-=m,I<F){F-=I;do U[c++]=y[T++];while(--I);if(T=0,m<F){I=m,F-=I;do U[c++]=y[T++];while(--I);T=c-A,j=U}}}else if(T+=m-I,I<F){F-=I;do U[c++]=y[T++];while(--I);T=c-A,j=U}for(;F>2;)U[c++]=j[T++],U[c++]=j[T++],U[c++]=j[T++],F-=3;F&&(U[c++]=j[T++],F>1&&(U[c++]=j[T++]))}else{T=c-A;do U[c++]=U[T++],U[c++]=U[T++],U[c++]=U[T++],F-=3;while(F>2);F&&(U[c++]=U[T++],F>1&&(U[c++]=U[T++]))}}else if(I&64){n.msg="invalid distance code",a.mode=i;break e}else{C=w[(C&65535)+(g&(1<<I)-1)];continue i}break}}else if(I&64)if(I&32){a.mode=e;break e}else{n.msg="invalid literal/length code",a.mode=i;break e}else{C=x[(C&65535)+(g&(1<<I)-1)];continue t}break}}while(s<o&&c<h);F=b>>3,s-=F,b-=F<<3,g&=(1<<b)-1,n.next_in=s,n.next_out=c,n.avail_in=s<o?5+(o-s):5-(s-o),n.avail_out=c<h?257+(h-c):257-(c-h),a.hold=g,a.bits=b},"inflate_fast"),TP}function h2e(){if(oH)return kP;oH=!0;var i=Tx(),e=15,t=852,n=592,r=0,a=1,s=2,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return kP=l(function(p,d,m,y,g,b,x,w){var E=w.bits,M=0,C=0,I=0,F=0,A=0,T=0,j=0,R=0,U=0,q=0,X,fe,H,Y,$,Z=null,ie=0,ue,Me=new i.Buf16(e+1),Fe=new i.Buf16(e+1),De=null,Ge=0,ve,we,He;for(M=0;M<=e;M++)Me[M]=0;for(C=0;C<y;C++)Me[d[m+C]]++;for(A=E,F=e;F>=1&&Me[F]===0;F--);if(A>F&&(A=F),F===0)return g[b++]=1<<24|64<<16|0,g[b++]=1<<24|64<<16|0,w.bits=1,0;for(I=1;I<F&&Me[I]===0;I++);for(A<I&&(A=I),R=1,M=1;M<=e;M++)if(R<<=1,R-=Me[M],R<0)return-1;if(R>0&&(p===r||F!==1))return-1;for(Fe[1]=0,M=1;M<e;M++)Fe[M+1]=Fe[M]+Me[M];for(C=0;C<y;C++)d[m+C]!==0&&(x[Fe[d[m+C]]++]=C);if(p===r?(Z=De=x,ue=19):p===a?(Z=o,ie-=257,De=c,Ge-=257,ue=256):(Z=u,De=h,ue=-1),q=0,C=0,M=I,$=b,T=A,j=0,H=-1,U=1<<A,Y=U-1,p===a&&U>t||p===s&&U>n)return 1;for(;;){ve=M-j,x[C]<ue?(we=0,He=x[C]):x[C]>ue?(we=De[Ge+x[C]],He=Z[ie+x[C]]):(we=32+64,He=0),X=1<<M-j,fe=1<<T,I=fe;do fe-=X,g[$+(q>>j)+fe]=ve<<24|we<<16|He|0;while(fe!==0);for(X=1<<M-1;q&X;)X>>=1;if(X!==0?(q&=X-1,q+=X):q=0,C++,--Me[M]===0){if(M===F)break;M=d[m+x[C]]}if(M>A&&(q&Y)!==H){for(j===0&&(j=A),$+=I,T=M-j,R=1<<T;T+j<F&&(R-=Me[T+j],!(R<=0));)T++,R<<=1;if(U+=1<<T,p===a&&U>t||p===s&&U>n)return 1;H=q&Y,g[H]=A<<24|T<<16|$-b|0}}return q!==0&&(g[$+q]=M-j<<24|64<<16|0),w.bits=A,0},"inflate_table"),kP}function f2e(){if(lH)return fs;lH=!0;var i=Tx(),e=fH(),t=dH(),n=u2e(),r=h2e(),a=0,s=1,o=2,c=4,u=5,h=6,f=0,p=1,d=2,m=-2,y=-3,g=-4,b=-5,x=8,w=1,E=2,M=3,C=4,I=5,F=6,A=7,T=8,j=9,R=10,U=11,q=12,X=13,fe=14,H=15,Y=16,$=17,Z=18,ie=19,ue=20,Me=21,Fe=22,De=23,Ge=24,ve=25,we=26,He=27,Ke=28,Ze=29,S=30,G=31,Q=32,K=852,J=592,me=15,Se=me;function Ie(_e){return(_e>>>24&255)+(_e>>>8&65280)+((_e&65280)<<8)+((_e&255)<<24)}l(Ie,"zswap32");function Ce(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}l(Ce,"InflateState");function Xe(_e){var Re;return!_e||!_e.state?m:(Re=_e.state,_e.total_in=_e.total_out=Re.total=0,_e.msg="",Re.wrap&&(_e.adler=Re.wrap&1),Re.mode=w,Re.last=0,Re.havedict=0,Re.dmax=32768,Re.head=null,Re.hold=0,Re.bits=0,Re.lencode=Re.lendyn=new i.Buf32(K),Re.distcode=Re.distdyn=new i.Buf32(J),Re.sane=1,Re.back=-1,f)}l(Xe,"inflateResetKeep");function nt(_e){var Re;return!_e||!_e.state?m:(Re=_e.state,Re.wsize=0,Re.whave=0,Re.wnext=0,Xe(_e))}l(nt,"inflateReset");function z(_e,Re){var te,et;return!_e||!_e.state||(et=_e.state,Re<0?(te=0,Re=-Re):(te=(Re>>4)+1,Re<48&&(Re&=15)),Re&&(Re<8||Re>15))?m:(et.window!==null&&et.wbits!==Re&&(et.window=null),et.wrap=te,et.wbits=Re,nt(_e))}l(z,"inflateReset2");function B(_e,Re){var te,et;return _e?(et=new Ce,_e.state=et,et.window=null,te=z(_e,Re),te!==f&&(_e.state=null),te):m}l(B,"inflateInit2");function Ae(_e){return B(_e,Se)}l(Ae,"inflateInit");var W=!0,L,P;function se(_e){if(W){var Re;for(L=new i.Buf32(512),P=new i.Buf32(32),Re=0;Re<144;)_e.lens[Re++]=8;for(;Re<256;)_e.lens[Re++]=9;for(;Re<280;)_e.lens[Re++]=7;for(;Re<288;)_e.lens[Re++]=8;for(r(s,_e.lens,0,288,L,0,_e.work,{bits:9}),Re=0;Re<32;)_e.lens[Re++]=5;r(o,_e.lens,0,32,P,0,_e.work,{bits:5}),W=!1}_e.lencode=L,_e.lenbits=9,_e.distcode=P,_e.distbits=5}l(se,"fixedtables");function de(_e,Re,te,et){var oe,N=_e.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new i.Buf8(N.wsize)),et>=N.wsize?(i.arraySet(N.window,Re,te-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(oe=N.wsize-N.wnext,oe>et&&(oe=et),i.arraySet(N.window,Re,te-et,oe,N.wnext),et-=oe,et?(i.arraySet(N.window,Re,te-et,et,0),N.wnext=et,N.whave=N.wsize):(N.wnext+=oe,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=oe))),0}l(de,"updatewindow");function O(_e,Re){var te,et,oe,N,le,Te,ee,Le,Ye,vt,wt,ft,Ft,Yt,Mi=0,Kt,Ve,ke,je,tt,rt,St,Ut,Vt=new i.Buf8(4),V,xe,Pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_e||!_e.state||!_e.output||!_e.input&&_e.avail_in!==0)return m;te=_e.state,te.mode===q&&(te.mode=X),le=_e.next_out,oe=_e.output,ee=_e.avail_out,N=_e.next_in,et=_e.input,Te=_e.avail_in,Le=te.hold,Ye=te.bits,vt=Te,wt=ee,Ut=f;e:for(;;)switch(te.mode){case w:if(te.wrap===0){te.mode=X;break}for(;Ye<16;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}if(te.wrap&2&&Le===35615){te.check=0,Vt[0]=Le&255,Vt[1]=Le>>>8&255,te.check=t(te.check,Vt,2,0),Le=0,Ye=0,te.mode=E;break}if(te.flags=0,te.head&&(te.head.done=!1),!(te.wrap&1)||(((Le&255)<<8)+(Le>>8))%31){_e.msg="incorrect header check",te.mode=S;break}if((Le&15)!==x){_e.msg="unknown compression method",te.mode=S;break}if(Le>>>=4,Ye-=4,St=(Le&15)+8,te.wbits===0)te.wbits=St;else if(St>te.wbits){_e.msg="invalid window size",te.mode=S;break}te.dmax=1<<St,_e.adler=te.check=1,te.mode=Le&512?R:q,Le=0,Ye=0;break;case E:for(;Ye<16;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}if(te.flags=Le,(te.flags&255)!==x){_e.msg="unknown compression method",te.mode=S;break}if(te.flags&57344){_e.msg="unknown header flags set",te.mode=S;break}te.head&&(te.head.text=Le>>8&1),te.flags&512&&(Vt[0]=Le&255,Vt[1]=Le>>>8&255,te.check=t(te.check,Vt,2,0)),Le=0,Ye=0,te.mode=M;case M:for(;Ye<32;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}te.head&&(te.head.time=Le),te.flags&512&&(Vt[0]=Le&255,Vt[1]=Le>>>8&255,Vt[2]=Le>>>16&255,Vt[3]=Le>>>24&255,te.check=t(te.check,Vt,4,0)),Le=0,Ye=0,te.mode=C;case C:for(;Ye<16;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}te.head&&(te.head.xflags=Le&255,te.head.os=Le>>8),te.flags&512&&(Vt[0]=Le&255,Vt[1]=Le>>>8&255,te.check=t(te.check,Vt,2,0)),Le=0,Ye=0,te.mode=I;case I:if(te.flags&1024){for(;Ye<16;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}te.length=Le,te.head&&(te.head.extra_len=Le),te.flags&512&&(Vt[0]=Le&255,Vt[1]=Le>>>8&255,te.check=t(te.check,Vt,2,0)),Le=0,Ye=0}else te.head&&(te.head.extra=null);te.mode=F;case F:if(te.flags&1024&&(ft=te.length,ft>Te&&(ft=Te),ft&&(te.head&&(St=te.head.extra_len-te.length,te.head.extra||(te.head.extra=new Array(te.head.extra_len)),i.arraySet(te.head.extra,et,N,ft,St)),te.flags&512&&(te.check=t(te.check,et,ft,N)),Te-=ft,N+=ft,te.length-=ft),te.length))break e;te.length=0,te.mode=A;case A:if(te.flags&2048){if(Te===0)break e;ft=0;do St=et[N+ft++],te.head&&St&&te.length<65536&&(te.head.name+=String.fromCharCode(St));while(St&&ft<Te);if(te.flags&512&&(te.check=t(te.check,et,ft,N)),Te-=ft,N+=ft,St)break e}else te.head&&(te.head.name=null);te.length=0,te.mode=T;case T:if(te.flags&4096){if(Te===0)break e;ft=0;do St=et[N+ft++],te.head&&St&&te.length<65536&&(te.head.comment+=String.fromCharCode(St));while(St&&ft<Te);if(te.flags&512&&(te.check=t(te.check,et,ft,N)),Te-=ft,N+=ft,St)break e}else te.head&&(te.head.comment=null);te.mode=j;case j:if(te.flags&512){for(;Ye<16;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}if(Le!==(te.check&65535)){_e.msg="header crc mismatch",te.mode=S;break}Le=0,Ye=0}te.head&&(te.head.hcrc=te.flags>>9&1,te.head.done=!0),_e.adler=te.check=0,te.mode=q;break;case R:for(;Ye<32;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}_e.adler=te.check=Ie(Le),Le=0,Ye=0,te.mode=U;case U:if(te.havedict===0)return _e.next_out=le,_e.avail_out=ee,_e.next_in=N,_e.avail_in=Te,te.hold=Le,te.bits=Ye,d;_e.adler=te.check=1,te.mode=q;case q:if(Re===u||Re===h)break e;case X:if(te.last){Le>>>=Ye&7,Ye-=Ye&7,te.mode=He;break}for(;Ye<3;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}switch(te.last=Le&1,Le>>>=1,Ye-=1,Le&3){case 0:te.mode=fe;break;case 1:if(se(te),te.mode=ue,Re===h){Le>>>=2,Ye-=2;break e}break;case 2:te.mode=$;break;case 3:_e.msg="invalid block type",te.mode=S}Le>>>=2,Ye-=2;break;case fe:for(Le>>>=Ye&7,Ye-=Ye&7;Ye<32;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}if((Le&65535)!==(Le>>>16^65535)){_e.msg="invalid stored block lengths",te.mode=S;break}if(te.length=Le&65535,Le=0,Ye=0,te.mode=H,Re===h)break e;case H:te.mode=Y;case Y:if(ft=te.length,ft){if(ft>Te&&(ft=Te),ft>ee&&(ft=ee),ft===0)break e;i.arraySet(oe,et,N,ft,le),Te-=ft,N+=ft,ee-=ft,le+=ft,te.length-=ft;break}te.mode=q;break;case $:for(;Ye<14;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}if(te.nlen=(Le&31)+257,Le>>>=5,Ye-=5,te.ndist=(Le&31)+1,Le>>>=5,Ye-=5,te.ncode=(Le&15)+4,Le>>>=4,Ye-=4,te.nlen>286||te.ndist>30){_e.msg="too many length or distance symbols",te.mode=S;break}te.have=0,te.mode=Z;case Z:for(;te.have<te.ncode;){for(;Ye<3;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}te.lens[Pe[te.have++]]=Le&7,Le>>>=3,Ye-=3}for(;te.have<19;)te.lens[Pe[te.have++]]=0;if(te.lencode=te.lendyn,te.lenbits=7,V={bits:te.lenbits},Ut=r(a,te.lens,0,19,te.lencode,0,te.work,V),te.lenbits=V.bits,Ut){_e.msg="invalid code lengths set",te.mode=S;break}te.have=0,te.mode=ie;case ie:for(;te.have<te.nlen+te.ndist;){for(;Mi=te.lencode[Le&(1<<te.lenbits)-1],Kt=Mi>>>24,Ve=Mi>>>16&255,ke=Mi&65535,!(Kt<=Ye);){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}if(ke<16)Le>>>=Kt,Ye-=Kt,te.lens[te.have++]=ke;else{if(ke===16){for(xe=Kt+2;Ye<xe;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}if(Le>>>=Kt,Ye-=Kt,te.have===0){_e.msg="invalid bit length repeat",te.mode=S;break}St=te.lens[te.have-1],ft=3+(Le&3),Le>>>=2,Ye-=2}else if(ke===17){for(xe=Kt+3;Ye<xe;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}Le>>>=Kt,Ye-=Kt,St=0,ft=3+(Le&7),Le>>>=3,Ye-=3}else{for(xe=Kt+7;Ye<xe;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}Le>>>=Kt,Ye-=Kt,St=0,ft=11+(Le&127),Le>>>=7,Ye-=7}if(te.have+ft>te.nlen+te.ndist){_e.msg="invalid bit length repeat",te.mode=S;break}for(;ft--;)te.lens[te.have++]=St}}if(te.mode===S)break;if(te.lens[256]===0){_e.msg="invalid code -- missing end-of-block",te.mode=S;break}if(te.lenbits=9,V={bits:te.lenbits},Ut=r(s,te.lens,0,te.nlen,te.lencode,0,te.work,V),te.lenbits=V.bits,Ut){_e.msg="invalid literal/lengths set",te.mode=S;break}if(te.distbits=6,te.distcode=te.distdyn,V={bits:te.distbits},Ut=r(o,te.lens,te.nlen,te.ndist,te.distcode,0,te.work,V),te.distbits=V.bits,Ut){_e.msg="invalid distances set",te.mode=S;break}if(te.mode=ue,Re===h)break e;case ue:te.mode=Me;case Me:if(Te>=6&&ee>=258){_e.next_out=le,_e.avail_out=ee,_e.next_in=N,_e.avail_in=Te,te.hold=Le,te.bits=Ye,n(_e,wt),le=_e.next_out,oe=_e.output,ee=_e.avail_out,N=_e.next_in,et=_e.input,Te=_e.avail_in,Le=te.hold,Ye=te.bits,te.mode===q&&(te.back=-1);break}for(te.back=0;Mi=te.lencode[Le&(1<<te.lenbits)-1],Kt=Mi>>>24,Ve=Mi>>>16&255,ke=Mi&65535,!(Kt<=Ye);){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}if(Ve&&!(Ve&240)){for(je=Kt,tt=Ve,rt=ke;Mi=te.lencode[rt+((Le&(1<<je+tt)-1)>>je)],Kt=Mi>>>24,Ve=Mi>>>16&255,ke=Mi&65535,!(je+Kt<=Ye);){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}Le>>>=je,Ye-=je,te.back+=je}if(Le>>>=Kt,Ye-=Kt,te.back+=Kt,te.length=ke,Ve===0){te.mode=we;break}if(Ve&32){te.back=-1,te.mode=q;break}if(Ve&64){_e.msg="invalid literal/length code",te.mode=S;break}te.extra=Ve&15,te.mode=Fe;case Fe:if(te.extra){for(xe=te.extra;Ye<xe;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}te.length+=Le&(1<<te.extra)-1,Le>>>=te.extra,Ye-=te.extra,te.back+=te.extra}te.was=te.length,te.mode=De;case De:for(;Mi=te.distcode[Le&(1<<te.distbits)-1],Kt=Mi>>>24,Ve=Mi>>>16&255,ke=Mi&65535,!(Kt<=Ye);){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}if(!(Ve&240)){for(je=Kt,tt=Ve,rt=ke;Mi=te.distcode[rt+((Le&(1<<je+tt)-1)>>je)],Kt=Mi>>>24,Ve=Mi>>>16&255,ke=Mi&65535,!(je+Kt<=Ye);){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}Le>>>=je,Ye-=je,te.back+=je}if(Le>>>=Kt,Ye-=Kt,te.back+=Kt,Ve&64){_e.msg="invalid distance code",te.mode=S;break}te.offset=ke,te.extra=Ve&15,te.mode=Ge;case Ge:if(te.extra){for(xe=te.extra;Ye<xe;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}te.offset+=Le&(1<<te.extra)-1,Le>>>=te.extra,Ye-=te.extra,te.back+=te.extra}if(te.offset>te.dmax){_e.msg="invalid distance too far back",te.mode=S;break}te.mode=ve;case ve:if(ee===0)break e;if(ft=wt-ee,te.offset>ft){if(ft=te.offset-ft,ft>te.whave&&te.sane){_e.msg="invalid distance too far back",te.mode=S;break}ft>te.wnext?(ft-=te.wnext,Ft=te.wsize-ft):Ft=te.wnext-ft,ft>te.length&&(ft=te.length),Yt=te.window}else Yt=oe,Ft=le-te.offset,ft=te.length;ft>ee&&(ft=ee),ee-=ft,te.length-=ft;do oe[le++]=Yt[Ft++];while(--ft);te.length===0&&(te.mode=Me);break;case we:if(ee===0)break e;oe[le++]=te.length,ee--,te.mode=Me;break;case He:if(te.wrap){for(;Ye<32;){if(Te===0)break e;Te--,Le|=et[N++]<<Ye,Ye+=8}if(wt-=ee,_e.total_out+=wt,te.total+=wt,wt&&(_e.adler=te.check=te.flags?t(te.check,oe,wt,le-wt):e(te.check,oe,wt,le-wt)),wt=ee,(te.flags?Le:Ie(Le))!==te.check){_e.msg="incorrect data check",te.mode=S;break}Le=0,Ye=0}te.mode=Ke;case Ke:if(te.wrap&&te.flags){for(;Ye<32;){if(Te===0)break e;Te--,Le+=et[N++]<<Ye,Ye+=8}if(Le!==(te.total&4294967295)){_e.msg="incorrect length check",te.mode=S;break}Le=0,Ye=0}te.mode=Ze;case Ze:Ut=p;break e;case S:Ut=y;break e;case G:return g;case Q:default:return m}return _e.next_out=le,_e.avail_out=ee,_e.next_in=N,_e.avail_in=Te,te.hold=Le,te.bits=Ye,(te.wsize||wt!==_e.avail_out&&te.mode<S&&(te.mode<He||Re!==c))&&de(_e,_e.output,_e.next_out,wt-_e.avail_out),vt-=_e.avail_in,wt-=_e.avail_out,_e.total_in+=vt,_e.total_out+=wt,te.total+=wt,te.wrap&&wt&&(_e.adler=te.check=te.flags?t(te.check,oe,wt,_e.next_out-wt):e(te.check,oe,wt,_e.next_out-wt)),_e.data_type=te.bits+(te.last?64:0)+(te.mode===q?128:0)+(te.mode===ue||te.mode===H?256:0),(vt===0&&wt===0||Re===c)&&Ut===f&&(Ut=b),Ut}l(O,"inflate");function be(_e){if(!_e||!_e.state)return m;var Re=_e.state;return Re.window&&(Re.window=null),_e.state=null,f}l(be,"inflateEnd");function Ue(_e,Re){var te;return!_e||!_e.state||(te=_e.state,!(te.wrap&2))?m:(te.head=Re,Re.done=!1,f)}l(Ue,"inflateGetHeader");function We(_e,Re){var te=Re.length,et,oe,N;return!_e||!_e.state||(et=_e.state,et.wrap!==0&&et.mode!==U)?m:et.mode===U&&(oe=1,oe=e(oe,Re,te,0),oe!==et.check)?y:(N=de(_e,Re,te,te),N?(et.mode=G,g):(et.havedict=1,f))}return l(We,"inflateSetDictionary"),fs.inflateReset=nt,fs.inflateReset2=z,fs.inflateResetKeep=Xe,fs.inflateInit=Ae,fs.inflateInit2=B,fs.inflate=O,fs.inflateEnd=be,fs.inflateGetHeader=Ue,fs.inflateSetDictionary=We,fs.inflateInfo="pako inflate (from Nodeca project)",fs}function d2e(){return cH||(cH=!0,RP={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),RP}function p2e(){if(uH)return At;uH=!0;var i=yo.Buffer,e=Ti,t=Ht,n=s2e(),r=c2e(),a=f2e(),s=d2e();for(var o in s)At[o]=s[o];At.NONE=0,At.DEFLATE=1,At.INFLATE=2,At.GZIP=3,At.GUNZIP=4,At.DEFLATERAW=5,At.INFLATERAW=6,At.UNZIP=7;var c=31,u=139;function h(f){if(typeof f!="number"||f<At.DEFLATE||f>At.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=f,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}return l(h,"Zlib"),h.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,t(this.init_done,"close before init"),t(this.mode<=At.UNZIP),this.mode===At.DEFLATE||this.mode===At.GZIP||this.mode===At.DEFLATERAW?r.deflateEnd(this.strm):(this.mode===At.INFLATE||this.mode===At.GUNZIP||this.mode===At.INFLATERAW||this.mode===At.UNZIP)&&a.inflateEnd(this.strm),this.mode=At.NONE,this.dictionary=null},h.prototype.write=function(f,p,d,m,y,g,b){return this._write(!0,f,p,d,m,y,g,b)},h.prototype.writeSync=function(f,p,d,m,y,g,b){return this._write(!1,f,p,d,m,y,g,b)},h.prototype._write=function(f,p,d,m,y,g,b,x){if(t.equal(arguments.length,8),t(this.init_done,"write before init"),t(this.mode!==At.NONE,"already finalized"),t.equal(!1,this.write_in_progress,"write already in progress"),t.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,t.equal(!1,p===void 0,"must provide flush value"),this.write_in_progress=!0,p!==At.Z_NO_FLUSH&&p!==At.Z_PARTIAL_FLUSH&&p!==At.Z_SYNC_FLUSH&&p!==At.Z_FULL_FLUSH&&p!==At.Z_FINISH&&p!==At.Z_BLOCK)throw new Error("Invalid flush value");if(d==null&&(d=i.alloc(0),y=0,m=0),this.strm.avail_in=y,this.strm.input=d,this.strm.next_in=m,this.strm.avail_out=x,this.strm.output=g,this.strm.next_out=b,this.flush=p,!f)return this._process(),this._checkError()?this._afterSync():void 0;var w=this;return e.nextTick(function(){w._process(),w._after()}),this},h.prototype._afterSync=function(){var f=this.strm.avail_out,p=this.strm.avail_in;return this.write_in_progress=!1,[p,f]},h.prototype._process=function(){var f=null;switch(this.mode){case At.DEFLATE:case At.GZIP:case At.DEFLATERAW:this.err=r.deflate(this.strm,this.flush);break;case At.UNZIP:switch(this.strm.avail_in>0&&(f=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(f===null)break;if(this.strm.input[f]===c){if(this.gzip_id_bytes_read=1,f++,this.strm.avail_in===1)break}else{this.mode=At.INFLATE;break}case 1:if(f===null)break;this.strm.input[f]===u?(this.gzip_id_bytes_read=2,this.mode=At.GUNZIP):this.mode=At.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case At.INFLATE:case At.GUNZIP:case At.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===At.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===At.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===At.Z_DATA_ERROR&&(this.err=At.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===At.GUNZIP&&this.err===At.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},h.prototype._checkError=function(){switch(this.err){case At.Z_OK:case At.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===At.Z_FINISH)return this._error("unexpected end of file"),!1;break;case At.Z_STREAM_END:break;case At.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},h.prototype._after=function(){if(this._checkError()){var f=this.strm.avail_out,p=this.strm.avail_in;this.write_in_progress=!1,this.callback(p,f),this.pending_close&&this.close()}},h.prototype._error=function(f){this.strm.msg&&(f=this.strm.msg),this.onerror(f,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(f,p,d,m,y){t(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),t(f>=8&&f<=15,"invalid windowBits"),t(p>=-1&&p<=9,"invalid compression level"),t(d>=1&&d<=9,"invalid memlevel"),t(m===At.Z_FILTERED||m===At.Z_HUFFMAN_ONLY||m===At.Z_RLE||m===At.Z_FIXED||m===At.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(p,f,d,m,y),this._setDictionary()},h.prototype.params=function(){throw new Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(f,p,d,m,y){switch(this.level=f,this.windowBits=p,this.memLevel=d,this.strategy=m,this.flush=At.Z_NO_FLUSH,this.err=At.Z_OK,(this.mode===At.GZIP||this.mode===At.GUNZIP)&&(this.windowBits+=16),this.mode===At.UNZIP&&(this.windowBits+=32),(this.mode===At.DEFLATERAW||this.mode===At.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new n,this.mode){case At.DEFLATE:case At.GZIP:case At.DEFLATERAW:this.err=r.deflateInit2(this.strm,this.level,At.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case At.INFLATE:case At.GUNZIP:case At.INFLATERAW:case At.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==At.Z_OK&&this._error("Init error"),this.dictionary=y,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=At.Z_OK,this.mode){case At.DEFLATE:case At.DEFLATERAW:this.err=r.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==At.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=At.Z_OK,this.mode){case At.DEFLATE:case At.DEFLATERAW:case At.GZIP:this.err=r.deflateReset(this.strm);break;case At.INFLATE:case At.INFLATERAW:case At.GUNZIP:this.err=a.inflateReset(this.strm);break}this.err!==At.Z_OK&&this._error("Failed to reset stream")},At.Zlib=h,At}function m2e(){if(hH)return qt;hH=!0;var i=Ti,e=yo.Buffer,t=ra.Transform,n=p2e(),r=ct,a=Ht.ok,s=yo.kMaxLength,o="Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes";n.Z_MIN_WINDOWBITS=8,n.Z_MAX_WINDOWBITS=15,n.Z_DEFAULT_WINDOWBITS=15,n.Z_MIN_CHUNK=64,n.Z_MAX_CHUNK=1/0,n.Z_DEFAULT_CHUNK=16*1024,n.Z_MIN_MEMLEVEL=1,n.Z_MAX_MEMLEVEL=9,n.Z_DEFAULT_MEMLEVEL=8,n.Z_MIN_LEVEL=-1,n.Z_MAX_LEVEL=9,n.Z_DEFAULT_LEVEL=n.Z_DEFAULT_COMPRESSION;for(var c=Object.keys(n),u=0;u<c.length;u++){var h=c[u];h.match(/^Z/)&&Object.defineProperty(qt,h,{enumerable:!0,value:n[h],writable:!1})}for(var f={Z_OK:n.Z_OK,Z_STREAM_END:n.Z_STREAM_END,Z_NEED_DICT:n.Z_NEED_DICT,Z_ERRNO:n.Z_ERRNO,Z_STREAM_ERROR:n.Z_STREAM_ERROR,Z_DATA_ERROR:n.Z_DATA_ERROR,Z_MEM_ERROR:n.Z_MEM_ERROR,Z_BUF_ERROR:n.Z_BUF_ERROR,Z_VERSION_ERROR:n.Z_VERSION_ERROR},p=Object.keys(f),d=0;d<p.length;d++){var m=p[d];f[f[m]]=m}Object.defineProperty(qt,"codes",{enumerable:!0,value:Object.freeze(f),writable:!1}),qt.Deflate=b,qt.Inflate=x,qt.Gzip=w,qt.Gunzip=E,qt.DeflateRaw=M,qt.InflateRaw=C,qt.Unzip=I,qt.createDeflate=function(R){return new b(R)},qt.createInflate=function(R){return new x(R)},qt.createDeflateRaw=function(R){return new M(R)},qt.createInflateRaw=function(R){return new C(R)},qt.createGzip=function(R){return new w(R)},qt.createGunzip=function(R){return new E(R)},qt.createUnzip=function(R){return new I(R)},qt.deflate=function(R,U,q){return typeof U=="function"&&(q=U,U={}),y(new b(U),R,q)},qt.deflateSync=function(R,U){return g(new b(U),R)},qt.gzip=function(R,U,q){return typeof U=="function"&&(q=U,U={}),y(new w(U),R,q)},qt.gzipSync=function(R,U){return g(new w(U),R)},qt.deflateRaw=function(R,U,q){return typeof U=="function"&&(q=U,U={}),y(new M(U),R,q)},qt.deflateRawSync=function(R,U){return g(new M(U),R)},qt.unzip=function(R,U,q){return typeof U=="function"&&(q=U,U={}),y(new I(U),R,q)},qt.unzipSync=function(R,U){return g(new I(U),R)},qt.inflate=function(R,U,q){return typeof U=="function"&&(q=U,U={}),y(new x(U),R,q)},qt.inflateSync=function(R,U){return g(new x(U),R)},qt.gunzip=function(R,U,q){return typeof U=="function"&&(q=U,U={}),y(new E(U),R,q)},qt.gunzipSync=function(R,U){return g(new E(U),R)},qt.inflateRaw=function(R,U,q){return typeof U=="function"&&(q=U,U={}),y(new C(U),R,q)},qt.inflateRawSync=function(R,U){return g(new C(U),R)};function y(R,U,q){var X=[],fe=0;R.on("error",Y),R.on("end",$),R.end(U),H();function H(){for(var Z;(Z=R.read())!==null;)X.push(Z),fe+=Z.length;R.once("readable",H)}l(H,"flow");function Y(Z){R.removeListener("end",$),R.removeListener("readable",H),q(Z)}l(Y,"onError");function $(){var Z,ie=null;fe>=s?ie=new RangeError(o):Z=e.concat(X,fe),X=[],R.close(),q(ie,Z)}l($,"onEnd")}l(y,"zlibBuffer");function g(R,U){if(typeof U=="string"&&(U=e.from(U)),!e.isBuffer(U))throw new TypeError("Not a string or buffer");var q=R._finishFlushFlag;return R._processChunk(U,q)}l(g,"zlibBufferSync");function b(R){if(!(this instanceof b))return new b(R);A.call(this,R,n.DEFLATE)}l(b,"Deflate");function x(R){if(!(this instanceof x))return new x(R);A.call(this,R,n.INFLATE)}l(x,"Inflate");function w(R){if(!(this instanceof w))return new w(R);A.call(this,R,n.GZIP)}l(w,"Gzip");function E(R){if(!(this instanceof E))return new E(R);A.call(this,R,n.GUNZIP)}l(E,"Gunzip");function M(R){if(!(this instanceof M))return new M(R);A.call(this,R,n.DEFLATERAW)}l(M,"DeflateRaw");function C(R){if(!(this instanceof C))return new C(R);A.call(this,R,n.INFLATERAW)}l(C,"InflateRaw");function I(R){if(!(this instanceof I))return new I(R);A.call(this,R,n.UNZIP)}l(I,"Unzip");function F(R){return R===n.Z_NO_FLUSH||R===n.Z_PARTIAL_FLUSH||R===n.Z_SYNC_FLUSH||R===n.Z_FULL_FLUSH||R===n.Z_FINISH||R===n.Z_BLOCK}l(F,"isValidFlushFlag");function A(R,U){var q=this;if(this._opts=R=R||{},this._chunkSize=R.chunkSize||qt.Z_DEFAULT_CHUNK,t.call(this,R),R.flush&&!F(R.flush))throw new Error("Invalid flush flag: "+R.flush);if(R.finishFlush&&!F(R.finishFlush))throw new Error("Invalid flush flag: "+R.finishFlush);if(this._flushFlag=R.flush||n.Z_NO_FLUSH,this._finishFlushFlag=typeof R.finishFlush<"u"?R.finishFlush:n.Z_FINISH,R.chunkSize&&(R.chunkSize<qt.Z_MIN_CHUNK||R.chunkSize>qt.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+R.chunkSize);if(R.windowBits&&(R.windowBits<qt.Z_MIN_WINDOWBITS||R.windowBits>qt.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+R.windowBits);if(R.level&&(R.level<qt.Z_MIN_LEVEL||R.level>qt.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+R.level);if(R.memLevel&&(R.memLevel<qt.Z_MIN_MEMLEVEL||R.memLevel>qt.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+R.memLevel);if(R.strategy&&R.strategy!=qt.Z_FILTERED&&R.strategy!=qt.Z_HUFFMAN_ONLY&&R.strategy!=qt.Z_RLE&&R.strategy!=qt.Z_FIXED&&R.strategy!=qt.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+R.strategy);if(R.dictionary&&!e.isBuffer(R.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new n.Zlib(U);var X=this;this._hadError=!1,this._handle.onerror=function(Y,$){T(X),X._hadError=!0;var Z=new Error(Y);Z.errno=$,Z.code=qt.codes[$],X.emit("error",Z)};var fe=qt.Z_DEFAULT_COMPRESSION;typeof R.level=="number"&&(fe=R.level);var H=qt.Z_DEFAULT_STRATEGY;typeof R.strategy=="number"&&(H=R.strategy),this._handle.init(R.windowBits||qt.Z_DEFAULT_WINDOWBITS,fe,R.memLevel||qt.Z_DEFAULT_MEMLEVEL,H,R.dictionary),this._buffer=e.allocUnsafe(this._chunkSize),this._offset=0,this._level=fe,this._strategy=H,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!q._handle},configurable:!0,enumerable:!0})}l(A,"Zlib"),r.inherits(A,t),A.prototype.params=function(R,U,q){if(R<qt.Z_MIN_LEVEL||R>qt.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+R);if(U!=qt.Z_FILTERED&&U!=qt.Z_HUFFMAN_ONLY&&U!=qt.Z_RLE&&U!=qt.Z_FIXED&&U!=qt.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+U);if(this._level!==R||this._strategy!==U){var X=this;this.flush(n.Z_SYNC_FLUSH,function(){a(X._handle,"zlib binding closed"),X._handle.params(R,U),X._hadError||(X._level=R,X._strategy=U,q&&q())})}else i.nextTick(q)},A.prototype.reset=function(){return a(this._handle,"zlib binding closed"),this._handle.reset()},A.prototype._flush=function(R){this._transform(e.alloc(0),"",R)},A.prototype.flush=function(R,U){var q=this,X=this._writableState;(typeof R=="function"||R===void 0&&!U)&&(U=R,R=n.Z_FULL_FLUSH),X.ended?U&&i.nextTick(U):X.ending?U&&this.once("end",U):X.needDrain?U&&this.once("drain",function(){return q.flush(R,U)}):(this._flushFlag=R,this.write(e.alloc(0),"",U))},A.prototype.close=function(R){T(this,R),i.nextTick(j,this)};function T(R,U){U&&i.nextTick(U),R._handle&&(R._handle.close(),R._handle=null)}l(T,"_close");function j(R){R.emit("close")}return l(j,"emitCloseNT"),A.prototype._transform=function(R,U,q){var X,fe=this._writableState,H=fe.ending||fe.ended,Y=H&&(!R||fe.length===R.length);if(R!==null&&!e.isBuffer(R))return q(new Error("invalid input"));if(!this._handle)return q(new Error("zlib binding closed"));Y?X=this._finishFlushFlag:(X=this._flushFlag,R.length>=fe.length&&(this._flushFlag=this._opts.flush||n.Z_NO_FLUSH)),this._processChunk(R,X,q)},A.prototype._processChunk=function(R,U,q){var X=R&&R.length,fe=this._chunkSize-this._offset,H=0,Y=this,$=typeof q=="function";if(!$){var Z=[],ie=0,ue;this.on("error",function(ve){ue=ve}),a(this._handle,"zlib binding closed");do var Me=this._handle.writeSync(U,R,H,X,this._buffer,this._offset,fe);while(!this._hadError&&Ge(Me[0],Me[1]));if(this._hadError)throw ue;if(ie>=s)throw T(this),new RangeError(o);var Fe=e.concat(Z,ie);return T(this),Fe}a(this._handle,"zlib binding closed");var De=this._handle.write(U,R,H,X,this._buffer,this._offset,fe);De.buffer=R,De.callback=Ge;function Ge(ve,we){if(this&&(this.buffer=null,this.callback=null),!Y._hadError){var He=fe-we;if(a(He>=0,"have should not go down"),He>0){var Ke=Y._buffer.slice(Y._offset,Y._offset+He);Y._offset+=He,$?Y.push(Ke):(Z.push(Ke),ie+=Ke.length)}if((we===0||Y._offset>=Y._chunkSize)&&(fe=Y._chunkSize,Y._offset=0,Y._buffer=e.allocUnsafe(Y._chunkSize)),we===0){if(H+=X-ve,X=ve,!$)return!0;var Ze=Y._handle.write(U,R,H,X,Y._buffer,Y._offset,Y._chunkSize);Ze.callback=Ge,Ze.buffer=R;return}if(!$)return!1;q()}}l(Ge,"callback")},r.inherits(b,A),r.inherits(x,A),r.inherits(w,A),r.inherits(E,A),r.inherits(M,A),r.inherits(C,A),r.inherits(I,A),qt}var SP,Qq,Mr,eH,of,tH,EP,iH,MP,nH,AP,rH,Fs,aH,TP,sH,kP,oH,fs,lH,RP,cH,At,uH,qt,hH,xt,_2e,g2e,b2e,y2e,v2e,w2e,x2e,S2e,E2e,M2e,A2e,T2e,k2e,R2e,P2e,I2e,C2e,L2e,N2e,O2e,B2e,F2e,U2e,z2e,D2e,V2e,q2e,H2e,G2e,W2e,j2e,$2e,X2e,Y2e,Z2e,J2e,K2e,Q2e,exe,txe,ixe,nxe,rxe,axe,sxe,oxe,lxe,cxe,uxe,hxe,fxe,dxe,pxe,mxe,_xe,gxe,bxe,yxe,vxe,wxe,xxe,Sxe,Exe,Mxe,Axe,Txe,kxe,Rxe,Pxe,IP=Gt(()=>{ne();ae();re();dx();sq();Ax();np();yg();mx();Yc();Wh();_g();$h();cx();px();SP={},Qq=!1;l(s2e,"dew$c");Mr={},eH=!1;l(Tx,"dew$b");of={},tH=!1;l(o2e,"dew$a");EP={},iH=!1;l(fH,"dew$9");MP={},nH=!1;l(dH,"dew$8");AP={},rH=!1;l(l2e,"dew$7");Fs={},aH=!1;l(c2e,"dew$6");TP={},sH=!1;l(u2e,"dew$5");kP={},oH=!1;l(h2e,"dew$4");fs={},lH=!1;l(f2e,"dew$3");RP={},cH=!1;l(d2e,"dew$2");At={},uH=!1;l(p2e,"dew$1");qt={},hH=!1;l(m2e,"dew");xt=m2e();xt.codes;xt.Deflate;xt.Inflate;xt.Gzip;xt.Gunzip;xt.DeflateRaw;xt.InflateRaw;xt.Unzip;xt.createDeflate;xt.createInflate;xt.createDeflateRaw;xt.createInflateRaw;xt.createGzip;xt.createGunzip;xt.createUnzip;xt.deflate;xt.deflateSync;xt.gzip;xt.gzipSync;xt.deflateRaw;xt.deflateRawSync;xt.unzip;xt.unzipSync;xt.inflate;xt.inflateSync;xt.gunzip;xt.gunzipSync;xt.inflateRaw;xt.inflateRawSync;_2e=xt.Deflate,g2e=xt.DeflateRaw,b2e=xt.Gunzip,y2e=xt.Gzip,v2e=xt.Inflate,w2e=xt.InflateRaw,x2e=xt.Unzip,S2e=xt.Z_BEST_COMPRESSION,E2e=xt.Z_BEST_SPEED,M2e=xt.Z_BINARY,A2e=xt.Z_BLOCK,T2e=xt.Z_BUF_ERROR,k2e=xt.Z_DATA_ERROR,R2e=xt.Z_DEFAULT_CHUNK,P2e=xt.Z_DEFAULT_COMPRESSION,I2e=xt.Z_DEFAULT_LEVEL,C2e=xt.Z_DEFAULT_MEMLEVEL,L2e=xt.Z_DEFAULT_STRATEGY,N2e=xt.Z_DEFAULT_WINDOWBITS,O2e=xt.Z_DEFLATED,B2e=xt.Z_ERRNO,F2e=xt.Z_FILTERED,U2e=xt.Z_FINISH,z2e=xt.Z_FIXED,D2e=xt.Z_FULL_FLUSH,V2e=xt.Z_HUFFMAN_ONLY,q2e=xt.Z_MAX_CHUNK,H2e=xt.Z_MAX_LEVEL,G2e=xt.Z_MAX_MEMLEVEL,W2e=xt.Z_MAX_WINDOWBITS,j2e=xt.Z_MIN_CHUNK,$2e=xt.Z_MIN_LEVEL,X2e=xt.Z_MIN_MEMLEVEL,Y2e=xt.Z_MIN_WINDOWBITS,Z2e=xt.Z_NEED_DICT,J2e=xt.Z_NO_COMPRESSION,K2e=xt.Z_NO_FLUSH,Q2e=xt.Z_OK,exe=xt.Z_PARTIAL_FLUSH,txe=xt.Z_RLE,ixe=xt.Z_STREAM_END,nxe=xt.Z_STREAM_ERROR,rxe=xt.Z_SYNC_FLUSH,axe=xt.Z_TEXT,sxe=xt.Z_TREES,oxe=xt.Z_UNKNOWN,lxe=xt.Zlib,cxe=xt.codes,uxe=xt.createDeflate,hxe=xt.createDeflateRaw,fxe=xt.createGunzip,dxe=xt.createGzip,pxe=xt.createInflate,mxe=xt.createInflateRaw,_xe=xt.createUnzip,gxe=xt.deflate,bxe=xt.deflateRaw,yxe=xt.deflateRawSync,vxe=xt.deflateSync,wxe=xt.gunzip,xxe=xt.gunzipSync,Sxe=xt.gzip,Exe=xt.gzipSync,Mxe=xt.inflate,Axe=xt.inflateRaw,Txe=xt.inflateRawSync,kxe=xt.inflateSync,Rxe=xt.unzip,Pxe=xt.unzipSync});var Rl=qe((GNe,gH)=>{ne();ae();re();function pH(i,e){let t=i.split("/"),n=0;if(t[n]===""){for(;e[".."]!==void 0;)e=e[".."];n++}for(;n<t.length;n++)e=e[t[n]];return e}l(pH,"getField");function kx(i){if(typeof i=="string")return{type:i};if(Array.isArray(i))return{type:i[0],typeArgs:i[1]};if(typeof i.type=="string")return i;throw new Error("Not a fieldinfo")}l(kx,"getFieldInfo");function Ixe(i,e,{count:t,countType:n},r){let a=0,s=0;return typeof t=="number"?a=t:typeof t<"u"?a=pH(t,r):typeof n<"u"?{size:s,value:a}=NP(()=>this.read(i,e,kx(n),r),"$count"):a=0,{count:a,size:s}}l(Ixe,"getCount");function Cxe(i,e,t,{count:n,countType:r},a){return typeof n<"u"&&i!==n||typeof r<"u"&&(t=this.write(i,e,t,kx(r),a)),t}l(Cxe,"sendCount");function Lxe(i,{count:e,countType:t},n){return typeof e>"u"&&typeof t<"u"?NP(()=>this.sizeOf(i,kx(t),n),"$count"):0}l(Lxe,"calcCount");function mH(i,e){throw i.field=i.field?e+"."+i.field:e,i}l(mH,"addErrorField");function _H(i,e){try{return i()}catch(t){e(t)}}l(_H,"tryCatch");function NP(i,e){return _H(i,t=>mH(t,e))}l(NP,"tryDoc");var CP=class extends Error{static{l(this,"ExtendableError")}constructor(e){super(e),this.name=this.constructor.name,this.message=e,Error.captureStackTrace!=null&&Error.captureStackTrace(this,this.constructor.name)}},LP=class extends CP{static{l(this,"PartialReadError")}constructor(e){super(e),this.partialReadError=!0}};gH.exports={getField:pH,getFieldInfo:kx,addErrorField:mH,getCount:Ixe,sendCount:Cxe,calcCount:Lxe,tryCatch:_H,tryDoc:NP,PartialReadError:LP}});var ZH=qe((Mg,tm)=>{ne();ae();re();var Nxe=200,Oxe="Expected a function",GP="__lodash_hash_undefined__",Bx=1,im=2,TH=1/0,kH=9007199254740991,Rx="[object Arguments]",FP="[object Array]",RH="[object Boolean]",PH="[object Date]",IH="[object Error]",CH="[object Function]",Bxe="[object GeneratorFunction]",Px="[object Map]",LH="[object Number]",em="[object Object]",bH="[object Promise]",NH="[object RegExp]",Ix="[object Set]",OH="[object String]",BH="[object Symbol]",UP="[object WeakMap]",FH="[object ArrayBuffer]",Cx="[object DataView]",Fxe="[object Float32Array]",Uxe="[object Float64Array]",zxe="[object Int8Array]",Dxe="[object Int16Array]",Vxe="[object Int32Array]",qxe="[object Uint8Array]",Hxe="[object Uint8ClampedArray]",Gxe="[object Uint16Array]",Wxe="[object Uint32Array]",jxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$xe=/^\w*$/,Xxe=/^\./,Yxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zxe=/[\\^$.*+?()[\]{}|]/g,Jxe=/\\(\\)?/g,Kxe=/^\[object .+?Constructor\]$/,Qxe=/^(?:0|[1-9]\d*)$/,en={};en[Fxe]=en[Uxe]=en[zxe]=en[Dxe]=en[Vxe]=en[qxe]=en[Hxe]=en[Gxe]=en[Wxe]=!0;en[Rx]=en[FP]=en[FH]=en[RH]=en[Cx]=en[PH]=en[IH]=en[CH]=en[Px]=en[LH]=en[em]=en[NH]=en[Ix]=en[OH]=en[UP]=!1;var UH=typeof global=="object"&&global&&global.Object===Object&&global,eSe=typeof self=="object"&&self&&self.Object===Object&&self,Kc=UH||eSe||Function("return this")(),zH=typeof Mg=="object"&&Mg&&!Mg.nodeType&&Mg,yH=zH&&typeof tm=="object"&&tm&&!tm.nodeType&&tm,tSe=yH&&yH.exports===zH,vH=tSe&&UH.process,wH=function(){try{return vH&&vH.binding("util")}catch{}}(),xH=wH&&wH.isTypedArray;function iSe(i,e,t,n){var r=-1,a=i?i.length:0;for(n&&a&&(t=i[++r]);++r<a;)t=e(t,i[r],r,i);return t}l(iSe,"arrayReduce");function nSe(i,e){for(var t=-1,n=i?i.length:0;++t<n;)if(e(i[t],t,i))return!0;return!1}l(nSe,"arraySome");function rSe(i){return function(e){return e?.[i]}}l(rSe,"baseProperty");function aSe(i,e,t,n,r){return r(i,function(a,s,o){t=n?(n=!1,a):e(t,a,s,o)}),t}l(aSe,"baseReduce");function sSe(i,e){for(var t=-1,n=Array(i);++t<i;)n[t]=e(t);return n}l(sSe,"baseTimes");function oSe(i){return function(e){return i(e)}}l(oSe,"baseUnary");function lSe(i,e){return i?.[e]}l(lSe,"getValue");function zP(i){var e=!1;if(i!=null&&typeof i.toString!="function")try{e=!!(i+"")}catch{}return e}l(zP,"isHostObject");function cSe(i){var e=-1,t=Array(i.size);return i.forEach(function(n,r){t[++e]=[r,n]}),t}l(cSe,"mapToArray");function uSe(i,e){return function(t){return i(e(t))}}l(uSe,"overArg");function hSe(i){var e=-1,t=Array(i.size);return i.forEach(function(n){t[++e]=n}),t}l(hSe,"setToArray");var fSe=Array.prototype,dSe=Function.prototype,Fx=Object.prototype,OP=Kc["__core-js_shared__"],SH=function(){var i=/[^.]+$/.exec(OP&&OP.keys&&OP.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),DH=dSe.toString,Il=Fx.hasOwnProperty,nm=Fx.toString,pSe=RegExp("^"+DH.call(Il).replace(Zxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),EH=Kc.Symbol,MH=Kc.Uint8Array,mSe=Fx.propertyIsEnumerable,_Se=fSe.splice,gSe=uSe(Object.keys,Object),DP=rm(Kc,"DataView"),Ag=rm(Kc,"Map"),VP=rm(Kc,"Promise"),qP=rm(Kc,"Set"),HP=rm(Kc,"WeakMap"),Tg=rm(Object,"create"),bSe=cf(DP),ySe=cf(Ag),vSe=cf(VP),wSe=cf(qP),xSe=cf(HP),Lx=EH?EH.prototype:void 0,BP=Lx?Lx.valueOf:void 0,AH=Lx?Lx.toString:void 0;function lf(i){var e=-1,t=i?i.length:0;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}l(lf,"Hash");function SSe(){this.__data__=Tg?Tg(null):{}}l(SSe,"hashClear");function ESe(i){return this.has(i)&&delete this.__data__[i]}l(ESe,"hashDelete");function MSe(i){var e=this.__data__;if(Tg){var t=e[i];return t===GP?void 0:t}return Il.call(e,i)?e[i]:void 0}l(MSe,"hashGet");function ASe(i){var e=this.__data__;return Tg?e[i]!==void 0:Il.call(e,i)}l(ASe,"hashHas");function TSe(i,e){var t=this.__data__;return t[i]=Tg&&e===void 0?GP:e,this}l(TSe,"hashSet");lf.prototype.clear=SSe;lf.prototype.delete=ESe;lf.prototype.get=MSe;lf.prototype.has=ASe;lf.prototype.set=TSe;function Cl(i){var e=-1,t=i?i.length:0;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}l(Cl,"ListCache");function kSe(){this.__data__=[]}l(kSe,"listCacheClear");function RSe(i){var e=this.__data__,t=Ux(e,i);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():_Se.call(e,t,1),!0}l(RSe,"listCacheDelete");function PSe(i){var e=this.__data__,t=Ux(e,i);return t<0?void 0:e[t][1]}l(PSe,"listCacheGet");function ISe(i){return Ux(this.__data__,i)>-1}l(ISe,"listCacheHas");function CSe(i,e){var t=this.__data__,n=Ux(t,i);return n<0?t.push([i,e]):t[n][1]=e,this}l(CSe,"listCacheSet");Cl.prototype.clear=kSe;Cl.prototype.delete=RSe;Cl.prototype.get=PSe;Cl.prototype.has=ISe;Cl.prototype.set=CSe;function Ll(i){var e=-1,t=i?i.length:0;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}l(Ll,"MapCache");function LSe(){this.__data__={hash:new lf,map:new(Ag||Cl),string:new lf}}l(LSe,"mapCacheClear");function NSe(i){return zx(this,i).delete(i)}l(NSe,"mapCacheDelete");function OSe(i){return zx(this,i).get(i)}l(OSe,"mapCacheGet");function BSe(i){return zx(this,i).has(i)}l(BSe,"mapCacheHas");function FSe(i,e){return zx(this,i).set(i,e),this}l(FSe,"mapCacheSet");Ll.prototype.clear=LSe;Ll.prototype.delete=NSe;Ll.prototype.get=OSe;Ll.prototype.has=BSe;Ll.prototype.set=FSe;function Nx(i){var e=-1,t=i?i.length:0;for(this.__data__=new Ll;++e<t;)this.add(i[e])}l(Nx,"SetCache");function USe(i){return this.__data__.set(i,GP),this}l(USe,"setCacheAdd");function zSe(i){return this.__data__.has(i)}l(zSe,"setCacheHas");Nx.prototype.add=Nx.prototype.push=USe;Nx.prototype.has=zSe;function Pl(i){this.__data__=new Cl(i)}l(Pl,"Stack");function DSe(){this.__data__=new Cl}l(DSe,"stackClear");function VSe(i){return this.__data__.delete(i)}l(VSe,"stackDelete");function qSe(i){return this.__data__.get(i)}l(qSe,"stackGet");function HSe(i){return this.__data__.has(i)}l(HSe,"stackHas");function GSe(i,e){var t=this.__data__;if(t instanceof Cl){var n=t.__data__;if(!Ag||n.length<Nxe-1)return n.push([i,e]),this;t=this.__data__=new Ll(n)}return t.set(i,e),this}l(GSe,"stackSet");Pl.prototype.clear=DSe;Pl.prototype.delete=VSe;Pl.prototype.get=qSe;Pl.prototype.has=HSe;Pl.prototype.set=GSe;function WSe(i,e){var t=Jc(i)||XH(i)?sSe(i.length,String):[],n=t.length,r=!!n;for(var a in i)(e||Il.call(i,a))&&!(r&&(a=="length"||GH(a,n)))&&t.push(a);return t}l(WSe,"arrayLikeKeys");function Ux(i,e){for(var t=i.length;t--;)if($H(i[t][0],e))return t;return-1}l(Ux,"assocIndexOf");var jSe=oEe(XSe),$Se=lEe();function XSe(i,e){return i&&$Se(i,e,Ox)}l(XSe,"baseForOwn");function VH(i,e){e=Dx(e,i)?[e]:qH(e);for(var t=0,n=e.length;i!=null&&t<n;)i=i[Vx(e[t++])];return t&&t==n?i:void 0}l(VH,"baseGet");function YSe(i){return nm.call(i)}l(YSe,"baseGetTag");function ZSe(i,e){return i!=null&&e in Object(i)}l(ZSe,"baseHasIn");function WP(i,e,t,n,r){return i===e?!0:i==null||e==null||!qx(i)&&!Hx(e)?i!==i&&e!==e:JSe(i,e,WP,t,n,r)}l(WP,"baseIsEqual");function JSe(i,e,t,n,r,a){var s=Jc(i),o=Jc(e),c=FP,u=FP;s||(c=Zc(i),c=c==Rx?em:c),o||(u=Zc(e),u=u==Rx?em:u);var h=c==em&&!zP(i),f=u==em&&!zP(e),p=c==u;if(p&&!h)return a||(a=new Pl),s||yEe(i)?HH(i,e,t,n,r,a):cEe(i,e,c,t,n,r,a);if(!(r&im)){var d=h&&Il.call(i,"__wrapped__"),m=f&&Il.call(e,"__wrapped__");if(d||m){var y=d?i.value():i,g=m?e.value():e;return a||(a=new Pl),t(y,g,n,r,a)}}return p?(a||(a=new Pl),uEe(i,e,t,n,r,a)):!1}l(JSe,"baseIsEqualDeep");function KSe(i,e,t,n){var r=t.length,a=r,s=!n;if(i==null)return!a;for(i=Object(i);r--;){var o=t[r];if(s&&o[2]?o[1]!==i[o[0]]:!(o[0]in i))return!1}for(;++r<a;){o=t[r];var c=o[0],u=i[c],h=o[1];if(s&&o[2]){if(u===void 0&&!(c in i))return!1}else{var f=new Pl;if(n)var p=n(u,h,c,i,e,f);if(!(p===void 0?WP(h,u,n,Bx|im,f):p))return!1}}return!0}l(KSe,"baseIsMatch");function QSe(i){if(!qx(i)||pEe(i))return!1;var e=YH(i)||zP(i)?pSe:Kxe;return e.test(cf(i))}l(QSe,"baseIsNative");function eEe(i){return Hx(i)&&XP(i.length)&&!!en[nm.call(i)]}l(eEe,"baseIsTypedArray");function tEe(i){return typeof i=="function"?i:i==null?SEe:typeof i=="object"?Jc(i)?rEe(i[0],i[1]):nEe(i):EEe(i)}l(tEe,"baseIteratee");function iEe(i){if(!mEe(i))return gSe(i);var e=[];for(var t in Object(i))Il.call(i,t)&&t!="constructor"&&e.push(t);return e}l(iEe,"baseKeys");function nEe(i){var e=hEe(i);return e.length==1&&e[0][2]?jH(e[0][0],e[0][1]):function(t){return t===i||KSe(t,i,e)}}l(nEe,"baseMatches");function rEe(i,e){return Dx(i)&&WH(e)?jH(Vx(i),e):function(t){var n=wEe(t,i);return n===void 0&&n===e?xEe(t,i):WP(e,n,void 0,Bx|im)}}l(rEe,"baseMatchesProperty");function aEe(i){return function(e){return VH(e,i)}}l(aEe,"basePropertyDeep");function sEe(i){if(typeof i=="string")return i;if(YP(i))return AH?AH.call(i):"";var e=i+"";return e=="0"&&1/i==-TH?"-0":e}l(sEe,"baseToString");function qH(i){return Jc(i)?i:_Ee(i)}l(qH,"castPath");function oEe(i,e){return function(t,n){if(t==null)return t;if(!$P(t))return i(t,n);for(var r=t.length,a=e?r:-1,s=Object(t);(e?a--:++a<r)&&n(s[a],a,s)!==!1;);return t}}l(oEe,"createBaseEach");function lEe(i){return function(e,t,n){for(var r=-1,a=Object(e),s=n(e),o=s.length;o--;){var c=s[i?o:++r];if(t(a[c],c,a)===!1)break}return e}}l(lEe,"createBaseFor");function HH(i,e,t,n,r,a){var s=r&im,o=i.length,c=e.length;if(o!=c&&!(s&&c>o))return!1;var u=a.get(i);if(u&&a.get(e))return u==e;var h=-1,f=!0,p=r&Bx?new Nx:void 0;for(a.set(i,e),a.set(e,i);++h<o;){var d=i[h],m=e[h];if(n)var y=s?n(m,d,h,e,i,a):n(d,m,h,i,e,a);if(y!==void 0){if(y)continue;f=!1;break}if(p){if(!nSe(e,function(g,b){if(!p.has(b)&&(d===g||t(d,g,n,r,a)))return p.add(b)})){f=!1;break}}else if(!(d===m||t(d,m,n,r,a))){f=!1;break}}return a.delete(i),a.delete(e),f}l(HH,"equalArrays");function cEe(i,e,t,n,r,a,s){switch(t){case Cx:if(i.byteLength!=e.byteLength||i.byteOffset!=e.byteOffset)return!1;i=i.buffer,e=e.buffer;case FH:return!(i.byteLength!=e.byteLength||!n(new MH(i),new MH(e)));case RH:case PH:case LH:return $H(+i,+e);case IH:return i.name==e.name&&i.message==e.message;case NH:case OH:return i==e+"";case Px:var o=cSe;case Ix:var c=a&im;if(o||(o=hSe),i.size!=e.size&&!c)return!1;var u=s.get(i);if(u)return u==e;a|=Bx,s.set(i,e);var h=HH(o(i),o(e),n,r,a,s);return s.delete(i),h;case BH:if(BP)return BP.call(i)==BP.call(e)}return!1}l(cEe,"equalByTag");function uEe(i,e,t,n,r,a){var s=r&im,o=Ox(i),c=o.length,u=Ox(e),h=u.length;if(c!=h&&!s)return!1;for(var f=c;f--;){var p=o[f];if(!(s?p in e:Il.call(e,p)))return!1}var d=a.get(i);if(d&&a.get(e))return d==e;var m=!0;a.set(i,e),a.set(e,i);for(var y=s;++f<c;){p=o[f];var g=i[p],b=e[p];if(n)var x=s?n(b,g,p,e,i,a):n(g,b,p,i,e,a);if(!(x===void 0?g===b||t(g,b,n,r,a):x)){m=!1;break}y||(y=p=="constructor")}if(m&&!y){var w=i.constructor,E=e.constructor;w!=E&&"constructor"in i&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof E=="function"&&E instanceof E)&&(m=!1)}return a.delete(i),a.delete(e),m}l(uEe,"equalObjects");function zx(i,e){var t=i.__data__;return dEe(e)?t[typeof e=="string"?"string":"hash"]:t.map}l(zx,"getMapData");function hEe(i){for(var e=Ox(i),t=e.length;t--;){var n=e[t],r=i[n];e[t]=[n,r,WH(r)]}return e}l(hEe,"getMatchData");function rm(i,e){var t=lSe(i,e);return QSe(t)?t:void 0}l(rm,"getNative");var Zc=YSe;(DP&&Zc(new DP(new ArrayBuffer(1)))!=Cx||Ag&&Zc(new Ag)!=Px||VP&&Zc(VP.resolve())!=bH||qP&&Zc(new qP)!=Ix||HP&&Zc(new HP)!=UP)&&(Zc=l(function(i){var e=nm.call(i),t=e==em?i.constructor:void 0,n=t?cf(t):void 0;if(n)switch(n){case bSe:return Cx;case ySe:return Px;case vSe:return bH;case wSe:return Ix;case xSe:return UP}return e},"getTag"));function fEe(i,e,t){e=Dx(e,i)?[e]:qH(e);for(var n,r=-1,s=e.length;++r<s;){var a=Vx(e[r]);if(!(n=i!=null&&t(i,a)))break;i=i[a]}if(n)return n;var s=i?i.length:0;return!!s&&XP(s)&&GH(a,s)&&(Jc(i)||XH(i))}l(fEe,"hasPath");function GH(i,e){return e=e??kH,!!e&&(typeof i=="number"||Qxe.test(i))&&i>-1&&i%1==0&&i<e}l(GH,"isIndex");function Dx(i,e){if(Jc(i))return!1;var t=typeof i;return t=="number"||t=="symbol"||t=="boolean"||i==null||YP(i)?!0:$xe.test(i)||!jxe.test(i)||e!=null&&i in Object(e)}l(Dx,"isKey");function dEe(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}l(dEe,"isKeyable");function pEe(i){return!!SH&&SH in i}l(pEe,"isMasked");function mEe(i){var e=i&&i.constructor,t=typeof e=="function"&&e.prototype||Fx;return i===t}l(mEe,"isPrototype");function WH(i){return i===i&&!qx(i)}l(WH,"isStrictComparable");function jH(i,e){return function(t){return t==null?!1:t[i]===e&&(e!==void 0||i in Object(t))}}l(jH,"matchesStrictComparable");var _Ee=jP(function(i){i=vEe(i);var e=[];return Xxe.test(i)&&e.push(""),i.replace(Yxe,function(t,n,r,a){e.push(r?a.replace(Jxe,"$1"):n||t)}),e});function Vx(i){if(typeof i=="string"||YP(i))return i;var e=i+"";return e=="0"&&1/i==-TH?"-0":e}l(Vx,"toKey");function cf(i){if(i!=null){try{return DH.call(i)}catch{}try{return i+""}catch{}}return""}l(cf,"toSource");function gEe(i,e,t){var n=Jc(i)?iSe:aSe,r=arguments.length<3;return n(i,tEe(e,4),t,r,jSe)}l(gEe,"reduce");function jP(i,e){if(typeof i!="function"||e&&typeof e!="function")throw new TypeError(Oxe);var t=l(function(){var n=arguments,r=e?e.apply(this,n):n[0],a=t.cache;if(a.has(r))return a.get(r);var s=i.apply(this,n);return t.cache=a.set(r,s),s},"memoized");return t.cache=new(jP.Cache||Ll),t}l(jP,"memoize");jP.Cache=Ll;function $H(i,e){return i===e||i!==i&&e!==e}l($H,"eq");function XH(i){return bEe(i)&&Il.call(i,"callee")&&(!mSe.call(i,"callee")||nm.call(i)==Rx)}l(XH,"isArguments");var Jc=Array.isArray;function $P(i){return i!=null&&XP(i.length)&&!YH(i)}l($P,"isArrayLike");function bEe(i){return Hx(i)&&$P(i)}l(bEe,"isArrayLikeObject");function YH(i){var e=qx(i)?nm.call(i):"";return e==CH||e==Bxe}l(YH,"isFunction");function XP(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=kH}l(XP,"isLength");function qx(i){var e=typeof i;return!!i&&(e=="object"||e=="function")}l(qx,"isObject");function Hx(i){return!!i&&typeof i=="object"}l(Hx,"isObjectLike");function YP(i){return typeof i=="symbol"||Hx(i)&&nm.call(i)==BH}l(YP,"isSymbol");var yEe=xH?oSe(xH):eEe;function vEe(i){return i==null?"":sEe(i)}l(vEe,"toString");function wEe(i,e,t){var n=i==null?void 0:VH(i,e);return n===void 0?t:n}l(wEe,"get");function xEe(i,e){return i!=null&&fEe(i,e,ZSe)}l(xEe,"hasIn");function Ox(i){return $P(i)?WSe(i):iEe(i)}l(Ox,"keys");function SEe(i){return i}l(SEe,"identity");function EEe(i){return Dx(i)?rSe(Vx(i)):aEe(i)}l(EEe,"property");tm.exports=gEe});var uG=qe((QNe,cG)=>{ne();ae();re();var MEe="Expected a function",tG="__lodash_hash_undefined__",iG=1/0,AEe="[object Function]",TEe="[object GeneratorFunction]",kEe="[object Symbol]",REe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PEe=/^\w*$/,IEe=/^\./,CEe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,LEe=/[\\^$.*+?()[\]{}|]/g,NEe=/\\(\\)?/g,OEe=/^\[object .+?Constructor\]$/,BEe=typeof global=="object"&&global&&global.Object===Object&&global,FEe=typeof self=="object"&&self&&self.Object===Object&&self,JP=BEe||FEe||Function("return this")();function UEe(i,e){return i?.[e]}l(UEe,"getValue");function zEe(i){var e=!1;if(i!=null&&typeof i.toString!="function")try{e=!!(i+"")}catch{}return e}l(zEe,"isHostObject");var DEe=Array.prototype,VEe=Function.prototype,nG=Object.prototype,ZP=JP["__core-js_shared__"],JH=function(){var i=/[^.]+$/.exec(ZP&&ZP.keys&&ZP.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),rG=VEe.toString,KP=nG.hasOwnProperty,aG=nG.toString,qEe=RegExp("^"+rG.call(KP).replace(LEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),KH=JP.Symbol,HEe=DEe.splice,GEe=sG(JP,"Map"),kg=sG(Object,"create"),QH=KH?KH.prototype:void 0,eG=QH?QH.toString:void 0;function uf(i){var e=-1,t=i?i.length:0;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}l(uf,"Hash");function WEe(){this.__data__=kg?kg(null):{}}l(WEe,"hashClear");function jEe(i){return this.has(i)&&delete this.__data__[i]}l(jEe,"hashDelete");function $Ee(i){var e=this.__data__;if(kg){var t=e[i];return t===tG?void 0:t}return KP.call(e,i)?e[i]:void 0}l($Ee,"hashGet");function XEe(i){var e=this.__data__;return kg?e[i]!==void 0:KP.call(e,i)}l(XEe,"hashHas");function YEe(i,e){var t=this.__data__;return t[i]=kg&&e===void 0?tG:e,this}l(YEe,"hashSet");uf.prototype.clear=WEe;uf.prototype.delete=jEe;uf.prototype.get=$Ee;uf.prototype.has=XEe;uf.prototype.set=YEe;function am(i){var e=-1,t=i?i.length:0;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}l(am,"ListCache");function ZEe(){this.__data__=[]}l(ZEe,"listCacheClear");function JEe(i){var e=this.__data__,t=Gx(e,i);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():HEe.call(e,t,1),!0}l(JEe,"listCacheDelete");function KEe(i){var e=this.__data__,t=Gx(e,i);return t<0?void 0:e[t][1]}l(KEe,"listCacheGet");function QEe(i){return Gx(this.__data__,i)>-1}l(QEe,"listCacheHas");function eMe(i,e){var t=this.__data__,n=Gx(t,i);return n<0?t.push([i,e]):t[n][1]=e,this}l(eMe,"listCacheSet");am.prototype.clear=ZEe;am.prototype.delete=JEe;am.prototype.get=KEe;am.prototype.has=QEe;am.prototype.set=eMe;function hf(i){var e=-1,t=i?i.length:0;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}l(hf,"MapCache");function tMe(){this.__data__={hash:new uf,map:new(GEe||am),string:new uf}}l(tMe,"mapCacheClear");function iMe(i){return Wx(this,i).delete(i)}l(iMe,"mapCacheDelete");function nMe(i){return Wx(this,i).get(i)}l(nMe,"mapCacheGet");function rMe(i){return Wx(this,i).has(i)}l(rMe,"mapCacheHas");function aMe(i,e){return Wx(this,i).set(i,e),this}l(aMe,"mapCacheSet");hf.prototype.clear=tMe;hf.prototype.delete=iMe;hf.prototype.get=nMe;hf.prototype.has=rMe;hf.prototype.set=aMe;function Gx(i,e){for(var t=i.length;t--;)if(_Me(i[t][0],e))return t;return-1}l(Gx,"assocIndexOf");function sMe(i,e){e=uMe(e,i)?[e]:cMe(e);for(var t=0,n=e.length;i!=null&&t<n;)i=i[pMe(e[t++])];return t&&t==n?i:void 0}l(sMe,"baseGet");function oMe(i){if(!lG(i)||fMe(i))return!1;var e=gMe(i)||zEe(i)?qEe:OEe;return e.test(mMe(i))}l(oMe,"baseIsNative");function lMe(i){if(typeof i=="string")return i;if(eI(i))return eG?eG.call(i):"";var e=i+"";return e=="0"&&1/i==-iG?"-0":e}l(lMe,"baseToString");function cMe(i){return oG(i)?i:dMe(i)}l(cMe,"castPath");function Wx(i,e){var t=i.__data__;return hMe(e)?t[typeof e=="string"?"string":"hash"]:t.map}l(Wx,"getMapData");function sG(i,e){var t=UEe(i,e);return oMe(t)?t:void 0}l(sG,"getNative");function uMe(i,e){if(oG(i))return!1;var t=typeof i;return t=="number"||t=="symbol"||t=="boolean"||i==null||eI(i)?!0:PEe.test(i)||!REe.test(i)||e!=null&&i in Object(e)}l(uMe,"isKey");function hMe(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}l(hMe,"isKeyable");function fMe(i){return!!JH&&JH in i}l(fMe,"isMasked");var dMe=QP(function(i){i=yMe(i);var e=[];return IEe.test(i)&&e.push(""),i.replace(CEe,function(t,n,r,a){e.push(r?a.replace(NEe,"$1"):n||t)}),e});function pMe(i){if(typeof i=="string"||eI(i))return i;var e=i+"";return e=="0"&&1/i==-iG?"-0":e}l(pMe,"toKey");function mMe(i){if(i!=null){try{return rG.call(i)}catch{}try{return i+""}catch{}}return""}l(mMe,"toSource");function QP(i,e){if(typeof i!="function"||e&&typeof e!="function")throw new TypeError(MEe);var t=l(function(){var n=arguments,r=e?e.apply(this,n):n[0],a=t.cache;if(a.has(r))return a.get(r);var s=i.apply(this,n);return t.cache=a.set(r,s),s},"memoized");return t.cache=new(QP.Cache||hf),t}l(QP,"memoize");QP.Cache=hf;function _Me(i,e){return i===e||i!==i&&e!==e}l(_Me,"eq");var oG=Array.isArray;function gMe(i){var e=lG(i)?aG.call(i):"";return e==AEe||e==TEe}l(gMe,"isFunction");function lG(i){var e=typeof i;return!!i&&(e=="object"||e=="function")}l(lG,"isObject");function bMe(i){return!!i&&typeof i=="object"}l(bMe,"isObjectLike");function eI(i){return typeof i=="symbol"||bMe(i)&&aG.call(i)==kEe}l(eI,"isSymbol");function yMe(i){return i==null?"":lMe(i)}l(yMe,"toString");function vMe(i,e,t){var n=i==null?void 0:sMe(i,e);return n===void 0?t:n}l(vMe,"get");cG.exports=vMe});var fG=qe((jx,hG)=>{ne();ae();re();(function(i,e){typeof jx=="object"&&typeof hG<"u"?e(jx):typeof define=="function"&&define.amd?define(["exports"],e):e(i.URI=i.URI||{})})(jx,function(i){"use strict";function e(){for(var Ve=arguments.length,ke=Array(Ve),je=0;je<Ve;je++)ke[je]=arguments[je];if(ke.length>1){ke[0]=ke[0].slice(0,-1);for(var tt=ke.length-1,rt=1;rt<tt;++rt)ke[rt]=ke[rt].slice(1,-1);return ke[tt]=ke[tt].slice(1),ke.join("")}else return ke[0]}l(e,"merge");function t(Ve){return"(?:"+Ve+")"}l(t,"subexp");function n(Ve){return Ve===void 0?"undefined":Ve===null?"null":Object.prototype.toString.call(Ve).split(" ").pop().split("]").shift().toLowerCase()}l(n,"typeOf");function r(Ve){return Ve.toUpperCase()}l(r,"toUpperCase");function a(Ve){return Ve!=null?Ve instanceof Array?Ve:typeof Ve.length!="number"||Ve.split||Ve.setInterval||Ve.call?[Ve]:Array.prototype.slice.call(Ve):[]}l(a,"toArray");function s(Ve,ke){var je=Ve;if(ke)for(var tt in ke)je[tt]=ke[tt];return je}l(s,"assign");function o(Ve){var ke="[A-Za-z]",je="[\\x0D]",tt="[0-9]",rt="[\\x22]",St=e(tt,"[A-Fa-f]"),Ut="[\\x0A]",Vt="[\\x20]",V=t(t("%[EFef]"+St+"%"+St+St+"%"+St+St)+"|"+t("%[89A-Fa-f]"+St+"%"+St+St)+"|"+t("%"+St+St)),xe="[\\:\\/\\?\\#\\[\\]\\@]",Pe="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ge=e(xe,Pe),Be=Ve?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",it=Ve?"[\\uE000-\\uF8FF]":"[]",st=e(ke,tt,"[\\-\\.\\_\\~]",Be),dt=t(ke+e(ke,tt,"[\\+\\-\\.]")+"*"),ht=t(t(V+"|"+e(st,Pe,"[\\:]"))+"*"),Mt=t(t("25[0-5]")+"|"+t("2[0-4]"+tt)+"|"+t("1"+tt+tt)+"|"+t("[1-9]"+tt)+"|"+tt),yt=t(t("25[0-5]")+"|"+t("2[0-4]"+tt)+"|"+t("1"+tt+tt)+"|"+t("0?[1-9]"+tt)+"|0?0?"+tt),Et=t(yt+"\\."+yt+"\\."+yt+"\\."+yt),Pt=t(St+"{1,4}"),zt=t(t(Pt+"\\:"+Pt)+"|"+Et),gi=t(t(Pt+"\\:")+"{6}"+zt),Ri=t("\\:\\:"+t(Pt+"\\:")+"{5}"+zt),Wt=t(t(Pt)+"?\\:\\:"+t(Pt+"\\:")+"{4}"+zt),Tt=t(t(t(Pt+"\\:")+"{0,1}"+Pt)+"?\\:\\:"+t(Pt+"\\:")+"{3}"+zt),Tr=t(t(t(Pt+"\\:")+"{0,2}"+Pt)+"?\\:\\:"+t(Pt+"\\:")+"{2}"+zt),Jt=t(t(t(Pt+"\\:")+"{0,3}"+Pt)+"?\\:\\:"+Pt+"\\:"+zt),ln=t(t(t(Pt+"\\:")+"{0,4}"+Pt)+"?\\:\\:"+zt),kr=t(t(t(Pt+"\\:")+"{0,5}"+Pt)+"?\\:\\:"+Pt),pn=t(t(t(Pt+"\\:")+"{0,6}"+Pt)+"?\\:\\:"),Fn=t([gi,Ri,Wt,Tt,Tr,Jt,ln,kr,pn].join("|")),si=t(t(st+"|"+V)+"+"),tn=t(Fn+"\\%25"+si),Zn=t(Fn+t("\\%25|\\%(?!"+St+"{2})")+si),Ii=t("[vV]"+St+"+\\."+e(st,Pe,"[\\:]")+"+"),Fa=t("\\["+t(Zn+"|"+Fn+"|"+Ii)+"\\]"),Eo=t(t(V+"|"+e(st,Pe))+"*"),Rr=t(Fa+"|"+Et+"(?!"+Eo+")|"+Eo),xu=t(tt+"*"),Im=t(t(ht+"@")+"?"+Rr+t("\\:"+xu)+"?"),Mo=t(V+"|"+e(st,Pe,"[\\:\\@]")),Cm=t(Mo+"*"),Ao=t(Mo+"+"),A1=t(t(V+"|"+e(st,Pe,"[\\@]"))+"+"),Ua=t(t("\\/"+Cm)+"*"),$l=t("\\/"+t(Ao+Ua)+"?"),Vf=t(A1+Ua),Su=t(Ao+Ua),To="(?!"+Mo+")",aM=t(Ua+"|"+$l+"|"+Vf+"|"+Su+"|"+To),Xl=t(t(Mo+"|"+e("[\\/\\?]",it))+"*"),Eu=t(t(Mo+"|[\\/\\?]")+"*"),T1=t(t("\\/\\/"+Im+Ua)+"|"+$l+"|"+Su+"|"+To),k1=t(dt+"\\:"+T1+t("\\?"+Xl)+"?"+t("\\#"+Eu)+"?"),sM=t(t("\\/\\/"+Im+Ua)+"|"+$l+"|"+Vf+"|"+To),oM=t(sM+t("\\?"+Xl)+"?"+t("\\#"+Eu)+"?"),E6=t(k1+"|"+oM),M6=t(dt+"\\:"+T1+t("\\?"+Xl)+"?"),R1="^("+dt+")\\:"+t(t("\\/\\/("+t("("+ht+")@")+"?("+Rr+")"+t("\\:("+xu+")")+"?)")+"?("+Ua+"|"+$l+"|"+Su+"|"+To+")")+t("\\?("+Xl+")")+"?"+t("\\#("+Eu+")")+"?$",A6="^(){0}"+t(t("\\/\\/("+t("("+ht+")@")+"?("+Rr+")"+t("\\:("+xu+")")+"?)")+"?("+Ua+"|"+$l+"|"+Vf+"|"+To+")")+t("\\?("+Xl+")")+"?"+t("\\#("+Eu+")")+"?$",T6="^("+dt+")\\:"+t(t("\\/\\/("+t("("+ht+")@")+"?("+Rr+")"+t("\\:("+xu+")")+"?)")+"?("+Ua+"|"+$l+"|"+Su+"|"+To+")")+t("\\?("+Xl+")")+"?$",k6="^"+t("\\#("+Eu+")")+"?$",R6="^"+t("("+ht+")@")+"?("+Rr+")"+t("\\:("+xu+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",ke,tt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",st,Pe),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",st,Pe),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",st,Pe),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",st,Pe),"g"),NOT_QUERY:new RegExp(e("[^\\%]",st,Pe,"[\\:\\@\\/\\?]",it),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",st,Pe,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",st,Pe),"g"),UNRESERVED:new RegExp(st,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",st,ge),"g"),PCT_ENCODED:new RegExp(V,"g"),IPV4ADDRESS:new RegExp("^("+Et+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Fn+")"+t(t("\\%25|\\%(?!"+St+"{2})")+"("+si+")")+"?\\]?$")}}l(o,"buildExps");var c=o(!1),u=o(!0),h=function(){function Ve(ke,je){var tt=[],rt=!0,St=!1,Ut=void 0;try{for(var Vt=ke[Symbol.iterator](),V;!(rt=(V=Vt.next()).done)&&(tt.push(V.value),!(je&&tt.length===je));rt=!0);}catch(xe){St=!0,Ut=xe}finally{try{!rt&&Vt.return&&Vt.return()}finally{if(St)throw Ut}}return tt}return l(Ve,"sliceIterator"),function(ke,je){if(Array.isArray(ke))return ke;if(Symbol.iterator in Object(ke))return Ve(ke,je);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=l(function(Ve){if(Array.isArray(Ve)){for(var ke=0,je=Array(Ve.length);ke<Ve.length;ke++)je[ke]=Ve[ke];return je}else return Array.from(Ve)},"toConsumableArray"),p=2147483647,d=36,m=1,y=26,g=38,b=700,x=72,w=128,E="-",M=/^xn--/,C=/[^\0-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=d-m,T=Math.floor,j=String.fromCharCode;function R(Ve){throw new RangeError(F[Ve])}l(R,"error$1");function U(Ve,ke){for(var je=[],tt=Ve.length;tt--;)je[tt]=ke(Ve[tt]);return je}l(U,"map");function q(Ve,ke){var je=Ve.split("@"),tt="";je.length>1&&(tt=je[0]+"@",Ve=je[1]),Ve=Ve.replace(I,".");var rt=Ve.split("."),St=U(rt,ke).join(".");return tt+St}l(q,"mapDomain");function X(Ve){for(var ke=[],je=0,tt=Ve.length;je<tt;){var rt=Ve.charCodeAt(je++);if(rt>=55296&&rt<=56319&&je<tt){var St=Ve.charCodeAt(je++);(St&64512)==56320?ke.push(((rt&1023)<<10)+(St&1023)+65536):(ke.push(rt),je--)}else ke.push(rt)}return ke}l(X,"ucs2decode");var fe=l(function(ke){return String.fromCodePoint.apply(String,f(ke))},"ucs2encode"),H=l(function(ke){return ke-48<10?ke-22:ke-65<26?ke-65:ke-97<26?ke-97:d},"basicToDigit"),Y=l(function(ke,je){return ke+22+75*(ke<26)-((je!=0)<<5)},"digitToBasic"),$=l(function(ke,je,tt){var rt=0;for(ke=tt?T(ke/b):ke>>1,ke+=T(ke/je);ke>A*y>>1;rt+=d)ke=T(ke/A);return T(rt+(A+1)*ke/(ke+g))},"adapt"),Z=l(function(ke){var je=[],tt=ke.length,rt=0,St=w,Ut=x,Vt=ke.lastIndexOf(E);Vt<0&&(Vt=0);for(var V=0;V<Vt;++V)ke.charCodeAt(V)>=128&&R("not-basic"),je.push(ke.charCodeAt(V));for(var xe=Vt>0?Vt+1:0;xe<tt;){for(var Pe=rt,ge=1,Be=d;;Be+=d){xe>=tt&&R("invalid-input");var it=H(ke.charCodeAt(xe++));(it>=d||it>T((p-rt)/ge))&&R("overflow"),rt+=it*ge;var st=Be<=Ut?m:Be>=Ut+y?y:Be-Ut;if(it<st)break;var dt=d-st;ge>T(p/dt)&&R("overflow"),ge*=dt}var ht=je.length+1;Ut=$(rt-Pe,ht,Pe==0),T(rt/ht)>p-St&&R("overflow"),St+=T(rt/ht),rt%=ht,je.splice(rt++,0,St)}return String.fromCodePoint.apply(String,je)},"decode"),ie=l(function(ke){var je=[];ke=X(ke);var tt=ke.length,rt=w,St=0,Ut=x,Vt=!0,V=!1,xe=void 0;try{for(var Pe=ke[Symbol.iterator](),ge;!(Vt=(ge=Pe.next()).done);Vt=!0){var Be=ge.value;Be<128&&je.push(j(Be))}}catch(Zn){V=!0,xe=Zn}finally{try{!Vt&&Pe.return&&Pe.return()}finally{if(V)throw xe}}var it=je.length,st=it;for(it&&je.push(E);st<tt;){var dt=p,ht=!0,Mt=!1,yt=void 0;try{for(var Et=ke[Symbol.iterator](),Pt;!(ht=(Pt=Et.next()).done);ht=!0){var zt=Pt.value;zt>=rt&&zt<dt&&(dt=zt)}}catch(Zn){Mt=!0,yt=Zn}finally{try{!ht&&Et.return&&Et.return()}finally{if(Mt)throw yt}}var gi=st+1;dt-rt>T((p-St)/gi)&&R("overflow"),St+=(dt-rt)*gi,rt=dt;var Ri=!0,Wt=!1,Tt=void 0;try{for(var Tr=ke[Symbol.iterator](),Jt;!(Ri=(Jt=Tr.next()).done);Ri=!0){var ln=Jt.value;if(ln<rt&&++St>p&&R("overflow"),ln==rt){for(var kr=St,pn=d;;pn+=d){var Fn=pn<=Ut?m:pn>=Ut+y?y:pn-Ut;if(kr<Fn)break;var si=kr-Fn,tn=d-Fn;je.push(j(Y(Fn+si%tn,0))),kr=T(si/tn)}je.push(j(Y(kr,0))),Ut=$(St,gi,st==it),St=0,++st}}}catch(Zn){Wt=!0,Tt=Zn}finally{try{!Ri&&Tr.return&&Tr.return()}finally{if(Wt)throw Tt}}++St,++rt}return je.join("")},"encode"),ue=l(function(ke){return q(ke,function(je){return M.test(je)?Z(je.slice(4).toLowerCase()):je})},"toUnicode"),Me=l(function(ke){return q(ke,function(je){return C.test(je)?"xn--"+ie(je):je})},"toASCII"),Fe={version:"2.1.0",ucs2:{decode:X,encode:fe},decode:Z,encode:ie,toASCII:Me,toUnicode:ue},De={};function Ge(Ve){var ke=Ve.charCodeAt(0),je=void 0;return ke<16?je="%0"+ke.toString(16).toUpperCase():ke<128?je="%"+ke.toString(16).toUpperCase():ke<2048?je="%"+(ke>>6|192).toString(16).toUpperCase()+"%"+(ke&63|128).toString(16).toUpperCase():je="%"+(ke>>12|224).toString(16).toUpperCase()+"%"+(ke>>6&63|128).toString(16).toUpperCase()+"%"+(ke&63|128).toString(16).toUpperCase(),je}l(Ge,"pctEncChar");function ve(Ve){for(var ke="",je=0,tt=Ve.length;je<tt;){var rt=parseInt(Ve.substr(je+1,2),16);if(rt<128)ke+=String.fromCharCode(rt),je+=3;else if(rt>=194&&rt<224){if(tt-je>=6){var St=parseInt(Ve.substr(je+4,2),16);ke+=String.fromCharCode((rt&31)<<6|St&63)}else ke+=Ve.substr(je,6);je+=6}else if(rt>=224){if(tt-je>=9){var Ut=parseInt(Ve.substr(je+4,2),16),Vt=parseInt(Ve.substr(je+7,2),16);ke+=String.fromCharCode((rt&15)<<12|(Ut&63)<<6|Vt&63)}else ke+=Ve.substr(je,9);je+=9}else ke+=Ve.substr(je,3),je+=3}return ke}l(ve,"pctDecChars");function we(Ve,ke){function je(tt){var rt=ve(tt);return rt.match(ke.UNRESERVED)?rt:tt}return l(je,"decodeUnreserved"),Ve.scheme&&(Ve.scheme=String(Ve.scheme).replace(ke.PCT_ENCODED,je).toLowerCase().replace(ke.NOT_SCHEME,"")),Ve.userinfo!==void 0&&(Ve.userinfo=String(Ve.userinfo).replace(ke.PCT_ENCODED,je).replace(ke.NOT_USERINFO,Ge).replace(ke.PCT_ENCODED,r)),Ve.host!==void 0&&(Ve.host=String(Ve.host).replace(ke.PCT_ENCODED,je).toLowerCase().replace(ke.NOT_HOST,Ge).replace(ke.PCT_ENCODED,r)),Ve.path!==void 0&&(Ve.path=String(Ve.path).replace(ke.PCT_ENCODED,je).replace(Ve.scheme?ke.NOT_PATH:ke.NOT_PATH_NOSCHEME,Ge).replace(ke.PCT_ENCODED,r)),Ve.query!==void 0&&(Ve.query=String(Ve.query).replace(ke.PCT_ENCODED,je).replace(ke.NOT_QUERY,Ge).replace(ke.PCT_ENCODED,r)),Ve.fragment!==void 0&&(Ve.fragment=String(Ve.fragment).replace(ke.PCT_ENCODED,je).replace(ke.NOT_FRAGMENT,Ge).replace(ke.PCT_ENCODED,r)),Ve}l(we,"_normalizeComponentEncoding");function He(Ve){return Ve.replace(/^0*(.*)/,"$1")||"0"}l(He,"_stripLeadingZeros");function Ke(Ve,ke){var je=Ve.match(ke.IPV4ADDRESS)||[],tt=h(je,2),rt=tt[1];return rt?rt.split(".").map(He).join("."):Ve}l(Ke,"_normalizeIPv4");function Ze(Ve,ke){var je=Ve.match(ke.IPV6ADDRESS)||[],tt=h(je,3),rt=tt[1],St=tt[2];if(rt){for(var Ut=rt.toLowerCase().split("::").reverse(),Vt=h(Ut,2),V=Vt[0],xe=Vt[1],Pe=xe?xe.split(":").map(He):[],ge=V.split(":").map(He),Be=ke.IPV4ADDRESS.test(ge[ge.length-1]),it=Be?7:8,st=ge.length-it,dt=Array(it),ht=0;ht<it;++ht)dt[ht]=Pe[ht]||ge[st+ht]||"";Be&&(dt[it-1]=Ke(dt[it-1],ke));var Mt=dt.reduce(function(gi,Ri,Wt){if(!Ri||Ri==="0"){var Tt=gi[gi.length-1];Tt&&Tt.index+Tt.length===Wt?Tt.length++:gi.push({index:Wt,length:1})}return gi},[]),yt=Mt.sort(function(gi,Ri){return Ri.length-gi.length})[0],Et=void 0;if(yt&&yt.length>1){var Pt=dt.slice(0,yt.index),zt=dt.slice(yt.index+yt.length);Et=Pt.join(":")+"::"+zt.join(":")}else Et=dt.join(":");return St&&(Et+="%"+St),Et}else return Ve}l(Ze,"_normalizeIPv6");var S=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,G="".match(/(){0}/)[1]===void 0;function Q(Ve){var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},je={},tt=ke.iri!==!1?u:c;ke.reference==="suffix"&&(Ve=(ke.scheme?ke.scheme+":":"")+"//"+Ve);var rt=Ve.match(S);if(rt){G?(je.scheme=rt[1],je.userinfo=rt[3],je.host=rt[4],je.port=parseInt(rt[5],10),je.path=rt[6]||"",je.query=rt[7],je.fragment=rt[8],isNaN(je.port)&&(je.port=rt[5])):(je.scheme=rt[1]||void 0,je.userinfo=Ve.indexOf("@")!==-1?rt[3]:void 0,je.host=Ve.indexOf("//")!==-1?rt[4]:void 0,je.port=parseInt(rt[5],10),je.path=rt[6]||"",je.query=Ve.indexOf("?")!==-1?rt[7]:void 0,je.fragment=Ve.indexOf("#")!==-1?rt[8]:void 0,isNaN(je.port)&&(je.port=Ve.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?rt[4]:void 0)),je.host&&(je.host=Ze(Ke(je.host,tt),tt)),je.scheme===void 0&&je.userinfo===void 0&&je.host===void 0&&je.port===void 0&&!je.path&&je.query===void 0?je.reference="same-document":je.scheme===void 0?je.reference="relative":je.fragment===void 0?je.reference="absolute":je.reference="uri",ke.reference&&ke.reference!=="suffix"&&ke.reference!==je.reference&&(je.error=je.error||"URI is not a "+ke.reference+" reference.");var St=De[(ke.scheme||je.scheme||"").toLowerCase()];if(!ke.unicodeSupport&&(!St||!St.unicodeSupport)){if(je.host&&(ke.domainHost||St&&St.domainHost))try{je.host=Fe.toASCII(je.host.replace(tt.PCT_ENCODED,ve).toLowerCase())}catch(Ut){je.error=je.error||"Host's domain name can not be converted to ASCII via punycode: "+Ut}we(je,c)}else we(je,tt);St&&St.parse&&St.parse(je,ke)}else je.error=je.error||"URI can not be parsed.";return je}l(Q,"parse");function K(Ve,ke){var je=ke.iri!==!1?u:c,tt=[];return Ve.userinfo!==void 0&&(tt.push(Ve.userinfo),tt.push("@")),Ve.host!==void 0&&tt.push(Ze(Ke(String(Ve.host),je),je).replace(je.IPV6ADDRESS,function(rt,St,Ut){return"["+St+(Ut?"%25"+Ut:"")+"]"})),(typeof Ve.port=="number"||typeof Ve.port=="string")&&(tt.push(":"),tt.push(String(Ve.port))),tt.length?tt.join(""):void 0}l(K,"_recomposeAuthority");var J=/^\.\.?\//,me=/^\/\.(\/|$)/,Se=/^\/\.\.(\/|$)/,Ie=/^\/?(?:.|\n)*?(?=\/|$)/;function Ce(Ve){for(var ke=[];Ve.length;)if(Ve.match(J))Ve=Ve.replace(J,"");else if(Ve.match(me))Ve=Ve.replace(me,"/");else if(Ve.match(Se))Ve=Ve.replace(Se,"/"),ke.pop();else if(Ve==="."||Ve==="..")Ve="";else{var je=Ve.match(Ie);if(je){var tt=je[0];Ve=Ve.slice(tt.length),ke.push(tt)}else throw new Error("Unexpected dot segment condition")}return ke.join("")}l(Ce,"removeDotSegments");function Xe(Ve){var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},je=ke.iri?u:c,tt=[],rt=De[(ke.scheme||Ve.scheme||"").toLowerCase()];if(rt&&rt.serialize&&rt.serialize(Ve,ke),Ve.host&&!je.IPV6ADDRESS.test(Ve.host)){if(ke.domainHost||rt&&rt.domainHost)try{Ve.host=ke.iri?Fe.toUnicode(Ve.host):Fe.toASCII(Ve.host.replace(je.PCT_ENCODED,ve).toLowerCase())}catch(Vt){Ve.error=Ve.error||"Host's domain name can not be converted to "+(ke.iri?"Unicode":"ASCII")+" via punycode: "+Vt}}we(Ve,je),ke.reference!=="suffix"&&Ve.scheme&&(tt.push(Ve.scheme),tt.push(":"));var St=K(Ve,ke);if(St!==void 0&&(ke.reference!=="suffix"&&tt.push("//"),tt.push(St),Ve.path&&Ve.path.charAt(0)!=="/"&&tt.push("/")),Ve.path!==void 0){var Ut=Ve.path;!ke.absolutePath&&(!rt||!rt.absolutePath)&&(Ut=Ce(Ut)),St===void 0&&(Ut=Ut.replace(/^\/\//,"/%2F")),tt.push(Ut)}return Ve.query!==void 0&&(tt.push("?"),tt.push(Ve.query)),Ve.fragment!==void 0&&(tt.push("#"),tt.push(Ve.fragment)),tt.join("")}l(Xe,"serialize");function nt(Ve,ke){var je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt=arguments[3],rt={};return tt||(Ve=Q(Xe(Ve,je),je),ke=Q(Xe(ke,je),je)),je=je||{},!je.tolerant&&ke.scheme?(rt.scheme=ke.scheme,rt.userinfo=ke.userinfo,rt.host=ke.host,rt.port=ke.port,rt.path=Ce(ke.path||""),rt.query=ke.query):(ke.userinfo!==void 0||ke.host!==void 0||ke.port!==void 0?(rt.userinfo=ke.userinfo,rt.host=ke.host,rt.port=ke.port,rt.path=Ce(ke.path||""),rt.query=ke.query):(ke.path?(ke.path.charAt(0)==="/"?rt.path=Ce(ke.path):((Ve.userinfo!==void 0||Ve.host!==void 0||Ve.port!==void 0)&&!Ve.path?rt.path="/"+ke.path:Ve.path?rt.path=Ve.path.slice(0,Ve.path.lastIndexOf("/")+1)+ke.path:rt.path=ke.path,rt.path=Ce(rt.path)),rt.query=ke.query):(rt.path=Ve.path,ke.query!==void 0?rt.query=ke.query:rt.query=Ve.query),rt.userinfo=Ve.userinfo,rt.host=Ve.host,rt.port=Ve.port),rt.scheme=Ve.scheme),rt.fragment=ke.fragment,rt}l(nt,"resolveComponents");function z(Ve,ke,je){var tt=s({scheme:"null"},je);return Xe(nt(Q(Ve,tt),Q(ke,tt),tt,!0),tt)}l(z,"resolve");function B(Ve,ke){return typeof Ve=="string"?Ve=Xe(Q(Ve,ke),ke):n(Ve)==="object"&&(Ve=Q(Xe(Ve,ke),ke)),Ve}l(B,"normalize");function Ae(Ve,ke,je){return typeof Ve=="string"?Ve=Xe(Q(Ve,je),je):n(Ve)==="object"&&(Ve=Xe(Ve,je)),typeof ke=="string"?ke=Xe(Q(ke,je),je):n(ke)==="object"&&(ke=Xe(ke,je)),Ve===ke}l(Ae,"equal");function W(Ve,ke){return Ve&&Ve.toString().replace(!ke||!ke.iri?c.ESCAPE:u.ESCAPE,Ge)}l(W,"escapeComponent");function L(Ve,ke){return Ve&&Ve.toString().replace(!ke||!ke.iri?c.PCT_ENCODED:u.PCT_ENCODED,ve)}l(L,"unescapeComponent");var P={scheme:"http",domainHost:!0,parse:l(function(ke,je){return ke.host||(ke.error=ke.error||"HTTP URIs must have a host."),ke},"parse"),serialize:l(function(ke,je){var tt=String(ke.scheme).toLowerCase()==="https";return(ke.port===(tt?443:80)||ke.port==="")&&(ke.port=void 0),ke.path||(ke.path="/"),ke},"serialize")},se={scheme:"https",domainHost:P.domainHost,parse:P.parse,serialize:P.serialize};function de(Ve){return typeof Ve.secure=="boolean"?Ve.secure:String(Ve.scheme).toLowerCase()==="wss"}l(de,"isSecure");var O={scheme:"ws",domainHost:!0,parse:l(function(ke,je){var tt=ke;return tt.secure=de(tt),tt.resourceName=(tt.path||"/")+(tt.query?"?"+tt.query:""),tt.path=void 0,tt.query=void 0,tt},"parse"),serialize:l(function(ke,je){if((ke.port===(de(ke)?443:80)||ke.port==="")&&(ke.port=void 0),typeof ke.secure=="boolean"&&(ke.scheme=ke.secure?"wss":"ws",ke.secure=void 0),ke.resourceName){var tt=ke.resourceName.split("?"),rt=h(tt,2),St=rt[0],Ut=rt[1];ke.path=St&&St!=="/"?St:void 0,ke.query=Ut,ke.resourceName=void 0}return ke.fragment=void 0,ke},"serialize")},be={scheme:"wss",domainHost:O.domainHost,parse:O.parse,serialize:O.serialize},Ue={},We=!0,_e="[A-Za-z0-9\\-\\.\\_\\~"+(We?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Re="[0-9A-Fa-f]",te=t(t("%[EFef]"+Re+"%"+Re+Re+"%"+Re+Re)+"|"+t("%[89A-Fa-f]"+Re+"%"+Re+Re)+"|"+t("%"+Re+Re)),et="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",oe="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",N=e(oe,'[\\"\\\\]'),le="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Te=new RegExp(_e,"g"),ee=new RegExp(te,"g"),Le=new RegExp(e("[^]",et,"[\\.]",'[\\"]',N),"g"),Ye=new RegExp(e("[^]",_e,le),"g"),vt=Ye;function wt(Ve){var ke=ve(Ve);return ke.match(Te)?ke:Ve}l(wt,"decodeUnreserved");var ft={scheme:"mailto",parse:l(function(ke,je){var tt=ke,rt=tt.to=tt.path?tt.path.split(","):[];if(tt.path=void 0,tt.query){for(var St=!1,Ut={},Vt=tt.query.split("&"),V=0,xe=Vt.length;V<xe;++V){var Pe=Vt[V].split("=");switch(Pe[0]){case"to":for(var ge=Pe[1].split(","),Be=0,it=ge.length;Be<it;++Be)rt.push(ge[Be]);break;case"subject":tt.subject=L(Pe[1],je);break;case"body":tt.body=L(Pe[1],je);break;default:St=!0,Ut[L(Pe[0],je)]=L(Pe[1],je);break}}St&&(tt.headers=Ut)}tt.query=void 0;for(var st=0,dt=rt.length;st<dt;++st){var ht=rt[st].split("@");if(ht[0]=L(ht[0]),je.unicodeSupport)ht[1]=L(ht[1],je).toLowerCase();else try{ht[1]=Fe.toASCII(L(ht[1],je).toLowerCase())}catch(Mt){tt.error=tt.error||"Email address's domain name can not be converted to ASCII via punycode: "+Mt}rt[st]=ht.join("@")}return tt},"parse$$1"),serialize:l(function(ke,je){var tt=ke,rt=a(ke.to);if(rt){for(var St=0,Ut=rt.length;St<Ut;++St){var Vt=String(rt[St]),V=Vt.lastIndexOf("@"),xe=Vt.slice(0,V).replace(ee,wt).replace(ee,r).replace(Le,Ge),Pe=Vt.slice(V+1);try{Pe=je.iri?Fe.toUnicode(Pe):Fe.toASCII(L(Pe,je).toLowerCase())}catch(st){tt.error=tt.error||"Email address's domain name can not be converted to "+(je.iri?"Unicode":"ASCII")+" via punycode: "+st}rt[St]=xe+"@"+Pe}tt.path=rt.join(",")}var ge=ke.headers=ke.headers||{};ke.subject&&(ge.subject=ke.subject),ke.body&&(ge.body=ke.body);var Be=[];for(var it in ge)ge[it]!==Ue[it]&&Be.push(it.replace(ee,wt).replace(ee,r).replace(Ye,Ge)+"="+ge[it].replace(ee,wt).replace(ee,r).replace(vt,Ge));return Be.length&&(tt.query=Be.join("&")),tt},"serialize$$1")},Ft=/^([^\:]+)\:(.*)/,Yt={scheme:"urn",parse:l(function(ke,je){var tt=ke.path&&ke.path.match(Ft),rt=ke;if(tt){var St=je.scheme||rt.scheme||"urn",Ut=tt[1].toLowerCase(),Vt=tt[2],V=St+":"+(je.nid||Ut),xe=De[V];rt.nid=Ut,rt.nss=Vt,rt.path=void 0,xe&&(rt=xe.parse(rt,je))}else rt.error=rt.error||"URN can not be parsed.";return rt},"parse$$1"),serialize:l(function(ke,je){var tt=je.scheme||ke.scheme||"urn",rt=ke.nid,St=tt+":"+(je.nid||rt),Ut=De[St];Ut&&(ke=Ut.serialize(ke,je));var Vt=ke,V=ke.nss;return Vt.path=(rt||je.nid)+":"+V,Vt},"serialize$$1")},Mi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Kt={scheme:"urn:uuid",parse:l(function(ke,je){var tt=ke;return tt.uuid=tt.nss,tt.nss=void 0,!je.tolerant&&(!tt.uuid||!tt.uuid.match(Mi))&&(tt.error=tt.error||"UUID is not valid."),tt},"parse"),serialize:l(function(ke,je){var tt=ke;return tt.nss=(ke.uuid||"").toLowerCase(),tt},"serialize")};De[P.scheme]=P,De[se.scheme]=se,De[O.scheme]=O,De[be.scheme]=be,De[ft.scheme]=ft,De[Yt.scheme]=Yt,De[Kt.scheme]=Kt,i.SCHEMES=De,i.pctEncChar=Ge,i.pctDecChars=ve,i.parse=Q,i.removeDotSegments=Ce,i.serialize=Xe,i.resolveComponents=nt,i.resolve=z,i.normalize=B,i.equal=Ae,i.escapeComponent=W,i.unescapeComponent=L,Object.defineProperty(i,"__esModule",{value:!0})})});var $x=qe((l8e,dG)=>{"use strict";ne();ae();re();dG.exports=l(function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!i(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){var s=a[r];if(!i(e[s],t[s]))return!1}return!0}return e!==e&&t!==t},"equal")});var mG=qe((d8e,pG)=>{"use strict";ne();ae();re();pG.exports=l(function(e){for(var t=0,n=e.length,r=0,a;r<n;)t++,a=e.charCodeAt(r++),a>=55296&&a<=56319&&r<n&&(a=e.charCodeAt(r),(a&64512)==56320&&r++);return t},"ucs2length")});var ff=qe((b8e,bG)=>{"use strict";ne();ae();re();bG.exports={copy:wMe,checkDataType:tI,checkDataTypes:xMe,coerceToTypes:SMe,toHash:nI,getProperty:rI,escapeQuotes:aI,equal:$x(),ucs2length:mG(),varOccurences:AMe,varReplace:TMe,schemaHasRules:kMe,schemaHasRulesExcept:RMe,schemaUnknownRules:PMe,toQuotedString:iI,getPathExpr:IMe,getPath:CMe,getData:OMe,unescapeFragment:BMe,unescapeJsonPointer:oI,escapeFragment:FMe,escapeJsonPointer:sI};function wMe(i,e){e=e||{};for(var t in i)e[t]=i[t];return e}l(wMe,"copy");function tI(i,e,t,n){var r=n?" !== ":" === ",a=n?" || ":" && ",s=n?"!":"",o=n?"":"!";switch(i){case"null":return e+r+"null";case"array":return s+"Array.isArray("+e+")";case"object":return"("+s+e+a+"typeof "+e+r+'"object"'+a+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+a+o+"("+e+" % 1)"+a+e+r+e+(t?a+s+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+r+'"'+i+'"'+(t?a+s+"isFinite("+e+")":"")+")";default:return"typeof "+e+r+'"'+i+'"'}}l(tI,"checkDataType");function xMe(i,e,t){switch(i.length){case 1:return tI(i[0],e,t,!0);default:var n="",r=nI(i);r.array&&r.object&&(n=r.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var a in r)n+=(n?" && ":"")+tI(a,e,t,!0);return n}}l(xMe,"checkDataTypes");var _G=nI(["string","number","integer","boolean","null"]);function SMe(i,e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var r=e[n];(_G[r]||i==="array"&&r==="array")&&(t[t.length]=r)}if(t.length)return t}else{if(_G[e])return[e];if(i==="array"&&e==="array")return["array"]}}l(SMe,"coerceToTypes");function nI(i){for(var e={},t=0;t<i.length;t++)e[i[t]]=!0;return e}l(nI,"toHash");var EMe=/^[a-z$_][a-z$_0-9]*$/i,MMe=/'|\\/g;function rI(i){return typeof i=="number"?"["+i+"]":EMe.test(i)?"."+i:"['"+aI(i)+"']"}l(rI,"getProperty");function aI(i){return i.replace(MMe,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}l(aI,"escapeQuotes");function AMe(i,e){e+="[^0-9]";var t=i.match(new RegExp(e,"g"));return t?t.length:0}l(AMe,"varOccurences");function TMe(i,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),i.replace(new RegExp(e,"g"),t+"$1")}l(TMe,"varReplace");function kMe(i,e){if(typeof i=="boolean")return!i;for(var t in i)if(e[t])return!0}l(kMe,"schemaHasRules");function RMe(i,e,t){if(typeof i=="boolean")return!i&&t!="not";for(var n in i)if(n!=t&&e[n])return!0}l(RMe,"schemaHasRulesExcept");function PMe(i,e){if(typeof i!="boolean"){for(var t in i)if(!e[t])return t}}l(PMe,"schemaUnknownRules");function iI(i){return"'"+aI(i)+"'"}l(iI,"toQuotedString");function IMe(i,e,t,n){var r=t?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return gG(i,r)}l(IMe,"getPathExpr");function CMe(i,e,t){var n=iI(t?"/"+sI(e):rI(e));return gG(i,n)}l(CMe,"getPath");var LMe=/^\/(?:[^~]|~0|~1)*$/,NMe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function OMe(i,e,t){var n,r,a,s;if(i==="")return"rootData";if(i[0]=="/"){if(!LMe.test(i))throw new Error("Invalid JSON-pointer: "+i);r=i,a="rootData"}else{if(s=i.match(NMe),!s)throw new Error("Invalid JSON-pointer: "+i);if(n=+s[1],r=s[2],r=="#"){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return t[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(a="data"+(e-n||""),!r)return a}for(var o=a,c=r.split("/"),u=0;u<c.length;u++){var h=c[u];h&&(a+=rI(oI(h)),o+=" && "+a)}return o}l(OMe,"getData");function gG(i,e){return i=='""'?e:(i+" + "+e).replace(/([^\\])' \+ '/g,"$1")}l(gG,"joinPaths");function BMe(i){return oI(decodeURIComponent(i))}l(BMe,"unescapeFragment");function FMe(i){return encodeURIComponent(sI(i))}l(FMe,"escapeFragment");function sI(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}l(sI,"escapeJsonPointer");function oI(i){return i.replace(/~1/g,"/").replace(/~0/g,"~")}l(oI,"unescapeJsonPointer")});var lI=qe((S8e,yG)=>{"use strict";ne();ae();re();var UMe=ff();yG.exports=zMe;function zMe(i){UMe.copy(i,this)}l(zMe,"SchemaObject")});var wG=qe((k8e,vG)=>{"use strict";ne();ae();re();var Qc=vG.exports=function(i,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var n=typeof t=="function"?t:t.pre||function(){},r=t.post||function(){};Xx(e,n,r,i,"",i)};Qc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Qc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Qc.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Qc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Xx(i,e,t,n,r,a,s,o,c,u){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,r,a,s,o,c,u);for(var h in n){var f=n[h];if(Array.isArray(f)){if(h in Qc.arrayKeywords)for(var p=0;p<f.length;p++)Xx(i,e,t,f[p],r+"/"+h+"/"+p,a,r,h,n,p)}else if(h in Qc.propsKeywords){if(f&&typeof f=="object")for(var d in f)Xx(i,e,t,f[d],r+"/"+h+"/"+DMe(d),a,r,h,n,d)}else(h in Qc.keywords||i.allKeys&&!(h in Qc.skipKeywords))&&Xx(i,e,t,f,r+"/"+h,a,r,h,n)}t(n,r,a,s,o,c,u)}}l(Xx,"_traverse");function DMe(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}l(DMe,"escapeJsonPtr")});var eS=qe((L8e,MG)=>{"use strict";ne();ae();re();var Rg=fG(),xG=$x(),Kx=ff(),Yx=lI(),VMe=wG();MG.exports=tu;tu.normalizeId=eu;tu.fullPath=Zx;tu.url=Jx;tu.ids=jMe;tu.inlineRef=cI;tu.schema=Qx;function tu(i,e,t){var n=this._refs[t];if(typeof n=="string")if(this._refs[n])n=this._refs[n];else return tu.call(this,i,e,n);if(n=n||this._schemas[t],n instanceof Yx)return cI(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var r=Qx.call(this,e,t),a,s,o;return r&&(a=r.schema,e=r.root,o=r.baseId),a instanceof Yx?s=a.validate||i.call(this,a.schema,e,void 0,o):a!==void 0&&(s=cI(a,this._opts.inlineRefs)?a:i.call(this,a,e,void 0,o)),s}l(tu,"resolve");function Qx(i,e){var t=Rg.parse(e),n=EG(t),r=Zx(this._getId(i.schema));if(Object.keys(i.schema).length===0||n!==r){var a=eu(n),s=this._refs[a];if(typeof s=="string")return qMe.call(this,i,s,t);if(s instanceof Yx)s.validate||this._compile(s),i=s;else if(s=this._schemas[a],s instanceof Yx){if(s.validate||this._compile(s),a==eu(e))return{schema:s,root:i,baseId:r};i=s}else return;if(!i.schema)return;r=Zx(this._getId(i.schema))}return SG.call(this,t,r,i.schema,i)}l(Qx,"resolveSchema");function qMe(i,e,t){var n=Qx.call(this,i,e);if(n){var r=n.schema,a=n.baseId;i=n.root;var s=this._getId(r);return s&&(a=Jx(a,s)),SG.call(this,t,a,r,i)}}l(qMe,"resolveRecursive");var HMe=Kx.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function SG(i,e,t,n){if(i.fragment=i.fragment||"",i.fragment.slice(0,1)=="/"){for(var r=i.fragment.split("/"),a=1;a<r.length;a++){var s=r[a];if(s){if(s=Kx.unescapeFragment(s),t=t[s],t===void 0)break;var o;if(!HMe[s]&&(o=this._getId(t),o&&(e=Jx(e,o)),t.$ref)){var c=Jx(e,t.$ref),u=Qx.call(this,n,c);u&&(t=u.schema,n=u.root,e=u.baseId)}}}if(t!==void 0&&t!==n.schema)return{schema:t,root:n,baseId:e}}}l(SG,"getJsonPointer");var GMe=Kx.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function cI(i,e){if(e===!1)return!1;if(e===void 0||e===!0)return uI(i);if(e)return hI(i)<=e}l(cI,"inlineRef");function uI(i){var e;if(Array.isArray(i)){for(var t=0;t<i.length;t++)if(e=i[t],typeof e=="object"&&!uI(e))return!1}else for(var n in i)if(n=="$ref"||(e=i[n],typeof e=="object"&&!uI(e)))return!1;return!0}l(uI,"checkNoRef");function hI(i){var e=0,t;if(Array.isArray(i)){for(var n=0;n<i.length;n++)if(t=i[n],typeof t=="object"&&(e+=hI(t)),e==1/0)return 1/0}else for(var r in i){if(r=="$ref")return 1/0;if(GMe[r])e++;else if(t=i[r],typeof t=="object"&&(e+=hI(t)+1),e==1/0)return 1/0}return e}l(hI,"countKeys");function Zx(i,e){e!==!1&&(i=eu(i));var t=Rg.parse(i);return EG(t)}l(Zx,"getFullPath");function EG(i){return Rg.serialize(i).split("#")[0]+"#"}l(EG,"_getFullPath");var WMe=/#\/?$/;function eu(i){return i?i.replace(WMe,""):""}l(eu,"normalizeId");function Jx(i,e){return e=eu(e),Rg.resolve(i,e)}l(Jx,"resolveUrl");function jMe(i){var e=eu(this._getId(i)),t={"":e},n={"":Zx(e,!1)},r={},a=this;return VMe(i,{allKeys:!0},function(s,o,c,u,h,f,p){if(o!==""){var d=a._getId(s),m=t[u],y=n[u]+"/"+h;if(p!==void 0&&(y+="/"+(typeof p=="number"?p:Kx.escapeFragment(p))),typeof d=="string"){d=m=eu(m?Rg.resolve(m,d):d);var g=a._refs[d];if(typeof g=="string"&&(g=a._refs[g]),g&&g.schema){if(!xG(s,g.schema))throw new Error('id "'+d+'" resolves to more than one schema')}else if(d!=eu(y))if(d[0]=="#"){if(r[d]&&!xG(s,r[d]))throw new Error('id "'+d+'" resolves to more than one schema');r[d]=s}else a._refs[d]=y}t[o]=m,n[o]=y}}),r}l(jMe,"resolveIds")});var tS=qe((U8e,TG)=>{"use strict";ne();ae();re();var fI=eS();TG.exports={Validation:AG($Me),MissingRef:AG(dI)};function $Me(i){this.message="validation failed",this.errors=i,this.ajv=this.validation=!0}l($Me,"ValidationError");dI.message=function(i,e){return"can't resolve reference "+e+" from id "+i};function dI(i,e,t){this.message=t||dI.message(i,e),this.missingRef=fI.url(i,e),this.missingSchema=fI.normalizeId(fI.fullPath(this.missingRef))}l(dI,"MissingRefError");function AG(i){return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}l(AG,"errorSubclass")});var pI=qe((H8e,kG)=>{"use strict";ne();ae();re();kG.exports=function(i,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,n=e.cmp&&function(a){return function(s){return function(o,c){var u={key:o,value:s[o]},h={key:c,value:s[c]};return a(u,h)}}}(e.cmp),r=[];return l(function a(s){if(s&&s.toJSON&&typeof s.toJSON=="function"&&(s=s.toJSON()),s!==void 0){if(typeof s=="number")return isFinite(s)?""+s:"null";if(typeof s!="object")return JSON.stringify(s);var o,c;if(Array.isArray(s)){for(c="[",o=0;o<s.length;o++)o&&(c+=","),c+=a(s[o])||"null";return c+"]"}if(s===null)return"null";if(r.indexOf(s)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=r.push(s)-1,h=Object.keys(s).sort(n&&n(s));for(c="",o=0;o<h.length;o++){var f=h[o],p=a(s[f]);p&&(c&&(c+=","),c+=JSON.stringify(f)+":"+p)}return r.splice(u,1),"{"+c+"}"}},"stringify")(i)}});var mI=qe((X8e,RG)=>{"use strict";ne();ae();re();RG.exports=l(function(e,t,n){var r="",a=e.schema.$async===!0,s=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var c=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(c){var u="unknown keyword: "+c;if(e.opts.strictKeywords==="log")e.logger.warn(u);else throw new Error(u)}}if(e.isTop&&(r+=" var validate = ",a&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+o+" */")+" ")),typeof e.schema=="boolean"||!(s||e.schema.$ref)){var t="false schema",h=e.level,f=e.dataLevel,p=e.schema[t],d=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,M=!e.opts.allErrors,F,y="data"+(f||""),E="valid"+h;if(e.schema===!1){e.isTop?M=!0:r+=" var "+E+" = false; ";var g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(F||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!e.compositeRule&&M?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?a?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+E+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var x=e.isTop,h=e.level=0,f=e.dataLevel=0,y="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var w="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var h=e.level,f=e.dataLevel,y="data"+(f||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),a&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+h+" = errors;"}var E="valid"+h,M=!e.opts.allErrors,C="",I="",F,A=e.schema.type,T=Array.isArray(A);if(A&&e.opts.nullable&&e.schema.nullable===!0&&(T?A.indexOf("null")==-1&&(A=A.concat("null")):A!="null"&&(A=[A,"null"],T=!0)),T&&A.length==1&&(A=A[0],T=!1),e.schema.$ref&&s){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(s=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),A){if(e.opts.coerceTypes)var j=e.util.coerceToTypes(e.opts.coerceTypes,A);var R=e.RULES.types[A];if(j||T||R===!0||R&&!Ie(R)){var d=e.schemaPath+".type",m=e.errSchemaPath+"/type",d=e.schemaPath+".type",m=e.errSchemaPath+"/type",U=T?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[U](A,y,e.opts.strictNumbers,!0)+") { ",j){var q="dataType"+h,X="coerced"+h;r+=" var "+q+" = typeof "+y+"; var "+X+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+q+" == 'object' && Array.isArray("+y+") && "+y+".length == 1) { "+y+" = "+y+"[0]; "+q+" = typeof "+y+"; if ("+e.util.checkDataType(e.schema.type,y,e.opts.strictNumbers)+") "+X+" = "+y+"; } "),r+=" if ("+X+" !== undefined) ; ";var fe=j;if(fe)for(var H,Y=-1,$=fe.length-1;Y<$;)H=fe[Y+=1],H=="string"?r+=" else if ("+q+" == 'number' || "+q+" == 'boolean') "+X+" = '' + "+y+"; else if ("+y+" === null) "+X+" = ''; ":H=="number"||H=="integer"?(r+=" else if ("+q+" == 'boolean' || "+y+" === null || ("+q+" == 'string' && "+y+" && "+y+" == +"+y+" ",H=="integer"&&(r+=" && !("+y+" % 1)"),r+=")) "+X+" = +"+y+"; "):H=="boolean"?r+=" else if ("+y+" === 'false' || "+y+" === 0 || "+y+" === null) "+X+" = false; else if ("+y+" === 'true' || "+y+" === 1) "+X+" = true; ":H=="null"?r+=" else if ("+y+" === '' || "+y+" === 0 || "+y+" === false) "+X+" = null; ":e.opts.coerceTypes=="array"&&H=="array"&&(r+=" else if ("+q+" == 'string' || "+q+" == 'number' || "+q+" == 'boolean' || "+y+" == null) "+X+" = ["+y+"]; ");r+=" else {   ";var g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(F||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",T?r+=""+A.join(","):r+=""+A,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",T?r+=""+A.join(","):r+=""+A,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!e.compositeRule&&M?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+X+" !== undefined) {  ";var Z=f?"data"+(f-1||""):"parentData",ie=f?e.dataPathArr[f]:"parentDataProperty";r+=" "+y+" = "+X+"; ",f||(r+="if ("+Z+" !== undefined)"),r+=" "+Z+"["+ie+"] = "+X+"; } "}else{var g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(F||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",T?r+=""+A.join(","):r+=""+A,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",T?r+=""+A.join(","):r+=""+A,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!e.compositeRule&&M?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!s)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",M&&(r+=" } if (errors === ",x?r+="0":r+="errs_"+h,r+=") { ",I+="}");else{var ue=e.RULES;if(ue){for(var R,Me=-1,Fe=ue.length-1;Me<Fe;)if(R=ue[Me+=1],Ie(R)){if(R.type&&(r+=" if ("+e.util.checkDataType(R.type,y,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(R.type=="object"&&e.schema.properties){var p=e.schema.properties,De=Object.keys(p),Ge=De;if(Ge)for(var ve,we=-1,He=Ge.length-1;we<He;){ve=Ge[we+=1];var Ke=p[ve];if(Ke.default!==void 0){var Ze=y+e.util.getProperty(ve);if(e.compositeRule){if(e.opts.strictDefaults){var w="default is ignored for: "+Ze;if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}}else r+=" if ("+Ze+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+Ze+" === null || "+Ze+" === '' "),r+=" ) "+Ze+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(Ke.default)+" ":r+=" "+JSON.stringify(Ke.default)+" ",r+="; "}}}else if(R.type=="array"&&Array.isArray(e.schema.items)){var S=e.schema.items;if(S){for(var Ke,Y=-1,G=S.length-1;Y<G;)if(Ke=S[Y+=1],Ke.default!==void 0){var Ze=y+"["+Y+"]";if(e.compositeRule){if(e.opts.strictDefaults){var w="default is ignored for: "+Ze;if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}}else r+=" if ("+Ze+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+Ze+" === null || "+Ze+" === '' "),r+=" ) "+Ze+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(Ke.default)+" ":r+=" "+JSON.stringify(Ke.default)+" ",r+="; "}}}}var Q=R.rules;if(Q){for(var K,J=-1,me=Q.length-1;J<me;)if(K=Q[J+=1],Ce(K)){var Se=K.code(e,K.keyword,R.type);Se&&(r+=" "+Se+" ",M&&(C+="}"))}}if(M&&(r+=" "+C+" ",C=""),R.type&&(r+=" } ",A&&A===R.type&&!j)){r+=" else { ";var d=e.schemaPath+".type",m=e.errSchemaPath+"/type",g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(F||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",T?r+=""+A.join(","):r+=""+A,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",T?r+=""+A.join(","):r+=""+A,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!e.compositeRule&&M?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}M&&(r+=" if (errors === ",x?r+="0":r+="errs_"+h,r+=") { ",I+="}")}}}M&&(r+=" "+I+" "),x?(a?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+E+" = errors === errs_"+h+";";function Ie(nt){for(var z=nt.rules,B=0;B<z.length;B++)if(Ce(z[B]))return!0}l(Ie,"$shouldUseGroup");function Ce(nt){return e.schema[nt.keyword]!==void 0||nt.implements&&Xe(nt)}l(Ce,"$shouldUseRule");function Xe(nt){for(var z=nt.implements,B=0;B<z.length;B++)if(e.schema[z[B]]!==void 0)return!0}return l(Xe,"$ruleImplementsSomeKeyword"),r},"generate_validate")});var NG=qe((Q8e,LG)=>{"use strict";ne();ae();re();var iS=eS(),rS=ff(),IG=tS(),XMe=pI(),PG=mI(),YMe=rS.ucs2length,ZMe=$x(),JMe=IG.Validation;LG.exports=_I;function _I(i,e,t,n){var r=this,a=this._opts,s=[void 0],o={},c=[],u={},h=[],f={},p=[];e=e||{schema:i,refVal:s,refs:o};var d=KMe.call(this,i,e,n),m=this._compilations[d.index];if(d.compiling)return m.callValidate=w;var y=this._formats,g=this.RULES;try{var b=E(i,e,t,n);m.validate=b;var x=m.callValidate;return x&&(x.schema=b.schema,x.errors=null,x.refs=b.refs,x.refVal=b.refVal,x.root=b.root,x.$async=b.$async,a.sourceCode&&(x.source=b.source)),b}finally{QMe.call(this,i,e,n)}function w(){var U=m.validate,q=U.apply(this,arguments);return w.errors=U.errors,q}l(w,"callValidate");function E(U,q,X,fe){var H=!q||q&&q.schema==U;if(q.schema!=e.schema)return _I.call(r,U,q,X,fe);var Y=U.$async===!0,$=PG({isTop:!0,schema:U,isRoot:H,baseId:fe,root:q,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:IG.MissingRef,RULES:g,validate:PG,util:rS,resolve:iS,resolveRef:M,usePattern:T,useDefault:j,useCustomRule:R,opts:a,formats:y,logger:r.logger,self:r});$=nS(s,iAe)+nS(c,eAe)+nS(h,tAe)+nS(p,nAe)+$,a.processCode&&($=a.processCode($,U));var Z;try{var ie=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",$);Z=ie(r,g,y,e,s,h,p,ZMe,YMe,JMe),s[0]=Z}catch(ue){throw r.logger.error("Error compiling schema, function code:",$),ue}return Z.schema=U,Z.errors=null,Z.refs=o,Z.refVal=s,Z.root=H?Z:q,Y&&(Z.$async=!0),a.sourceCode===!0&&(Z.source={code:$,patterns:c,defaults:h}),Z}l(E,"localCompile");function M(U,q,X){q=iS.url(U,q);var fe=o[q],H,Y;if(fe!==void 0)return H=s[fe],Y="refVal["+fe+"]",A(H,Y);if(!X&&e.refs){var $=e.refs[q];if($!==void 0)return H=e.refVal[$],Y=C(q,H),A(H,Y)}Y=C(q);var Z=iS.call(r,E,e,q);if(Z===void 0){var ie=t&&t[q];ie&&(Z=iS.inlineRef(ie,a.inlineRefs)?ie:_I.call(r,ie,e,t,U))}if(Z===void 0)I(q);else return F(q,Z),A(Z,Y)}l(M,"resolveRef");function C(U,q){var X=s.length;return s[X]=q,o[U]=X,"refVal"+X}l(C,"addLocalRef");function I(U){delete o[U]}l(I,"removeLocalRef");function F(U,q){var X=o[U];s[X]=q}l(F,"replaceLocalRef");function A(U,q){return typeof U=="object"||typeof U=="boolean"?{code:q,schema:U,inline:!0}:{code:q,$async:U&&!!U.$async}}l(A,"resolvedRef");function T(U){var q=u[U];return q===void 0&&(q=u[U]=c.length,c[q]=U),"pattern"+q}l(T,"usePattern");function j(U){switch(typeof U){case"boolean":case"number":return""+U;case"string":return rS.toQuotedString(U);case"object":if(U===null)return"null";var q=XMe(U),X=f[q];return X===void 0&&(X=f[q]=h.length,h[X]=U),"default"+X}}l(j,"useDefault");function R(U,q,X,fe){if(r._opts.validateSchema!==!1){var H=U.definition.dependencies;if(H&&!H.every(function(Ge){return Object.prototype.hasOwnProperty.call(X,Ge)}))throw new Error("parent schema must have all required keywords: "+H.join(","));var Y=U.definition.validateSchema;if(Y){var $=Y(q);if(!$){var Z="keyword schema is invalid: "+r.errorsText(Y.errors);if(r._opts.validateSchema=="log")r.logger.error(Z);else throw new Error(Z)}}}var ie=U.definition.compile,ue=U.definition.inline,Me=U.definition.macro,Fe;if(ie)Fe=ie.call(r,q,X,fe);else if(Me)Fe=Me.call(r,q,X,fe),a.validateSchema!==!1&&r.validateSchema(Fe,!0);else if(ue)Fe=ue.call(r,fe,U.keyword,q,X);else if(Fe=U.definition.validate,!Fe)return;if(Fe===void 0)throw new Error('custom keyword "'+U.keyword+'"failed to compile');var De=p.length;return p[De]=Fe,{code:"customRule"+De,validate:Fe}}l(R,"useCustomRule")}l(_I,"compile");function KMe(i,e,t){var n=CG.call(this,i,e,t);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:i,root:e,baseId:t},{index:n,compiling:!1})}l(KMe,"checkCompiling");function QMe(i,e,t){var n=CG.call(this,i,e,t);n>=0&&this._compilations.splice(n,1)}l(QMe,"endCompiling");function CG(i,e,t){for(var n=0;n<this._compilations.length;n++){var r=this._compilations[n];if(r.schema==i&&r.root==e&&r.baseId==t)return n}return-1}l(CG,"compIndex");function eAe(i,e){return"var pattern"+i+" = new RegExp("+rS.toQuotedString(e[i])+");"}l(eAe,"patternCode");function tAe(i){return"var default"+i+" = defaults["+i+"];"}l(tAe,"defaultCode");function iAe(i,e){return e[i]===void 0?"":"var refVal"+i+" = refVal["+i+"];"}l(iAe,"refValCode");function nAe(i){return"var customRule"+i+" = customRules["+i+"];"}l(nAe,"customRuleCode");function nS(i,e){if(!i.length)return"";for(var t="",n=0;n<i.length;n++)t+=e(n,i);return t}l(nS,"vars")});var BG=qe((rOe,OG)=>{"use strict";ne();ae();re();var aS=OG.exports=l(function(){this._cache={}},"Cache");aS.prototype.put=l(function(e,t){this._cache[e]=t},"Cache_put");aS.prototype.get=l(function(e){return this._cache[e]},"Cache_get");aS.prototype.del=l(function(e){delete this._cache[e]},"Cache_del");aS.prototype.clear=l(function(){this._cache={}},"Cache_clear")});var XG=qe((cOe,$G)=>{"use strict";ne();ae();re();var rAe=ff(),aAe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,sAe=[0,31,28,31,30,31,30,31,31,30,31,30,31],oAe=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,FG=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,lAe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,cAe=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,UG=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,zG=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,DG=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,VG=/^(?:\/(?:[^~/]|~0|~1)*)*$/,qG=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,HG=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;$G.exports=sS;function sS(i){return i=i=="full"?"full":"fast",rAe.copy(sS[i])}l(sS,"formats");sS.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":UG,url:zG,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:FG,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:jG,uuid:DG,"json-pointer":VG,"json-pointer-uri-fragment":qG,"relative-json-pointer":HG};sS.full={date:GG,time:WG,"date-time":fAe,uri:pAe,"uri-reference":cAe,"uri-template":UG,url:zG,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:FG,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:jG,uuid:DG,"json-pointer":VG,"json-pointer-uri-fragment":qG,"relative-json-pointer":HG};function uAe(i){return i%4===0&&(i%100!==0||i%400===0)}l(uAe,"isLeapYear");function GG(i){var e=i.match(aAe);if(!e)return!1;var t=+e[1],n=+e[2],r=+e[3];return n>=1&&n<=12&&r>=1&&r<=(n==2&&uAe(t)?29:sAe[n])}l(GG,"date");function WG(i,e){var t=i.match(oAe);if(!t)return!1;var n=t[1],r=t[2],a=t[3],s=t[5];return(n<=23&&r<=59&&a<=59||n==23&&r==59&&a==60)&&(!e||s)}l(WG,"time");var hAe=/t|\s/i;function fAe(i){var e=i.split(hAe);return e.length==2&&GG(e[0])&&WG(e[1],!0)}l(fAe,"date_time");var dAe=/\/|:/;function pAe(i){return dAe.test(i)&&lAe.test(i)}l(pAe,"uri");var mAe=/[^\\]\\Z/;function jG(i){if(mAe.test(i))return!1;try{return new RegExp(i),!0}catch{return!1}}l(jG,"regex")});var ZG=qe((pOe,YG)=>{"use strict";ne();ae();re();YG.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(s||""),f="valid"+a,p,d;if(o=="#"||o=="#/")e.isRoot?(p=e.async,d="validate"):(p=e.root.schema.$async===!0,d="root.refVal[0]");else{var m=e.resolveRef(e.baseId,o,e.isRoot);if(m===void 0){var y=e.MissingRefError.message(e.baseId,o);if(e.opts.missingRefs=="fail"){e.logger.error(y);var g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(y),u&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,o,y)}else if(m.inline){var x=e.util.copy(e);x.level++;var w="valid"+x.level;x.schema=m.schema,x.schemaPath="",x.errSchemaPath=o;var E=e.validate(x).replace(/validate\.schema/g,m.code);r+=" "+E+" ",u&&(r+=" if ("+w+") { ")}else p=m.$async===!0||e.async&&m.$async!==!1,d=m.code}if(d){var g=g||[];g.push(r),r="",e.opts.passContext?r+=" "+d+".call(this, ":r+=" "+d+"( ",r+=" "+h+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var M=s?"data"+(s-1||""):"parentData",C=s?e.dataPathArr[s]:"parentDataProperty";r+=" , "+M+" , "+C+", rootData)  ";var I=r;if(r=g.pop(),p){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(r+=" var "+f+"; "),r+=" try { await "+I+"; ",u&&(r+=" "+f+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(r+=" "+f+" = false; "),r+=" } ",u&&(r+=" if ("+f+") { ")}else r+=" if (!"+I+") { if (vErrors === null) vErrors = "+d+".errors; else vErrors = vErrors.concat("+d+".errors); errors = vErrors.length; } ",u&&(r+=" else { ")}return r},"generate_ref")});var KG=qe((yOe,JG)=>{"use strict";ne();ae();re();JG.exports=l(function(e,t,n){var r=" ",a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u=e.util.copy(e),h="";u.level++;var f="valid"+u.level,p=u.baseId,d=!0,m=a;if(m)for(var y,g=-1,b=m.length-1;g<b;)y=m[g+=1],(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all))&&(d=!1,u.schema=y,u.schemaPath=s+"["+g+"]",u.errSchemaPath=o+"/"+g,r+="  "+e.validate(u)+" ",u.baseId=p,c&&(r+=" if ("+f+") { ",h+="}"));return c&&(d?r+=" if (true) { ":r+=" "+h.slice(0,-1)+" "),r},"generate_allOf")});var eW=qe((EOe,QG)=>{"use strict";ne();ae();re();QG.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p="valid"+a,d="errs__"+a,m=e.util.copy(e),y="";m.level++;var g="valid"+m.level,b=o.every(function(F){return e.opts.strictKeywords?typeof F=="object"&&Object.keys(F).length>0||F===!1:e.util.schemaHasRules(F,e.RULES.all)});if(b){var x=m.baseId;r+=" var "+d+" = errors; var "+p+" = false;  ";var w=e.compositeRule;e.compositeRule=m.compositeRule=!0;var E=o;if(E)for(var M,C=-1,I=E.length-1;C<I;)M=E[C+=1],m.schema=M,m.schemaPath=c+"["+C+"]",m.errSchemaPath=u+"/"+C,r+="  "+e.validate(m)+" ",m.baseId=x,r+=" "+p+" = "+p+" || "+g+"; if (!"+p+") { ",y+="}";e.compositeRule=m.compositeRule=w,r+=" "+y+" if (!"+p+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else h&&(r+=" if (true) { ");return r},"generate_anyOf")});var iW=qe((ROe,tW)=>{"use strict";ne();ae();re();tW.exports=l(function(e,t,n){var r=" ",a=e.schema[t],s=e.errSchemaPath+"/"+t,o=!e.opts.allErrors,c=e.util.toQuotedString(a);return e.opts.$comment===!0?r+=" console.log("+c+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+c+", "+e.util.toQuotedString(s)+", validate.root.schema);"),r},"generate_comment")});var rW=qe((NOe,nW)=>{"use strict";ne();ae();re();nW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p="valid"+a,d=e.opts.$data&&o&&o.$data,m;d?(r+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",m="schema"+a):m=o,d||(r+=" var schema"+a+" = validate.schema"+c+";"),r+="var "+p+" = equal("+f+", schema"+a+"); if (!"+p+") {   ";var y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+a+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var g=r;return r=y.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",h&&(r+=" else { "),r},"generate_const")});var sW=qe((zOe,aW)=>{"use strict";ne();ae();re();aW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p="valid"+a,d="errs__"+a,m=e.util.copy(e),y="";m.level++;var g="valid"+m.level,b="i"+a,x=m.dataLevel=e.dataLevel+1,w="data"+x,E=e.baseId,M=e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+d+" = errors;var "+p+";",M){var C=e.compositeRule;e.compositeRule=m.compositeRule=!0,m.schema=o,m.schemaPath=c,m.errSchemaPath=u,r+=" var "+g+" = false; for (var "+b+" = 0; "+b+" < "+f+".length; "+b+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers,!0);var I=f+"["+b+"]";m.dataPathArr[x]=b;var F=e.validate(m);m.baseId=E,e.util.varOccurences(F,w)<2?r+=" "+e.util.varReplace(F,w,I)+" ":r+=" var "+w+" = "+I+"; "+F+" ",r+=" if ("+g+") break; }  ",e.compositeRule=m.compositeRule=C,r+=" "+y+" if (!"+g+") {"}else r+=" if ("+f+".length == 0) {";var A=A||[];A.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var T=r;return r=A.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",M&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r},"generate_contains")});var lW=qe((GOe,oW)=>{"use strict";ne();ae();re();oW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p="errs__"+a,d=e.util.copy(e),m="";d.level++;var y="valid"+d.level,g={},b={},x=e.opts.ownProperties;for(C in o)if(C!="__proto__"){var w=o[C],E=Array.isArray(w)?b:g;E[C]=w}r+="var "+p+" = errors;";var M=e.errorPath;r+="var missing"+a+";";for(var C in b)if(E=b[C],E.length){if(r+=" if ( "+f+e.util.getProperty(C)+" !== undefined ",x&&(r+=" && Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(C)+"') "),h){r+=" && ( ";var I=E;if(I)for(var F,A=-1,T=I.length-1;A<T;){F=I[A+=1],A&&(r+=" || ");var j=e.util.getProperty(F),R=f+j;r+=" ( ( "+R+" === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(F)+"') "),r+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?F:j)+") ) "}r+=")) {  ";var U="missing"+a,q="' + "+U+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(M,U,!0):M+" + "+U);var X=X||[];X.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(C)+"', missingProperty: '"+q+"', depsCount: "+E.length+", deps: '"+e.util.escapeQuotes(E.length==1?E[0]:E.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",E.length==1?r+="property "+e.util.escapeQuotes(E[0]):r+="properties "+e.util.escapeQuotes(E.join(", ")),r+=" when property "+e.util.escapeQuotes(C)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var fe=r;r=X.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+fe+"]); ":r+=" validate.errors = ["+fe+"]; return false; ":r+=" var err = "+fe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var H=E;if(H)for(var F,Y=-1,$=H.length-1;Y<$;){F=H[Y+=1];var j=e.util.getProperty(F),q=e.util.escapeQuotes(F),R=f+j;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(M,F,e.opts.jsonPointers)),r+=" if ( "+R+" === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(F)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(C)+"', missingProperty: '"+q+"', depsCount: "+E.length+", deps: '"+e.util.escapeQuotes(E.length==1?E[0]:E.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",E.length==1?r+="property "+e.util.escapeQuotes(E[0]):r+="properties "+e.util.escapeQuotes(E.join(", ")),r+=" when property "+e.util.escapeQuotes(C)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",h&&(m+="}",r+=" else { ")}e.errorPath=M;var Z=d.baseId;for(var C in g){var w=g[C];(e.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:e.util.schemaHasRules(w,e.RULES.all))&&(r+=" "+y+" = true; if ( "+f+e.util.getProperty(C)+" !== undefined ",x&&(r+=" && Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(C)+"') "),r+=") { ",d.schema=w,d.schemaPath=c+e.util.getProperty(C),d.errSchemaPath=u+"/"+e.util.escapeFragment(C),r+="  "+e.validate(d)+" ",d.baseId=Z,r+=" }  ",h&&(r+=" if ("+y+") { ",m+="}"))}return h&&(r+="   "+m+" if ("+p+" == errors) {"),r},"generate_dependencies")});var uW=qe((YOe,cW)=>{"use strict";ne();ae();re();cW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p="valid"+a,d=e.opts.$data&&o&&o.$data,m;d?(r+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",m="schema"+a):m=o;var y="i"+a,g="schema"+a;d||(r+=" var "+g+" = validate.schema"+c+";"),r+="var "+p+";",d&&(r+=" if (schema"+a+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+a+")) "+p+" = false; else {"),r+=""+p+" = false;for (var "+y+"=0; "+y+"<"+g+".length; "+y+"++) if (equal("+f+", "+g+"["+y+"])) { "+p+" = true; break; }",d&&(r+="  }  "),r+=" if (!"+p+") {   ";var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+a+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var x=r;return r=b.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",h&&(r+=" else { "),r},"generate_enum")});var fW=qe((eBe,hW)=>{"use strict";ne();ae();re();hW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||"");if(e.opts.format===!1)return h&&(r+=" if (true) { "),r;var p=e.opts.$data&&o&&o.$data,d;p?(r+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",d="schema"+a):d=o;var m=e.opts.unknownFormats,y=Array.isArray(m);if(p){var g="format"+a,b="isObject"+a,x="formatType"+a;r+=" var "+g+" = formats["+d+"]; var "+b+" = typeof "+g+" == 'object' && !("+g+" instanceof RegExp) && "+g+".validate; var "+x+" = "+b+" && "+g+".type || 'string'; if ("+b+") { ",e.async&&(r+=" var async"+a+" = "+g+".async; "),r+=" "+g+" = "+g+".validate; } if (  ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),r+=" (",m!="ignore"&&(r+=" ("+d+" && !"+g+" ",y&&(r+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),r+=") || "),r+=" ("+g+" && "+x+" == '"+n+"' && !(typeof "+g+" == 'function' ? ",e.async?r+=" (async"+a+" ? await "+g+"("+f+") : "+g+"("+f+")) ":r+=" "+g+"("+f+") ",r+=" : "+g+".test("+f+"))))) {"}else{var g=e.formats[o];if(!g){if(m=="ignore")return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),h&&(r+=" if (true) { "),r;if(y&&m.indexOf(o)>=0)return h&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var b=typeof g=="object"&&!(g instanceof RegExp)&&g.validate,x=b&&g.type||"string";if(b){var w=g.async===!0;g=g.validate}if(x!=n)return h&&(r+=" if (true) { "),r;if(w){if(!e.async)throw new Error("async format in sync schema");var E="formats"+e.util.getProperty(o)+".validate";r+=" if (!(await "+E+"("+f+"))) { "}else{r+=" if (! ";var E="formats"+e.util.getProperty(o);b&&(E+=".validate"),typeof g=="function"?r+=" "+E+"("+f+") ":r+=" "+E+".test("+f+") ",r+=") { "}}var M=M||[];M.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",p?r+=""+d:r+=""+e.util.toQuotedString(o),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,p?r+="' + "+d+" + '":r+=""+e.util.escapeQuotes(o),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+c:r+=""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var C=r;return r=M.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { "),r},"generate_format")});var pW=qe((aBe,dW)=>{"use strict";ne();ae();re();dW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p="valid"+a,d="errs__"+a,m=e.util.copy(e);m.level++;var y="valid"+m.level,g=e.schema.then,b=e.schema.else,x=g!==void 0&&(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all)),w=b!==void 0&&(e.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:e.util.schemaHasRules(b,e.RULES.all)),E=m.baseId;if(x||w){var M;m.createErrors=!1,m.schema=o,m.schemaPath=c,m.errSchemaPath=u,r+=" var "+d+" = errors; var "+p+" = true;  ";var C=e.compositeRule;e.compositeRule=m.compositeRule=!0,r+="  "+e.validate(m)+" ",m.baseId=E,m.createErrors=!0,r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=m.compositeRule=C,x?(r+=" if ("+y+") {  ",m.schema=e.schema.then,m.schemaPath=e.schemaPath+".then",m.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(m)+" ",m.baseId=E,r+=" "+p+" = "+y+"; ",x&&w?(M="ifClause"+a,r+=" var "+M+" = 'then'; "):M="'then'",r+=" } ",w&&(r+=" else { ")):r+=" if (!"+y+") { ",w&&(m.schema=e.schema.else,m.schemaPath=e.schemaPath+".else",m.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(m)+" ",m.baseId=E,r+=" "+p+" = "+y+"; ",x&&w?(M="ifClause"+a,r+=" var "+M+" = 'else'; "):M="'else'",r+=" } "),r+=" if (!"+p+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+M+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+M+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",h&&(r+=" else { ")}else h&&(r+=" if (true) { ");return r},"generate_if")});var _W=qe((uBe,mW)=>{"use strict";ne();ae();re();mW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p="valid"+a,d="errs__"+a,m=e.util.copy(e),y="";m.level++;var g="valid"+m.level,b="i"+a,x=m.dataLevel=e.dataLevel+1,w="data"+x,E=e.baseId;if(r+="var "+d+" = errors;var "+p+";",Array.isArray(o)){var M=e.schema.additionalItems;if(M===!1){r+=" "+p+" = "+f+".length <= "+o.length+"; ";var C=u;u=e.errSchemaPath+"/additionalItems",r+="  if (!"+p+") {   ";var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var F=r;r=I.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+F+"]); ":r+=" validate.errors = ["+F+"]; return false; ":r+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u=C,h&&(y+="}",r+=" else { ")}var A=o;if(A){for(var T,j=-1,R=A.length-1;j<R;)if(T=A[j+=1],e.opts.strictKeywords?typeof T=="object"&&Object.keys(T).length>0||T===!1:e.util.schemaHasRules(T,e.RULES.all)){r+=" "+g+" = true; if ("+f+".length > "+j+") { ";var U=f+"["+j+"]";m.schema=T,m.schemaPath=c+"["+j+"]",m.errSchemaPath=u+"/"+j,m.errorPath=e.util.getPathExpr(e.errorPath,j,e.opts.jsonPointers,!0),m.dataPathArr[x]=j;var q=e.validate(m);m.baseId=E,e.util.varOccurences(q,w)<2?r+=" "+e.util.varReplace(q,w,U)+" ":r+=" var "+w+" = "+U+"; "+q+" ",r+=" }  ",h&&(r+=" if ("+g+") { ",y+="}")}}if(typeof M=="object"&&(e.opts.strictKeywords?typeof M=="object"&&Object.keys(M).length>0||M===!1:e.util.schemaHasRules(M,e.RULES.all))){m.schema=M,m.schemaPath=e.schemaPath+".additionalItems",m.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+g+" = true; if ("+f+".length > "+o.length+") {  for (var "+b+" = "+o.length+"; "+b+" < "+f+".length; "+b+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers,!0);var U=f+"["+b+"]";m.dataPathArr[x]=b;var q=e.validate(m);m.baseId=E,e.util.varOccurences(q,w)<2?r+=" "+e.util.varReplace(q,w,U)+" ":r+=" var "+w+" = "+U+"; "+q+" ",h&&(r+=" if (!"+g+") break; "),r+=" } }  ",h&&(r+=" if ("+g+") { ",y+="}")}}else if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){m.schema=o,m.schemaPath=c,m.errSchemaPath=u,r+="  for (var "+b+" = 0; "+b+" < "+f+".length; "+b+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers,!0);var U=f+"["+b+"]";m.dataPathArr[x]=b;var q=e.validate(m);m.baseId=E,e.util.varOccurences(q,w)<2?r+=" "+e.util.varReplace(q,w,U)+" ":r+=" var "+w+" = "+U+"; "+q+" ",h&&(r+=" if (!"+g+") break; "),r+=" }"}return h&&(r+=" "+y+" if ("+d+" == errors) {"),r},"generate_items")});var gI=qe((mBe,gW)=>{"use strict";ne();ae();re();gW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,E,f="data"+(s||""),p=e.opts.$data&&o&&o.$data,d;p?(r+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",d="schema"+a):d=o;var m=t=="maximum",y=m?"exclusiveMaximum":"exclusiveMinimum",g=e.schema[y],b=e.opts.$data&&g&&g.$data,x=m?"<":">",w=m?">":"<",E=void 0;if(!(p||typeof o=="number"||o===void 0))throw new Error(t+" must be number");if(!(b||g===void 0||typeof g=="number"||typeof g=="boolean"))throw new Error(y+" must be number or boolean");if(b){var M=e.util.getData(g.$data,s,e.dataPathArr),C="exclusive"+a,I="exclType"+a,F="exclIsNumber"+a,A="op"+a,T="' + "+A+" + '";r+=" var schemaExcl"+a+" = "+M+"; ",M="schemaExcl"+a,r+=" var "+C+"; var "+I+" = typeof "+M+"; if ("+I+" != 'boolean' && "+I+" != 'undefined' && "+I+" != 'number') { ";var E=y,j=j||[];j.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(E||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+y+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var R=r;r=j.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+R+"]); ":r+=" validate.errors = ["+R+"]; return false; ":r+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" "+I+" == 'number' ? ( ("+C+" = "+d+" === undefined || "+M+" "+x+"= "+d+") ? "+f+" "+w+"= "+M+" : "+f+" "+w+" "+d+" ) : ( ("+C+" = "+M+" === true) ? "+f+" "+w+"= "+d+" : "+f+" "+w+" "+d+" ) || "+f+" !== "+f+") { var op"+a+" = "+C+" ? '"+x+"' : '"+x+"='; ",o===void 0&&(E=y,u=e.errSchemaPath+"/"+y,d=M,p=b)}else{var F=typeof g=="number",T=x;if(F&&p){var A="'"+T+"'";r+=" if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" ( "+d+" === undefined || "+g+" "+x+"= "+d+" ? "+f+" "+w+"= "+g+" : "+f+" "+w+" "+d+" ) || "+f+" !== "+f+") { "}else{F&&o===void 0?(C=!0,E=y,u=e.errSchemaPath+"/"+y,d=g,w+="="):(F&&(d=Math[m?"min":"max"](g,o)),g===(F?d:!0)?(C=!0,E=y,u=e.errSchemaPath+"/"+y,w+="="):(C=!1,T+="="));var A="'"+T+"'";r+=" if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" "+f+" "+w+" "+d+" || "+f+" !== "+f+") { "}}E=E||t;var j=j||[];j.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(E||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+A+", limit: "+d+", exclusive: "+C+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+T+" ",p?r+="' + "+d:r+=""+d+"'"),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+c:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var R=r;return r=j.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+R+"]); ":r+=" validate.errors = ["+R+"]; return false; ":r+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { "),r},"generate__limit")});var bI=qe((vBe,bW)=>{"use strict";ne();ae();re();bW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,y,f="data"+(s||""),p=e.opts.$data&&o&&o.$data,d;if(p?(r+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",d="schema"+a):d=o,!(p||typeof o=="number"))throw new Error(t+" must be number");var m=t=="maxItems"?">":"<";r+="if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" "+f+".length "+m+" "+d+") { ";var y=t,g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(y||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxItems"?r+="more":r+="fewer",r+=" than ",p?r+="' + "+d+" + '":r+=""+o,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+c:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},"generate__limitItems")});var yI=qe((MBe,yW)=>{"use strict";ne();ae();re();yW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,y,f="data"+(s||""),p=e.opts.$data&&o&&o.$data,d;if(p?(r+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",d="schema"+a):d=o,!(p||typeof o=="number"))throw new Error(t+" must be number");var m=t=="maxLength"?">":"<";r+="if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),e.opts.unicode===!1?r+=" "+f+".length ":r+=" ucs2length("+f+") ",r+=" "+m+" "+d+") { ";var y=t,g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(y||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",t=="maxLength"?r+="longer":r+="shorter",r+=" than ",p?r+="' + "+d+" + '":r+=""+o,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+c:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},"generate__limitLength")});var vI=qe((PBe,vW)=>{"use strict";ne();ae();re();vW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,y,f="data"+(s||""),p=e.opts.$data&&o&&o.$data,d;if(p?(r+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",d="schema"+a):d=o,!(p||typeof o=="number"))throw new Error(t+" must be number");var m=t=="maxProperties"?">":"<";r+="if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),r+=" Object.keys("+f+").length "+m+" "+d+") { ";var y=t,g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(y||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+d+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxProperties"?r+="more":r+="fewer",r+=" than ",p?r+="' + "+d+" + '":r+=""+o,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+c:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var b=r;return r=g.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},"generate__limitProperties")});var xW=qe((OBe,wW)=>{"use strict";ne();ae();re();wW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p=e.opts.$data&&o&&o.$data,d;if(p?(r+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",d="schema"+a):d=o,!(p||typeof o=="number"))throw new Error(t+" must be number");r+="var division"+a+";if (",p&&(r+=" "+d+" !== undefined && ( typeof "+d+" != 'number' || "),r+=" (division"+a+" = "+f+" / "+d+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+a+" !== parseInt(division"+a+") ",r+=" ) ",p&&(r+="  )  "),r+=" ) {   ";var m=m||[];m.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+d+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",p?r+="' + "+d:r+=""+d+"'"),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+c:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var y=r;return r=m.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},"generate_multipleOf")});var EW=qe((DBe,SW)=>{"use strict";ne();ae();re();SW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p="errs__"+a,d=e.util.copy(e);d.level++;var m="valid"+d.level;if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=c,d.errSchemaPath=u,r+=" var "+p+" = errors;  ";var y=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1;var g;d.opts.allErrors&&(g=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,g&&(d.opts.allErrors=g),e.compositeRule=d.compositeRule=y,r+=" if ("+m+") {   ";var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var x=r;r=b.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(r+=" if (false) { ");return r},"generate_not")});var AW=qe((WBe,MW)=>{"use strict";ne();ae();re();MW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p="valid"+a,d="errs__"+a,m=e.util.copy(e),y="";m.level++;var g="valid"+m.level,b=m.baseId,x="prevValid"+a,w="passingSchemas"+a;r+="var "+d+" = errors , "+x+" = false , "+p+" = false , "+w+" = null; ";var E=e.compositeRule;e.compositeRule=m.compositeRule=!0;var M=o;if(M)for(var C,I=-1,F=M.length-1;I<F;)C=M[I+=1],(e.opts.strictKeywords?typeof C=="object"&&Object.keys(C).length>0||C===!1:e.util.schemaHasRules(C,e.RULES.all))?(m.schema=C,m.schemaPath=c+"["+I+"]",m.errSchemaPath=u+"/"+I,r+="  "+e.validate(m)+" ",m.baseId=b):r+=" var "+g+" = true; ",I&&(r+=" if ("+g+" && "+x+") { "+p+" = false; "+w+" = ["+w+", "+I+"]; } else { ",y+="}"),r+=" if ("+g+") { "+p+" = "+x+" = true; "+w+" = "+I+"; }";return e.compositeRule=m.compositeRule=E,r+=""+y+"if (!"+p+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+w+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},"generate_oneOf")});var kW=qe((ZBe,TW)=>{"use strict";ne();ae();re();TW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p=e.opts.$data&&o&&o.$data,d;p?(r+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",d="schema"+a):d=o;var m=p?"(new RegExp("+d+"))":e.usePattern(o);r+="if ( ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),r+=" !"+m+".test("+f+") ) {   ";var y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",p?r+=""+d:r+=""+e.util.toQuotedString(o),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,p?r+="' + "+d+" + '":r+=""+e.util.escapeQuotes(o),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+c:r+=""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var g=r;return r=y.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",h&&(r+=" else { "),r},"generate_pattern")});var PW=qe((tFe,RW)=>{"use strict";ne();ae();re();RW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p="errs__"+a,d=e.util.copy(e),m="";d.level++;var y="valid"+d.level,g="key"+a,b="idx"+a,x=d.dataLevel=e.dataLevel+1,w="data"+x,E="dataProperties"+a,M=Object.keys(o||{}).filter(Y),C=e.schema.patternProperties||{},I=Object.keys(C).filter(Y),F=e.schema.additionalProperties,A=M.length||I.length,T=F===!1,j=typeof F=="object"&&Object.keys(F).length,R=e.opts.removeAdditional,U=T||j||R,q=e.opts.ownProperties,X=e.baseId,fe=e.schema.required;if(fe&&!(e.opts.$data&&fe.$data)&&fe.length<e.opts.loopRequired)var H=e.util.toHash(fe);function Y(L){return L!=="__proto__"}if(l(Y,"notProto"),r+="var "+p+" = errors;var "+y+" = true;",q&&(r+=" var "+E+" = undefined;"),U){if(q?r+=" "+E+" = "+E+" || Object.keys("+f+"); for (var "+b+"=0; "+b+"<"+E+".length; "+b+"++) { var "+g+" = "+E+"["+b+"]; ":r+=" for (var "+g+" in "+f+") { ",A){if(r+=" var isAdditional"+a+" = !(false ",M.length)if(M.length>8)r+=" || validate.schema"+c+".hasOwnProperty("+g+") ";else{var $=M;if($)for(var Z,ie=-1,ue=$.length-1;ie<ue;)Z=$[ie+=1],r+=" || "+g+" == "+e.util.toQuotedString(Z)+" "}if(I.length){var Me=I;if(Me)for(var Fe,De=-1,Ge=Me.length-1;De<Ge;)Fe=Me[De+=1],r+=" || "+e.usePattern(Fe)+".test("+g+") "}r+=" ); if (isAdditional"+a+") { "}if(R=="all")r+=" delete "+f+"["+g+"]; ";else{var ve=e.errorPath,we="' + "+g+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers)),T)if(R)r+=" delete "+f+"["+g+"]; ";else{r+=" "+y+" = false; ";var He=u;u=e.errSchemaPath+"/additionalProperties";var Ke=Ke||[];Ke.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+we+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var Ze=r;r=Ke.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+Ze+"]); ":r+=" validate.errors = ["+Ze+"]; return false; ":r+=" var err = "+Ze+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=He,h&&(r+=" break; ")}else if(j)if(R=="failing"){r+=" var "+p+" = errors;  ";var S=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=F,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var G=f+"["+g+"]";d.dataPathArr[x]=g;var Q=e.validate(d);d.baseId=X,e.util.varOccurences(Q,w)<2?r+=" "+e.util.varReplace(Q,w,G)+" ":r+=" var "+w+" = "+G+"; "+Q+" ",r+=" if (!"+y+") { errors = "+p+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+f+"["+g+"]; }  ",e.compositeRule=d.compositeRule=S}else{d.schema=F,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var G=f+"["+g+"]";d.dataPathArr[x]=g;var Q=e.validate(d);d.baseId=X,e.util.varOccurences(Q,w)<2?r+=" "+e.util.varReplace(Q,w,G)+" ":r+=" var "+w+" = "+G+"; "+Q+" ",h&&(r+=" if (!"+y+") break; ")}e.errorPath=ve}A&&(r+=" } "),r+=" }  ",h&&(r+=" if ("+y+") { ",m+="}")}var K=e.opts.useDefaults&&!e.compositeRule;if(M.length){var J=M;if(J)for(var Z,me=-1,Se=J.length-1;me<Se;){Z=J[me+=1];var Ie=o[Z];if(e.opts.strictKeywords?typeof Ie=="object"&&Object.keys(Ie).length>0||Ie===!1:e.util.schemaHasRules(Ie,e.RULES.all)){var Ce=e.util.getProperty(Z),G=f+Ce,Xe=K&&Ie.default!==void 0;d.schema=Ie,d.schemaPath=c+Ce,d.errSchemaPath=u+"/"+e.util.escapeFragment(Z),d.errorPath=e.util.getPath(e.errorPath,Z,e.opts.jsonPointers),d.dataPathArr[x]=e.util.toQuotedString(Z);var Q=e.validate(d);if(d.baseId=X,e.util.varOccurences(Q,w)<2){Q=e.util.varReplace(Q,w,G);var nt=G}else{var nt=w;r+=" var "+w+" = "+G+"; "}if(Xe)r+=" "+Q+" ";else{if(H&&H[Z]){r+=" if ( "+nt+" === undefined ",q&&(r+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(Z)+"') "),r+=") { "+y+" = false; ";var ve=e.errorPath,He=u,z=e.util.escapeQuotes(Z);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(ve,Z,e.opts.jsonPointers)),u=e.errSchemaPath+"/required";var Ke=Ke||[];Ke.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+z+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+z+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var Ze=r;r=Ke.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+Ze+"]); ":r+=" validate.errors = ["+Ze+"]; return false; ":r+=" var err = "+Ze+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=He,e.errorPath=ve,r+=" } else { "}else h?(r+=" if ( "+nt+" === undefined ",q&&(r+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(Z)+"') "),r+=") { "+y+" = true; } else { "):(r+=" if ("+nt+" !== undefined ",q&&(r+=" &&   Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(Z)+"') "),r+=" ) { ");r+=" "+Q+" } "}}h&&(r+=" if ("+y+") { ",m+="}")}}if(I.length){var B=I;if(B)for(var Fe,Ae=-1,W=B.length-1;Ae<W;){Fe=B[Ae+=1];var Ie=C[Fe];if(e.opts.strictKeywords?typeof Ie=="object"&&Object.keys(Ie).length>0||Ie===!1:e.util.schemaHasRules(Ie,e.RULES.all)){d.schema=Ie,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(Fe),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(Fe),q?r+=" "+E+" = "+E+" || Object.keys("+f+"); for (var "+b+"=0; "+b+"<"+E+".length; "+b+"++) { var "+g+" = "+E+"["+b+"]; ":r+=" for (var "+g+" in "+f+") { ",r+=" if ("+e.usePattern(Fe)+".test("+g+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var G=f+"["+g+"]";d.dataPathArr[x]=g;var Q=e.validate(d);d.baseId=X,e.util.varOccurences(Q,w)<2?r+=" "+e.util.varReplace(Q,w,G)+" ":r+=" var "+w+" = "+G+"; "+Q+" ",h&&(r+=" if (!"+y+") break; "),r+=" } ",h&&(r+=" else "+y+" = true; "),r+=" }  ",h&&(r+=" if ("+y+") { ",m+="}")}}}return h&&(r+=" "+m+" if ("+p+" == errors) {"),r},"generate_properties")});var CW=qe((sFe,IW)=>{"use strict";ne();ae();re();IW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p="errs__"+a,d=e.util.copy(e),m="";d.level++;var y="valid"+d.level;if(r+="var "+p+" = errors;",e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=c,d.errSchemaPath=u;var g="key"+a,b="idx"+a,x="i"+a,w="' + "+g+" + '",E=d.dataLevel=e.dataLevel+1,M="data"+E,C="dataProperties"+a,I=e.opts.ownProperties,F=e.baseId;I&&(r+=" var "+C+" = undefined; "),I?r+=" "+C+" = "+C+" || Object.keys("+f+"); for (var "+b+"=0; "+b+"<"+C+".length; "+b+"++) { var "+g+" = "+C+"["+b+"]; ":r+=" for (var "+g+" in "+f+") { ",r+=" var startErrs"+a+" = errors; ";var A=g,T=e.compositeRule;e.compositeRule=d.compositeRule=!0;var j=e.validate(d);d.baseId=F,e.util.varOccurences(j,M)<2?r+=" "+e.util.varReplace(j,M,A)+" ":r+=" var "+M+" = "+A+"; "+j+" ",e.compositeRule=d.compositeRule=T,r+=" if (!"+y+") { for (var "+x+"=startErrs"+a+"; "+x+"<errors; "+x+"++) { vErrors["+x+"].propertyName = "+g+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+w+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+w+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),h&&(r+=" break; "),r+=" } }"}return h&&(r+=" "+m+" if ("+p+" == errors) {"),r},"generate_propertyNames")});var NW=qe((hFe,LW)=>{"use strict";ne();ae();re();LW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p="valid"+a,d=e.opts.$data&&o&&o.$data,m;d?(r+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",m="schema"+a):m=o;var y="schema"+a;if(!d)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var g=[],b=o;if(b)for(var x,w=-1,E=b.length-1;w<E;){x=b[w+=1];var M=e.schema.properties[x];M&&(e.opts.strictKeywords?typeof M=="object"&&Object.keys(M).length>0||M===!1:e.util.schemaHasRules(M,e.RULES.all))||(g[g.length]=x)}}else var g=o;if(d||g.length){var C=e.errorPath,I=d||g.length>=e.opts.loopRequired,F=e.opts.ownProperties;if(h)if(r+=" var missing"+a+"; ",I){d||(r+=" var "+y+" = validate.schema"+c+"; ");var A="i"+a,T="schema"+a+"["+A+"]",j="' + "+T+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(C,T,e.opts.jsonPointers)),r+=" var "+p+" = true; ",d&&(r+=" if (schema"+a+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+a+")) "+p+" = false; else {"),r+=" for (var "+A+" = 0; "+A+" < "+y+".length; "+A+"++) { "+p+" = "+f+"["+y+"["+A+"]] !== undefined ",F&&(r+=" &&   Object.prototype.hasOwnProperty.call("+f+", "+y+"["+A+"]) "),r+="; if (!"+p+") break; } ",d&&(r+="  }  "),r+="  if (!"+p+") {   ";var R=R||[];R.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var U=r;r=R.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+U+"]); ":r+=" validate.errors = ["+U+"]; return false; ":r+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var q=g;if(q)for(var X,A=-1,fe=q.length-1;A<fe;){X=q[A+=1],A&&(r+=" || ");var H=e.util.getProperty(X),Y=f+H;r+=" ( ( "+Y+" === undefined ",F&&(r+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(X)+"') "),r+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?X:H)+") ) "}r+=") {  ";var T="missing"+a,j="' + "+T+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(C,T,!0):C+" + "+T);var R=R||[];R.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var U=r;r=R.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+U+"]); ":r+=" validate.errors = ["+U+"]; return false; ":r+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(I){d||(r+=" var "+y+" = validate.schema"+c+"; ");var A="i"+a,T="schema"+a+"["+A+"]",j="' + "+T+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(C,T,e.opts.jsonPointers)),d&&(r+=" if ("+y+" && !Array.isArray("+y+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+y+" !== undefined) { "),r+=" for (var "+A+" = 0; "+A+" < "+y+".length; "+A+"++) { if ("+f+"["+y+"["+A+"]] === undefined ",F&&(r+=" || ! Object.prototype.hasOwnProperty.call("+f+", "+y+"["+A+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(r+="  }  ")}else{var $=g;if($)for(var X,Z=-1,ie=$.length-1;Z<ie;){X=$[Z+=1];var H=e.util.getProperty(X),j=e.util.escapeQuotes(X),Y=f+H;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(C,X,e.opts.jsonPointers)),r+=" if ( "+Y+" === undefined ",F&&(r+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(X)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+j+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+j+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=C}else h&&(r+=" if (true) {");return r},"generate_required")});var BW=qe((_Fe,OW)=>{"use strict";ne();ae();re();OW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f="data"+(s||""),p="valid"+a,d=e.opts.$data&&o&&o.$data,m;if(d?(r+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",m="schema"+a):m=o,(o||d)&&e.opts.uniqueItems!==!1){d&&(r+=" var "+p+"; if ("+m+" === false || "+m+" === undefined) "+p+" = true; else if (typeof "+m+" != 'boolean') "+p+" = false; else { "),r+=" var i = "+f+".length , "+p+" = true , j; if (i > 1) { ";var y=e.schema.items&&e.schema.items.type,g=Array.isArray(y);if(!y||y=="object"||y=="array"||g&&(y.indexOf("object")>=0||y.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+p+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; ";var b="checkDataType"+(g?"s":"");r+=" if ("+e.util[b](y,"item",e.opts.strictNumbers,!0)+") continue; ",g&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+p+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",d&&(r+="  }  "),r+=" if (!"+p+") {   ";var x=x||[];x.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",d?r+="validate.schema"+c:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),r+=" } "):r+=" {} ";var w=r;r=x.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",h&&(r+=" else { ")}else h&&(r+=" if (true) { ");return r},"generate_uniqueItems")});var UW=qe((wFe,FW)=>{"use strict";ne();ae();re();FW.exports={$ref:ZG(),allOf:KG(),anyOf:eW(),$comment:iW(),const:rW(),contains:sW(),dependencies:lW(),enum:uW(),format:fW(),if:pW(),items:_W(),maximum:gI(),minimum:gI(),maxItems:bI(),minItems:bI(),maxLength:yI(),minLength:yI(),maxProperties:vI(),minProperties:vI(),multipleOf:xW(),not:EW(),oneOf:AW(),pattern:kW(),properties:PW(),propertyNames:CW(),required:NW(),uniqueItems:BW(),validate:mI()}});var VW=qe((MFe,DW)=>{"use strict";ne();ae();re();var zW=UW(),wI=ff().toHash;DW.exports=l(function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=wI(t),e.types=wI(r),e.forEach(function(a){a.rules=a.rules.map(function(s){var o;if(typeof s=="object"){var c=Object.keys(s)[0];o=s[c],s=c,o.forEach(function(h){t.push(h),e.all[h]=!0})}t.push(s);var u=e.all[s]={keyword:s,code:zW[s],implements:o};return u}),e.all.$comment={keyword:"$comment",code:zW.$comment},a.type&&(e.types[a.type]=a)}),e.keywords=wI(t.concat(n)),e.custom={},e},"rules")});var GW=qe((PFe,HW)=>{"use strict";ne();ae();re();var qW=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];HW.exports=function(i,e){for(var t=0;t<e.length;t++){i=JSON.parse(JSON.stringify(i));var n=e[t].split("/"),r=i,a;for(a=1;a<n.length;a++)r=r[n[a]];for(a=0;a<qW.length;a++){var s=qW[a],o=r[s];o&&(r[s]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return i}});var $W=qe((NFe,jW)=>{"use strict";ne();ae();re();var _Ae=tS().MissingRef;jW.exports=WW;function WW(i,e,t){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(t=e,e=void 0);var r=a(i).then(function(){var o=n._addSchema(i,void 0,e);return o.validate||s(o)});return t&&r.then(function(o){t(null,o)},t),r;function a(o){var c=o.$schema;return c&&!n.getSchema(c)?WW.call(n,{$ref:c},!0):Promise.resolve()}l(a,"loadMetaSchemaOf");function s(o){try{return n._compile(o)}catch(u){if(u instanceof _Ae)return c(u);throw u}function c(u){var h=u.missingSchema;if(d(h))throw new Error("Schema "+h+" is loaded but "+u.missingRef+" cannot be resolved");var f=n._loadingSchemas[h];return f||(f=n._loadingSchemas[h]=n._opts.loadSchema(h),f.then(p,p)),f.then(function(m){if(!d(h))return a(m).then(function(){d(h)||n.addSchema(m,h,void 0,e)})}).then(function(){return s(o)});function p(){delete n._loadingSchemas[h]}l(p,"removePromise");function d(m){return n._refs[m]||n._schemas[m]}l(d,"added")}l(c,"loadMissingSchema")}l(s,"_compileAsync")}l(WW,"compileAsync")});var YW=qe((zFe,XW)=>{"use strict";ne();ae();re();XW.exports=l(function(e,t,n){var r=" ",a=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,f,p="data"+(s||""),d="valid"+a,m="errs__"+a,y=e.opts.$data&&o&&o.$data,g;y?(r+=" var schema"+a+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",g="schema"+a):g=o;var b=this,x="definition"+a,w=b.definition,E="",M,C,I,F,A;if(y&&w.$data){A="keywordValidate"+a;var T=w.validateSchema;r+=" var "+x+" = RULES.custom['"+t+"'].definition; var "+A+" = "+x+".validate;"}else{if(F=e.useCustomRule(b,o,e.schema,e),!F)return;g="validate.schema"+c,A=F.code,M=w.compile,C=w.inline,I=w.macro}var j=A+".errors",R="i"+a,U="ruleErr"+a,q=w.async;if(q&&!e.async)throw new Error("async keyword in sync schema");if(C||I||(r+=""+j+" = null;"),r+="var "+m+" = errors;var "+d+";",y&&w.$data&&(E+="}",r+=" if ("+g+" === undefined) { "+d+" = true; } else { ",T&&(E+="}",r+=" "+d+" = "+x+".validateSchema("+g+"); if ("+d+") { ")),C)w.statements?r+=" "+F.validate+" ":r+=" "+d+" = "+F.validate+"; ";else if(I){var X=e.util.copy(e),E="";X.level++;var fe="valid"+X.level;X.schema=F.validate,X.schemaPath="";var H=e.compositeRule;e.compositeRule=X.compositeRule=!0;var Y=e.validate(X).replace(/validate\.schema/g,A);e.compositeRule=X.compositeRule=H,r+=" "+Y}else{var $=$||[];$.push(r),r="",r+="  "+A+".call( ",e.opts.passContext?r+="this":r+="self",M||w.schema===!1?r+=" , "+p+" ":r+=" , "+g+" , "+p+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var Z=s?"data"+(s-1||""):"parentData",ie=s?e.dataPathArr[s]:"parentDataProperty";r+=" , "+Z+" , "+ie+" , rootData )  ";var ue=r;r=$.pop(),w.errors===!1?(r+=" "+d+" = ",q&&(r+="await "),r+=""+ue+"; "):q?(j="customErrors"+a,r+=" var "+j+" = null; try { "+d+" = await "+ue+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+j+" = e.errors; else throw e; } "):r+=" "+j+" = null; "+d+" = "+ue+"; "}if(w.modifying&&(r+=" if ("+Z+") "+p+" = "+Z+"["+ie+"];"),r+=""+E,w.valid)h&&(r+=" if (true) { ");else{r+=" if ( ",w.valid===void 0?(r+=" !",I?r+=""+fe:r+=""+d):r+=" "+!w.valid+" ",r+=") { ",f=b.keyword;var $=$||[];$.push(r),r="";var $=$||[];$.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(f||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+b.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+b.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var Me=r;r=$.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+Me+"]); ":r+=" validate.errors = ["+Me+"]; return false; ":r+=" var err = "+Me+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Fe=r;r=$.pop(),C?w.errors?w.errors!="full"&&(r+="  for (var "+R+"="+m+"; "+R+"<errors; "+R+"++) { var "+U+" = vErrors["+R+"]; if ("+U+".dataPath === undefined) "+U+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+U+".schemaPath === undefined) { "+U+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(r+=" "+U+".schema = "+g+"; "+U+".data = "+p+"; "),r+=" } "):w.errors===!1?r+=" "+Fe+" ":(r+=" if ("+m+" == errors) { "+Fe+" } else {  for (var "+R+"="+m+"; "+R+"<errors; "+R+"++) { var "+U+" = vErrors["+R+"]; if ("+U+".dataPath === undefined) "+U+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+U+".schemaPath === undefined) { "+U+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(r+=" "+U+".schema = "+g+"; "+U+".data = "+p+"; "),r+=" } } "):I?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(f||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+b.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+b.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):w.errors===!1?r+=" "+Fe+" ":(r+=" if (Array.isArray("+j+")) { if (vErrors === null) vErrors = "+j+"; else vErrors = vErrors.concat("+j+"); errors = vErrors.length;  for (var "+R+"="+m+"; "+R+"<errors; "+R+"++) { var "+U+" = vErrors["+R+"]; if ("+U+".dataPath === undefined) "+U+".dataPath = (dataPath || '') + "+e.errorPath+";  "+U+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(r+=" "+U+".schema = "+g+"; "+U+".data = "+p+"; "),r+=" } } else { "+Fe+" } "),r+=" } ",h&&(r+=" else { ")}return r},"generate_custom")});var xI=qe((GFe,gAe)=>{gAe.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var KW=qe((WFe,JW)=>{"use strict";ne();ae();re();var ZW=xI();JW.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:ZW.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:ZW.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var ej=qe((YFe,QW)=>{"use strict";ne();ae();re();var bAe=/^[a-z_$][a-z0-9_$-]*$/i,yAe=YW(),vAe=KW();QW.exports={add:wAe,get:xAe,remove:SAe,validate:SI};function wAe(i,e){var t=this.RULES;if(t.keywords[i])throw new Error("Keyword "+i+" is already defined");if(!bAe.test(i))throw new Error("Keyword "+i+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var n=e.type;if(Array.isArray(n))for(var r=0;r<n.length;r++)s(i,n[r],e);else s(i,n,e);var a=e.metaSchema;a&&(e.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(a,!0))}t.keywords[i]=t.all[i]=!0;function s(o,c,u){for(var h,f=0;f<t.length;f++){var p=t[f];if(p.type==c){h=p;break}}h||(h={type:c,rules:[]},t.push(h));var d={keyword:o,definition:u,custom:!0,code:yAe,implements:u.implements};h.rules.push(d),t.custom[o]=d}return l(s,"_addRule"),this}l(wAe,"addKeyword");function xAe(i){var e=this.RULES.custom[i];return e?e.definition:this.RULES.keywords[i]||!1}l(xAe,"getKeyword");function SAe(i){var e=this.RULES;delete e.keywords[i],delete e.all[i],delete e.custom[i];for(var t=0;t<e.length;t++)for(var n=e[t].rules,r=0;r<n.length;r++)if(n[r].keyword==i){n.splice(r,1);break}return this}l(SAe,"removeKeyword");function SI(i,e){SI.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(vAe,!0);if(t(i))return!0;if(SI.errors=t.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}l(SI,"validateKeyword")});var tj=qe((eUe,EAe)=>{EAe.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var hj=qe((tUe,uj)=>{"use strict";ne();ae();re();var nj=NG(),df=eS(),MAe=BG(),rj=lI(),AAe=pI(),TAe=XG(),kAe=VW(),aj=GW(),sj=ff();uj.exports=vn;vn.prototype.validate=PAe;vn.prototype.compile=IAe;vn.prototype.addSchema=CAe;vn.prototype.addMetaSchema=LAe;vn.prototype.validateSchema=NAe;vn.prototype.getSchema=BAe;vn.prototype.removeSchema=UAe;vn.prototype.addFormat=jAe;vn.prototype.errorsText=WAe;vn.prototype._addSchema=zAe;vn.prototype._compile=DAe;vn.prototype.compileAsync=$W();var cS=ej();vn.prototype.addKeyword=cS.add;vn.prototype.getKeyword=cS.get;vn.prototype.removeKeyword=cS.remove;vn.prototype.validateKeyword=cS.validate;var oj=tS();vn.ValidationError=oj.Validation;vn.MissingRefError=oj.MissingRef;vn.$dataMetaSchema=aj;var lS="http://json-schema.org/draft-07/schema",ij=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],RAe=["/properties"];function vn(i){if(!(this instanceof vn))return new vn(i);i=this._opts=sj.copy(i)||{},KAe(this),this._schemas={},this._refs={},this._fragments={},this._formats=TAe(i.format),this._cache=i.cache||new MAe,this._loadingSchemas={},this._compilations=[],this.RULES=kAe(),this._getId=VAe(i),i.loopRequired=i.loopRequired||1/0,i.errorDataPath=="property"&&(i._errorDataPathProperty=!0),i.serialize===void 0&&(i.serialize=AAe),this._metaOpts=JAe(this),i.formats&&YAe(this),i.keywords&&ZAe(this),$Ae(this),typeof i.meta=="object"&&this.addMetaSchema(i.meta),i.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),XAe(this)}l(vn,"Ajv");function PAe(i,e){var t;if(typeof i=="string"){if(t=this.getSchema(i),!t)throw new Error('no schema with key or ref "'+i+'"')}else{var n=this._addSchema(i);t=n.validate||this._compile(n)}var r=t(e);return t.$async!==!0&&(this.errors=t.errors),r}l(PAe,"validate");function IAe(i,e){var t=this._addSchema(i,void 0,e);return t.validate||this._compile(t)}l(IAe,"compile");function CAe(i,e,t,n){if(Array.isArray(i)){for(var r=0;r<i.length;r++)this.addSchema(i[r],void 0,t,n);return this}var a=this._getId(i);if(a!==void 0&&typeof a!="string")throw new Error("schema id must be string");return e=df.normalizeId(e||a),cj(this,e),this._schemas[e]=this._addSchema(i,t,n,!0),this}l(CAe,"addSchema");function LAe(i,e,t){return this.addSchema(i,e,t,!0),this}l(LAe,"addMetaSchema");function NAe(i,e){var t=i.$schema;if(t!==void 0&&typeof t!="string")throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||OAe(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(t,i);if(!n&&e){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return n}l(NAe,"validateSchema");function OAe(i){var e=i._opts.meta;return i._opts.defaultMeta=typeof e=="object"?i._getId(e)||e:i.getSchema(lS)?lS:void 0,i._opts.defaultMeta}l(OAe,"defaultMeta");function BAe(i){var e=lj(this,i);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return FAe(this,i)}}l(BAe,"getSchema");function FAe(i,e){var t=df.schema.call(i,{schema:{}},e);if(t){var n=t.schema,r=t.root,a=t.baseId,s=nj.call(i,n,r,void 0,a);return i._fragments[e]=new rj({ref:e,fragment:!0,schema:n,root:r,baseId:a,validate:s}),s}}l(FAe,"_getSchemaFragment");function lj(i,e){return e=df.normalizeId(e),i._schemas[e]||i._refs[e]||i._fragments[e]}l(lj,"_getSchemaObj");function UAe(i){if(i instanceof RegExp)return oS(this,this._schemas,i),oS(this,this._refs,i),this;switch(typeof i){case"undefined":return oS(this,this._schemas),oS(this,this._refs),this._cache.clear(),this;case"string":var e=lj(this,i);return e&&this._cache.del(e.cacheKey),delete this._schemas[i],delete this._refs[i],this;case"object":var t=this._opts.serialize,n=t?t(i):i;this._cache.del(n);var r=this._getId(i);r&&(r=df.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}l(UAe,"removeSchema");function oS(i,e,t){for(var n in e){var r=e[n];!r.meta&&(!t||t.test(n))&&(i._cache.del(r.cacheKey),delete e[n])}}l(oS,"_removeAllSchemas");function zAe(i,e,t,n){if(typeof i!="object"&&typeof i!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,a=r?r(i):i,s=this._cache.get(a);if(s)return s;n=n||this._opts.addUsedSchema!==!1;var o=df.normalizeId(this._getId(i));o&&n&&cj(this,o);var c=this._opts.validateSchema!==!1&&!e,u;c&&!(u=o&&o==df.normalizeId(i.$schema))&&this.validateSchema(i,!0);var h=df.ids.call(this,i),f=new rj({id:o,schema:i,localRefs:h,cacheKey:a,meta:t});return o[0]!="#"&&n&&(this._refs[o]=f),this._cache.put(a,f),c&&u&&this.validateSchema(i,!0),f}l(zAe,"_addSchema");function DAe(i,e){if(i.compiling)return i.validate=r,r.schema=i.schema,r.errors=null,r.root=e||r,i.schema.$async===!0&&(r.$async=!0),r;i.compiling=!0;var t;i.meta&&(t=this._opts,this._opts=this._metaOpts);var n;try{n=nj.call(this,i.schema,e,i.localRefs)}catch(a){throw delete i.validate,a}finally{i.compiling=!1,i.meta&&(this._opts=t)}return i.validate=n,i.refs=n.refs,i.refVal=n.refVal,i.root=n.root,n;function r(){var a=i.validate,s=a.apply(this,arguments);return r.errors=a.errors,s}l(r,"callValidate")}l(DAe,"_compile");function VAe(i){switch(i.schemaId){case"auto":return GAe;case"id":return qAe;default:return HAe}}l(VAe,"chooseGetId");function qAe(i){return i.$id&&this.logger.warn("schema $id ignored",i.$id),i.id}l(qAe,"_getId");function HAe(i){return i.id&&this.logger.warn("schema id ignored",i.id),i.$id}l(HAe,"_get$Id");function GAe(i){if(i.$id&&i.id&&i.$id!=i.id)throw new Error("schema $id is different from id");return i.$id||i.id}l(GAe,"_get$IdOrId");function WAe(i,e){if(i=i||this.errors,!i)return"No errors";e=e||{};for(var t=e.separator===void 0?", ":e.separator,n=e.dataVar===void 0?"data":e.dataVar,r="",a=0;a<i.length;a++){var s=i[a];s&&(r+=n+s.dataPath+" "+s.message+t)}return r.slice(0,-t.length)}l(WAe,"errorsText");function jAe(i,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[i]=e,this}l(jAe,"addFormat");function $Ae(i){var e;if(i._opts.$data&&(e=tj(),i.addMetaSchema(e,e.$id,!0)),i._opts.meta!==!1){var t=xI();i._opts.$data&&(t=aj(t,RAe)),i.addMetaSchema(t,lS,!0),i._refs["http://json-schema.org/schema"]=lS}}l($Ae,"addDefaultMetaSchema");function XAe(i){var e=i._opts.schemas;if(e)if(Array.isArray(e))i.addSchema(e);else for(var t in e)i.addSchema(e[t],t)}l(XAe,"addInitialSchemas");function YAe(i){for(var e in i._opts.formats){var t=i._opts.formats[e];i.addFormat(e,t)}}l(YAe,"addInitialFormats");function ZAe(i){for(var e in i._opts.keywords){var t=i._opts.keywords[e];i.addKeyword(e,t)}}l(ZAe,"addInitialKeywords");function cj(i,e){if(i._schemas[e]||i._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}l(cj,"checkUnique");function JAe(i){for(var e=sj.copy(i._opts),t=0;t<ij.length;t++)delete e[ij[t]];return e}l(JAe,"getMetaSchemaOptions");function KAe(i){var e=i._opts.logger;if(e===!1)i.logger={log:EI,warn:EI,error:EI};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");i.logger=e}}l(KAe,"setLogger");function EI(){}l(EI,"noop")});var fj=qe((sUe,QAe)=>{QAe.exports={title:"definitions",definitions:{contextualizedFieldName:{type:"string",pattern:"^(this\\.)?.+$"},dataTypeArgsCount:{oneOf:[{$ref:"#/definitions/contextualizedFieldName"},{type:"number"}]},fieldName:{type:"string",pattern:"^[a-zA-Z0-9_]+$"}},type:"object"}});var dj=qe((oUe,e3e)=>{e3e.exports={title:"protocol",type:"object",properties:{types:{type:"object",patternProperties:{"^[0-9a-zA-Z_]+$":{oneOf:[{type:"string"},{type:"array",items:[{type:"string"},{oneOf:[{type:"object"},{type:"array"}]}]}]}},additionalProperties:!1}},patternProperties:{"^(?!types)[a-zA-Z_]+$":{$ref:"#"}},additionalProperties:!1}});var pj=qe((lUe,t3e)=>{t3e.exports={i8:{enum:["i8"]},u8:{enum:["u8"]},i16:{enum:["i16"]},u16:{enum:["u16"]},i32:{enum:["i32"]},u32:{enum:["u32"]},f32:{enum:["f32"]},f64:{enum:["f64"]},li8:{enum:["li8"]},lu8:{enum:["lu8"]},li16:{enum:["li16"]},lu16:{enum:["lu16"]},li32:{enum:["li32"]},lu32:{enum:["lu32"]},lf32:{enum:["lf32"]},lf64:{enum:["lf64"]},i64:{enum:["i64"]},li64:{enum:["li64"]},u64:{enum:["u64"]},lu64:{enum:["lu64"]},varint:{enum:["varint"]},int:{title:"int",type:"array",items:[{enum:["int"]},{type:"array",items:{type:"object",properties:{size:{type:"number"}},required:["size"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1},lint:{title:"lint",type:"array",items:[{enum:["lint"]},{type:"array",items:{type:"object",properties:{size:{type:"number"}},required:["size"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1}}});var mj=qe((cUe,i3e)=>{i3e.exports={pstring:{title:"pstring",type:"array",items:[{enum:["pstring"]},{oneOf:[{type:"object",properties:{countType:{$ref:"dataType"}},additionalProperties:!1,required:["countType"]},{type:"object",properties:{count:{$ref:"definitions#/definitions/dataTypeArgsCount"}},additionalProperties:!1,required:["count"]}]}],additionalItems:!1},buffer:{title:"buffer",type:"array",items:[{enum:["buffer"]},{oneOf:[{type:"object",properties:{countType:{$ref:"dataType"}},additionalProperties:!1,required:["countType"]},{type:"object",properties:{count:{$ref:"definitions#/definitions/dataTypeArgsCount"}},additionalProperties:!1,required:["count"]}]}]},bitfield:{title:"bitfield",type:"array",items:[{enum:["bitfield"]},{type:"array",items:{type:"object",properties:{name:{$ref:"definitions#/definitions/fieldName"},size:{type:"number"},signed:{type:"boolean"}},required:["name","size","signed"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1},mapper:{title:"mapper",type:"array",items:[{enum:["mapper"]},{type:"object",properties:{type:{$ref:"dataType"},mappings:{type:"object",patternProperties:{"^[-a-zA-Z0-9 _]+$":{type:"string"}},additionalProperties:!1}},required:["type","mappings"],additionalProperties:!1}],additionalItems:!1}}});var _j=qe((uUe,n3e)=>{n3e.exports={array:{title:"array",type:"array",items:[{enum:["array"]},{oneOf:[{type:"object",properties:{type:{$ref:"dataType"},countType:{$ref:"dataType"}},additionalProperties:!1,required:["type","countType"]},{type:"object",properties:{type:{$ref:"dataType"},count:{$ref:"definitions#/definitions/dataTypeArgsCount"}},additionalProperties:!1,required:["type","count"]}]}],additionalItems:!1},count:{title:"count",type:"array",items:[{enum:["count"]},{type:"object",properties:{countFor:{$ref:"definitions#/definitions/contextualizedFieldName"},type:{$ref:"dataType"}},required:["countFor","type"],additionalProperties:!1}],additionalItems:!1},container:{title:"container",type:"array",items:[{enum:["container"]},{type:"array",items:{type:"object",properties:{anon:{type:"boolean"},name:{$ref:"definitions#/definitions/fieldName"},type:{$ref:"dataType"}},oneOf:[{required:["anon"]},{required:["name"]}],required:["type"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1}}});var gj=qe((hUe,r3e)=>{r3e.exports={switch:{title:"switch",type:"array",items:[{enum:["switch"]},{type:"object",properties:{compareTo:{$ref:"definitions#/definitions/contextualizedFieldName"},compareToValue:{type:"string"},fields:{type:"object",patternProperties:{"^[-a-zA-Z0-9 _:/]+$":{$ref:"dataType"}},additionalProperties:!1},default:{$ref:"dataType"}},oneOf:[{required:["compareTo","fields"]},{required:["compareToValue","fields"]}],additionalProperties:!1}],additionalItems:!1},option:{title:"option",type:"array",items:[{enum:["option"]},{$ref:"dataType"}],additionalItems:!1}}});var bj=qe((fUe,a3e)=>{a3e.exports={bool:{enum:["bool"]},cstring:{enum:["cstring"]},void:{enum:["void"]}}});var vj=qe((dUe,yj)=>{ne();ae();re();var s3e=hj(),MI=(Ax(),Zr(xP)),AI=class i{static{l(this,"Validator")}constructor(e){this.createAjvInstance(e),this.addDefaultTypes()}createAjvInstance(e){this.typesSchemas={},this.compiled=!1,this.ajv=new s3e({verbose:!0}),this.ajv.addSchema(fj(),"definitions"),this.ajv.addSchema(dj(),"protocol"),e&&Object.keys(e).forEach(t=>this.addType(t,e[t]))}addDefaultTypes(){this.addTypes(pj()),this.addTypes(mj()),this.addTypes(_j()),this.addTypes(gj()),this.addTypes(bj())}addTypes(e){Object.keys(e).forEach(t=>this.addType(t,e[t]))}typeToSchemaName(e){return e.replace("|","_")}addType(e,t){let n=this.typeToSchemaName(e);this.typesSchemas[n]==null&&(t||(t={oneOf:[{enum:[e]},{type:"array",items:[{enum:[e]},{oneOf:[{type:"object"},{type:"array"}]}]}]}),this.typesSchemas[n]=t,this.compiled?this.createAjvInstance(this.typesSchemas):this.ajv.addSchema(t,n),this.ajv.removeSchema("dataType"),this.ajv.addSchema({title:"dataType",oneOf:[{enum:["native"]}].concat(Object.keys(this.typesSchemas).map(r=>({$ref:this.typeToSchemaName(r)})))},"dataType"))}validateType(e){let t=this.ajv.validate("dataType",e);if(this.compiled=!0,!t)throw console.log(JSON.stringify(this.ajv.errors[0],null,2)),this.ajv.errors[0].parentSchema.title=="dataType"&&this.validateTypeGoingInside(this.ajv.errors[0].data),new Error("validation error")}validateTypeGoingInside(e){if(Array.isArray(e)){MI.ok(this.typesSchemas[this.typeToSchemaName(e[0])]!=null,e+" is an undefined type");let t=this.ajv.validate(e[0],e);if(this.compiled=!0,!t)throw console.log(JSON.stringify(this.ajv.errors[0],null,2)),this.ajv.errors[0].parentSchema.title=="dataType"&&this.validateTypeGoingInside(this.ajv.errors[0].data),new Error("validation error")}else{if(e=="native")return;MI.ok(this.typesSchemas[this.typeToSchemaName(e)]!=null,e+" is an undefined type")}}validateProtocol(e){let t=this.ajv.validate("protocol",e);MI.ok(t,JSON.stringify(this.ajv.errors,null,2));function n(r,a,s){let o=new i(a.typesSchemas);Object.keys(r).forEach(c=>{c=="types"?(Object.keys(r[c]).forEach(u=>o.addType(u)),Object.keys(r[c]).forEach(u=>{try{o.validateType(r[c][u],s+"."+c+"."+u)}catch{throw new Error("Error at "+s+"."+c+"."+u)}})):n(r[c],o,s+"."+c)})}l(n,"validateTypes"),n(e,this,"root")}};yj.exports=AI});var sm=qe((bUe,o3e)=>{o3e.exports={i8:{enum:["i8"]},u8:{enum:["u8"]},i16:{enum:["i16"]},u16:{enum:["u16"]},i32:{enum:["i32"]},u32:{enum:["u32"]},f32:{enum:["f32"]},f64:{enum:["f64"]},li8:{enum:["li8"]},lu8:{enum:["lu8"]},li16:{enum:["li16"]},lu16:{enum:["lu16"]},li32:{enum:["li32"]},lu32:{enum:["lu32"]},lf32:{enum:["lf32"]},lf64:{enum:["lf64"]},i64:{enum:["i64"]},li64:{enum:["li64"]},u64:{enum:["u64"]},lu64:{enum:["lu64"]},varint:{enum:["varint"]},int:{title:"int",type:"array",items:[{enum:["int"]},{type:"array",items:{type:"object",properties:{size:{type:"number"}},required:["size"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1},lint:{title:"lint",type:"array",items:[{enum:["lint"]},{type:"array",items:{type:"object",properties:{size:{type:"number"}},required:["size"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1}}});var TI=qe((yUe,wj)=>{ne();ae();re();var{PartialReadError:Pg}=Rl(),hS=class extends Array{static{l(this,"SignedBigInt")}valueOf(){return BigInt.asIntN(64,BigInt(this[0])<<32n)|BigInt.asUintN(32,BigInt(this[1]))}toString(){return this.valueOf().toString()}[Symbol.for("nodejs.util.inspect.custom")](){return this.valueOf()}},fS=class extends Array{static{l(this,"UnsignedBigInt")}valueOf(){return BigInt.asUintN(64,BigInt(this[0])<<32n)|BigInt.asUintN(32,BigInt(this[1]))}toString(){return this.valueOf().toString()}[Symbol.for("nodejs.util.inspect.custom")](){return this.valueOf()}};function l3e(i,e){if(e+8>i.length)throw new Pg;return{value:new hS(i.readInt32BE(e),i.readInt32BE(e+4)),size:8}}l(l3e,"readI64");function c3e(i,e,t){return typeof i=="bigint"?e.writeBigInt64BE(i,t):(e.writeInt32BE(i[0],t),e.writeInt32BE(i[1],t+4)),t+8}l(c3e,"writeI64");function u3e(i,e){if(e+8>i.length)throw new Pg;return{value:new hS(i.readInt32LE(e+4),i.readInt32LE(e)),size:8}}l(u3e,"readLI64");function h3e(i,e,t){return typeof i=="bigint"?e.writeBigInt64LE(i,t):(e.writeInt32LE(i[0],t+4),e.writeInt32LE(i[1],t)),t+8}l(h3e,"writeLI64");function f3e(i,e){if(e+8>i.length)throw new Pg;return{value:new fS(i.readUInt32BE(e),i.readUInt32BE(e+4)),size:8}}l(f3e,"readU64");function d3e(i,e,t){return typeof i=="bigint"?e.writeBigUInt64BE(i,t):(e.writeUInt32BE(i[0],t),e.writeUInt32BE(i[1],t+4)),t+8}l(d3e,"writeU64");function p3e(i,e){if(e+8>i.length)throw new Pg;return{value:new fS(i.readUInt32LE(e+4),i.readUInt32LE(e)),size:8}}l(p3e,"readLU64");function m3e(i,e,t){return typeof i=="bigint"?e.writeBigUInt64LE(i,t):(e.writeUInt32LE(i[0],t+4),e.writeUInt32LE(i[1],t)),t+8}l(m3e,"writeLU64");function _3e(i,e,t,n){return[l((s,o)=>{if(o+t>s.length)throw new Pg;return{value:s[i](o),size:t}},"reader"),l((s,o,c)=>(o[e](s,c),c+t),"writer"),t,n]}l(_3e,"generateFunctions");var uS={i8:["readInt8","writeInt8",1],u8:["readUInt8","writeUInt8",1],i16:["readInt16BE","writeInt16BE",2],u16:["readUInt16BE","writeUInt16BE",2],i32:["readInt32BE","writeInt32BE",4],u32:["readUInt32BE","writeUInt32BE",4],f32:["readFloatBE","writeFloatBE",4],f64:["readDoubleBE","writeDoubleBE",8],li8:["readInt8","writeInt8",1],lu8:["readUInt8","writeUInt8",1],li16:["readInt16LE","writeInt16LE",2],lu16:["readUInt16LE","writeUInt16LE",2],li32:["readInt32LE","writeInt32LE",4],lu32:["readUInt32LE","writeUInt32LE",4],lf32:["readFloatLE","writeFloatLE",4],lf64:["readDoubleLE","writeDoubleLE",8]},Ig=Object.keys(uS).reduce((i,e)=>(i[e]=_3e(uS[e][0],uS[e][1],uS[e][2],sm()[e]),i),{});Ig.i64=[l3e,c3e,8,sm().i64];Ig.li64=[u3e,h3e,8,sm().li64];Ig.u64=[f3e,d3e,8,sm().u64];Ig.lu64=[p3e,m3e,8,sm().lu64];wj.exports=Ig});var Nl=qe((EUe,g3e)=>{g3e.exports={pstring:{title:"pstring",type:"array",items:[{enum:["pstring"]},{oneOf:[{type:"object",properties:{countType:{$ref:"dataType"},encoding:{type:"string"}},additionalProperties:!1,required:["countType"]},{type:"object",properties:{count:{$ref:"definitions#/definitions/dataTypeArgsCount"},encoding:{type:"string"}},additionalProperties:!1,required:["count"]}]}],additionalItems:!1},buffer:{title:"buffer",type:"array",items:[{enum:["buffer"]},{oneOf:[{type:"object",properties:{countType:{$ref:"dataType"}},additionalProperties:!1,required:["countType"]},{type:"object",properties:{count:{$ref:"definitions#/definitions/dataTypeArgsCount"}},additionalProperties:!1,required:["count"]}]}]},bitfield:{title:"bitfield",type:"array",items:[{enum:["bitfield"]},{type:"array",items:{type:"object",properties:{name:{$ref:"definitions#/definitions/fieldName"},size:{type:"number"},signed:{type:"boolean"}},required:["name","size","signed"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1},mapper:{title:"mapper",type:"array",items:[{enum:["mapper"]},{type:"object",properties:{type:{$ref:"dataType"},mappings:{type:"object",patternProperties:{"^[-a-zA-Z0-9 _]+$":{type:"string"}},additionalProperties:!1}},required:["type","mappings"],additionalProperties:!1}],additionalItems:!1}}});var RI=qe((MUe,Aj)=>{ne();ae();re();var b3e=(Ax(),Zr(xP)),{getCount:xj,sendCount:Sj,calcCount:Ej,PartialReadError:om}=Rl();Aj.exports={varint:[x3e,E3e,S3e,Nl().varint],bool:[k3e,R3e,1,Nl().bool],pstring:[M3e,A3e,T3e,Nl().pstring],buffer:[P3e,I3e,C3e,Nl().buffer],void:[L3e,N3e,0,Nl().void],bitfield:[O3e,B3e,F3e,Nl().bitfield],cstring:[U3e,z3e,D3e,Nl().cstring],mapper:[y3e,v3e,w3e,Nl().mapper]};function kI(i,e){return i===e||parseInt(i)===parseInt(e)}l(kI,"mapperEquality");function y3e(i,e,{type:t,mappings:n},r){let{size:a,value:s}=this.read(i,e,t,r),o=null,c=Object.keys(n);for(let u=0;u<c.length;u++)if(kI(c[u],s)){o=n[c[u]];break}if(o==null)throw new Error(s+" is not in the mappings value");return{size:a,value:o}}l(y3e,"readMapper");function v3e(i,e,t,{type:n,mappings:r},a){let s=Object.keys(r),o=null;for(let c=0;c<s.length;c++)if(kI(r[s[c]],i)){o=s[c];break}if(o==null)throw new Error(i+" is not in the mappings value");return this.write(o,e,t,n,a)}l(v3e,"writeMapper");function w3e(i,{type:e,mappings:t},n){let r=Object.keys(t),a=null;for(let s=0;s<r.length;s++)if(kI(t[r[s]],i)){a=r[s];break}if(a==null)throw new Error(i+" is not in the mappings value");return this.sizeOf(a,e,n)}l(w3e,"sizeOfMapper");function x3e(i,e){let t=0,n=0,r=e;for(;;){if(r+1>i.length)throw new om;let a=i.readUInt8(r);if(t|=(a&127)<<n,r++,!(a&128))return{value:t,size:r-e};n+=7,b3e.ok(n<64,"varint is too big")}}l(x3e,"readVarInt");function S3e(i){let e=0;for(;i&-128;)i>>>=7,e++;return e+1}l(S3e,"sizeOfVarInt");function E3e(i,e,t){let n=0;for(;i&-128;)e.writeUInt8(i&255|128,t+n),n++,i>>>=7;return e.writeUInt8(i,t+n),t+n+1}l(E3e,"writeVarInt");function M3e(i,e,t,n){let{size:r,count:a}=xj.call(this,i,e,t,n),s=e+r,o=s+a;if(o>i.length)throw new om("Missing characters in string, found size is "+i.length+" expected size was "+o);return{value:i.toString(t.encoding||"utf8",s,o),size:o-e}}l(M3e,"readPString");function A3e(i,e,t,n,r){let a=pe.Buffer.byteLength(i,"utf8");return t=Sj.call(this,a,e,t,n,r),e.write(i,t,a,n.encoding||"utf8"),t+a}l(A3e,"writePString");function T3e(i,e,t){let n=pe.Buffer.byteLength(i,e.encoding||"utf8");return Ej.call(this,n,e,t)+n}l(T3e,"sizeOfPString");function k3e(i,e){if(e+1>i.length)throw new om;return{value:!!i.readInt8(e),size:1}}l(k3e,"readBool");function R3e(i,e,t){return e.writeInt8(+i,t),t+1}l(R3e,"writeBool");function P3e(i,e,t,n){let{size:r,count:a}=xj.call(this,i,e,t,n);if(e+=r,e+a>i.length)throw new om;return{value:i.slice(e,e+a),size:r+a}}l(P3e,"readBuffer");function I3e(i,e,t,n,r){return i instanceof pe.Buffer||(i=pe.Buffer.from(i)),t=Sj.call(this,i.length,e,t,n,r),i.copy(e,t),t+i.length}l(I3e,"writeBuffer");function C3e(i,e,t){return i instanceof pe.Buffer||(i=pe.Buffer.from(i)),Ej.call(this,i.length,e,t)+i.length}l(C3e,"sizeOfBuffer");function L3e(){return{value:void 0,size:0}}l(L3e,"readVoid");function N3e(i,e,t){return t}l(N3e,"writeVoid");function Mj(i){return(1<<i)-1}l(Mj,"generateBitMask");function O3e(i,e,t){let n=e,r=null,a=0,s={};return s.value=t.reduce((o,{size:c,signed:u,name:h})=>{let f=c,p=0;for(;f>0;){if(a===0){if(i.length<e+1)throw new om;r=i[e++],a=8}let d=Math.min(f,a);p=p<<d|(r&Mj(a))>>a-d,a-=d,f-=d}return u&&p>=1<<c-1&&(p-=1<<c),o[h]=p,o},{}),s.size=e-n,s}l(O3e,"readBitField");function B3e(i,e,t,n){let r=0,a=0;return n.forEach(({size:s,signed:o,name:c})=>{let u=i[c];if(!o&&u<0||o&&u<-(1<<s-1))throw new Error(i+" < "+o?-(1<<s-1):0);if(!o&&u>=1<<s||o&&u>=(1<<s-1)-1)throw new Error(i+" >= "+o?1<<s:(1<<s-1)-1);for(;s>0;){let h=Math.min(8-a,s);r=r<<h|u>>s-h&Mj(h),s-=h,a+=h,a===8&&(e[t++]=r,a=0,r=0)}}),a!==0&&(e[t++]=r<<8-a),t}l(B3e,"writeBitField");function F3e(i,e){return Math.ceil(e.reduce((t,{size:n})=>t+n,0)/8)}l(F3e,"sizeOfBitField");function U3e(i,e,t){let n=0;for(;e+n<i.length&&i[e+n]!==0;)n++;if(i.length<e+n+1)throw new om;return{value:i.toString(t?.encoding||"utf8",e,e+n),size:n+1}}l(U3e,"readCString");function z3e(i,e,t,n){let r=pe.Buffer.byteLength(i,n?.encoding||"utf8");return e.write(i,t,r,n?.encoding||"utf8"),t+=r,e.writeInt8(0,t),t+1}l(z3e,"writeCString");function D3e(i){return pe.Buffer.byteLength(i,"utf8")+1}l(D3e,"sizeOfCString")});var dS=qe((PUe,V3e)=>{V3e.exports={array:{title:"array",type:"array",items:[{enum:["array"]},{oneOf:[{type:"object",properties:{type:{$ref:"dataType"},countType:{$ref:"dataType"}},additionalProperties:!1,required:["type","countType"]},{type:"object",properties:{type:{$ref:"dataType"},count:{$ref:"definitions#/definitions/dataTypeArgsCount"}},additionalProperties:!1,required:["type","count"]}]}],additionalItems:!1},count:{title:"count",type:"array",items:[{enum:["count"]},{type:"object",properties:{countFor:{$ref:"definitions#/definitions/contextualizedFieldName"},type:{$ref:"dataType"}},required:["countFor","type"],additionalProperties:!1}],additionalItems:!1},container:{title:"container",type:"array",items:[{enum:["container"]},{type:"array",items:{type:"object",properties:{anon:{type:"boolean"},name:{$ref:"definitions#/definitions/fieldName"},type:{$ref:"dataType"}},oneOf:[{required:["anon"]},{required:["name"]}],required:["type"],additionalProperties:!1},additionalItems:!1}],additionalItems:!1}}});var Rj=qe((IUe,kj)=>{ne();ae();re();var{getField:Tj,getCount:q3e,sendCount:H3e,calcCount:G3e,tryDoc:lm}=Rl();kj.exports={array:[W3e,j3e,$3e,dS().array],count:[J3e,K3e,Q3e,dS().count],container:[X3e,Y3e,Z3e,dS().container]};function W3e(i,e,t,n){let r={value:[],size:0},a,{count:s,size:o}=q3e.call(this,i,e,t,n);e+=o,r.size+=o;for(let c=0;c<s;c++)({size:o,value:a}=lm(()=>this.read(i,e,t.type,n),c)),r.size+=o,e+=o,r.value.push(a);return r}l(W3e,"readArray");function j3e(i,e,t,n,r){return t=H3e.call(this,i.length,e,t,n,r),i.reduce((a,s,o)=>lm(()=>this.write(s,e,a,n.type,r),o),t)}l(j3e,"writeArray");function $3e(i,e,t){let n=G3e.call(this,i.length,e,t);return n=i.reduce((r,a,s)=>lm(()=>r+this.sizeOf(a,e.type,t),s),n),n}l($3e,"sizeOfArray");function X3e(i,e,t,n){let r={value:{"..":n},size:0};return t.forEach(({type:a,name:s,anon:o})=>{lm(()=>{let c=this.read(i,e,a,r.value);r.size+=c.size,e+=c.size,o?c.value!==void 0&&Object.keys(c.value).forEach(u=>{r.value[u]=c.value[u]}):r.value[s]=c.value},s||"unknown")}),delete r.value[".."],r}l(X3e,"readContainer");function Y3e(i,e,t,n,r){return i[".."]=r,t=n.reduce((a,{type:s,name:o,anon:c})=>lm(()=>this.write(c?i:i[o],e,a,s,i),o||"unknown"),t),delete i[".."],t}l(Y3e,"writeContainer");function Z3e(i,e,t){i[".."]=t;let n=e.reduce((r,{type:a,name:s,anon:o})=>r+lm(()=>this.sizeOf(o?i:i[s],a,i),s||"unknown"),0);return delete i[".."],n}l(Z3e,"sizeOfContainer");function J3e(i,e,{type:t},n){return this.read(i,e,t,n)}l(J3e,"readCount");function K3e(i,e,t,{countFor:n,type:r},a){return this.write(Tj(n,a).length,e,t,r,a)}l(K3e,"writeCount");function Q3e(i,{countFor:e,type:t},n){return this.sizeOf(Tj(e,n).length,t,n)}l(Q3e,"sizeOfCount")});var PI=qe((BUe,eTe)=>{eTe.exports={switch:{title:"switch",type:"array",items:[{enum:["switch"]},{type:"object",properties:{compareTo:{$ref:"definitions#/definitions/contextualizedFieldName"},compareToValue:{type:"string"},fields:{type:"object",patternProperties:{"^[-a-zA-Z0-9 _:/]+$":{$ref:"dataType"}},additionalProperties:!1},default:{$ref:"dataType"}},oneOf:[{required:["compareTo","fields"]},{required:["compareToValue","fields"]}],additionalProperties:!1}],additionalItems:!1},option:{title:"option",type:"array",items:[{enum:["option"]},{$ref:"dataType"}],additionalItems:!1}}});var Ij=qe((FUe,Pj)=>{ne();ae();re();var{getField:II,getFieldInfo:CI,tryDoc:LI,PartialReadError:tTe}=Rl();Pj.exports={switch:[iTe,nTe,rTe,PI().switch],option:[aTe,sTe,oTe,PI().option]};function iTe(i,e,{compareTo:t,fields:n,compareToValue:r,default:a},s){if(t=r!==void 0?r:II(t,s),typeof n[t]>"u"&&typeof a>"u")throw new Error(t+" has no associated fieldInfo in switch");for(let h in n)h.startsWith("/")&&(n[this.types[h.slice(1)]]=n[h],delete n[h]);let o=typeof n[t]>"u",c=o?a:n[t],u=CI(c);return LI(()=>this.read(i,e,u,s),o?"default":t)}l(iTe,"readSwitch");function nTe(i,e,t,{compareTo:n,fields:r,compareToValue:a,default:s},o){if(n=a!==void 0?a:II(n,o),typeof r[n]>"u"&&typeof s>"u")throw new Error(n+" has no associated fieldInfo in switch");for(let h in r)h.startsWith("/")&&(r[this.types[h.slice(1)]]=r[h],delete r[h]);let c=typeof r[n]>"u",u=CI(c?s:r[n]);return LI(()=>this.write(i,e,t,u,o),c?"default":n)}l(nTe,"writeSwitch");function rTe(i,{compareTo:e,fields:t,compareToValue:n,default:r},a){if(e=n!==void 0?n:II(e,a),typeof t[e]>"u"&&typeof r>"u")throw new Error(e+" has no associated fieldInfo in switch");for(let c in t)c.startsWith("/")&&(t[this.types[c.slice(1)]]=t[c],delete t[c]);let s=typeof t[e]>"u",o=CI(s?r:t[e]);return LI(()=>this.sizeOf(i,o,a),s?"default":e)}l(rTe,"sizeOfSwitch");function aTe(i,e,t,n){if(i.length<e+1)throw new tTe;if(i.readUInt8(e++)!==0){let a=this.read(i,e,t,n);return a.size++,a}else return{size:1}}l(aTe,"readOption");function sTe(i,e,t,n,r){return i!=null?(e.writeUInt8(1,t++),t=this.write(i,e,t,n,r)):e.writeUInt8(0,t++),t}l(sTe,"writeOption");function oTe(i,e,t){return i==null?1:this.sizeOf(i,e,t)+1}l(oTe,"sizeOfOption")});var Bj=qe((qUe,Oj)=>{ne();ae();re();var{getFieldInfo:pS,tryCatch:NI}=Rl(),Lj=ZH(),lTe=uG(),cTe=vj();function Cj(i){return typeof i=="string"||Array.isArray(i)&&typeof i[0]=="string"||i.type}l(Cj,"isFieldInfo");function Nj(i,e,t){return typeof e=="string"&&e.charAt(0)==="$"?i.push({path:t,val:e.substr(1)}):(Array.isArray(e)||typeof e=="object")&&(i=i.concat(Lj(e,Nj,[]).map(n=>({path:t+"."+n.path,val:n.val})))),i}l(Nj,"findArgs");function uTe(i,e,t){let n=i.split(".").reverse();for(;n.length>1;)t=t[n.pop()];t[n.pop()]=e}l(uTe,"setField");function hTe(i,e){let t=JSON.stringify(e),n=Lj(e,Nj,[]);function r(a){let s=JSON.parse(t);return n.forEach(o=>{uTe(o.path,a[o.val],s)}),s}return l(r,"produceArgs"),[l(function(s,o,c,u){return i[0].call(this,s,o,r(c),u)},"read"),l(function(s,o,c,u,h){return i[1].call(this,s,o,c,r(u),h)},"write"),l(function(s,o,c){return typeof i[2]=="function"?i[2].call(this,s,r(o),c):i[2]},"sizeOf")]}l(hTe,"extendType");var OI=class{static{l(this,"ProtoDef")}constructor(e=!0){this.types={},this.validator=e?new cTe:null,this.addDefaultTypes()}addDefaultTypes(){this.addTypes(TI()),this.addTypes(RI()),this.addTypes(Rj()),this.addTypes(Ij())}addProtocol(e,t){let n=this;function r(a,s){a!==void 0&&(a.types&&n.addTypes(a.types),r(lTe(a,s.shift()),s))}l(r,"recursiveAddTypes"),this.validator&&this.validator.validateProtocol(e),r(e,t)}addType(e,t,n=!0){if(t==="native"){this.validator&&this.validator.addType(e);return}if(Cj(t)){this.validator&&(n&&this.validator.validateType(t),this.validator.addType(e));let{type:r,typeArgs:a}=pS(t);this.types[e]=a?hTe(this.types[r],a):this.types[r]}else this.validator&&(t[3]?this.validator.addType(e,t[3]):this.validator.addType(e)),this.types[e]=t}addTypes(e){Object.keys(e).forEach(t=>this.addType(t,e[t],!1)),this.validator&&Object.keys(e).forEach(t=>{Cj(e[t])&&this.validator.validateType(e[t])})}setVariable(e,t){this.types[e]=t}read(e,t,n,r){let{type:a,typeArgs:s}=pS(n),o=this.types[a];if(!o)throw new Error("missing data type: "+a);return o[0].call(this,e,t,s,r)}write(e,t,n,r,a){let{type:s,typeArgs:o}=pS(r),c=this.types[s];if(!c)throw new Error("missing data type: "+s);return c[1].call(this,e,t,n,o,a)}sizeOf(e,t,n){let{type:r,typeArgs:a}=pS(t),s=this.types[r];if(!s)throw new Error("missing data type: "+r);return typeof s[2]=="function"?s[2].call(this,e,a,n):s[2]}createPacketBuffer(e,t){let n=NI(()=>this.sizeOf(t,e,{}),a=>{throw a.message=`SizeOf error for ${a.field} : ${a.message}`,a}),r=pe.Buffer.allocUnsafe(n);return NI(()=>this.write(t,r,0,e,{}),a=>{throw a.message=`Write error for ${a.field} : ${a.message}`,a}),r}parsePacketBuffer(e,t,n=0){let{value:r,size:a}=NI(()=>this.read(t,n,e,{}),s=>{throw s.message=`Read error for ${s.field} : ${s.message}`,s});return{data:r,metadata:{size:a},buffer:t.slice(0,a),fullBuffer:t}}};Oj.exports=OI});var BI=qe(($Ue,Fj)=>{ne();ae();re();Fj.exports=wl().EventEmitter});var Hj=qe((JUe,qj)=>{"use strict";ne();ae();re();function Uj(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}l(Uj,"ownKeys");function zj(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Uj(Object(t),!0).forEach(function(n){fTe(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Uj(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}l(zj,"_objectSpread");function fTe(i,e,t){return e=Vj(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}l(fTe,"_defineProperty");function dTe(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}l(dTe,"_classCallCheck");function Dj(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,Vj(n.key),n)}}l(Dj,"_defineProperties");function pTe(i,e,t){return e&&Dj(i.prototype,e),t&&Dj(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}l(pTe,"_createClass");function Vj(i){var e=mTe(i,"string");return typeof e=="symbol"?e:String(e)}l(Vj,"_toPropertyKey");function mTe(i,e){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}l(mTe,"_toPrimitive");var _Te=Fu(),mS=_Te.Buffer,gTe=(yg(),Zr(aP)),FI=gTe.inspect,bTe=FI&&FI.custom||"inspect";function yTe(i,e,t){mS.prototype.copy.call(i,e,t)}l(yTe,"copyBuffer");qj.exports=function(){function i(){dTe(this,i),this.head=null,this.tail=null,this.length=0}return l(i,"BufferList"),pTe(i,[{key:"push",value:l(function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push")},{key:"unshift",value:l(function(t){var n={data:t,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift")},{key:"shift",value:l(function(){if(this.length!==0){var t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},"shift")},{key:"clear",value:l(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:l(function(t){if(this.length===0)return"";for(var n=this.head,r=""+n.data;n=n.next;)r+=t+n.data;return r},"join")},{key:"concat",value:l(function(t){if(this.length===0)return mS.alloc(0);for(var n=mS.allocUnsafe(t>>>0),r=this.head,a=0;r;)yTe(r.data,n,a),a+=r.data.length,r=r.next;return n},"concat")},{key:"consume",value:l(function(t,n){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):t===this.head.data.length?r=this.shift():r=n?this._getString(t):this._getBuffer(t),r},"consume")},{key:"first",value:l(function(){return this.head.data},"first")},{key:"_getString",value:l(function(t){var n=this.head,r=1,a=n.data;for(t-=a.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(o===s.length?a+=s:a+=s.slice(0,t),t-=o,t===0){o===s.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(o));break}++r}return this.length-=r,a},"_getString")},{key:"_getBuffer",value:l(function(t){var n=mS.allocUnsafe(t),r=this.head,a=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(s.copy(n,n.length-t,0,o),t-=o,t===0){o===s.length?(++a,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=s.slice(o));break}++a}return this.length-=a,n},"_getBuffer")},{key:bTe,value:l(function(t,n){return FI(this,zj(zj({},n),{},{depth:0,customInspect:!1}))},"value")}]),i}()});var zI=qe((ize,Wj)=>{"use strict";ne();ae();re();function vTe(i,e){var t=this,n=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return n||r?(e?e(i):i&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(UI,this,i)):process.nextTick(UI,this,i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(a){!e&&a?t._writableState?t._writableState.errorEmitted?process.nextTick(_S,t):(t._writableState.errorEmitted=!0,process.nextTick(Gj,t,a)):process.nextTick(Gj,t,a):e?(process.nextTick(_S,t),e(a)):process.nextTick(_S,t)}),this)}l(vTe,"destroy");function Gj(i,e){UI(i,e),_S(i)}l(Gj,"emitErrorAndCloseNT");function _S(i){i._writableState&&!i._writableState.emitClose||i._readableState&&!i._readableState.emitClose||i.emit("close")}l(_S,"emitCloseNT");function wTe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}l(wTe,"undestroy");function UI(i,e){i.emit("error",e)}l(UI,"emitErrorNT");function xTe(i,e){var t=i._readableState,n=i._writableState;t&&t.autoDestroy||n&&n.autoDestroy?i.destroy(e):i.emit("error",e)}l(xTe,"errorOrDestroy");Wj.exports={destroy:vTe,undestroy:wTe,errorOrDestroy:xTe}});var pf=qe((oze,Xj)=>{"use strict";ne();ae();re();function STe(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}l(STe,"_inheritsLoose");var $j={};function ds(i,e,t){t||(t=Error);function n(a,s,o){return typeof e=="string"?e:e(a,s,o)}l(n,"getMessage");var r=function(a){STe(s,a);function s(o,c,u){return a.call(this,n(o,c,u))||this}return l(s,"NodeError"),s}(t);r.prototype.name=t.name,r.prototype.code=i,$j[i]=r}l(ds,"createErrorType");function jj(i,e){if(Array.isArray(i)){var t=i.length;return i=i.map(function(n){return String(n)}),t>2?"one of ".concat(e," ").concat(i.slice(0,t-1).join(", "),", or ")+i[t-1]:t===2?"one of ".concat(e," ").concat(i[0]," or ").concat(i[1]):"of ".concat(e," ").concat(i[0])}else return"of ".concat(e," ").concat(String(i))}l(jj,"oneOf");function ETe(i,e,t){return i.substr(!t||t<0?0:+t,e.length)===e}l(ETe,"startsWith");function MTe(i,e,t){return(t===void 0||t>i.length)&&(t=i.length),i.substring(t-e.length,t)===e}l(MTe,"endsWith");function ATe(i,e,t){return typeof t!="number"&&(t=0),t+e.length>i.length?!1:i.indexOf(e,t)!==-1}l(ATe,"includes");ds("ERR_INVALID_OPT_VALUE",function(i,e){return'The value "'+e+'" is invalid for option "'+i+'"'},TypeError);ds("ERR_INVALID_ARG_TYPE",function(i,e,t){var n;typeof e=="string"&&ETe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var r;if(MTe(i," argument"))r="The ".concat(i," ").concat(n," ").concat(jj(e,"type"));else{var a=ATe(i,".")?"property":"argument";r='The "'.concat(i,'" ').concat(a," ").concat(n," ").concat(jj(e,"type"))}return r+=". Received type ".concat(typeof t),r},TypeError);ds("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ds("ERR_METHOD_NOT_IMPLEMENTED",function(i){return"The "+i+" method is not implemented"});ds("ERR_STREAM_PREMATURE_CLOSE","Premature close");ds("ERR_STREAM_DESTROYED",function(i){return"Cannot call "+i+" after a stream was destroyed"});ds("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ds("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ds("ERR_STREAM_WRITE_AFTER_END","write after end");ds("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ds("ERR_UNKNOWN_ENCODING",function(i){return"Unknown encoding: "+i},TypeError);ds("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Xj.exports.codes=$j});var DI=qe((fze,Yj)=>{"use strict";ne();ae();re();var TTe=pf().codes.ERR_INVALID_OPT_VALUE;function kTe(i,e,t){return i.highWaterMark!=null?i.highWaterMark:e?i[t]:null}l(kTe,"highWaterMarkFrom");function RTe(i,e,t,n){var r=kTe(e,n,t);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var a=n?t:"highWaterMark";throw new TTe(a,r)}return Math.floor(r)}return i.objectMode?16:16*1024}l(RTe,"getHighWaterMark");Yj.exports={getHighWaterMark:RTe}});var cm=qe((gze,VI)=>{ne();ae();re();typeof Object.create=="function"?VI.exports=l(function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):VI.exports=l(function(e,t){if(t){e.super_=t;var n=l(function(){},"TempCtor");n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},"inherits")});var Jj=qe((xze,Zj)=>{ne();ae();re();Zj.exports=PTe;function PTe(i,e){if(qI("noDeprecation"))return i;var t=!1;function n(){if(!t){if(qI("throwDeprecation"))throw new Error(e);qI("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return i.apply(this,arguments)}return l(n,"deprecated"),n}l(PTe,"deprecate");function qI(i){try{if(!global.localStorage)return!1}catch{return!1}var e=global.localStorage[i];return e==null?!1:String(e).toLowerCase()==="true"}l(qI,"config")});var WI=qe((Tze,n$)=>{"use strict";ne();ae();re();n$.exports=wn;function Qj(i){var e=this;this.next=null,this.entry=null,this.finish=function(){n4e(e,i)}}l(Qj,"CorkedRequest");var um;wn.WritableState=Lg;var ITe={deprecate:Jj()},e$=BI(),bS=Fu().Buffer,CTe=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function LTe(i){return bS.from(i)}l(LTe,"_uint8ArrayToBuffer");function NTe(i){return bS.isBuffer(i)||i instanceof CTe}l(NTe,"_isUint8Array");var GI=zI(),OTe=DI(),BTe=OTe.getHighWaterMark,iu=pf().codes,FTe=iu.ERR_INVALID_ARG_TYPE,UTe=iu.ERR_METHOD_NOT_IMPLEMENTED,zTe=iu.ERR_MULTIPLE_CALLBACK,DTe=iu.ERR_STREAM_CANNOT_PIPE,VTe=iu.ERR_STREAM_DESTROYED,qTe=iu.ERR_STREAM_NULL_VALUES,HTe=iu.ERR_STREAM_WRITE_AFTER_END,GTe=iu.ERR_UNKNOWN_ENCODING,hm=GI.errorOrDestroy;cm()(wn,e$);function WTe(){}l(WTe,"nop");function Lg(i,e,t){um=um||mf(),i=i||{},typeof t!="boolean"&&(t=e instanceof um),this.objectMode=!!i.objectMode,t&&(this.objectMode=this.objectMode||!!i.writableObjectMode),this.highWaterMark=BTe(this,i,"writableHighWaterMark",t),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=i.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=i.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(r){KTe(e,r)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=i.emitClose!==!1,this.autoDestroy=!!i.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Qj(this)}l(Lg,"WritableState");Lg.prototype.getBuffer=l(function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},"getBuffer");(function(){try{Object.defineProperty(Lg.prototype,"buffer",{get:ITe.deprecate(l(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var gS;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gS=Function.prototype[Symbol.hasInstance],Object.defineProperty(wn,Symbol.hasInstance,{value:l(function(e){return gS.call(this,e)?!0:this!==wn?!1:e&&e._writableState instanceof Lg},"value")})):gS=l(function(e){return e instanceof this},"realHasInstance");function wn(i){um=um||mf();var e=this instanceof um;if(!e&&!gS.call(wn,this))return new wn(i);this._writableState=new Lg(i,this,e),this.writable=!0,i&&(typeof i.write=="function"&&(this._write=i.write),typeof i.writev=="function"&&(this._writev=i.writev),typeof i.destroy=="function"&&(this._destroy=i.destroy),typeof i.final=="function"&&(this._final=i.final)),e$.call(this)}l(wn,"Writable");wn.prototype.pipe=function(){hm(this,new DTe)};function jTe(i,e){var t=new HTe;hm(i,t),process.nextTick(e,t)}l(jTe,"writeAfterEnd");function $Te(i,e,t,n){var r;return t===null?r=new qTe:typeof t!="string"&&!e.objectMode&&(r=new FTe("chunk",["string","Buffer"],t)),r?(hm(i,r),process.nextTick(n,r),!1):!0}l($Te,"validChunk");wn.prototype.write=function(i,e,t){var n=this._writableState,r=!1,a=!n.objectMode&&NTe(i);return a&&!bS.isBuffer(i)&&(i=LTe(i)),typeof e=="function"&&(t=e,e=null),a?e="buffer":e||(e=n.defaultEncoding),typeof t!="function"&&(t=WTe),n.ending?jTe(this,t):(a||$Te(this,n,i,t))&&(n.pendingcb++,r=YTe(this,n,a,i,e,t)),r};wn.prototype.cork=function(){this._writableState.corked++};wn.prototype.uncork=function(){var i=this._writableState;i.corked&&(i.corked--,!i.writing&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest&&t$(this,i))};wn.prototype.setDefaultEncoding=l(function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new GTe(e);return this._writableState.defaultEncoding=e,this},"setDefaultEncoding");Object.defineProperty(wn.prototype,"writableBuffer",{enumerable:!1,get:l(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function XTe(i,e,t){return!i.objectMode&&i.decodeStrings!==!1&&typeof e=="string"&&(e=bS.from(e,t)),e}l(XTe,"decodeChunk");Object.defineProperty(wn.prototype,"writableHighWaterMark",{enumerable:!1,get:l(function(){return this._writableState.highWaterMark},"get")});function YTe(i,e,t,n,r,a){if(!t){var s=XTe(e,n,r);n!==s&&(t=!0,r="buffer",n=s)}var o=e.objectMode?1:n.length;e.length+=o;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:r,isBuf:t,callback:a,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else HI(i,e,!1,o,n,r,a);return c}l(YTe,"writeOrBuffer");function HI(i,e,t,n,r,a,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new VTe("write")):t?i._writev(r,e.onwrite):i._write(r,a,e.onwrite),e.sync=!1}l(HI,"doWrite");function ZTe(i,e,t,n,r){--e.pendingcb,t?(process.nextTick(r,n),process.nextTick(Cg,i,e),i._writableState.errorEmitted=!0,hm(i,n)):(r(n),i._writableState.errorEmitted=!0,hm(i,n),Cg(i,e))}l(ZTe,"onwriteError");function JTe(i){i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0}l(JTe,"onwriteStateUpdate");function KTe(i,e){var t=i._writableState,n=t.sync,r=t.writecb;if(typeof r!="function")throw new zTe;if(JTe(t),e)ZTe(i,t,n,e,r);else{var a=i$(t)||i.destroyed;!a&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&t$(i,t),n?process.nextTick(Kj,i,t,a,r):Kj(i,t,a,r)}}l(KTe,"onwrite");function Kj(i,e,t,n){t||QTe(i,e),e.pendingcb--,n(),Cg(i,e)}l(Kj,"afterWrite");function QTe(i,e){e.length===0&&e.needDrain&&(e.needDrain=!1,i.emit("drain"))}l(QTe,"onwriteDrain");function t$(i,e){e.bufferProcessing=!0;var t=e.bufferedRequest;if(i._writev&&t&&t.next){var n=e.bufferedRequestCount,r=new Array(n),a=e.corkedRequestsFree;a.entry=t;for(var s=0,o=!0;t;)r[s]=t,t.isBuf||(o=!1),t=t.next,s+=1;r.allBuffers=o,HI(i,e,!0,e.length,r,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new Qj(e),e.bufferedRequestCount=0}else{for(;t;){var c=t.chunk,u=t.encoding,h=t.callback,f=e.objectMode?1:c.length;if(HI(i,e,!1,f,c,u,h),t=t.next,e.bufferedRequestCount--,e.writing)break}t===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=t,e.bufferProcessing=!1}l(t$,"clearBuffer");wn.prototype._write=function(i,e,t){t(new UTe("_write()"))};wn.prototype._writev=null;wn.prototype.end=function(i,e,t){var n=this._writableState;return typeof i=="function"?(t=i,i=null,e=null):typeof e=="function"&&(t=e,e=null),i!=null&&this.write(i,e),n.corked&&(n.corked=1,this.uncork()),n.ending||i4e(this,n,t),this};Object.defineProperty(wn.prototype,"writableLength",{enumerable:!1,get:l(function(){return this._writableState.length},"get")});function i$(i){return i.ending&&i.length===0&&i.bufferedRequest===null&&!i.finished&&!i.writing}l(i$,"needFinish");function e4e(i,e){i._final(function(t){e.pendingcb--,t&&hm(i,t),e.prefinished=!0,i.emit("prefinish"),Cg(i,e)})}l(e4e,"callFinal");function t4e(i,e){!e.prefinished&&!e.finalCalled&&(typeof i._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(e4e,i,e)):(e.prefinished=!0,i.emit("prefinish")))}l(t4e,"prefinish");function Cg(i,e){var t=i$(e);if(t&&(t4e(i,e),e.pendingcb===0&&(e.finished=!0,i.emit("finish"),e.autoDestroy))){var n=i._readableState;(!n||n.autoDestroy&&n.endEmitted)&&i.destroy()}return t}l(Cg,"finishMaybe");function i4e(i,e,t){e.ending=!0,Cg(i,e),t&&(e.finished?process.nextTick(t):i.once("finish",t)),e.ended=!0,i.writable=!1}l(i4e,"endWritable");function n4e(i,e,t){var n=i.entry;for(i.entry=null;n;){var r=n.callback;e.pendingcb--,r(t),n=n.next}e.corkedRequestsFree.next=i}l(n4e,"onCorkedFinish");Object.defineProperty(wn.prototype,"destroyed",{enumerable:!1,get:l(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:l(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")});wn.prototype.destroy=GI.destroy;wn.prototype._undestroy=GI.undestroy;wn.prototype._destroy=function(i,e){e(i)}});var mf=qe((Cze,a$)=>{"use strict";ne();ae();re();var r4e=Object.keys||function(i){var e=[];for(var t in i)e.push(t);return e};a$.exports=vo;var r$=XI(),$I=WI();cm()(vo,r$);for(jI=r4e($I.prototype),yS=0;yS<jI.length;yS++)vS=jI[yS],vo.prototype[vS]||(vo.prototype[vS]=$I.prototype[vS]);var jI,vS,yS;function vo(i){if(!(this instanceof vo))return new vo(i);r$.call(this,i),$I.call(this,i),this.allowHalfOpen=!0,i&&(i.readable===!1&&(this.readable=!1),i.writable===!1&&(this.writable=!1),i.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a4e)))}l(vo,"Duplex");Object.defineProperty(vo.prototype,"writableHighWaterMark",{enumerable:!1,get:l(function(){return this._writableState.highWaterMark},"get")});Object.defineProperty(vo.prototype,"writableBuffer",{enumerable:!1,get:l(function(){return this._writableState&&this._writableState.getBuffer()},"get")});Object.defineProperty(vo.prototype,"writableLength",{enumerable:!1,get:l(function(){return this._writableState.length},"get")});function a4e(){this._writableState.ended||process.nextTick(s4e,this)}l(a4e,"onend");function s4e(i){i.end()}l(s4e,"onEndNT");Object.defineProperty(vo.prototype,"destroyed",{enumerable:!1,get:l(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:l(function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")})});var l$=qe((YI,o$)=>{ne();ae();re();var wS=Fu(),wo=wS.Buffer;function s$(i,e){for(var t in i)e[t]=i[t]}l(s$,"copyProps");wo.from&&wo.alloc&&wo.allocUnsafe&&wo.allocUnsafeSlow?o$.exports=wS:(s$(wS,YI),YI.Buffer=_f);function _f(i,e,t){return wo(i,e,t)}l(_f,"SafeBuffer");_f.prototype=Object.create(wo.prototype);s$(wo,_f);_f.from=function(i,e,t){if(typeof i=="number")throw new TypeError("Argument must not be a number");return wo(i,e,t)};_f.alloc=function(i,e,t){if(typeof i!="number")throw new TypeError("Argument must be a number");var n=wo(i);return e!==void 0?typeof t=="string"?n.fill(e,t):n.fill(e):n.fill(0),n};_f.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return wo(i)};_f.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return wS.SlowBuffer(i)}});var KI=qe(u$=>{"use strict";ne();ae();re();var JI=l$().Buffer,c$=JI.isEncoding||function(i){switch(i=""+i,i&&i.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o4e(i){if(!i)return"utf8";for(var e;;)switch(i){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return i;default:if(e)return;i=(""+i).toLowerCase(),e=!0}}l(o4e,"_normalizeEncoding");function l4e(i){var e=o4e(i);if(typeof e!="string"&&(JI.isEncoding===c$||!c$(i)))throw new Error("Unknown encoding: "+i);return e||i}l(l4e,"normalizeEncoding");u$.StringDecoder=Ng;function Ng(i){this.encoding=l4e(i);var e;switch(this.encoding){case"utf16le":this.text=p4e,this.end=m4e,e=4;break;case"utf8":this.fillLast=h4e,e=4;break;case"base64":this.text=_4e,this.end=g4e,e=3;break;default:this.write=b4e,this.end=y4e;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=JI.allocUnsafe(e)}l(Ng,"StringDecoder");Ng.prototype.write=function(i){if(i.length===0)return"";var e,t;if(this.lastNeed){if(e=this.fillLast(i),e===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<i.length?e?e+this.text(i,t):this.text(i,t):e||""};Ng.prototype.end=d4e;Ng.prototype.text=f4e;Ng.prototype.fillLast=function(i){if(this.lastNeed<=i.length)return i.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);i.copy(this.lastChar,this.lastTotal-this.lastNeed,0,i.length),this.lastNeed-=i.length};function ZI(i){return i<=127?0:i>>5===6?2:i>>4===14?3:i>>3===30?4:i>>6===2?-1:-2}l(ZI,"utf8CheckByte");function c4e(i,e,t){var n=e.length-1;if(n<t)return 0;var r=ZI(e[n]);return r>=0?(r>0&&(i.lastNeed=r-1),r):--n<t||r===-2?0:(r=ZI(e[n]),r>=0?(r>0&&(i.lastNeed=r-2),r):--n<t||r===-2?0:(r=ZI(e[n]),r>=0?(r>0&&(r===2?r=0:i.lastNeed=r-3),r):0))}l(c4e,"utf8CheckIncomplete");function u4e(i,e,t){if((e[0]&192)!==128)return i.lastNeed=0,"\uFFFD";if(i.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return i.lastNeed=1,"\uFFFD";if(i.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return i.lastNeed=2,"\uFFFD"}}l(u4e,"utf8CheckExtraBytes");function h4e(i){var e=this.lastTotal-this.lastNeed,t=u4e(this,i,e);if(t!==void 0)return t;if(this.lastNeed<=i.length)return i.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);i.copy(this.lastChar,e,0,i.length),this.lastNeed-=i.length}l(h4e,"utf8FillLast");function f4e(i,e){var t=c4e(this,i,e);if(!this.lastNeed)return i.toString("utf8",e);this.lastTotal=t;var n=i.length-(t-this.lastNeed);return i.copy(this.lastChar,0,n),i.toString("utf8",e,n)}l(f4e,"utf8Text");function d4e(i){var e=i&&i.length?this.write(i):"";return this.lastNeed?e+"\uFFFD":e}l(d4e,"utf8End");function p4e(i,e){if((i.length-e)%2===0){var t=i.toString("utf16le",e);if(t){var n=t.charCodeAt(t.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=i[i.length-2],this.lastChar[1]=i[i.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=i[i.length-1],i.toString("utf16le",e,i.length-1)}l(p4e,"utf16Text");function m4e(i){var e=i&&i.length?this.write(i):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,t)}return e}l(m4e,"utf16End");function _4e(i,e){var t=(i.length-e)%3;return t===0?i.toString("base64",e):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=i[i.length-1]:(this.lastChar[0]=i[i.length-2],this.lastChar[1]=i[i.length-1]),i.toString("base64",e,i.length-t))}l(_4e,"base64Text");function g4e(i){var e=i&&i.length?this.write(i):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}l(g4e,"base64End");function b4e(i){return i.toString(this.encoding)}l(b4e,"simpleWrite");function y4e(i){return i&&i.length?this.write(i):""}l(y4e,"simpleEnd")});var xS=qe((jze,d$)=>{"use strict";ne();ae();re();var h$=pf().codes.ERR_STREAM_PREMATURE_CLOSE;function v4e(i){var e=!1;return function(){if(!e){e=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.apply(this,n)}}}l(v4e,"once");function w4e(){}l(w4e,"noop");function x4e(i){return i.setHeader&&typeof i.abort=="function"}l(x4e,"isRequest");function f$(i,e,t){if(typeof e=="function")return f$(i,null,e);e||(e={}),t=v4e(t||w4e);var n=e.readable||e.readable!==!1&&i.readable,r=e.writable||e.writable!==!1&&i.writable,a=l(function(){i.writable||o()},"onlegacyfinish"),s=i._writableState&&i._writableState.finished,o=l(function(){r=!1,s=!0,n||t.call(i)},"onfinish"),c=i._readableState&&i._readableState.endEmitted,u=l(function(){n=!1,c=!0,r||t.call(i)},"onend"),h=l(function(m){t.call(i,m)},"onerror"),f=l(function(){var m;if(n&&!c)return(!i._readableState||!i._readableState.ended)&&(m=new h$),t.call(i,m);if(r&&!s)return(!i._writableState||!i._writableState.ended)&&(m=new h$),t.call(i,m)},"onclose"),p=l(function(){i.req.on("finish",o)},"onrequest");return x4e(i)?(i.on("complete",o),i.on("abort",f),i.req?p():i.on("request",p)):r&&!i._writableState&&(i.on("end",a),i.on("close",a)),i.on("end",u),i.on("finish",o),e.error!==!1&&i.on("error",h),i.on("close",f),function(){i.removeListener("complete",o),i.removeListener("abort",f),i.removeListener("request",p),i.req&&i.req.removeListener("finish",o),i.removeListener("end",a),i.removeListener("close",a),i.removeListener("finish",o),i.removeListener("end",u),i.removeListener("error",h),i.removeListener("close",f)}}l(f$,"eos");d$.exports=f$});var m$=qe((Jze,p$)=>{"use strict";ne();ae();re();var SS;function nu(i,e,t){return e=S4e(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}l(nu,"_defineProperty");function S4e(i){var e=E4e(i,"string");return typeof e=="symbol"?e:String(e)}l(S4e,"_toPropertyKey");function E4e(i,e){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}l(E4e,"_toPrimitive");var M4e=xS(),ru=Symbol("lastResolve"),gf=Symbol("lastReject"),Og=Symbol("error"),ES=Symbol("ended"),bf=Symbol("lastPromise"),QI=Symbol("handlePromise"),yf=Symbol("stream");function au(i,e){return{value:i,done:e}}l(au,"createIterResult");function A4e(i){var e=i[ru];if(e!==null){var t=i[yf].read();t!==null&&(i[bf]=null,i[ru]=null,i[gf]=null,e(au(t,!1)))}}l(A4e,"readAndResolve");function T4e(i){process.nextTick(A4e,i)}l(T4e,"onReadable");function k4e(i,e){return function(t,n){i.then(function(){if(e[ES]){t(au(void 0,!0));return}e[QI](t,n)},n)}}l(k4e,"wrapForNext");var R4e=Object.getPrototypeOf(function(){}),P4e=Object.setPrototypeOf((SS={get stream(){return this[yf]},next:l(function(){var e=this,t=this[Og];if(t!==null)return Promise.reject(t);if(this[ES])return Promise.resolve(au(void 0,!0));if(this[yf].destroyed)return new Promise(function(s,o){process.nextTick(function(){e[Og]?o(e[Og]):s(au(void 0,!0))})});var n=this[bf],r;if(n)r=new Promise(k4e(n,this));else{var a=this[yf].read();if(a!==null)return Promise.resolve(au(a,!1));r=new Promise(this[QI])}return this[bf]=r,r},"next")},nu(SS,Symbol.asyncIterator,function(){return this}),nu(SS,"return",l(function(){var e=this;return new Promise(function(t,n){e[yf].destroy(null,function(r){if(r){n(r);return}t(au(void 0,!0))})})},"_return")),SS),R4e),I4e=l(function(e){var t,n=Object.create(P4e,(t={},nu(t,yf,{value:e,writable:!0}),nu(t,ru,{value:null,writable:!0}),nu(t,gf,{value:null,writable:!0}),nu(t,Og,{value:null,writable:!0}),nu(t,ES,{value:e._readableState.endEmitted,writable:!0}),nu(t,QI,{value:l(function(a,s){var o=n[yf].read();o?(n[bf]=null,n[ru]=null,n[gf]=null,a(au(o,!1))):(n[ru]=a,n[gf]=s)},"value"),writable:!0}),t));return n[bf]=null,M4e(e,function(r){if(r&&r.code!=="ERR_STREAM_PREMATURE_CLOSE"){var a=n[gf];a!==null&&(n[bf]=null,n[ru]=null,n[gf]=null,a(r)),n[Og]=r;return}var s=n[ru];s!==null&&(n[bf]=null,n[ru]=null,n[gf]=null,s(au(void 0,!0))),n[ES]=!0}),e.on("readable",T4e.bind(null,n)),n},"createReadableStreamAsyncIterator");p$.exports=I4e});var g$=qe((iDe,_$)=>{ne();ae();re();_$.exports=function(){throw new Error("Readable.from is not available in the browser")}});var XI=qe((oDe,T$)=>{"use strict";ne();ae();re();T$.exports=ki;var fm;ki.ReadableState=w$;var sDe=wl().EventEmitter,v$=l(function(e,t){return e.listeners(t).length},"EElistenerCount"),Fg=BI(),MS=Fu().Buffer,C4e=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function L4e(i){return MS.from(i)}l(L4e,"_uint8ArrayToBuffer");function N4e(i){return MS.isBuffer(i)||i instanceof C4e}l(N4e,"_isUint8Array");var eC=(yg(),Zr(aP)),vi;eC&&eC.debuglog?vi=eC.debuglog("stream"):vi=l(function(){},"debug");var O4e=Hj(),oC=zI(),B4e=DI(),F4e=B4e.getHighWaterMark,AS=pf().codes,U4e=AS.ERR_INVALID_ARG_TYPE,z4e=AS.ERR_STREAM_PUSH_AFTER_EOF,D4e=AS.ERR_METHOD_NOT_IMPLEMENTED,V4e=AS.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,dm,tC,iC;cm()(ki,Fg);var Bg=oC.errorOrDestroy,nC=["error","close","destroy","pause","resume"];function q4e(i,e,t){if(typeof i.prependListener=="function")return i.prependListener(e,t);!i._events||!i._events[e]?i.on(e,t):Array.isArray(i._events[e])?i._events[e].unshift(t):i._events[e]=[t,i._events[e]]}l(q4e,"prependListener");function w$(i,e,t){fm=fm||mf(),i=i||{},typeof t!="boolean"&&(t=e instanceof fm),this.objectMode=!!i.objectMode,t&&(this.objectMode=this.objectMode||!!i.readableObjectMode),this.highWaterMark=F4e(this,i,"readableHighWaterMark",t),this.buffer=new O4e,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=i.emitClose!==!1,this.autoDestroy=!!i.autoDestroy,this.destroyed=!1,this.defaultEncoding=i.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,i.encoding&&(dm||(dm=KI().StringDecoder),this.decoder=new dm(i.encoding),this.encoding=i.encoding)}l(w$,"ReadableState");function ki(i){if(fm=fm||mf(),!(this instanceof ki))return new ki(i);var e=this instanceof fm;this._readableState=new w$(i,this,e),this.readable=!0,i&&(typeof i.read=="function"&&(this._read=i.read),typeof i.destroy=="function"&&(this._destroy=i.destroy)),Fg.call(this)}l(ki,"Readable");Object.defineProperty(ki.prototype,"destroyed",{enumerable:!1,get:l(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:l(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")});ki.prototype.destroy=oC.destroy;ki.prototype._undestroy=oC.undestroy;ki.prototype._destroy=function(i,e){e(i)};ki.prototype.push=function(i,e){var t=this._readableState,n;return t.objectMode?n=!0:typeof i=="string"&&(e=e||t.defaultEncoding,e!==t.encoding&&(i=MS.from(i,e),e=""),n=!0),x$(this,i,e,!1,n)};ki.prototype.unshift=function(i){return x$(this,i,null,!0,!1)};function x$(i,e,t,n,r){vi("readableAddChunk",e);var a=i._readableState;if(e===null)a.reading=!1,W4e(i,a);else{var s;if(r||(s=H4e(a,e)),s)Bg(i,s);else if(a.objectMode||e&&e.length>0)if(typeof e!="string"&&!a.objectMode&&Object.getPrototypeOf(e)!==MS.prototype&&(e=L4e(e)),n)a.endEmitted?Bg(i,new V4e):rC(i,a,e,!0);else if(a.ended)Bg(i,new z4e);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!t?(e=a.decoder.write(e),a.objectMode||e.length!==0?rC(i,a,e,!1):sC(i,a)):rC(i,a,e,!1)}else n||(a.reading=!1,sC(i,a))}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}l(x$,"readableAddChunk");function rC(i,e,t,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,i.emit("data",t)):(e.length+=e.objectMode?1:t.length,n?e.buffer.unshift(t):e.buffer.push(t),e.needReadable&&TS(i)),sC(i,e)}l(rC,"addChunk");function H4e(i,e){var t;return!N4e(e)&&typeof e!="string"&&e!==void 0&&!i.objectMode&&(t=new U4e("chunk",["string","Buffer","Uint8Array"],e)),t}l(H4e,"chunkInvalid");ki.prototype.isPaused=function(){return this._readableState.flowing===!1};ki.prototype.setEncoding=function(i){dm||(dm=KI().StringDecoder);var e=new dm(i);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var t=this._readableState.buffer.head,n="";t!==null;)n+=e.write(t.data),t=t.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var b$=1073741824;function G4e(i){return i>=b$?i=b$:(i--,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i++),i}l(G4e,"computeNewHighWaterMark");function y$(i,e){return i<=0||e.length===0&&e.ended?0:e.objectMode?1:i!==i?e.flowing&&e.length?e.buffer.head.data.length:e.length:(i>e.highWaterMark&&(e.highWaterMark=G4e(i)),i<=e.length?i:e.ended?e.length:(e.needReadable=!0,0))}l(y$,"howMuchToRead");ki.prototype.read=function(i){vi("read",i),i=parseInt(i,10);var e=this._readableState,t=i;if(i!==0&&(e.emittedReadable=!1),i===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return vi("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?aC(this):TS(this),null;if(i=y$(i,e),i===0&&e.ended)return e.length===0&&aC(this),null;var n=e.needReadable;vi("need readable",n),(e.length===0||e.length-i<e.highWaterMark)&&(n=!0,vi("length less than watermark",n)),e.ended||e.reading?(n=!1,vi("reading or ended",n)):n&&(vi("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(i=y$(t,e)));var r;return i>0?r=M$(i,e):r=null,r===null?(e.needReadable=e.length<=e.highWaterMark,i=0):(e.length-=i,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),t!==i&&e.ended&&aC(this)),r!==null&&this.emit("data",r),r};function W4e(i,e){if(vi("onEofChunk"),!e.ended){if(e.decoder){var t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?TS(i):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,S$(i)))}}l(W4e,"onEofChunk");function TS(i){var e=i._readableState;vi("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(vi("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(S$,i))}l(TS,"emitReadable");function S$(i){var e=i._readableState;vi("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(i.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,lC(i)}l(S$,"emitReadable_");function sC(i,e){e.readingMore||(e.readingMore=!0,process.nextTick(j4e,i,e))}l(sC,"maybeReadMore");function j4e(i,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var t=e.length;if(vi("maybeReadMore read 0"),i.read(0),t===e.length)break}e.readingMore=!1}l(j4e,"maybeReadMore_");ki.prototype._read=function(i){Bg(this,new D4e("_read()"))};ki.prototype.pipe=function(i,e){var t=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=i;break;case 1:n.pipes=[n.pipes,i];break;default:n.pipes.push(i);break}n.pipesCount+=1,vi("pipe count=%d opts=%j",n.pipesCount,e);var r=(!e||e.end!==!1)&&i!==process.stdout&&i!==process.stderr,a=r?o:y;n.endEmitted?process.nextTick(a):t.once("end",a),i.on("unpipe",s);function s(g,b){vi("onunpipe"),g===t&&b&&b.hasUnpiped===!1&&(b.hasUnpiped=!0,h())}l(s,"onunpipe");function o(){vi("onend"),i.end()}l(o,"onend");var c=$4e(t);i.on("drain",c);var u=!1;function h(){vi("cleanup"),i.removeListener("close",d),i.removeListener("finish",m),i.removeListener("drain",c),i.removeListener("error",p),i.removeListener("unpipe",s),t.removeListener("end",o),t.removeListener("end",y),t.removeListener("data",f),u=!0,n.awaitDrain&&(!i._writableState||i._writableState.needDrain)&&c()}l(h,"cleanup"),t.on("data",f);function f(g){vi("ondata");var b=i.write(g);vi("dest.write",b),b===!1&&((n.pipesCount===1&&n.pipes===i||n.pipesCount>1&&A$(n.pipes,i)!==-1)&&!u&&(vi("false write response, pause",n.awaitDrain),n.awaitDrain++),t.pause())}l(f,"ondata");function p(g){vi("onerror",g),y(),i.removeListener("error",p),v$(i,"error")===0&&Bg(i,g)}l(p,"onerror"),q4e(i,"error",p);function d(){i.removeListener("finish",m),y()}l(d,"onclose"),i.once("close",d);function m(){vi("onfinish"),i.removeListener("close",d),y()}l(m,"onfinish"),i.once("finish",m);function y(){vi("unpipe"),t.unpipe(i)}return l(y,"unpipe"),i.emit("pipe",t),n.flowing||(vi("pipe resume"),t.resume()),i};function $4e(i){return l(function(){var t=i._readableState;vi("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&v$(i,"data")&&(t.flowing=!0,lC(i))},"pipeOnDrainFunctionResult")}l($4e,"pipeOnDrain");ki.prototype.unpipe=function(i){var e=this._readableState,t={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return i&&i!==e.pipes?this:(i||(i=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,i&&i.emit("unpipe",this,t),this);if(!i){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<r;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=A$(e.pipes,i);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),i.emit("unpipe",this,t),this)};ki.prototype.on=function(i,e){var t=Fg.prototype.on.call(this,i,e),n=this._readableState;return i==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):i==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,vi("on readable",n.length,n.reading),n.length?TS(this):n.reading||process.nextTick(X4e,this)),t};ki.prototype.addListener=ki.prototype.on;ki.prototype.removeListener=function(i,e){var t=Fg.prototype.removeListener.call(this,i,e);return i==="readable"&&process.nextTick(E$,this),t};ki.prototype.removeAllListeners=function(i){var e=Fg.prototype.removeAllListeners.apply(this,arguments);return(i==="readable"||i===void 0)&&process.nextTick(E$,this),e};function E$(i){var e=i._readableState;e.readableListening=i.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:i.listenerCount("data")>0&&i.resume()}l(E$,"updateReadableListening");function X4e(i){vi("readable nexttick read 0"),i.read(0)}l(X4e,"nReadingNextTick");ki.prototype.resume=function(){var i=this._readableState;return i.flowing||(vi("resume"),i.flowing=!i.readableListening,Y4e(this,i)),i.paused=!1,this};function Y4e(i,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(Z4e,i,e))}l(Y4e,"resume");function Z4e(i,e){vi("resume",e.reading),e.reading||i.read(0),e.resumeScheduled=!1,i.emit("resume"),lC(i),e.flowing&&!e.reading&&i.read(0)}l(Z4e,"resume_");ki.prototype.pause=function(){return vi("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(vi("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function lC(i){var e=i._readableState;for(vi("flow",e.flowing);e.flowing&&i.read()!==null;);}l(lC,"flow");ki.prototype.wrap=function(i){var e=this,t=this._readableState,n=!1;i.on("end",function(){if(vi("wrapped end"),t.decoder&&!t.ended){var s=t.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),i.on("data",function(s){if(vi("wrapped data"),t.decoder&&(s=t.decoder.write(s)),!(t.objectMode&&s==null)&&!(!t.objectMode&&(!s||!s.length))){var o=e.push(s);o||(n=!0,i.pause())}});for(var r in i)this[r]===void 0&&typeof i[r]=="function"&&(this[r]=l(function(o){return l(function(){return i[o].apply(i,arguments)},"methodWrapReturnFunction")},"methodWrap")(r));for(var a=0;a<nC.length;a++)i.on(nC[a],this.emit.bind(this,nC[a]));return this._read=function(s){vi("wrapped _read",s),n&&(n=!1,i.resume())},this};typeof Symbol=="function"&&(ki.prototype[Symbol.asyncIterator]=function(){return tC===void 0&&(tC=m$()),tC(this)});Object.defineProperty(ki.prototype,"readableHighWaterMark",{enumerable:!1,get:l(function(){return this._readableState.highWaterMark},"get")});Object.defineProperty(ki.prototype,"readableBuffer",{enumerable:!1,get:l(function(){return this._readableState&&this._readableState.buffer},"get")});Object.defineProperty(ki.prototype,"readableFlowing",{enumerable:!1,get:l(function(){return this._readableState.flowing},"get"),set:l(function(e){this._readableState&&(this._readableState.flowing=e)},"set")});ki._fromList=M$;Object.defineProperty(ki.prototype,"readableLength",{enumerable:!1,get:l(function(){return this._readableState.length},"get")});function M$(i,e){if(e.length===0)return null;var t;return e.objectMode?t=e.buffer.shift():!i||i>=e.length?(e.decoder?t=e.buffer.join(""):e.buffer.length===1?t=e.buffer.first():t=e.buffer.concat(e.length),e.buffer.clear()):t=e.buffer.consume(i,e.decoder),t}l(M$,"fromList");function aC(i){var e=i._readableState;vi("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(J4e,e,i))}l(aC,"endReadable");function J4e(i,e){if(vi("endReadableNT",i.endEmitted,i.length),!i.endEmitted&&i.length===0&&(i.endEmitted=!0,e.readable=!1,e.emit("end"),i.autoDestroy)){var t=e._writableState;(!t||t.autoDestroy&&t.finished)&&e.destroy()}}l(J4e,"endReadableNT");typeof Symbol=="function"&&(ki.from=function(i,e){return iC===void 0&&(iC=g$()),iC(ki,i,e)});function A$(i,e){for(var t=0,n=i.length;t<n;t++)if(i[t]===e)return t;return-1}l(A$,"indexOf")});var cC=qe((fDe,R$)=>{"use strict";ne();ae();re();R$.exports=Ol;var kS=pf().codes,K4e=kS.ERR_METHOD_NOT_IMPLEMENTED,Q4e=kS.ERR_MULTIPLE_CALLBACK,eke=kS.ERR_TRANSFORM_ALREADY_TRANSFORMING,tke=kS.ERR_TRANSFORM_WITH_LENGTH_0,RS=mf();cm()(Ol,RS);function ike(i,e){var t=this._transformState;t.transforming=!1;var n=t.writecb;if(n===null)return this.emit("error",new Q4e);t.writechunk=null,t.writecb=null,e!=null&&this.push(e),n(i);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}l(ike,"afterTransform");function Ol(i){if(!(this instanceof Ol))return new Ol(i);RS.call(this,i),this._transformState={afterTransform:ike.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,i&&(typeof i.transform=="function"&&(this._transform=i.transform),typeof i.flush=="function"&&(this._flush=i.flush)),this.on("prefinish",nke)}l(Ol,"Transform");function nke(){var i=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,t){k$(i,e,t)}):k$(this,null,null)}l(nke,"prefinish");Ol.prototype.push=function(i,e){return this._transformState.needTransform=!1,RS.prototype.push.call(this,i,e)};Ol.prototype._transform=function(i,e,t){t(new K4e("_transform()"))};Ol.prototype._write=function(i,e,t){var n=this._transformState;if(n.writecb=t,n.writechunk=i,n.writeencoding=e,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}};Ol.prototype._read=function(i){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ol.prototype._destroy=function(i,e){RS.prototype._destroy.call(this,i,function(t){e(t)})};function k$(i,e,t){if(e)return i.emit("error",e);if(t!=null&&i.push(t),i._writableState.length)throw new tke;if(i._transformState.transforming)throw new eke;return i.push(null)}l(k$,"done")});var C$=qe((gDe,I$)=>{"use strict";ne();ae();re();I$.exports=Ug;var P$=cC();cm()(Ug,P$);function Ug(i){if(!(this instanceof Ug))return new Ug(i);P$.call(this,i)}l(Ug,"PassThrough");Ug.prototype._transform=function(i,e,t){t(null,i)}});var F$=qe((xDe,B$)=>{"use strict";ne();ae();re();var uC;function rke(i){var e=!1;return function(){e||(e=!0,i.apply(void 0,arguments))}}l(rke,"once");var O$=pf().codes,ake=O$.ERR_MISSING_ARGS,ske=O$.ERR_STREAM_DESTROYED;function L$(i){if(i)throw i}l(L$,"noop");function oke(i){return i.setHeader&&typeof i.abort=="function"}l(oke,"isRequest");function lke(i,e,t,n){n=rke(n);var r=!1;i.on("close",function(){r=!0}),uC===void 0&&(uC=xS()),uC(i,{readable:e,writable:t},function(s){if(s)return n(s);r=!0,n()});var a=!1;return function(s){if(!r&&!a){if(a=!0,oke(i))return i.abort();if(typeof i.destroy=="function")return i.destroy();n(s||new ske("pipe"))}}}l(lke,"destroyer");function N$(i){i()}l(N$,"call");function cke(i,e){return i.pipe(e)}l(cke,"pipe");function uke(i){return!i.length||typeof i[i.length-1]!="function"?L$:i.pop()}l(uke,"popCallback");function hke(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var n=uke(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new ake("streams");var r,a=e.map(function(s,o){var c=o<e.length-1,u=o>0;return lke(s,c,u,function(h){r||(r=h),h&&a.forEach(N$),!c&&(a.forEach(N$),n(r))})});return e.reduce(cke)}l(hke,"pipeline");B$.exports=hke});var z$=qe((ps,U$)=>{ne();ae();re();ps=U$.exports=XI();ps.Stream=ps;ps.Readable=ps;ps.Writable=WI();ps.Duplex=mf();ps.Transform=cC();ps.PassThrough=C$();ps.finished=xS();ps.pipeline=F$()});var PS=qe((PDe,D$)=>{ne();ae();re();var pC=z$().Transform,hC=class extends pC{static{l(this,"Serializer")}constructor(e,t){super({writableObjectMode:!0}),this.proto=e,this.mainType=t,this.queue=pe.Buffer.alloc(0)}createPacketBuffer(e){return this.proto.createPacketBuffer(this.mainType,e)}_transform(e,t,n){let r;try{r=this.createPacketBuffer(e)}catch(a){return n(a)}return this.push(r),n()}},fC=class extends pC{static{l(this,"Parser")}constructor(e,t){super({readableObjectMode:!0}),this.proto=e,this.mainType=t,this.queue=pe.Buffer.alloc(0)}parsePacketBuffer(e){return this.proto.parsePacketBuffer(this.mainType,e)}_transform(e,t,n){for(this.queue=pe.Buffer.concat([this.queue,e]);;){let r;try{r=this.parsePacketBuffer(this.queue)}catch(a){return a.partialReadError?n():(a.buffer=this.queue,this.queue=pe.Buffer.alloc(0),n(a))}this.push(r),this.queue=this.queue.slice(r.metadata.size)}}},dC=class extends pC{static{l(this,"FullPacketParser")}constructor(e,t,n=!1){super({readableObjectMode:!0}),this.proto=e,this.mainType=t,this.noErrorLogging=n}parsePacketBuffer(e){return this.proto.parsePacketBuffer(this.mainType,e)}_transform(e,t,n){let r;try{r=this.parsePacketBuffer(e),r.metadata.size!==e.length&&!this.noErrorLogging&&console.log("Chunk size is "+e.length+" but only "+r.metadata.size+" was read ; partial packet : "+JSON.stringify(r.data)+"; buffer :"+e.toString("hex"))}catch(a){return a.partialReadError?(this.noErrorLogging||console.log(a.stack),n()):n(a)}this.push(r),n()}};D$.exports={Serializer:hC,Parser:fC,FullPacketParser:dC}});var q$=qe((ODe,V$)=>{ne();ae();re();V$.exports={Read:{switch:["parametrizable",(i,e)=>{let t=e.compareTo?e.compareTo:e.compareToValue,n=[];t.startsWith("$")?n.push(t):e.compareTo&&(t=i.getField(t));let r=`switch (${t}) {
`;for(let a in e.fields){let s=a;s.startsWith("/")?s="ctx."+s.slice(1):isNaN(s)&&s!=="true"&&s!=="false"&&(s=`"${s}"`),r+=i.indent(`case ${s}: return `+i.callType(e.fields[a]))+`
`}return r+=i.indent("default: return "+i.callType(e.default?e.default:"void"))+`
`,r+="}",i.wrapCode(r,n)}],option:["parametrizable",(i,e)=>{let t=`const {value} = ctx.bool(buffer, offset)
`;return t+=`if (value) {
`,t+="  const { value, size } = "+i.callType(e,"offset + 1")+`
`,t+=`  return { value, size: size + 1 }
`,t+=`}
`,t+="return { value: undefined, size: 1}",i.wrapCode(t)}]},Write:{switch:["parametrizable",(i,e)=>{let t=e.compareTo?e.compareTo:e.compareToValue,n=[];t.startsWith("$")?n.push(t):e.compareTo&&(t=i.getField(t));let r=`switch (${t}) {
`;for(let a in e.fields){let s=a;s.startsWith("/")?s="ctx."+s.slice(1):isNaN(s)&&s!=="true"&&s!=="false"&&(s=`"${s}"`),r+=i.indent(`case ${s}: return `+i.callType("value",e.fields[a]))+`
`}return r+=i.indent("default: return "+i.callType("value",e.default?e.default:"void"))+`
`,r+="}",i.wrapCode(r,n)}],option:["parametrizable",(i,e)=>{let t=`if (value != null) {
`;return t+=`  offset = ctx.bool(1, buffer, offset)
`,t+="  offset = "+i.callType("value",e)+`
`,t+=`} else {
`,t+=`  offset = ctx.bool(0, buffer, offset)
`,t+=`}
`,t+="return offset",i.wrapCode(t)}]},SizeOf:{switch:["parametrizable",(i,e)=>{let t=e.compareTo?e.compareTo:e.compareToValue,n=[];t.startsWith("$")?n.push(t):e.compareTo&&(t=i.getField(t));let r=`switch (${t}) {
`;for(let a in e.fields){let s=a;s.startsWith("/")?s="ctx."+s.slice(1):isNaN(s)&&s!=="true"&&s!=="false"&&(s=`"${s}"`),r+=i.indent(`case ${s}: return `+i.callType("value",e.fields[a]))+`
`}return r+=i.indent("default: return "+i.callType("value",e.default?e.default:"void"))+`
`,r+="}",i.wrapCode(r,n)}],option:["parametrizable",(i,e)=>{let t=`if (value != null) {
`;return t+="  return 1 + "+i.callType("value",e)+`
`,t+=`}
`,t+="return 1",i.wrapCode(t)}]}}});var G$=qe((zDe,H$)=>{ne();ae();re();H$.exports={Read:{array:["parametrizable",(i,e)=>{let t="";if(e.countType)t+="const { value: count, size: countSize } = "+i.callType(e.countType)+`
`;else if(e.count)t+="const count = "+e.count+`
`,t+=`const countSize = 0
`;else throw new Error("Array must contain either count or countType");return t+=`if (count > 0xffffff) throw new Error("array size is abnormally large, not reading: " + count)
`,t+=`const data = []
`,t+=`let size = countSize
`,t+=`for (let i = 0; i < count; i++) {
`,t+="  const elem = "+i.callType(e.type,"offset + size")+`
`,t+=`  data.push(elem.value)
`,t+=`  size += elem.size
`,t+=`}
`,t+="return { value: data, size }",i.wrapCode(t)}],count:["parametrizable",(i,e)=>{let t="return "+i.callType(e.type);return i.wrapCode(t)}],container:["parametrizable",(i,e)=>{e=mC(e);let t="",n="offset",r=[];for(let s in e){let{type:o,name:c,anon:u}=e[s],h,f;if(o instanceof Array&&o[0]==="bitfield"&&u){let p=[];for(let{name:d}of o[1]){let m=i.getField(d);d===m?(r.push(d),p.push(d)):(r.push(`${d}: ${m}`),p.push(`${d}: ${m}`))}h="{"+p.join(", ")+"}",f=`anon${s}Size`}else h=i.getField(c),f=`${h}Size`,c===h?r.push(c):r.push(`${c}: ${h}`);t+=`let { value: ${h}, size: ${f} } = `+i.callType(o,n)+`
`,n+=` + ${f}`}let a=n.split(" + ");return a.shift(),a.length===0&&a.push("0"),t+="return { value: { "+r.join(", ")+" }, size: "+a.join(" + ")+"}",i.wrapCode(t)}]},Write:{array:["parametrizable",(i,e)=>{let t="";if(e.countType)t+="offset = "+i.callType("value.length",e.countType)+`
`;else if(e.count===null)throw new Error("Array must contain either count or countType");return t+=`for (let i = 0; i < value.length; i++) {
`,t+="  offset = "+i.callType("value[i]",e.type)+`
`,t+=`}
`,t+="return offset",i.wrapCode(t)}],count:["parametrizable",(i,e)=>{let t="return "+i.callType("value",e.type);return i.wrapCode(t)}],container:["parametrizable",(i,e)=>{e=mC(e);let t="";for(let n in e){let{type:r,name:a,anon:s}=e[n],o;if(r instanceof Array&&r[0]==="bitfield"&&s){let c=[];for(let{name:u}of r[1]){let h=i.getField(u);t+=`const ${h} = value.${u}
`,u===h?c.push(u):c.push(`${u}: ${h}`)}o="{"+c.join(", ")+"}"}else o=i.getField(a),t+=`let ${o} = value.${a}
`;t+="offset = "+i.callType(o,r)+`
`}return t+="return offset",i.wrapCode(t)}]},SizeOf:{array:["parametrizable",(i,e)=>{let t="";if(e.countType)t+="let size = "+i.callType("value.length",e.countType)+`
`;else if(e.count)t+=`let size = 0
`;else throw new Error("Array must contain either count or countType");return isNaN(i.callType("value[i]",e.type))?(t+=`for (let i = 0; i < value.length; i++) {
`,t+="  size += "+i.callType("value[i]",e.type)+`
`,t+=`}
`):t+="size += value.length * "+i.callType("value[i]",e.type)+`
`,t+="return size",i.wrapCode(t)}],count:["parametrizable",(i,e)=>{let t="return "+i.callType("value",e.type);return i.wrapCode(t)}],container:["parametrizable",(i,e)=>{e=mC(e);let t=`let size = 0
`;for(let n in e){let{type:r,name:a,anon:s}=e[n],o;if(r instanceof Array&&r[0]==="bitfield"&&s){let c=[];for(let{name:u}of r[1]){let h=i.getField(u);t+=`const ${h} = value.${u}
`,u===h?c.push(u):c.push(`${u}: ${h}`)}o="{"+c.join(", ")+"}"}else o=i.getField(a),t+=`let ${o} = value.${a}
`;t+="size += "+i.callType(o,r)+`
`}return t+="return size",i.wrapCode(t)}]}};function mC(i){let e=[];for(let t in i){let{type:n,anon:r}=i[t];if(r&&!(n instanceof Array&&n[0]==="bitfield"))if(n instanceof Array&&n[0]==="container")for(let a in n[1])e.push(n[1][a]);else if(n instanceof Array&&n[0]==="switch"){let a=n[1],s=new Set;for(let o in a.fields)if(a.fields[o]instanceof Array&&a.fields[o][0]==="container")for(let c in a.fields[o][1]){let u=a.fields[o][1][c];s.add(u.name)}if(a.default instanceof Array&&a.default[0]==="container")for(let o in a.default[1]){let c=a.default[1][o];s.add(c.name)}for(let o of s.keys()){let c={},u=a.default;if(u instanceof Array&&u[0]==="container")for(let h in u[1]){let f=u[1][h];if(f.name===o){u=f.type;break}}for(let h in a.fields)if(a.fields[h]instanceof Array&&a.fields[h][0]==="container"){for(let f in a.fields[h][1])if(a.fields[h][1][f].name===o){c[h]=a.fields[h][1][f].type;break}}else c[h]=a.fields[h];u||(u="void"),e.push({name:o,type:["switch",{compareTo:a.compareTo,compareToValue:a.compareToValue,default:u,fields:c}]})}}else throw new Error("Cannot inline anonymous type: "+n);else e.push(i[t])}return e}l(mC,"containerInlining")});var X$=qe((GDe,$$)=>{ne();ae();re();$$.exports={Read:{pstring:["parametrizable",(i,e)=>{let t="";if(e.countType)t+="const { value: count, size: countSize } = "+i.callType(e.countType)+`
`;else if(e.count)t+="const count = "+e.count+`
`,t+=`const countSize = 0
`;else throw new Error("pstring must contain either count or countType");return t+=`offset += countSize
`,t+=`if (offset + count > buffer.length) {
`,t+=`  throw new PartialReadError("Missing characters in string, found size is " + buffer.length + " expected size was " + (offset + count))
`,t+=`}
`,t+=`return { value: buffer.toString("${e.encoding||"utf8"}", offset, offset + count), size: count + countSize }`,i.wrapCode(t)}],buffer:["parametrizable",(i,e)=>{let t="";if(e.countType)t+="const { value: count, size: countSize } = "+i.callType(e.countType)+`
`;else if(e.count)t+="const count = "+e.count+`
`,t+=`const countSize = 0
`;else throw new Error("buffer must contain either count or countType");return t+=`offset += countSize
`,t+=`if (offset + count > buffer.length) {
`,t+=`  throw new PartialReadError()
`,t+=`}
`,t+="return { value: buffer.slice(offset, offset + count), size: count + countSize }",i.wrapCode(t)}],bitfield:["parametrizable",(i,e)=>{let t="",n=Math.ceil(e.reduce((s,{size:o})=>s+o,0)/8);t+=`if ( offset + ${n} > buffer.length) { throw new PartialReadError() }
`;let r=[],a=8;t+=`let bits = buffer[offset++]
`;for(let s in e){let{name:o,size:c,signed:u}=e[s],h=i.getField(o);for(;a<c;)a+=8,t+=`bits = (bits << 8) | buffer[offset++]
`;t+=`let ${h} = (bits >> `+(a-c)+") & 0x"+((1<<c)-1).toString(16)+`
`,u&&(t+=`${h} -= (${h} & 0x`+(1<<c-1).toString(16)+`) << 1
`),a-=c,o===h?r.push(o):r.push(`${o}: ${h}`)}return t+="return { value: { "+r.join(", ")+` }, size: ${n} }`,i.wrapCode(t)}],mapper:["parametrizable",(i,e)=>{let t="const { value, size } = "+i.callType(e.type)+`
`;return t+="return { value: "+JSON.stringify(fke(e.mappings))+"[value] || value, size }",i.wrapCode(t)}]},Write:{pstring:["parametrizable",(i,e)=>{let t=`const length = Buffer.byteLength(value, "${e.encoding||"utf8"}")
`;if(e.countType)t+="offset = "+i.callType("length",e.countType)+`
`;else if(e.count===null)throw new Error("pstring must contain either count or countType");return t+=`buffer.write(value, offset, length, "${e.encoding||"utf8"}")
`,t+="return offset + length",i.wrapCode(t)}],buffer:["parametrizable",(i,e)=>{let t=`if (!(value instanceof Buffer)) value = Buffer.from(value)
`;if(e.countType)t+="offset = "+i.callType("value.length",e.countType)+`
`;else if(e.count===null)throw new Error("buffer must contain either count or countType");return t+=`value.copy(buffer, offset)
`,t+="return offset + value.length",i.wrapCode(t)}],bitfield:["parametrizable",(i,e)=>{let t="",n=0,r="";for(let a in e){let{name:s,size:o}=e[a],c=i.getField(s);for(r+=`let ${c} = value.${s}
`;o>0;){let u=Math.min(8-n,o),h=(1<<u)-1;t!==""&&(t=`((${t}) << ${u}) | `),t+=`((${c} >> `+(o-u)+") & 0x"+h.toString(16)+")",o-=u,n+=u,n===8&&(r+="buffer[offset++] = "+t+`
`,n=0,t="")}}return n!==0&&(r+="buffer[offset++] = ("+t+") << "+(8-n)+`
`),r+="return offset",i.wrapCode(r)}],mapper:["parametrizable",(i,e)=>{let t=JSON.stringify(W$(e.mappings)),n="return "+i.callType(`${t}[value] || value`,e.type);return i.wrapCode(n)}]},SizeOf:{pstring:["parametrizable",(i,e)=>{let t=`let size = Buffer.byteLength(value, "${e.encoding||"utf8"}")
`;if(e.countType)t+="size += "+i.callType("size",e.countType)+`
`;else if(e.count===null)throw new Error("pstring must contain either count or countType");return t+="return size",i.wrapCode(t)}],buffer:["parametrizable",(i,e)=>{let t=`let size = value instanceof Buffer ? value.length : Buffer.from(value).length
`;if(e.countType)t+="size += "+i.callType("size",e.countType)+`
`;else if(e.count===null)throw new Error("buffer must contain either count or countType");return t+="return size",i.wrapCode(t)}],bitfield:["parametrizable",(i,e)=>`${Math.ceil(e.reduce((n,{size:r})=>n+r,0)/8)}`],mapper:["parametrizable",(i,e)=>{let t=JSON.stringify(W$(e.mappings)),n="return "+i.callType(`${t}[value] || value`,e.type);return i.wrapCode(n)}]}};function fke(i){let e={};for(let t in i){let n=i[t];t=j$(t),isNaN(n)||(n=Number(n)),n==="true"&&(n=!0),n==="false"&&(n=!1),e[t]=n}return e}l(fke,"sanitizeMappings");function W$(i){let e={};for(let t in i){let n=i[t];t=j$(t),e[n]=isNaN(t)?t:parseInt(t,10)}return e}l(W$,"swapMappings");function j$(i){return i.match(/^0x[0-9a-f]+$/i)?parseInt(i.substring(2),16):i}l(j$,"hex2dec")});var Y$=qe((exports,module)=>{ne();ae();re();var numeric=TI(),utils=RI(),conditionalDatatypes=q$(),structuresDatatypes=G$(),utilsDatatypes=X$(),{tryCatch}=Rl(),ProtoDefCompiler=class{static{l(this,"ProtoDefCompiler")}constructor(){this.readCompiler=new ReadCompiler,this.writeCompiler=new WriteCompiler,this.sizeOfCompiler=new SizeOfCompiler}addTypes(e){this.readCompiler.addTypes(e.Read),this.writeCompiler.addTypes(e.Write),this.sizeOfCompiler.addTypes(e.SizeOf)}addTypesToCompile(e){this.readCompiler.addTypesToCompile(e),this.writeCompiler.addTypesToCompile(e),this.sizeOfCompiler.addTypesToCompile(e)}addProtocol(e,t){this.readCompiler.addProtocol(e,t),this.writeCompiler.addProtocol(e,t),this.sizeOfCompiler.addProtocol(e,t)}addVariable(e,t){this.readCompiler.addContextType(e,t),this.writeCompiler.addContextType(e,t),this.sizeOfCompiler.addContextType(e,t)}compileProtoDefSync(e={printCode:!1}){let t=this.sizeOfCompiler.generate(),n=this.writeCompiler.generate(),r=this.readCompiler.generate();e.printCode&&(console.log("// SizeOf:"),console.log(t),console.log("// Write:"),console.log(n),console.log("// Read:"),console.log(r));let a=this.sizeOfCompiler.compile(t),s=this.writeCompiler.compile(n),o=this.readCompiler.compile(r);return new CompiledProtodef(a,s,o)}},CompiledProtodef=class{static{l(this,"CompiledProtodef")}constructor(e,t,n){this.sizeOfCtx=e,this.writeCtx=t,this.readCtx=n}read(e,t,n){let r=this.readCtx[n];if(!r)throw new Error("missing data type: "+n);return r(e,t)}write(e,t,n,r){let a=this.writeCtx[r];if(!a)throw new Error("missing data type: "+r);return a(e,t,n)}setVariable(e,t){this.sizeOfCtx[e]=t,this.readCtx[e]=t,this.writeCtx[e]=t}sizeOf(e,t){let n=this.sizeOfCtx[t];if(!n)throw new Error("missing data type: "+t);return typeof n=="function"?n(e):n}createPacketBuffer(e,t){let n=tryCatch(()=>this.sizeOf(t,e),a=>{throw a.message=`SizeOf error for ${a.field} : ${a.message}`,a}),r=pe.Buffer.allocUnsafe(n);return tryCatch(()=>this.write(t,r,0,e),a=>{throw a.message=`Write error for ${a.field} : ${a.message}`,a}),r}parsePacketBuffer(e,t,n=0){let{value:r,size:a}=tryCatch(()=>this.read(t,n,e),s=>{throw s.message=`Read error for ${s.field} : ${s.message}`,s});return{data:r,metadata:{size:a},buffer:t.slice(0,a),fullBuffer:t}}},Compiler=class{static{l(this,"Compiler")}constructor(){this.primitiveTypes={},this.native={},this.context={},this.types={},this.scopeStack=[],this.parameterizableTypes={}}addNativeType(i,e){this.primitiveTypes[i]=`native.${i}`,this.native[i]=e,this.types[i]="native"}addContextType(i,e){this.primitiveTypes[i]=`ctx.${i}`,this.context[i]=e.toString()}addParametrizableType(i,e){this.parameterizableTypes[i]=e}addTypes(i){for(let[e,[t,n]]of Object.entries(i))t==="native"?this.addNativeType(e,n):t==="context"?this.addContextType(e,n):t==="parametrizable"&&this.addParametrizableType(e,n)}addTypesToCompile(i){for(let[e,t]of Object.entries(i))(!this.types[e]||this.types[e]==="native")&&(this.types[e]=t)}addProtocol(i,e){let t=this;function n(r,a){r!==void 0&&(r.types&&t.addTypesToCompile(r.types),n(r[a.shift()],a))}l(n,"recursiveAddTypes"),n(i,e.slice(0))}indent(i,e="  "){return i.split(`
`).map(t=>e+t).join(`
`)}getField(i){let e=i.split("/"),t=this.scopeStack.length-1,n=["value","enum","default","size","offset"];for(;e.length;){let r=this.scopeStack[t],a=e.shift();if(a===".."){t--;continue}if(r[a])return r[a]+(e.length?"."+e.join("."):"");if(e.length!==0)throw new Error("Cannot access properties of undefined field");let s=0;n.includes(a)&&s++;for(let o=0;o<t;o++)this.scopeStack[o][a]&&s++;return r[a]=a+(s||""),r[a]}throw new Error("Unknown field "+e)}generate(){this.scopeStack=[{}];let i=[];for(let e in this.context)i[e]=this.context[e];for(let e in this.types)i[e]||(this.types[e]!=="native"?(i[e]=this.compileType(this.types[e]),i[e].startsWith("ctx")&&(i[e]="function () { return "+i[e]+"(...arguments) }"),isNaN(i[e])||(i[e]=this.wrapCode("  return "+i[e]))):i[e]=`native.${e}`);return`() => {
`+this.indent(`const ctx = {
`+this.indent(Object.keys(i).map(e=>e+": "+i[e]).join(`,
`))+`
}
return ctx`)+`
}`}compile(code){let native=this.native,{PartialReadError}=Rl();return eval(code)()}},ReadCompiler=class extends Compiler{static{l(this,"ReadCompiler")}constructor(){super(),this.addTypes(conditionalDatatypes.Read),this.addTypes(structuresDatatypes.Read),this.addTypes(utilsDatatypes.Read);for(let e in numeric)this.addNativeType(e,numeric[e][0]);for(let e in utils)this.addNativeType(e,utils[e][0])}compileType(e){if(e instanceof Array){if(this.parameterizableTypes[e[0]])return this.parameterizableTypes[e[0]](this,e[1]);if(this.types[e[0]]&&this.types[e[0]]!=="native")return this.wrapCode("return "+this.callType(e[0],"offset",Object.values(e[1])));throw new Error("Unknown parametrizable type: "+JSON.stringify(e[0]))}else return e==="native"?"null":this.types[e]?"ctx."+e:this.primitiveTypes[e]}wrapCode(e,t=[]){return t.length>0?"(buffer, offset, "+t.join(", ")+`) => {
`+this.indent(e)+`
}`:`(buffer, offset) => {
`+this.indent(e)+`
}`}callType(e,t="offset",n=[]){if(e instanceof Array&&this.types[e[0]]&&this.types[e[0]]!=="native")return this.callType(e[0],t,Object.values(e[1]));e instanceof Array&&e[0]==="container"&&this.scopeStack.push({});let r=this.compileType(e);return e instanceof Array&&e[0]==="container"&&this.scopeStack.pop(),n.length>0?"("+r+`)(buffer, ${t}, `+n.map(a=>this.getField(a)).join(", ")+")":"("+r+`)(buffer, ${t})`}},WriteCompiler=class extends Compiler{static{l(this,"WriteCompiler")}constructor(){super(),this.addTypes(conditionalDatatypes.Write),this.addTypes(structuresDatatypes.Write),this.addTypes(utilsDatatypes.Write);for(let e in numeric)this.addNativeType(e,numeric[e][1]);for(let e in utils)this.addNativeType(e,utils[e][1])}compileType(e){if(e instanceof Array){if(this.parameterizableTypes[e[0]])return this.parameterizableTypes[e[0]](this,e[1]);if(this.types[e[0]]&&this.types[e[0]]!=="native")return this.wrapCode("return "+this.callType("value",e[0],"offset",Object.values(e[1])));throw new Error("Unknown parametrizable type: "+e[0])}else return e==="native"?"null":this.types[e]?"ctx."+e:this.primitiveTypes[e]}wrapCode(e,t=[]){return t.length>0?"(value, buffer, offset, "+t.join(", ")+`) => {
`+this.indent(e)+`
}`:`(value, buffer, offset) => {
`+this.indent(e)+`
}`}callType(e,t,n="offset",r=[]){if(t instanceof Array&&this.types[t[0]]&&this.types[t[0]]!=="native")return this.callType(e,t[0],n,Object.values(t[1]));t instanceof Array&&t[0]==="container"&&this.scopeStack.push({});let a=this.compileType(t);return t instanceof Array&&t[0]==="container"&&this.scopeStack.pop(),r.length>0?"("+a+`)(${e}, buffer, ${n}, `+r.map(s=>this.getField(s)).join(", ")+")":"("+a+`)(${e}, buffer, ${n})`}},SizeOfCompiler=class extends Compiler{static{l(this,"SizeOfCompiler")}constructor(){super(),this.addTypes(conditionalDatatypes.SizeOf),this.addTypes(structuresDatatypes.SizeOf),this.addTypes(utilsDatatypes.SizeOf);for(let e in numeric)this.addNativeType(e,numeric[e][2]);for(let e in utils)this.addNativeType(e,utils[e][2])}addNativeType(e,t){this.primitiveTypes[e]=`native.${e}`,isNaN(t)?this.native[e]=t:this.native[e]=n=>t,this.types[e]="native"}compileType(e){if(e instanceof Array){if(this.parameterizableTypes[e[0]])return this.parameterizableTypes[e[0]](this,e[1]);if(this.types[e[0]]&&this.types[e[0]]!=="native")return this.wrapCode("return "+this.callType("value",e[0],Object.values(e[1])));throw new Error("Unknown parametrizable type: "+e[0])}else return e==="native"?"null":isNaN(this.primitiveTypes[e])?this.types[e]?"ctx."+e:this.primitiveTypes[e]:this.primitiveTypes[e]}wrapCode(e,t=[]){return t.length>0?"(value, "+t.join(", ")+`) => {
`+this.indent(e)+`
}`:`(value) => {
`+this.indent(e)+`
}`}callType(e,t,n=[]){if(t instanceof Array&&this.types[t[0]]&&this.types[t[0]]!=="native")return this.callType(e,t[0],Object.values(t[1]));t instanceof Array&&t[0]==="container"&&this.scopeStack.push({});let r=this.compileType(t);return t instanceof Array&&t[0]==="container"&&this.scopeStack.pop(),isNaN(r)?n.length>0?"("+r+`)(${e}, `+n.map(a=>this.getField(a)).join(", ")+")":"("+r+`)(${e})`:r}};module.exports={ReadCompiler,WriteCompiler,SizeOfCompiler,ProtoDefCompiler,CompiledProtodef}});var K$=qe((QDe,J$)=>{ne();ae();re();var Z$=Bj(),dke=new Z$;J$.exports={ProtoDef:Z$,Serializer:PS().Serializer,Parser:PS().Parser,FullPacketParser:PS().FullPacketParser,Compiler:Y$(),types:dke.types,utils:Rl()}});var _C=qe((nVe,Q$)=>{ne();ae();re();Q$.exports=K$()});var eX=qe((oVe,pke)=>{pke.exports={void:"native",container:"native",i8:"native",switch:"native",compound:"native",nbtTagName:"native",i16:"native",u16:"native",i32:"native",i64:"native",f32:"native",f64:"native",pstring:"native",shortString:["pstring",{countType:"u16"}],byteArray:["array",{countType:"i32",type:"i8"}],list:["container",[{name:"type",type:"nbtMapper"},{name:"value",type:["array",{countType:"i32",type:["nbtSwitch",{type:"type"}]}]}]],intArray:["array",{countType:"i32",type:"i32"}],longArray:["array",{countType:"i32",type:"i64"}],nbtMapper:["mapper",{type:"i8",mappings:{"0":"end","1":"byte","2":"short","3":"int","4":"long","5":"float","6":"double","7":"byteArray","8":"string","9":"list","10":"compound","11":"intArray","12":"longArray"}}],nbtSwitch:["switch",{compareTo:"$type",fields:{end:"void",byte:"i8",short:"i16",int:"i32",long:"i64",float:"f32",double:"f64",byteArray:"byteArray",string:"shortString",list:"list",compound:"compound",intArray:"intArray",longArray:"longArray"}}],nbt:["container",[{name:"type",type:"nbtMapper"},{name:"name",type:"nbtTagName"},{name:"value",type:["nbtSwitch",{type:"type"}]}]],anonymousNbt:["container",[{name:"type",type:"nbtMapper"},{name:"value",type:["nbtSwitch",{type:"type"}]}]],anonOptionalNbt:["optionalNbtType",{tagType:"anonymousNbt"}],optionalNbt:["optionalNbtType",{tagType:"nbt"}]}});var tX=qe((lVe,mke)=>{mke.exports={void:"native",container:"native",i8:"native",switch:"native",compound:"native",zigzag32:"native",zigzag64:"native",i16:"native",i32:"native",i64:"native",f32:"native",f64:"native",pstring:"native",shortString:["pstring",{countType:"varint"}],byteArray:["array",{countType:"zigzag32",type:"i8"}],list:["container",[{name:"type",type:"nbtMapper"},{name:"value",type:["array",{countType:"zigzag32",type:["nbtSwitch",{type:"type"}]}]}]],intArray:["array",{countType:"zigzag32",type:"i32"}],longArray:["array",{countType:"zigzag32",type:"i64"}],nbtMapper:["mapper",{type:"i8",mappings:{"0":"end","1":"byte","2":"short","3":"int","4":"long","5":"float","6":"double","7":"byteArray","8":"string","9":"list","10":"compound","11":"intArray","12":"longArray"}}],nbtSwitch:["switch",{compareTo:"$type",fields:{end:"void",byte:"i8",short:"i16",int:"zigzag32",long:"zigzag64",float:"f32",double:"f64",byteArray:"byteArray",string:"shortString",list:"list",compound:"compound",intArray:"intArray",longArray:"longArray"}}],nbt:["container",[{name:"type",type:"nbtMapper"},{name:"name",type:"nbtTagName"},{name:"value",type:["nbtSwitch",{type:"type"}]}]]}});var nX=qe((cVe,iX)=>{ne();ae();re();iX.exports={Read:{compound:["context",(i,e)=>{let t={value:{},size:0};for(;e!==i.length;){let n=ctx.i8(i,e);if(n.value===0){t.size+=n.size;break}if(n.value>20)throw new Error(`Invalid tag: ${n.value} > 20`);let r=ctx.nbt(i,e);e+=r.size,t.size+=r.size,t.value[r.value.name]={type:r.value.type,value:r.value.value}}return t}]},Write:{compound:["context",(i,e,t)=>{for(let n in i)t=ctx.nbt({name:n,type:i[n].type,value:i[n].value},e,t);return t=ctx.i8(0,e,t),t}]},SizeOf:{compound:["context",i=>{let e=1;for(let t in i)e+=ctx.nbt({name:t,type:i[t].type,value:i[t].value});return e}]}}});var aX=qe((dVe,rX)=>{ne();ae();re();function _ke(i,e){let{value:t,size:n}=ctx.shortString(i,e);for(let r of t)if(r==="\0")throw new Error("unexpected tag end");return{value:t,size:n}}l(_ke,"readPString");function gke(...i){return ctx.shortString(...i)}l(gke,"writePString");function bke(...i){return ctx.shortString(...i)}l(bke,"sizeOfPString");rX.exports={Read:{nbtTagName:["context",_ke]},Write:{nbtTagName:["context",gke]},SizeOf:{nbtTagName:["context",bke]}}});var gC=qe((bVe,sX)=>{ne();ae();re();function yke(i,e,{tagType:t},n){if(e+1>i.length)throw new Error("Read out of bounds");return i.readInt8(e)===0?{size:1}:this.read(i,e,t,n)}l(yke,"readOptionalNbt");function vke(i,e,t,{tagType:n},r){return i===void 0?(e.writeInt8(0,t),t+1):this.write(i,e,t,n,r)}l(vke,"writeOptionalNbt");function wke(i,{tagType:e},t){return i===void 0?1:this.sizeOf(i,e,e,t)}l(wke,"sizeOfOptionalNbt");var xke={Read:{optionalNbtType:["parametrizable",(i,{tagType:e})=>i.wrapCode(`
if (offset + 1 > buffer.length) { throw new PartialReadError() }
if (buffer.readInt8(offset) === 0) return { size: 1 }
return ${i.callType(e)}
      `)]},Write:{optionalNbtType:["parametrizable",(i,{tagType:e})=>i.wrapCode(`
if (value === undefined) {
  buffer.writeInt8(0, offset)
  return offset + 1
}
return ${i.callType("value",e)}
      `)]},SizeOf:{optionalNbtType:["parametrizable",(i,{tagType:e})=>i.wrapCode(`
if (value === undefined) { return 1 }
return ${i.callType("value",e)}
      `)]}};sX.exports={compiler:xke,interpret:{optionalNbtType:[yke,vke,wke]}}});var bC=qe((SVe,dX)=>{ne();ae();re();function oX(i){i=i<<1^i>>63;let e=0;for(;i&-128;)i>>>=7,e++;return e+1}l(oX,"sizeOfVarInt");function lX(i){typeof i.valueOf()=="object"?i=BigInt(i[0])<<32n|BigInt(i[1]):typeof i!="bigint"&&(i=BigInt(i)),i=i<<1n^i>>63n;let e=0;for(;i>127n;)i>>=7n,e++;return e+1}l(lX,"sizeOfVarLong");function cX(i,e){let t=BigInt(0),n=0n,r=e,a=0;for(;;){if(r+1>i.length)throw new Error("unexpected buffer end");let o=i.readUInt8(r);if(t|=(BigInt(o)&0x7fn)<<n,r++,!(o&128)){a=r-e;break}if(n+=7n,n>63n)throw new Error(`varint is too big: ${n}`)}return{value:t>>1n^-(t&1n),size:a}}l(cX,"readSignedVarLong");function uX(i,e,t){typeof i.valueOf()=="object"?i=BigInt.asIntN(64,BigInt(i[0])<<32n)|BigInt(i[1]):typeof i!="bigint"&&(i=BigInt(i)),i=i<<1n^i>>63n;let n=0;for(;i>127n;){let r=Number(i&0xFFn);e.writeUInt8(r|128,t+n),n++,i>>=7n}return e.writeUInt8(Number(i),t+n),t+n+1}l(uX,"writeSignedVarLong");function hX(i,e){let t=0,n=0,r=e,a=0;for(;;){if(r+1>i.length)throw new Error("unexpected buffer end");let o=i.readUInt8(r);if(t|=(o&127)<<n,r++,!(o&128)){a=r-e;break}if(n+=7,n>63)throw new Error(`varint is too big: ${n}`)}return{value:(t<<63>>63^t)>>1^t&1<<63,size:a}}l(hX,"readSignedVarInt");function fX(i,e,t){i=i<<1^i>>31;let n=0;for(;i&-128;){let r=Number(i&255|128);e.writeUInt8(r,t+n),n++,i>>>=7}return e.writeUInt8(i,t+n),t+n+1}l(fX,"writeSignedVarInt");dX.exports={compiler:{Read:{zigzag64:["native",cX],zigzag32:["native",hX]},Write:{zigzag64:["native",uX],zigzag32:["native",fX]},SizeOf:{zigzag64:["native",lX],zigzag32:["native",oX]}},interpret:{zigzag64:[cX,uX,lX],zigzag32:[hX,fX,oX]}}});var mX=qe((kVe,pX)=>{ne();ae();re();pX.exports={compound:[Ske,Eke,Mke]};function Ske(i,e,t,n){let r={value:{},size:0};for(;;){let a=this.read(i,e,"i8",n);if(a.value===0){e+=a.size,r.size+=a.size;break}let s=this.read(i,e,"nbt",n);e+=s.size,r.size+=s.size,r.value[s.value.name]={type:s.value.type,value:s.value.value}}return r}l(Ske,"readCompound");function Eke(i,e,t,n,r){let a=this;return Object.keys(i).forEach(function(s){t=a.write({name:s,type:i[s].type,value:i[s].value},e,t,"nbt",r)}),t=this.write(0,e,t,"i8",r),t}l(Eke,"writeCompound");function Mke(i,e,t){let n=this;return 1+Object.keys(i).reduce(function(a,s){return a+n.sizeOf({name:s,type:i[s].type,value:i[s].value},"nbt",t)},0)}l(Mke,"sizeOfCompound")});var gX=qe((LVe,_X)=>{ne();ae();re();var Ake={Byte:"byte",Short:"short",Int:"int",Long:"long",Float:"float",Double:"double",ByteArray:"byteArray",String:"string",List:"list",Compound:"compound",IntArray:"intArray",LongArray:"longArray"};_X.exports=Ake});var Dg=qe((FVe,MX)=>{ne();ae();re();var Tke=(IP(),Zr(PP)),{ProtoDefCompiler:kke}=_C().Compiler,vC=JSON.stringify(eX()),bX=vC.replace(/([iuf][0-7]+)/g,"l$1"),yX=JSON.stringify(tX()).replace(/([if][0-7]+)/g,"l$1");function vX(i,e){e.addTypes(nX()),e.addTypes(aX()),e.addTypes(gC().compiler),e.addTypes(bC().compiler);let t=vC;i==="littleVarint"?t=yX:i==="little"&&(t=bX),e.addTypesToCompile(JSON.parse(t))}l(vX,"addTypesToCompiler");function Rke(i,e){e.addTypes(mX()),e.addTypes(gC().interpret),e.addTypes(bC().interpret);let t=vC;i==="littleVarint"?t=yX:i==="little"&&(t=bX),e.addTypes(JSON.parse(t)),e.types.nbtTagName=e.types.shortString}l(Rke,"addTypesToInterpreter");function wC(i){let e=new kke;return vX(i,e),e.compileProtoDefSync()}l(wC,"createProto");var wX=wC("big"),xX=wC("little"),Pke=wC("littleVarint"),IS={big:wX,little:xX,littleVarint:Pke};function Ike(i,e="big"){return e===!0&&(e="little"),IS[e].createPacketBuffer("nbt",i)}l(Ike,"writeUncompressed");function Cke(i,e="big"){return e===!0&&(e="little"),IS[e].parsePacketBuffer("nbt",i,i.startOffset).data}l(Cke,"parseUncompressed");var Lke=l(function(i){let e=!0;return i[0]!==31&&(e=!1),i[1]!==139&&(e=!1),e},"hasGzipHeader"),SX=l(i=>i[1]===0&&i[2]===0&&i[3]===0,"hasBedrockLevelHeader");async function zg(i,e){Lke(i)&&(i=await new Promise((n,r)=>{Tke.gunzip(i,(a,s)=>{a?r(a):n(s)})}));let t=IS[e].parsePacketBuffer("nbt",i,i.startOffset);return t.metadata.buffer=i,t.type=e,t}l(zg,"parseAs");async function Nke(i,e,t){let n=null;if(typeof e=="function")t=e;else if(e===!0||e==="little")n="little";else if(e==="big")n="big";else if(e==="littleVarint")n="littleVarint";else if(e)throw new Error("Unrecognized format: "+e);if(i.startOffset=i.startOffset||0,!n&&!i.startOffset&&SX(i)&&(i.startOffset+=8,n="little"),n)try{let s=await zg(i,n);return t&&t(null,s.data,s.type,s.metadata),{parsed:s.data,type:s.type,metadata:s.metadata}}catch(s){if(t)return t(s);throw s}let r=l(({buffer:s,size:o})=>{let c=o,u=s.length-s.startOffset,f=s[c+s.startOffset]===10;if(c<u&&!f)throw new Error(`Unexpected EOF at ${c}: still have ${u-c} bytes to read !`)},"verifyEOF"),a=null;try{a=await zg(i,"big"),r(a.metadata)}catch(s){try{a=await zg(i,"little"),r(a.metadata)}catch{try{a=await zg(i,"littleVarint"),r(a.metadata)}catch{if(t)return t(s);throw s}}}return t&&t(null,a.data,a.type,a.metadata),{parsed:a.data,type:a.type,metadata:a.metadata}}l(Nke,"parse");function EX(i){function e(t,n){return n==="compound"?Object.keys(t).reduce(function(r,a){return r[a]=EX(t[a]),r},{}):n==="list"?t.value.map(function(r){return e(r,t.type)}):t}return l(e,"transform"),e(i.value,i.type)}l(EX,"simplify");function yC(i,e){if(i.type!==e.type)return!1;if(i.type==="compound"){let t=Object.keys(i.value),n=Object.keys(e.value);if(t.length!==n.length)return!1;for(let r of t)if(!yC(i.value[r],e.value[r]))return!1;return!0}if(i.type==="list"){if(i.value.length!==e.value.length)return!1;for(let t=0;t<i.value.length;t++)if(!yC(i.value[t],e.value[t]))return!1;return!0}if(i.type==="byteArray"||i.type==="intArray"||i.type==="shortArray"){if(i.value.length!==e.value.length)return!1;for(let t=0;t<i.value.length;t++)if(i.value[t]!==e.value[t])return!1;return!0}if(i.type==="long")return i.value[0]===e.value[0]&&i.value[1]===e.value[1];if(i.type==="longArray"){if(i.value.length!==e.value.length)return!1;for(let t=0;t<i.value.length;t++)if(i.value[t][0]!==e.value[t][0]||i.value[t][1]!==e.value[t][1])return!1;return!0}return i.value===e.value}l(yC,"equal");var Oke={bool(i=!1){return{type:"bool",value:i}},short(i){return{type:"short",value:i}},byte(i){return{type:"byte",value:i}},string(i){return{type:"string",value:i}},comp(i,e=""){return{type:"compound",name:e,value:i}},int(i){return{type:"int",value:i}},float(i){return{type:"float",value:i}},double(i){return{type:"double",value:i}},long(i){return{type:"long",value:i}},list(i){return{type:"list",value:{type:i?.type??"end",value:i?.value??[]}}},byteArray(i=[]){return{type:"byteArray",value:i}},shortArray(i=[]){return{type:"shortArray",value:i}},intArray(i=[]){return{type:"intArray",value:i}},longArray(i=[]){return{type:"longArray",value:i}}};MX.exports={addTypesToCompiler:vX,addTypesToInterpreter:Rke,writeUncompressed:Ike,parseUncompressed:Cke,simplify:EX,hasBedrockLevelHeader:SX,parse:Nke,parseAs:zg,equal:yC,proto:wX,protoLE:xX,protos:IS,TagType:gX(),...Oke}});var AX,TX=Gt(()=>{ne();ae();re();AX=["blocks","blockCollisionShapes","biomes","version"]});var CS=qe((jVe,kX)=>{ne();ae();re();kX.exports={dispose3(i){i.geometry?.dispose(),i.dispose?.()}}});var RX=qe((ZVe,Bke)=>{Bke.exports=["1.8.8","1.9","1.10","1.11.2","1.12","1.13","1.13.2","1.14.4","1.15.2","1.16.1","1.16.4","1.17.1","1.18.1","1.19.1","1.20.2"]});var LS=qe((JVe,CX)=>{ne();ae();re();var IX=RX(),pm={};for(let i of IX){let e=xC(i);pm[e]?PX(pm[e])<PX(i)&&(pm[e]=i):pm[e]=i}function xC(i){let[e,t]=(i+"").split(".");return e+"."+t}l(xC,"toMajor");function PX(i){let[,,e]=(i+".0").split(".");return parseInt(e,10)}l(PX,"minor");function Fke(i){return IX.indexOf(i)!==-1?i:pm[xC(i)]??Object.values(pm).at(-1)}l(Fke,"getVersion");CX.exports={getVersion:Fke,toMajor:xC}});var NX=qe((LX,NS)=>{ne();ae();re();(function(i,e){typeof NS=="object"&&NS.exports?NS.exports=e():i.nearley=e()})(LX,function(){function i(c,u,h){return this.id=++i.highestId,this.name=c,this.symbols=u,this.postprocess=h,this}l(i,"Rule"),i.highestId=0,i.prototype.toString=function(c){var u=typeof c>"u"?this.symbols.map(o).join(" "):this.symbols.slice(0,c).map(o).join(" ")+" \u25CF "+this.symbols.slice(c).map(o).join(" ");return this.name+" \u2192 "+u};function e(c,u,h,f){this.rule=c,this.dot=u,this.reference=h,this.data=[],this.wantedBy=f,this.isComplete=this.dot===c.symbols.length}l(e,"State"),e.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},e.prototype.nextState=function(c){var u=new e(this.rule,this.dot+1,this.reference,this.wantedBy);return u.left=this,u.right=c,u.isComplete&&(u.data=u.build(),u.right=void 0),u},e.prototype.build=function(){var c=[],u=this;do c.push(u.right.data),u=u.left;while(u.left);return c.reverse(),c},e.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,a.fail))};function t(c,u){this.grammar=c,this.index=u,this.states=[],this.wants={},this.scannable=[],this.completed={}}l(t,"Column"),t.prototype.process=function(c){for(var u=this.states,h=this.wants,f=this.completed,p=0;p<u.length;p++){var d=u[p];if(d.isComplete){if(d.finish(),d.data!==a.fail){for(var m=d.wantedBy,y=m.length;y--;){var g=m[y];this.complete(g,d)}if(d.reference===this.index){var b=d.rule.name;(this.completed[b]=this.completed[b]||[]).push(d)}}}else{var b=d.rule.symbols[d.dot];if(typeof b!="string"){this.scannable.push(d);continue}if(h[b]){if(h[b].push(d),f.hasOwnProperty(b))for(var x=f[b],y=0;y<x.length;y++){var w=x[y];this.complete(d,w)}}else h[b]=[d],this.predict(b)}}},t.prototype.predict=function(c){for(var u=this.grammar.byName[c]||[],h=0;h<u.length;h++){var f=u[h],p=this.wants[c],d=new e(f,0,this.index,p);this.states.push(d)}},t.prototype.complete=function(c,u){var h=c.nextState(u);this.states.push(h)};function n(c,u){this.rules=c,this.start=u||this.rules[0].name;var h=this.byName={};this.rules.forEach(function(f){h.hasOwnProperty(f.name)||(h[f.name]=[]),h[f.name].push(f)})}l(n,"Grammar"),n.fromCompiled=function(f,u){var h=f.Lexer;f.ParserStart&&(u=f.ParserStart,f=f.ParserRules);var f=f.map(function(d){return new i(d.name,d.symbols,d.postprocess)}),p=new n(f,u);return p.lexer=h,p};function r(){this.reset("")}l(r,"StreamLexer"),r.prototype.reset=function(c,u){this.buffer=c,this.index=0,this.line=u?u.line:1,this.lastLineBreak=u?-u.col:0},r.prototype.next=function(){if(this.index<this.buffer.length){var c=this.buffer[this.index++];return c===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:c}}},r.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},r.prototype.formatError=function(c,u){var h=this.buffer;if(typeof h=="string"){var f=h.split(`
`).slice(Math.max(0,this.line-5),this.line),p=h.indexOf(`
`,this.index);p===-1&&(p=h.length);var d=this.index-this.lastLineBreak,m=String(this.line).length;return u+=" at line "+this.line+" col "+d+`:

`,u+=f.map(function(g,b){return y(this.line-f.length+b+1,m)+" "+g},this).join(`
`),u+=`
`+y("",m+d)+`^
`,u}else return u+" at index "+(this.index-1);function y(g,b){var x=String(g);return Array(b-x.length+1).join(" ")+x}l(y,"pad")};function a(c,u,h){if(c instanceof n)var f=c,h=u;else var f=n.fromCompiled(c,u);this.grammar=f,this.options={keepHistory:!1,lexer:f.lexer||new r};for(var p in h||{})this.options[p]=h[p];this.lexer=this.options.lexer,this.lexerState=void 0;var d=new t(f,0),m=this.table=[d];d.wants[f.start]=[],d.predict(f.start),d.process(),this.current=0}l(a,"Parser"),a.fail={},a.prototype.feed=function(c){var u=this.lexer;u.reset(c,this.lexerState);for(var h;;){try{if(h=u.next(),!h)break}catch(C){var m=new t(this.grammar,this.current+1);this.table.push(m);var f=new Error(this.reportLexerError(C));throw f.offset=this.current,f.token=C.token,f}var p=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var d=this.current+1,m=new t(this.grammar,d);this.table.push(m);for(var y=h.text!==void 0?h.text:h.value,g=u.constructor===r?h.value:h,b=p.scannable,x=b.length;x--;){var w=b[x],E=w.rule.symbols[w.dot];if(E.test?E.test(g):E.type?E.type===h.type:E.literal===y){var M=w.nextState({data:g,token:h,isToken:!0,reference:d-1});m.states.push(M)}}if(m.process(),m.states.length===0){var f=new Error(this.reportError(h));throw f.offset=this.current,f.token=h,f}this.options.keepHistory&&(p.lexerState=u.save()),this.current++}return p&&(this.lexerState=u.save()),this.results=this.finish(),this},a.prototype.reportLexerError=function(c){var u,h,f=c.token;return f?(u="input "+JSON.stringify(f.text[0])+" (lexer error)",h=this.lexer.formatError(f,"Syntax error")):(u="input (lexer error)",h=c.message),this.reportErrorCommon(h,u)},a.prototype.reportError=function(c){var u=(c.type?c.type+" token: ":"")+JSON.stringify(c.value!==void 0?c.value:c),h=this.lexer.formatError(c,"Syntax error");return this.reportErrorCommon(h,u)},a.prototype.reportErrorCommon=function(c,u){var h=[];h.push(c);var f=this.table.length-2,p=this.table[f],d=p.states.filter(function(y){var g=y.rule.symbols[y.dot];return g&&typeof g!="string"});if(d.length===0)h.push("Unexpected "+u+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(p.states,h);else{h.push("Unexpected "+u+`. Instead, I was expecting to see one of the following:
`);var m=d.map(function(y){return this.buildFirstStateStack(y,[])||[y]},this);m.forEach(function(y){var g=y[0],b=g.rule.symbols[g.dot],x=this.getSymbolDisplay(b);h.push("A "+x+" based on:"),this.displayStateStack(y,h)},this)}return h.push(""),h.join(`
`)},a.prototype.displayStateStack=function(c,u){for(var h,f=0,p=0;p<c.length;p++){var d=c[p],m=d.rule.toString(d.dot);m===h?f++:(f>0&&u.push("    ^ "+f+" more lines identical to this"),f=0,u.push("    "+m)),h=m}},a.prototype.getSymbolDisplay=function(c){return s(c)},a.prototype.buildFirstStateStack=function(c,u){if(u.indexOf(c)!==-1)return null;if(c.wantedBy.length===0)return[c];var h=c.wantedBy[0],f=[c].concat(u),p=this.buildFirstStateStack(h,f);return p===null?null:[c].concat(p)},a.prototype.save=function(){var c=this.table[this.current];return c.lexerState=this.lexerState,c},a.prototype.restore=function(c){var u=c.index;this.current=u,this.table[u]=c,this.table.splice(u+1),this.lexerState=c.lexerState,this.results=this.finish()},a.prototype.rewind=function(c){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[c])},a.prototype.finish=function(){var c=[],u=this.grammar.start,h=this.table[this.table.length-1];return h.states.forEach(function(f){f.rule.name===u&&f.dot===f.rule.symbols.length&&f.reference===0&&f.data!==a.fail&&c.push(f)}),c.map(function(f){return f.data})};function s(c){var u=typeof c;if(u==="string")return c;if(u==="object"){if(c.literal)return JSON.stringify(c.literal);if(c instanceof RegExp)return"character matching "+c;if(c.type)return c.type+" token";if(c.test)return"token matching "+String(c.test);throw new Error("Unknown symbol type: "+c)}}l(s,"getSymbolLongDisplay");function o(c){var u=typeof c;if(u==="string")return c;if(u==="object"){if(c.literal)return JSON.stringify(c.literal);if(c instanceof RegExp)return c.toString();if(c.type)return"%"+c.type;if(c.test)return"<"+String(c.test)+">";throw new Error("Unknown symbol type: "+c)}}return l(o,"getSymbolShortDisplay"),{Parser:a,Grammar:n,Rule:i}})});var OX=qe((s7e,OS)=>{ne();ae();re();(function(){function i(c){return c[0]}l(i,"id");function e(c){if(c==="true")return{type:"boolean",value:!0};if(c==="false")return{type:"boolean",value:!1};let u="bslfdi",h={b:"byte",s:"short",l:"long",f:"float",d:"double",i:"int"},f=c.charAt(c.length-1).toLowerCase();if(u.indexOf(f)!==-1){let y=parseFloat(c.substring(0,c.length-1));return isNaN(y)?{value:c,type:"string"}:{value:y,type:h[f]}}let p=parseFloat(c),d=c.includes("."),m=p>>0===p;return!isNaN(c)&&(d||m)?{value:p,type:d?"double":"int"}:{value:c,type:"string"}}l(e,"parseValue");function t(c,u){c[0]!==void 0&&(u[c[0]]=c[1])}l(t,"extractPair");function n(c){let u={};t(c[2],u);for(let h in c[3])t(c[3][h][3],u);return{type:"compound",value:u}}l(n,"extractObject");function r(c){let u=[c[6]];for(let f in c[7])u.push(c[7][f][3]);return{type:{B:"byteArray",I:"intArray",L:"longArray"}[c[2]],value:{type:u[0].type,value:u.map(f=>f.value)}}}l(r,"extractTypedArray");function a(c){let u=[c[2]];for(let h in c[3])u.push(c[3][h][3]);return{type:"list",value:{type:u[0].type,value:u.map(h=>h.value)}}}l(a,"extractArray");function s(c){let u=[];t(c[2],u);for(let h in c[3])t(c[3][h][3],u);return{type:"list",value:{type:u[0].type,value:u.map(h=>h.value)}}}l(s,"extractArrayPair");var o={Lexer:void 0,ParserRules:[{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","wschar"],postprocess:l(function(u){return u[0].concat([u[1]])},"arrpush")},{name:"_",symbols:["_$ebnf$1"],postprocess:function(c){return null}},{name:"__$ebnf$1",symbols:["wschar"]},{name:"__$ebnf$1",symbols:["__$ebnf$1","wschar"],postprocess:l(function(u){return u[0].concat([u[1]])},"arrpush")},{name:"__",symbols:["__$ebnf$1"],postprocess:function(c){return null}},{name:"wschar",symbols:[/[ \t\n\v\f]/],postprocess:i},{name:"MAIN",symbols:["_","JVALUE","_"],postprocess:c=>c[1]},{name:"JVALUE",symbols:["JOBJECT"],postprocess:c=>c[0]},{name:"JVALUE",symbols:[{literal:"'"},"_","JOBJECT","_",{literal:"'"}],postprocess:c=>c[2]},{name:"JVALUE",symbols:["JARRAY"],postprocess:c=>c[0]},{name:"JVALUE",symbols:["STRING"],postprocess:c=>c[0]},{name:"JVALUE$string$1",symbols:[{literal:"n"},{literal:"u"},{literal:"l"},{literal:"l"}],postprocess:l(function(u){return u.join("")},"joiner")},{name:"JVALUE",symbols:["JVALUE$string$1"],postprocess:c=>null},{name:"JOBJECT",symbols:[{literal:"{"},"_",{literal:"}"}],postprocess:c=>({type:"compound",value:{}})},{name:"JOBJECT$ebnf$1",symbols:[]},{name:"JOBJECT$ebnf$1$subexpression$1",symbols:["_",{literal:","},"_","PAIR"]},{name:"JOBJECT$ebnf$1",symbols:["JOBJECT$ebnf$1","JOBJECT$ebnf$1$subexpression$1"],postprocess:l(function(u){return u[0].concat([u[1]])},"arrpush")},{name:"JOBJECT$ebnf$2$subexpression$1",symbols:["_",{literal:","}]},{name:"JOBJECT$ebnf$2",symbols:["JOBJECT$ebnf$2$subexpression$1"],postprocess:i},{name:"JOBJECT$ebnf$2",symbols:[],postprocess:function(c){return null}},{name:"JOBJECT",symbols:[{literal:"{"},"_","PAIR","JOBJECT$ebnf$1","JOBJECT$ebnf$2",{literal:"}"}],postprocess:n},{name:"JARRAY",symbols:[{literal:"["},"_",{literal:"]"}],postprocess:c=>({type:"list",value:{}})},{name:"JARRAY$ebnf$1",symbols:[]},{name:"JARRAY$ebnf$1$subexpression$1",symbols:["_",{literal:","},"_","JVALUE"]},{name:"JARRAY$ebnf$1",symbols:["JARRAY$ebnf$1","JARRAY$ebnf$1$subexpression$1"],postprocess:l(function(u){return u[0].concat([u[1]])},"arrpush")},{name:"JARRAY$ebnf$2$subexpression$1",symbols:["_",{literal:","}]},{name:"JARRAY$ebnf$2",symbols:["JARRAY$ebnf$2$subexpression$1"],postprocess:i},{name:"JARRAY$ebnf$2",symbols:[],postprocess:function(c){return null}},{name:"JARRAY",symbols:[{literal:"["},"_",/[BIL]/,"_",{literal:";"},"_","JVALUE","JARRAY$ebnf$1","JARRAY$ebnf$2","_",{literal:"]"}],postprocess:r},{name:"JARRAY$ebnf$3",symbols:[]},{name:"JARRAY$ebnf$3$subexpression$1",symbols:["_",{literal:","},"_","JVALUE"]},{name:"JARRAY$ebnf$3",symbols:["JARRAY$ebnf$3","JARRAY$ebnf$3$subexpression$1"],postprocess:l(function(u){return u[0].concat([u[1]])},"arrpush")},{name:"JARRAY$ebnf$4$subexpression$1",symbols:["_",{literal:","}]},{name:"JARRAY$ebnf$4",symbols:["JARRAY$ebnf$4$subexpression$1"],postprocess:i},{name:"JARRAY$ebnf$4",symbols:[],postprocess:function(c){return null}},{name:"JARRAY",symbols:[{literal:"["},"_","JVALUE","JARRAY$ebnf$3","JARRAY$ebnf$4","_",{literal:"]"}],postprocess:a},{name:"JARRAY$ebnf$5",symbols:[]},{name:"JARRAY$ebnf$5$subexpression$1",symbols:["_",{literal:","},"_","PAIR"]},{name:"JARRAY$ebnf$5",symbols:["JARRAY$ebnf$5","JARRAY$ebnf$5$subexpression$1"],postprocess:l(function(u){return u[0].concat([u[1]])},"arrpush")},{name:"JARRAY$ebnf$6$subexpression$1",symbols:["_",{literal:","}]},{name:"JARRAY$ebnf$6",symbols:["JARRAY$ebnf$6$subexpression$1"],postprocess:i},{name:"JARRAY$ebnf$6",symbols:[],postprocess:function(c){return null}},{name:"JARRAY",symbols:[{literal:"["},"_","PAIR","JARRAY$ebnf$5","JARRAY$ebnf$6","_",{literal:"]"}],postprocess:s},{name:"PAIR",symbols:["STRING","_",{literal:":"},"_","JVALUE"],postprocess:c=>[c[0].value,c[4]]},{name:"STRING$ebnf$1",symbols:[]},{name:"STRING$ebnf$1$subexpression$1",symbols:[/[^\\"]/]},{name:"STRING$ebnf$1$subexpression$1",symbols:[{literal:"\\"},/["bfnrt\/\\]/]},{name:"STRING$ebnf$1$subexpression$1$string$1",symbols:[{literal:"\\"},{literal:"u"}],postprocess:l(function(u){return u.join("")},"joiner")},{name:"STRING$ebnf$1$subexpression$1",symbols:["STRING$ebnf$1$subexpression$1$string$1",/[a-fA-F0-9]/,/[a-fA-F0-9]/,/[a-fA-F0-9]/,/[a-fA-F0-9]/]},{name:"STRING$ebnf$1",symbols:["STRING$ebnf$1","STRING$ebnf$1$subexpression$1"],postprocess:l(function(u){return u[0].concat([u[1]])},"arrpush")},{name:"STRING",symbols:[{literal:'"'},"STRING$ebnf$1",{literal:'"'}],postprocess:c=>e(JSON.parse(c.flat(3).map(u=>u.replace(`
`,"\\n")).join("")))},{name:"STRING$ebnf$2",symbols:[/[^\"\'}\]:;,\s]/]},{name:"STRING$ebnf$2",symbols:["STRING$ebnf$2",/[^\"\'}\]:;,\s]/],postprocess:l(function(u){return u[0].concat([u[1]])},"arrpush")},{name:"STRING",symbols:["STRING$ebnf$2"],postprocess:c=>e(c[0].join(""))}],ParserStart:"MAIN"};typeof OS<"u"&&typeof OS.exports<"u"?OS.exports=o:window.grammar=o})()});var FS=qe((h7e,VX)=>{ne();ae();re();var BX=NX(),Uke=OX();function zX(i){function e(t,n){return n==="compound"?Object.keys(t).reduce(function(r,a){return r[a]=zX(t[a]),r},{}):n==="list"?Array.isArray(t.value)?t.value.map(function(r){return e(r,t.type)}):[]:t}return l(e,"transform"),e(i.value,i.type)}l(zX,"simplify");function BS({value:i,type:e}){if(e==="compound"){let n=[],r=Object.entries(i);for(let a=0;a<r.length;a++){let s=r[a][0],o=BS(r[a][1]);s==="string"&&(o=FX(o)),n.push(`${s}:${o}`)}return`{${n.join(",")}}`}else{if(e==="list")return Array.isArray(i.value)?`[${UX(i)}]`:"[]";if(e==="byteArray"||e==="intArray"||e==="longArray"){let n=Dke(e),r=UX(i);return`[${n}${r}]`}}let t=i+Vke(i,e);return e==="string"&&(t=FX(t)),t}l(BS,"stringify");function FX(i){return i=i.replace(/"/g,'\\"'),(/'|{|}|\[|\]|:|;|,|\(|\)||=/g.test(i)||i==="")&&(i=`"${i}"`),i}l(FX,"normalizeString");function UX({value:i,type:e}){let t=zke(i),n=[];for(let r=0;r<i.length;r++){let a=i[r];a!==void 0&&(a=BS({value:a,type:e}),t?n.push(`${r}:${a}`):n.push(a))}return n.join(",")}l(UX,"getArrayValues");function zke(i){for(let e=0;e<i.length;e++)if(i[e]===void 0)return!0;return!1}l(zke,"hasMissingElements");var Dke=l(i=>i.charAt(0).toUpperCase()+";","getArrayPrefix");function Vke(i,e){return e==="double"?i>>0===i?"d":"":{int:"",byte:"b",short:"s",float:"f",long:"l",string:""}[e]}l(Vke,"getSuffix");function qke(i){return BS(DX(i))}l(qke,"normalize");function DX(i){try{let e=new BX.Parser(BX.Grammar.fromCompiled(Uke));return e.feed(i),e.results[0]}catch(e){throw e.message=`Error parsing text '${i}'`,e}}l(DX,"parse");VX.exports={parse:DX,simplify:zX,stringify:BS,normalize:qke}});var HX=qe((_7e,qX)=>{ne();ae();re();qX.exports=Hke;function Hke(i,e=[]){let t=0;return i.replace(/%(?:(\d+)\$)?(s|%)/g,(n,r)=>{if(n==="%%")return"%";{let a=r?parseInt(r)-1:t++;return e[a]!==void 0?e[a]:""}})}l(Hke,"format")});var WX=qe((w7e,GX)=>{ne();ae();re();var mm=1e3,_m=mm*60,gm=_m*60,vf=gm*24,Gke=vf*7,Wke=vf*365.25;GX.exports=function(i,e){e=e||{};var t=typeof i;if(t==="string"&&i.length>0)return jke(i);if(t==="number"&&isFinite(i))return e.long?Xke(i):$ke(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function jke(i){if(i=String(i),!(i.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*Wke;case"weeks":case"week":case"w":return t*Gke;case"days":case"day":case"d":return t*vf;case"hours":case"hour":case"hrs":case"hr":case"h":return t*gm;case"minutes":case"minute":case"mins":case"min":case"m":return t*_m;case"seconds":case"second":case"secs":case"sec":case"s":return t*mm;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}l(jke,"parse");function $ke(i){var e=Math.abs(i);return e>=vf?Math.round(i/vf)+"d":e>=gm?Math.round(i/gm)+"h":e>=_m?Math.round(i/_m)+"m":e>=mm?Math.round(i/mm)+"s":i+"ms"}l($ke,"fmtShort");function Xke(i){var e=Math.abs(i);return e>=vf?US(i,e,vf,"day"):e>=gm?US(i,e,gm,"hour"):e>=_m?US(i,e,_m,"minute"):e>=mm?US(i,e,mm,"second"):i+" ms"}l(Xke,"fmtLong");function US(i,e,t,n){var r=e>=t*1.5;return Math.round(i/t)+" "+n+(r?"s":"")}l(US,"plural")});var $X=qe((A7e,jX)=>{ne();ae();re();function Yke(i){t.debug=t,t.default=t,t.coerce=c,t.disable=a,t.enable=r,t.enabled=s,t.humanize=WX(),t.destroy=u,Object.keys(i).forEach(h=>{t[h]=i[h]}),t.names=[],t.skips=[],t.formatters={};function e(h){let f=0;for(let p=0;p<h.length;p++)f=(f<<5)-f+h.charCodeAt(p),f|=0;return t.colors[Math.abs(f)%t.colors.length]}l(e,"selectColor"),t.selectColor=e;function t(h){let f,p=null,d,m;function y(...g){if(!y.enabled)return;let b=y,x=Number(new Date),w=x-(f||x);b.diff=w,b.prev=f,b.curr=x,f=x,g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let E=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(C,I)=>{if(C==="%%")return"%";E++;let F=t.formatters[I];if(typeof F=="function"){let A=g[E];C=F.call(b,A),g.splice(E,1),E--}return C}),t.formatArgs.call(b,g),(b.log||t.log).apply(b,g)}return l(y,"debug"),y.namespace=h,y.useColors=t.useColors(),y.color=t.selectColor(h),y.extend=n,y.destroy=t.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(d!==t.namespaces&&(d=t.namespaces,m=t.enabled(h)),m),set:g=>{p=g}}),typeof t.init=="function"&&t.init(y),y}l(t,"createDebug");function n(h,f){let p=t(this.namespace+(typeof f>"u"?":":f)+h);return p.log=this.log,p}l(n,"extend");function r(h){t.save(h),t.namespaces=h,t.names=[],t.skips=[];let f,p=(typeof h=="string"?h:"").split(/[\s,]+/),d=p.length;for(f=0;f<d;f++)p[f]&&(h=p[f].replace(/\*/g,".*?"),h[0]==="-"?t.skips.push(new RegExp("^"+h.slice(1)+"$")):t.names.push(new RegExp("^"+h+"$")))}l(r,"enable");function a(){let h=[...t.names.map(o),...t.skips.map(o).map(f=>"-"+f)].join(",");return t.enable(""),h}l(a,"disable");function s(h){if(h[h.length-1]==="*")return!0;let f,p;for(f=0,p=t.skips.length;f<p;f++)if(t.skips[f].test(h))return!1;for(f=0,p=t.names.length;f<p;f++)if(t.names[f].test(h))return!0;return!1}l(s,"enabled");function o(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}l(o,"toNamespace");function c(h){return h instanceof Error?h.stack||h.message:h}l(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return l(u,"destroy"),t.enable(t.load()),t}l(Yke,"setup");jX.exports=Yke});var XX=qe((Oa,zS)=>{ne();ae();re();Oa.formatArgs=Jke;Oa.save=Kke;Oa.load=Qke;Oa.useColors=Zke;Oa.storage=e5e();Oa.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Oa.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Zke(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}l(Zke,"useColors");function Jke(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+zS.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;i.splice(1,0,e,"color: inherit");let t=0,n=0;i[0].replace(/%[a-zA-Z%]/g,r=>{r!=="%%"&&(t++,r==="%c"&&(n=t))}),i.splice(n,0,e)}l(Jke,"formatArgs");Oa.log=console.debug||console.log||(()=>{});function Kke(i){try{i?Oa.storage.setItem("debug",i):Oa.storage.removeItem("debug")}catch{}}l(Kke,"save");function Qke(){let i;try{i=Oa.storage.getItem("debug")}catch{}return!i&&typeof process<"u"&&"env"in process&&(i=process.env.DEBUG),i}l(Qke,"load");function e5e(){try{return localStorage}catch{}}l(e5e,"localstorage");zS.exports=$X()(Oa);var{formatters:t5e}=zS.exports;t5e.j=function(i){try{return JSON.stringify(i)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var ZX=qe((O7e,YX)=>{ne();ae();re();YX.exports=i=>Object.assign({},i)});var SC=qe((z7e,JX)=>{ne();ae();re();JX.exports={buildIndexFromObject:function(i,e){if(i!==void 0)return Object.keys(i).reduce(function(t,n){return t[i[n][e]]=i[n],t},{})},buildIndexFromArray:function(i,e){if(i!==void 0)return i.reduce(function(t,n){return t[n[e]]=n,t},{})},buildIndexFromArrayNonUnique:function(i,e){if(i!==void 0)return i.reduce(function(t,n){return t[n[e]]||(t[n[e]]=[]),t[n[e]].push(n),t},{})},buildIndexFromArrayWithRanges:function(i,e,t){if(i!==void 0)return i.reduce(function(n,r){for(let a=r[e];a<=r[t];a++)n[a]=r;return n},{})}}});var QX=qe((H7e,KX)=>{ne();ae();re();var $i=SC();KX.exports=function(i){if(i.blocks?.length&&(!("minStateId"in i.blocks[0])||!("defaultState"in i.blocks[0])))for(let e of i.blocks)e.minStateId=e.id<<4,e.maxStateId=e.minStateId+15,e.defaultState=e.minStateId;return{biomesById:$i.buildIndexFromArray(i.biomes,"id"),biomesByName:$i.buildIndexFromArray(i.biomes,"name"),blocksById:$i.buildIndexFromArray(i.blocks,"id"),blocksByName:$i.buildIndexFromArray(i.blocks,"name"),blocksByStateId:$i.buildIndexFromArrayWithRanges(i.blocks,"minStateId","maxStateId"),enchantmentsById:$i.buildIndexFromArray(i.enchantments,"id"),enchantmentsByName:$i.buildIndexFromArray(i.enchantments,"name"),entitiesByName:$i.buildIndexFromArray(i.entities,"name"),entitiesById:$i.buildIndexFromArray(i.entities,"id"),mobsById:i.entities===void 0?void 0:$i.buildIndexFromArray(i.entities.filter(e=>e.type==="mob"),"id"),objectsById:i.entities===void 0?void 0:$i.buildIndexFromArray(i.entities.filter(e=>e.type==="object"),"id"),instrumentsById:$i.buildIndexFromArray(i.instruments,"id"),itemsById:$i.buildIndexFromArray(i.items,"id"),itemsByName:$i.buildIndexFromArray(i.items,"name"),foodsById:$i.buildIndexFromArray(i.foods,"id"),foodsByName:$i.buildIndexFromArray(i.foods,"name"),windowsById:$i.buildIndexFromArray(i.windows,"id"),windowsByName:$i.buildIndexFromArray(i.windows,"name"),effectsById:$i.buildIndexFromArray(i.effects,"id"),effectsByName:$i.buildIndexFromArray(i.effects,"name"),particlesById:$i.buildIndexFromArray(i.particles,"id"),particlesByName:$i.buildIndexFromArray(i.particles,"name"),blockLootByName:$i.buildIndexFromArray(i.blockLoot,"block"),entityLootByName:$i.buildIndexFromArray(i.entityLoot,"entity"),mapIconsById:$i.buildIndexFromArray(i.mapIcons,"id"),mapIconsByName:$i.buildIndexFromArray(i.mapIcons,"name"),attributesByName:$i.buildIndexFromArray(i.attributes,"name"),attributesByResource:$i.buildIndexFromArray(i.attributes,"resource")}}});var tY=qe(($7e,eY)=>{ne();ae();re();eY.exports=i5e;function i5e(i){let e=QX()(i);return{blocks:e.blocksById,blocksByName:e.blocksByName,blocksArray:i.blocks,blocksByStateId:e.blocksByStateId,blockMappings:i.blockMappings,blockStates:i.blockStates,blockCollisionShapes:i.blockCollisionShapes,biomes:e.biomesById,biomesByName:e.biomesByName,biomesArray:i.biomes,items:e.itemsById,itemsByName:e.itemsByName,itemsArray:i.items,foods:e.foodsById,foodsByName:e.foodsByName,foodsArray:i.foods,recipes:i.recipes,instruments:e.instrumentsById,instrumentsArray:i.instruments,materials:i.materials,enchantments:e.enchantmentsById,enchantmentsByName:e.enchantmentsByName,enchantmentsArray:i.enchantments,mobs:e.mobsById,objects:e.objectsById,entities:e.entitiesById,entitiesByName:e.entitiesByName,entitiesArray:i.entities,windows:e.windowsById,windowsByName:e.windowsByName,windowsArray:i.windows,protocol:i.protocol,protocolComments:i.protocolComments,protocolYaml:[i.proto,i.types],defaultSkin:i.steve,version:i.version,effects:e.effectsById,effectsByName:e.effectsByName,effectsArray:i.effects,attributes:e.attributesByResource,attributesByName:e.attributesByName,attributesArray:i.attributes,particles:e.particlesById,particlesByName:e.particlesByName,particlesArray:i.particles,language:i.language,blockLoot:e.blockLootByName,blockLootArray:i.blockLoot,entityLoot:e.entityLootByName,entityLootArray:i.entityLoot,commands:i.commands,loginPacket:i.loginPacket,mapIcons:e.mapIconsById,mapIconsByName:e.mapIconsByName,mapIconsArray:i.mapIcons,tints:i.tints}}l(i5e,"mcDataToNode")});var iY=qe((K7e,n5e)=>{n5e.exports=[{name:"usesPalettedChunks",description:"the chunk format uses local palettes",versions:["1.9","latest"]},{name:"mobSpawner",description:"spawner is called mob_spawner",versions:["1.8","1.12.2"]},{name:"spawner",description:"spawner is called spawner",versions:["1.13","latest"]},{name:"hasElytraFlying",description:"the elytra exists and players can fly with it",versions:["1.9","latest"]},{name:"fireworkMetadataVarInt7",description:"firework attached entity metadata is at index 7 and is varint",versions:["1.11","1.13.2"]},{name:"fireworkMetadataOptVarInt8",description:"firework attached entity metadata is at index 8 and is optvarint",versions:["1.14","1.16.5"]},{name:"fireworkMetadataOptVarInt9",description:"firework attached entity metadata is at index 9 and is optvarint",versions:["1.17","latest"]},{name:"fireworkNamePlural",description:"the firework entity used for elytra boosting is named fireworks_rocket",versions:["1.11","1.12.2"]},{name:"fireworkNameSingular",description:"the firework entity used for elytra boosting is named firework_rocket",versions:["1.13","latest"]},{name:"blockMetadata",description:"block metadata is encoded in a separate metadata",versions:["1.8","1.12.2"]},{name:"blockStateId",description:"block metadata is encoded as state id",versions:["1.13","latest"]},{name:"creativeSleepNearMobs",description:"can sleep near mobs in creative",versions:["1.13","latest"]},{name:"fixedPointPosition",description:"Entity positions are represented with fixed point numbers",versions:["1.8","1.8.9"]},{name:"doublePosition",description:"Entity positions are represented with double",versions:["1.9","latest"]},{name:"fixedPointDelta",description:"Delta of position are represented with fixed point numbers",versions:["1.8","1.8.9"]},{name:"fixedPointDelta128",description:"Delta of position are represented with fixed point numbers times 128",versions:["1.9","latest"]},{name:"customChannelMCPrefixed",description:"custom channel are prefixed by MC|",versions:["1.8","1.12.2"]},{name:"customChannelIdentifier",description:"custom channel is an identifier starting in minecraft namespace",versions:["1.13","latest"]},{name:"dimensionDataIsAvailable",description:"dimensionData is available, providing an additional information about the current dimension",versions:["1.17","latest"]},{name:"dimensionDataInCodec",description:"dimensionData like world height is exclusively in the codec in login packet",versions:["1.19","latest"]},{name:"useItemWithBlockPlace",description:"use item is done with block place packet",versions:["1.8","1.8.9"]},{name:"useItemWithOwnPacket",description:"use item is done with its own packet",versions:["1.9","latest"]},{name:"blockPlaceHasHeldItem",description:"block_place packet has heldItem",versions:["1.8","1.8.9"]},{name:"blockPlaceHasHandAndIntCursor",description:"block_place packet has hand and int cursor",versions:["1.9","1.10.2"]},{name:"blockPlaceHasHandAndFloatCursor",description:"block_place packet has hand and float cursor",versions:["1.11","1.13.2"]},{name:"blockPlaceHasInsideBlock",description:"block_place packet has inside block",versions:["1.14","latest"]},{name:"teleportUsesPositionPacket",description:"teleport is done using position packet",versions:["1.8","1.8.9"]},{name:"positionUpdateSentEveryTick",description:"the position is sent every tick",versions:["1.8","1.11.2"]},{name:"teleportUsesOwnPacket",description:"teleport is done using its own packet",versions:["1.9","latest"]},{name:"oneBlockForSeveralVariations",description:"one block of several variations",versions:["1.8","1.12.2"]},{name:"blockSchemeIsFlat",description:"all variations of a packet have their own id",versions:["1.13","latest"]},{name:"tabCompleteHasNoToolTip",description:"tab complete doesn't have a tool tip",versions:["1.8","1.12.2"]},{name:"tabCompleteHasAToolTip",description:"tab complete has a tool tip",versions:["1.13","latest"]},{name:"effectAreMinecraftPrefixed",description:"effect are prefixed by minecraft:",versions:["1.8","1.12.2"]},{name:"effectAreNotPrefixed",description:"effect are not prefixed",versions:["1.13","latest"]},{name:"itemsAreAlsoBlocks",description:"items are also blocks",versions:["1.8","1.12.2"]},{name:"itemsAreNotBlocks",description:"items are not block",versions:["1.13","latest"]},{name:"fishingBobberCorrectlyNamed",description:"the fishing hook entity is named fishing_bobber",versions:["1.14","latest"]},{name:"editBookIsPluginChannel",description:"book editing is handled through plugin channels",versions:["1.8","1.12.2"]},{name:"hasEditBookPacket",description:"book editing is handled through a packet",versions:["1.13","latest"]},{name:"clientUpdateBookIdWhenSign",description:"when sending MC|BSign, item type should be written_book",versions:["1.8","1.8.9"]},{name:"useMCTrSel",description:"select trade through plugin channel MC|TrSel",versions:["1.8","1.12.2"]},{name:"useMCTrList",description:"receive trade list through plugin channel MC|TrList",versions:["1.8","1.12.2"]},{name:"usetraderlist",description:"receive trade list through plugin channel usetrader_list",versions:["1.13","1.13.2"]},{name:"doesntHaveOffHandSlot",description:"doesn't have an off-hand slot",versions:["1.8","1.8.9"]},{name:"multiBlockChangeHasTrustEdges",description:"multi block changes has trust edges field",versions:["1.16","latest"]},{name:"dimensionIsAnInt",description:"dimension is an int (the index of an enum)",versions:["1.8","1.15.2"]},{name:"dimensionIsAString",description:"dimension is a string (the dimension is the same as the world name)",versions:["1.16","1.16.1"]},{name:"dimensionIsAWorld",description:"dimension is an nbt compound",versions:["1.16.2","latest"]},{name:"doesntHaveChestType",description:"chests don't have a type property",versions:["1.8","1.12.2"]},{name:"usesAdvCdm",description:"packet MC|AdvCmd was incorrectly spelled in 1.8 as MC|AdvCdm",versions:["1.8","1.8.9"]},{name:"usesAdvCmd",description:"uses MC|AdvCmd to set command block information",versions:["1.9","1.12.2"]},{name:"indexesVillagerRecipes",description:"gives a index for each trade in a villagers metadata",versions:["1.8","1.11.2"]},{name:"hasAttackCooldown",description:"if there is a cooldown after attacks to deal full damage",versions:["1.9","latest"]},{name:"usesLoginPacket",description:"uses the login packet as defined in mcData",versions:["1.16","latest"]},{name:"usesMultiblockSingleLong",description:"in the multi_block_change packet is stored as a single number",versions:["1.16.2","latest"]},{name:"usesMultiblock3DChunkCoords",description:"in the multi_block_change packet, all 3 axis coords are defined",versions:["1.16.2","latest"]},{name:"setBlockUsesMetadataNumber",description:"the parameter metadata of the setblock command is a number",versions:["1.8","1.12.2"]},{name:"useMCItemName",description:"send item name for anvil using plugin channel MC|TrList",versions:["1.8","1.12.2"]},{name:"selectingTradeMovesItems",description:"selecting a trade automatically puts the required items into trading slots",versions:["1.14","latest"]},{name:"resourcePackUsesHash",description:"resource pack uses hash validation",versions:["1.8","1.9.4"]},{name:"lessCharsInChat",description:"max chars in chat",versions:["1.8","1.10.2"]},{name:"teamUsesChatComponents",description:"teams use chatcomponents for formatting",versions:["1.13","latest"]},{name:"teamUsesScoreboard",description:"teams use scoreboard_team packet",versions:["1.8","1.8.9"]},{name:"enderCrystalNameEndsInErNoCaps",description:"this is when the end_crystal's entity name is ender_crystal",versions:["1.11","1.12.2"]},{name:"enderCrystalNameNoCapsWithUnderscore",description:"this is when the end_crystal's entity name is end_crystal",versions:["1.14","latest"]},{name:"entityNameUpperCaseNoUnderscore",description:"this is when some entities names would be captialized and appended without underscores like 'Boat' or 'ArmorStand'",versions:["1.8","1.10.2"]},{name:"entityNameLowerCaseNoUnderscore",description:"this is when some entity names are lowercase and appended without underscores like 'armorstand' or 'endercrystal'",versions:["1.13","1.13.2"]},{name:"transactionPacketExists",description:"this is when the description packet existed",versions:["1.8","1.16.5"]},{name:"stateIdUsed",description:"starting in 1.17.1, actionId has been replaced with stateId",versions:["1.17.1","latest"]},{name:"actionIdUsed",description:"pre 1.17, actionId is used",versions:["1.8","1.16.5"]},{name:"setSlotAsTransaction",description:"use setslot as transaction instead of just hoping it'll work",versions:["1.17","latest"]},{name:"armAnimationBeforeUse",description:"arm animation packet sent before use entity packet",versions:["1.8","1.8.9"]},{name:"tallWorld",description:"world y defaults to starts at -64 and ends at 384",versions:["1.18","latest"]},{name:"sendStringifiedSignText",description:"sign text send when updating signs is send as stringified strings",versions:["1.8","1.8.9"]},{name:"usesBlockStates",versions:["1.13","latest"]},{name:"effectNamesMatchRegistryName",versions:["1.17","latest"]},{name:"shieldSlot",versions:["1.9","latest"]},{name:"village&pillageInventoryWindows",versions:["1.14","latest"]},{name:"netherUpdateInventoryWindows",versions:["1.16","latest"]},{name:"unloadChunkByEmptyChunk",description:"Chunk unloading is done by sending an empty chunk",versions:["1.8","1.8.9"]},{name:"unloadChunkDirect",description:"Chunk unloading is done by sending directly an unload chunk packet",versions:["1.9","latest"]},{name:"entityCamelCase",description:"entity names are in camel case",versions:["1.8","1.10.2"]},{name:"entitySnakeCase",description:"entity name are in snake case",versions:["1.11","latest"]},{name:"respawnIsPayload",description:"respawn field is payload",versions:["1.8","1.8.9"]},{name:"respawnIsActionId",description:"respawn field is action id",versions:["1.9","latest"]},{name:"attachStackEntity",description:"attach is used to stack entities",versions:["1.8","1.8.9"]},{name:"setPassengerStackEntity",description:"set passengers is used to stack entities",versions:["1.9","latest"]},{name:"theFlattening",description:"many items got merged, separated or renamed",versions:["1.13","latest"]},{name:"blockPlaceHasIntCursor",description:"block_place packet has int cursor",versions:["1.8","1.10.2"]},{name:"updateViewPosition",description:"the client's chunk position must be updated to render chunks correctly",versions:["1.14","latest"]},{name:"lightSentSeparately",description:"chunk light data is sent in a separate packet",versions:["1.14","latest"]},{name:"difficultySentSeparately",description:"game difficulty is sent separately from the login packet",versions:["1.14","latest"]},{name:"biomesSentSeparately",description:"biomes sent in own packet",versions:["1.15","1.17_major"]},{name:"acknowledgePlayerDigging",description:"player digging packets should be responded to",versions:["1.14","latest"]},{name:"multiTypeSigns",description:"there are 6 types of signs based on the different trees",versions:["1.14","latest"]},{name:"entityMetadataSentSeparately",description:"entity metadata is sent separately from the spawn packets",versions:["1.15","latest"]},{name:"attributeSnakeCase",description:"entity attributes are in snake case",versions:["1.16","latest"]},{name:"allEntityEquipmentInOne",description:"entity equipment packet contains all equipment slots instead of just one",versions:["1.16","latest"]},{name:"entityMCPrefixed",description:"entity prefixed with minecraft: on this versions",versions:["1.12","latest"]},{name:"nbtOnMetadata",description:"in never versions its nbt but in 1.8 its on metadata",versions:["1.8","1.8.9"]},{name:"theShulkerBoxes",description:"added shulker boxes to the game",versions:["1.13","latest"]},{name:"metadataIxOfItem",description:"item.metadata[this_ix] will be the item that was dropped on the ground",values:[{value:8,versions:["1.17_major","latest"]},{value:7,versions:["1.14_major","1.16_major"]},{value:6,versions:["1.10_major","1.13_major"]},{value:5,version:"1.9_major"},{value:8,version:"1.8_major"}]},{name:"itemSerializationWillOnlyUsePresent",description:"item serialization in [even] newer versions uses present field [exclusively] to show nullability rather than sending blockId as -1",versions:["1.14_major","latest"]},{name:"itemSerializationAllowsPresent",description:"item serialization in newer versions uses present field to show nullability rather or sending blockId as -1 can be used",versions:["1.13_major","latest"]},{name:"itemSerializationUsesBlockId",description:"item serialization in older versions uses blockId field to show nullability by setting blockId to -1",versions:["1.8_major","1.12_major"]},{name:"saveDurabilityAsDamage",description:"in newer versions, an nbt key called 'Damage' is used to store durability",versions:["1.13_major","latest"]},{name:"nbtNameForEnchant",description:"what the nbt key for enchants is",values:[{value:"Enchantments",versions:["1.13_major","latest"]},{value:"ench",versions:["1.8_major","1.12_major"]}]},{name:"booksUseStoredEnchantments",description:"Enchanted books store enchantment data in a separate NBT tag called StoredEnchantments",versions:["1.8_major","latest"]},{name:"typeOfValueForEnchantLevel",description:"type of value that stores enchant lvl in the nbt",values:[{value:"string",versions:["1.13_major","latest"]},{value:"short",versions:["1.8_major","1.12_major"]}]},{name:"whereDurabilityIsSerialized",description:"where the durability is saved in nbt",values:[{value:"Damage",versions:["1.13_major","latest"]},{value:"metadata",versions:["1.8_major","1.12_major"]}]},{name:"itemLoreIsAString",description:"An item's custom Lore is stored as a string in NBT, in older versions it's a list of strings",versions:["1.14_major","latest"]},{name:"spawnEggsUseInternalIdInNbt",description:"in older versions, spawn eggs have a field in their nbt called 'internalId' which tells what entity they will spawn",versions:["1.8_major","1.8_major"]},{name:"spawnEggsUseEntityTagInNbt",description:"in older versions, spawn eggs have a key in their nbt called EntityTag which is an object with a field called id, which is an identifier like 'minecraft:cow' that tells the client what mob this egg will spawn",versions:["1.9_major","1.12_major"]},{name:"spawnEggsHaveSpawnedEntityInName",description:"in newer versions, spawn eggs have the entity they spawn in their name, ex: 'squid_spawn_egg'",versions:["1.13_major","latest"]},{name:"signedChat",description:"starting in 1.19 chat messages generally carry a cryptographic signature, `packet_chat` has been replaced clientbound by `packet_player_chat` and `packet_system_chat` and serverbound by `packet_chat_message`",versions:["1.19_major","latest"]},{name:"signatureEncryption",description:"allows for usage of `signature` instead of verifyToken in serverbound packet_encryption_begin",versions:["1.19","1.19.2"]},{name:"profileKeySignatureV2",description:"uses `signatureV2` public key signature",versions:["1.19.2","latest"]},{name:"clientboundChatHasSender",description:"clientbound chat packet contains message sender's UUID",versions:["1.16_major","latest"]},{name:"consolidatedEntitySpawnPacket",description:"One packet to add living and non-living entities",versions:["1.19","latest"]},{name:"chainedChatWithHashing",description:"Signed messages are ordered and depend on previous messages, and message payloads are hashed before generating a signature",version:"1.19.2"},{name:"useChatSessions",description:"Users generate a session with a unique ID upon login. Chat messages are signed using this ID and an index that is increased with each message",versions:["1.19.3","latest"]},{name:"playerInfoActionIsBitfield",description:"The player_info packet may contain multiple actions in one packet. The actions field is a bitfield signifying what actions are included",versions:["1.19.3","latest"]},{name:"clientsideChatFormatting",description:"Chat messages are formatted on the client side",versions:["1.19_major","latest"]},{name:"entityMetadataHasLong",description:"There exists a serializer of type long for entity metadata",versions:["1.19.3","latest"]},{name:"hasBundlePacket",description:"Has a Bundle Packet to group packets for processing at once",versions:["1.19.4","latest"]},{name:"mcDataHasEntityMetadata",description:"Entity Metadata is defined in mcdata",versions:["1.19.4","latest"]},{name:"multiSidedSigns",description:"Signs can have text on the front and back",versions:["1.20","latest"]},{name:"explicitMaxDurability",description:"Items with maximum durability have explicit NBT data Damage:0",versions:["1.15_major","latest"]},{name:"newLightingDataFormat",description:"in 1.17, light encoding changed to handle new world height",versions:["1.17","latest"]},{name:"hasConfigurationState",description:"in 1.20.2, a new configuration state was added to allow configuration after login",versions:["1.20.2","latest"]},{name:"unifiedPlayerAndEntitySpawnPacket",description:"Players and entities spawn with the same spawn_entity packet",versions:["1.20.2","latest"]},{name:"chatPacketsUseNbtComponents",description:"Chat message packets use NBT to serialize chat components instead of JSON",versions:["1.20.3","latest"]}]});var nY=qe((Q7e,r5e)=>{r5e.exports=[{name:"smallWorld",description:"world height is 128 blocks",version:"0.14.3"},{name:"usesPalettedChunks",description:"the chunk format uses local palettes",versions:["1.16_major","latest"]},{name:"newRecipeSchema",description:"New recipe schema",versions:["1.16_major","latest"]},{name:"usesBlockStates",versions:["1.16_major","latest"]},{name:"tallWorld",description:"world y defaults to starts at -64 and ends at 384",versions:["1.18.0","latest"]},{name:"itemSerializeUsesAuxValue",description:"in newer versions, item metadata and count are separate fields, but before 1.16.220, they're stored in one field called 'auxiliary_value'",versions:["1.16.201","1.16.220"]},{name:"spawnEggsUseInternalIdInNbt",description:"in older versions, spawn eggs have a field in their nbt called 'internalId' which tells what entity they will spawn",versions:["1.16_major","latest"]},{name:"spawnEggsHaveSpawnedEntityInName",description:"in newer versions, spawn eggs have the entity they spawn in their name, ex: 'squid_spawn_egg'",versions:["1.16.201","latest"]},{name:"whereDurabilityIsSerialized",description:"where the durability is saved in nbt",values:[{value:"Damage",versions:["1.16_major","latest"]}]},{name:"typeOfValueForEnchantLevel",description:"type of value that stores enchant lvl in the nbt",values:[{value:"short",versions:["1.16_major","latest"]}]},{name:"nbtNameForEnchant",description:"what the nbt key for enchants is",values:[{value:"ench",versions:["1.16_major","latest"]}]},{name:"explicitMaxDurability",description:"Items with maximum durability have explicit NBT data Damage:0",versions:["1.16_major","latest"]},{name:"compressorInPacketHeader",description:"Packet header includes compressor",versions:["1.20.61","latest"]}]});var sY=qe((e9e,aY)=>{ne();ae();re();var a5e={pc:iY(),bedrock:nY()};aY.exports=(i,e)=>{let t=e.reduce((o,c)=>(o[c.majorVersion]=o[c.majorVersion]||c,o),{}),n=e.reduce((o,c)=>(o[c.majorVersion]=c,o),{});function r(o,c){if(o.endsWith("_major")&&(o=n[rY(o)].minecraftVersion),c.endsWith("_major"))c=t[rY(c)].minecraftVersion;else if(c==="latest")return i[">="](o);return i[">="](o)&&i["<="](c)}l(r,"isVersionInRange");let a=a5e[i.type].map(o=>[o.name,o]),s={};for(let[o,c]of a)if(c.values)for(let{value:u,versions:h,version:f}of c.values)f?r(f,f)&&(s[o]=u):r(...h)&&(s[o]=u);else if(c.version)s[o]=r(c.version,c.version);else{let[u,h]=c.versions;s[o]=r(u,h)}return o=>s[o]||!1};function rY(i){if(!/^\d\.\d+_major$/.test(i))throw new Error(`Not a correct major version value: "${i}"`);return i.replace("_major","")}l(rY,"removeMajorSuffix")});var oY=qe((a9e,s5e)=>{s5e.exports=[{minecraftVersion:"24w07a",version:1073742001,dataVersion:3817,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"24w06a",version:1073742e3,dataVersion:3815,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"24w05b",version:1073741999,dataVersion:3811,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"24w05a",version:1073741997,dataVersion:3809,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"24w04a",version:1073741997,dataVersion:3806,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"24w03b",version:1073741996,dataVersion:3805,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"24w03a",version:1073741995,dataVersion:3804,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"23w51b",version:1073741994,dataVersion:3802,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"1.20.4",version:765,dataVersion:3700,usesNetty:!0,majorVersion:"1.20",releaseType:"release"},{minecraftVersion:"1.20.4-rc1",version:1073741993,dataVersion:3699,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"1.20.3",version:765,dataVersion:3698,usesNetty:!0,majorVersion:"1.20",releaseType:"release"},{minecraftVersion:"1.20.3-rc1",version:1073741992,dataVersion:3697,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"1.20.3-pre4",version:1073741991,dataVersion:3696,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"1.20.3-pre3",version:1073741990,dataVersion:3695,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"1.20.3-pre2",version:1073741989,dataVersion:3694,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"1.20.3-pre1",version:1073741988,dataVersion:3693,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"23w46a",version:1073741987,dataVersion:3691,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"23w45a",version:1073741986,dataVersion:3690,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"23w44a",version:1073741985,dataVersion:3688,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"23w43b",version:1073741984,dataVersion:3687,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"23w43a",version:1073741983,dataVersion:3686,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"23w42a",version:1073741981,dataVersion:3684,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"23w41a",version:1073741980,dataVersion:3681,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"23w40a",version:1073741978,dataVersion:3679,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"1.20.2",version:764,dataVersion:3578,usesNetty:!0,majorVersion:"1.20",releaseType:"release"},{minecraftVersion:"1.20.2-rc2",version:1073741977,dataVersion:3577,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"1.20.2-rc1",version:1073741976,dataVersion:3576,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"1.20.2-pre4",version:1073741975,dataVersion:3575,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"1.20.2-pre3",version:1073741974,dataVersion:3574,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"1.20.2-pre2",version:1073741973,dataVersion:3573,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"1.20.2-pre1",version:1073741972,dataVersion:3572,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"23w35a",version:1073741971,dataVersion:3571,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"23w33a",version:1073741970,dataVersion:3570,usesNetty:!0,majorVersion:"1.20",releaseType:"snapshot"},{minecraftVersion:"1.20.1",version:763,dataVersion:3465,usesNetty:!0,majorVersion:"1.20",releaseType:"release"},{minecraftVersion:"1.20",version:763,dataVersion:3463,usesNetty:!0,majorVersion:"1.20",releaseType:"release"},{minecraftVersion:"1.19.4",version:762,dataVersion:3337,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"23w03a",version:1073741939,dataVersion:3320,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.3",version:761,dataVersion:3218,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.3-rc3",version:1073741938,dataVersion:3217,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.3-rc2",version:1073741937,dataVersion:3216,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.3-rc1",version:1073741936,dataVersion:3215,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.3-pre3",version:1073741935,dataVersion:3213,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.3-pre2",version:1073741934,dataVersion:3212,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.3-pre1",version:1073741933,dataVersion:3211,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w46a",version:1073741932,dataVersion:3210,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w45a",version:1073741931,dataVersion:3208,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w44a",version:1073741930,dataVersion:3207,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w43a",version:1073741929,dataVersion:3206,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w42a",version:1073741928,dataVersion:3205,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.2",version:760,dataVersion:3120,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.2-rc2",version:1073741927,dataVersion:3119,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.2-rc1",version:1073741926,dataVersion:3118,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.1",version:760,dataVersion:3117,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.1-rc3",version:1073741925,dataVersion:3116,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.1-rc2",version:1073741924,dataVersion:3115,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.1-pre6",version:1073741923,dataVersion:3114,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.1-pre5",version:1073741922,dataVersion:3113,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.1-pre4",version:1073741921,dataVersion:3112,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.1-pre3",version:1073741920,dataVersion:3111,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.1-pre2",version:1073741919,dataVersion:3110,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.1-rc1",version:1073741918,dataVersion:3109,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19.1-pre1",version:1073741917,dataVersion:3107,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w24a",version:1073741916,dataVersion:3106,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19",version:759,dataVersion:3105,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19-rc2",version:1073741915,dataVersion:3104,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19-rc1",version:1073741914,dataVersion:3103,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19-pre5",version:1073741913,dataVersion:3102,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19-pre4",version:1073741912,dataVersion:3101,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19-pre3",version:1073741911,dataVersion:3100,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19-pre2",version:1073741910,dataVersion:3099,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.19-pre1",version:1073741909,dataVersion:3098,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w19a",version:1073741908,dataVersion:3096,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w18a",version:1073741907,dataVersion:3095,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w17a",version:1073741906,dataVersion:3093,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w16b",version:1073741905,dataVersion:3092,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w16a",version:1073741904,dataVersion:3091,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w15a",version:1073741903,dataVersion:3089,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w14a",version:1073741902,dataVersion:3088,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w13oneblockatatime",version:1073741901,dataVersion:3076,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w13a",version:1073741900,dataVersion:3085,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w12a",version:1073741899,dataVersion:3082,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"22w11a",version:1073741898,dataVersion:3080,usesNetty:!0,majorVersion:"1.19"},{minecraftVersion:"1.18.2",version:758,dataVersion:2975,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18.2-rc1",version:1073741897,dataVersion:2974,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18.2-pre3",version:1073741896,dataVersion:2973,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18.2-pre2",version:1073741895,dataVersion:2972,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18.2-pre1",version:1073741894,dataVersion:2971,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"22w07a",version:1073741892,dataVersion:2969,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"22w06a",version:1073741891,dataVersion:2968,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"22w05a",version:1073741890,dataVersion:2967,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"22w03a",version:1073741889,dataVersion:2966,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18.1",version:757,dataVersion:2865,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18.1-rc3",version:1073741888,dataVersion:2864,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18.1-rc2",version:1073741887,dataVersion:2863,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18.1-rc1",version:1073741886,dataVersion:2862,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18.1-pre1",version:1073741885,dataVersion:2861,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18",version:757,dataVersion:2860,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18-rc4",version:1073741884,dataVersion:2859,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18-rc3",version:1073741883,dataVersion:2858,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18-rc2",version:1073741882,dataVersion:2857,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18-rc1",version:1073741881,dataVersion:2856,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18-pre8",version:1073741880,dataVersion:2855,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18-pre7",version:1073741879,dataVersion:2854,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18-pre6",version:1073741878,dataVersion:2853,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18-pre5",version:1073741877,dataVersion:2851,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18-pre4",version:1073741876,dataVersion:2850,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18-pre3",version:1073741875,dataVersion:2849,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18-pre2",version:1073741874,dataVersion:2848,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.18-pre1",version:1073741873,dataVersion:2847,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"21w44a",version:1073741872,dataVersion:2845,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"21w43a",version:1073741871,dataVersion:2844,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"21w42a",version:1073741870,dataVersion:2840,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"21w41a",version:1073741869,dataVersion:2839,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"21w40a",version:1073741868,dataVersion:2838,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"21w39a",version:1073741867,dataVersion:2836,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"21w38a",version:1073741866,dataVersion:2835,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"21w37a",version:1073741865,dataVersion:2834,usesNetty:!0,majorVersion:"1.18"},{minecraftVersion:"1.17.1",version:756,dataVersion:2730,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.17.1-rc2",version:1073741864,dataVersion:2729,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.17.1-rc1",version:1073741863,dataVersion:2728,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.17.1-pre3",version:1073741862,dataVersion:2727,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.17.1-pre2",version:1073741861,dataVersion:2726,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.17.1-pre1",version:1073741860,dataVersion:2725,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.17",version:755,dataVersion:2724,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.17-rc2",version:1073741859,dataVersion:2723,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.17-rc1",version:1073741858,dataVersion:2722,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.17-pre5",version:1073741857,dataVersion:2721,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.17-pre4",version:1073741856,dataVersion:2720,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.17-pre3",version:1073741855,dataVersion:2719,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.17-pre2",version:1073741854,dataVersion:2718,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.17-pre1",version:1073741853,dataVersion:2716,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w20a",version:1073741852,dataVersion:2715,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w19a",version:1073741851,dataVersion:2714,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w18a",version:1073741850,dataVersion:2713,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w17a",version:1073741849,dataVersion:2712,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w16a",version:1073741847,dataVersion:2711,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w15a",version:1073741846,dataVersion:2709,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w14a",version:1073741845,dataVersion:2706,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w13a",version:1073741844,dataVersion:2705,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w11a",version:1073741843,dataVersion:2703,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w10a",version:1073741842,dataVersion:2699,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w08b",version:1073741841,dataVersion:2698,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w08a",version:1073741840,dataVersion:2697,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w07a",version:1073741839,dataVersion:2695,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w06a",version:1073741838,dataVersion:2694,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w05b",version:1073741837,dataVersion:2692,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w05a",version:1073741836,dataVersion:2690,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"21w03a",version:1073741835,dataVersion:2689,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.16.5",version:754,dataVersion:2586,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16.5-rc1",version:1073741834,dataVersion:2585,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w51a",version:1073741833,dataVersion:2687,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"20w49a",version:1073741832,dataVersion:2685,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"20w48a",version:1073741831,dataVersion:2683,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"20w46a",version:1073741830,dataVersion:2682,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"20w45a",version:1073741829,dataVersion:2681,usesNetty:!0,majorVersion:"1.17"},{minecraftVersion:"1.16.4",version:754,dataVersion:2584,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16.4-rc1",version:1073741827,dataVersion:2583,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16.4-pre2",version:1073741826,dataVersion:2582,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16.4-pre1",version:1073741825,dataVersion:2581,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16.3",version:753,dataVersion:2580,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16.3-rc1",version:752,dataVersion:2579,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16.2",version:751,dataVersion:2578,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16.2-rc2",version:750,dataVersion:2577,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16.2-rc1",version:749,dataVersion:2576,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16.2-pre3",version:748,dataVersion:2575,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16.2-pre2",version:746,dataVersion:2574,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16.2-pre1",version:744,dataVersion:2573,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w30a",version:743,dataVersion:2572,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w29a",version:741,dataVersion:2571,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w28a",version:740,dataVersion:2570,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w27a",version:738,dataVersion:2569,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16.1",version:736,dataVersion:2567,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16",version:735,dataVersion:2566,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16-rc1",version:734,dataVersion:2565,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16-pre8",version:733,dataVersion:2564,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16-pre7",version:732,dataVersion:2563,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16-pre6",version:730,dataVersion:2562,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16-pre5",version:729,dataVersion:2561,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16-pre4",version:727,dataVersion:2560,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16-pre3",version:725,dataVersion:2559,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16-pre2",version:722,dataVersion:2557,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.16-pre1",version:721,dataVersion:2556,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w22a",version:719,dataVersion:2555,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w21a",version:718,dataVersion:2554,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w20b",version:717,dataVersion:2537,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w20a",version:716,dataVersion:2536,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w19a",version:715,dataVersion:2534,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w18a",version:714,dataVersion:2532,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w17a",version:713,dataVersion:2529,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w16a",version:712,dataVersion:2526,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w15a",version:711,dataVersion:2525,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w14a",version:710,dataVersion:2524,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w14infinite",version:709,dataVersion:2522,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w13b",version:709,dataVersion:2521,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w13a",version:708,dataVersion:2520,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w12a",version:707,dataVersion:2515,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w11a",version:706,dataVersion:2513,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w10a",version:705,dataVersion:2512,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w09a",version:704,dataVersion:2510,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w08a",version:703,dataVersion:2507,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w07a",version:702,dataVersion:2506,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"20w06a",version:701,dataVersion:2504,usesNetty:!0,majorVersion:"1.16"},{minecraftVersion:"1.15.2",version:578,dataVersion:2230,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"1.15.2-pre2",version:577,dataVersion:2229,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"1.15.2-pre1",version:576,dataVersion:2228,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"1.15.1",version:575,dataVersion:2227,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"1.15.1-pre1",version:574,dataVersion:2226,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"1.15",version:573,dataVersion:2225,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"1.15-pre7",version:572,dataVersion:2224,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"1.15-pre6",version:571,dataVersion:2223,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"1.15-pre5",version:570,dataVersion:2222,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"1.15-pre4",version:569,dataVersion:2221,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"1.15-pre3",version:567,dataVersion:2220,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"1.15-pre2",version:566,dataVersion:2219,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"1.15-pre1",version:565,dataVersion:2218,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w46b",version:564,dataVersion:2217,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w46a",version:563,dataVersion:2216,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w45b",version:562,dataVersion:2215,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w45a",version:561,dataVersion:2214,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w44a",version:560,dataVersion:2213,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w42a",version:559,dataVersion:2212,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w41a",version:558,dataVersion:2210,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w40a",version:557,dataVersion:2208,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w39a",version:556,dataVersion:2207,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w38b",version:555,dataVersion:2206,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w38a",version:554,dataVersion:2205,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w37a",version:553,dataVersion:2204,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w36a",version:552,dataVersion:2203,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w35a",version:551,dataVersion:2201,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"19w34a",version:550,dataVersion:2200,usesNetty:!0,majorVersion:"1.15"},{minecraftVersion:"1.14.4",version:498,dataVersion:1976,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.4-pre7",version:497,dataVersion:1975,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.4-pre6",version:496,dataVersion:1974,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.4-pre5",version:495,dataVersion:1973,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.4-pre4",version:494,dataVersion:1972,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.4-pre3",version:493,dataVersion:1971,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.4-pre2",version:492,dataVersion:1970,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.4-pre1",version:491,dataVersion:1969,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.3",version:490,dataVersion:1968,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.3-pre4",version:489,dataVersion:1967,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.3-pre3",version:488,dataVersion:1966,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.3-pre2",version:487,dataVersion:1965,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.3-pre1",version:486,dataVersion:1964,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.2",version:485,dataVersion:1963,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.2-pre4",version:484,dataVersion:1962,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.2-pre3",version:483,dataVersion:1960,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.2-pre2",version:482,dataVersion:1959,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.2-pre1",version:481,dataVersion:1958,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.1",version:480,dataVersion:1957,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.1-pre2",version:479,dataVersion:1956,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14.1-pre1",version:478,dataVersion:1955,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14",version:477,dataVersion:1952,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14-pre5",version:476,dataVersion:1951,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14-pre4",version:475,dataVersion:1950,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14-pre3",version:474,dataVersion:1949,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14-pre2",version:473,dataVersion:1948,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.14-pre1",version:472,dataVersion:1947,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w14b",version:471,dataVersion:1945,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w14a",version:470,dataVersion:1944,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w13b",version:469,dataVersion:1943,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w13a",version:468,dataVersion:1942,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w12b",version:467,dataVersion:1941,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w12a",version:466,dataVersion:1940,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w11b",version:465,dataVersion:1938,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w11a",version:464,dataVersion:1937,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w09a",version:463,dataVersion:1935,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w08b",version:462,dataVersion:1934,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w08a",version:461,dataVersion:1933,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w07a",version:460,dataVersion:1932,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w06a",version:459,dataVersion:1931,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w05a",version:458,dataVersion:1930,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w04b",version:457,dataVersion:1927,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w04a",version:456,dataVersion:1926,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w03c",version:455,dataVersion:1924,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w03b",version:454,dataVersion:1923,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w03a",version:453,dataVersion:1922,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"19w02a",version:452,dataVersion:1921,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"18w50a",version:451,dataVersion:1919,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"18w49a",version:450,dataVersion:1916,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"18w48b",version:449,dataVersion:1915,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"18w48a",version:448,dataVersion:1914,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"18w47b",version:447,dataVersion:1913,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"18w47a",version:446,dataVersion:1912,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"18w46a",version:445,dataVersion:1910,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"18w45a",version:444,dataVersion:1908,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"18w44a",version:443,dataVersion:1907,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"18w43c",version:442,dataVersion:1903,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"18w43b",version:441,dataVersion:1902,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"18w43a",version:441,dataVersion:1902,usesNetty:!0,majorVersion:"1.14"},{minecraftVersion:"1.13.2",version:404,dataVersion:1631,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13.2-pre2",version:403,dataVersion:1630,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13.2-pre1",version:402,dataVersion:1629,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13.1",version:401,dataVersion:1628,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13.1-pre2",version:400,dataVersion:1627,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13.1-pre1",version:399,dataVersion:1626,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w33a",version:398,dataVersion:1625,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w32a",version:397,dataVersion:1623,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w31a",version:396,dataVersion:1622,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w30b",version:395,dataVersion:1621,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w30a",version:394,dataVersion:1620,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13",version:393,dataVersion:1519,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13-pre10",version:392,dataVersion:1518,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13-pre9",version:391,dataVersion:1517,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13-pre8",version:390,dataVersion:1516,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13-pre7",version:389,dataVersion:1513,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13-pre6",version:388,dataVersion:1512,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13-pre5",version:387,dataVersion:1511,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13-pre4",version:386,dataVersion:1504,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13-pre3",version:385,dataVersion:1503,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13-pre2",version:384,dataVersion:1502,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.13-pre1",version:383,dataVersion:1501,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w22c",version:382,dataVersion:1499,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w22b",version:381,dataVersion:1498,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w22a",version:380,dataVersion:1497,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w21b",version:379,dataVersion:1496,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w21a",version:378,dataVersion:1495,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w20c",version:377,dataVersion:1493,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w20b",version:376,dataVersion:1491,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w20a",version:375,dataVersion:1489,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w19b",version:374,dataVersion:1485,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w19a",version:373,dataVersion:1484,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w16a",version:372,dataVersion:1483,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w15a",version:371,dataVersion:1482,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w14b",version:370,dataVersion:1481,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w14a",version:369,dataVersion:1479,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w11a",version:368,dataVersion:1478,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w10d",version:367,dataVersion:1477,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w10c",version:366,dataVersion:1476,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w10b",version:365,dataVersion:1474,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w10a",version:364,dataVersion:1473,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w09a",version:363,dataVersion:1472,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w08b",version:362,dataVersion:1471,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w08a",version:361,dataVersion:1470,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w07c",version:360,dataVersion:1469,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w07b",version:359,dataVersion:1468,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w07a",version:358,dataVersion:1467,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w06a",version:357,dataVersion:1466,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w05a",version:356,dataVersion:1464,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w03b",version:355,dataVersion:1463,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w03a",version:354,dataVersion:1462,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w02a",version:353,dataVersion:1461,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"18w01a",version:352,dataVersion:1459,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"17w50a",version:351,dataVersion:1457,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"17w49b",version:350,dataVersion:1455,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"17w49a",version:349,dataVersion:1454,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"17w48a",version:348,dataVersion:1453,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"17w47b",version:347,dataVersion:1452,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"17w47a",version:346,dataVersion:1451,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"17w46a",version:345,dataVersion:1449,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"17w45b",version:344,dataVersion:1448,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"17w45a",version:343,dataVersion:1447,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"17w43b",version:342,dataVersion:1445,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"17w43a",version:341,dataVersion:1444,usesNetty:!0,majorVersion:"1.13"},{minecraftVersion:"1.12.2",version:340,dataVersion:1343,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"1.12.2-pre2",version:339,dataVersion:1342,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"1.12.2-pre1",version:339,dataVersion:1341,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"1.12.1",version:338,dataVersion:1241,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"1.12.1-pre1",version:337,dataVersion:1240,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"17w31a",version:336,dataVersion:1239,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"1.12",version:335,dataVersion:1139,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"1.12-pre7",version:334,dataVersion:1138,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"1.12-pre6",version:333,dataVersion:1137,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"1.12-pre5",version:332,dataVersion:1136,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"1.12-pre4",version:331,dataVersion:1135,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"1.12-pre3",version:330,dataVersion:1134,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"1.12-pre2",version:329,dataVersion:1133,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"1.12-pre1",version:328,dataVersion:1132,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"17w18b",version:327,dataVersion:1131,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"17w18a",version:326,dataVersion:1130,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"17w17b",version:325,dataVersion:1129,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"17w17a",version:324,dataVersion:1128,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"17w16b",version:323,dataVersion:1127,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"17w16a",version:322,dataVersion:1126,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"17w15a",version:321,dataVersion:1125,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"17w14a",version:320,dataVersion:1124,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"17w13b",version:319,dataVersion:1123,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"17w13a",version:318,dataVersion:1122,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"17w06a",version:317,dataVersion:1022,usesNetty:!0,majorVersion:"1.12"},{minecraftVersion:"1.11.2",version:316,dataVersion:922,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"1.11.1",version:316,dataVersion:921,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w50a",version:316,dataVersion:920,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"1.11",version:315,dataVersion:819,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"1.11-pre1",version:314,dataVersion:818,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w44a",version:313,dataVersion:817,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w43a",version:313,dataVersion:817,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w42a",version:312,dataVersion:815,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w41a",version:311,dataVersion:814,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w40a",version:310,dataVersion:813,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w39c",version:309,dataVersion:812,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w39b",version:308,dataVersion:811,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w39a",version:307,dataVersion:809,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w38a",version:306,dataVersion:807,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w36a",version:305,dataVersion:805,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w35a",version:304,dataVersion:803,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w33a",version:303,dataVersion:802,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w32b",version:302,dataVersion:801,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"16w32a",version:301,dataVersion:800,usesNetty:!0,majorVersion:"1.11"},{minecraftVersion:"1.10.2",version:210,dataVersion:512,usesNetty:!0,majorVersion:"1.10"},{minecraftVersion:"1.10.1",version:210,dataVersion:511,usesNetty:!0,majorVersion:"1.10"},{minecraftVersion:"1.10",version:210,dataVersion:510,usesNetty:!0,majorVersion:"1.10"},{minecraftVersion:"1.10-pre2",version:205,dataVersion:507,usesNetty:!0,majorVersion:"1.10"},{minecraftVersion:"1.10-pre1",version:204,dataVersion:506,usesNetty:!0,majorVersion:"1.10"},{minecraftVersion:"16w21b",version:203,dataVersion:504,usesNetty:!0,majorVersion:"1.10"},{minecraftVersion:"16w21a",version:202,dataVersion:503,usesNetty:!0,majorVersion:"1.10"},{minecraftVersion:"16w20a",version:201,dataVersion:501,usesNetty:!0,majorVersion:"1.10"},{minecraftVersion:"1.9.4",version:110,dataVersion:184,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9.3",version:110,dataVersion:183,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9.3-pre3",version:110,dataVersion:182,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9.3-pre2",version:110,dataVersion:181,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9.3-pre1",version:109,dataVersion:180,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"16w15b",version:109,dataVersion:179,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"16w15a",version:109,dataVersion:178,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"16w14a",version:109,dataVersion:177,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9.2",version:109,dataVersion:176,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9.1",version:108,dataVersion:175,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9.1-pre3",version:108,dataVersion:172,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9.1-pre3",version:108,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9.1-pre2",version:108,dataVersion:171,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9.1-pre1",version:107,dataVersion:170,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9",version:107,dataVersion:169,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9-pre4",version:106,dataVersion:168,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9-pre3",version:105,dataVersion:167,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9-pre2",version:104,dataVersion:165,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.9-pre1",version:103,dataVersion:164,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"16w07b",version:102,dataVersion:163,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"16w07a",version:101,dataVersion:162,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"16w06a",version:100,dataVersion:161,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"16w05b",version:99,dataVersion:160,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"16w05a",version:98,dataVersion:159,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"16w04a",version:97,dataVersion:158,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"16w03a",version:96,dataVersion:157,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"16w02a",version:95,dataVersion:156,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w51b",version:94,dataVersion:155,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w51a",version:93,dataVersion:154,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w50a",version:92,dataVersion:153,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w49b",version:91,dataVersion:152,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w49a",version:90,dataVersion:151,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w47c",version:89,dataVersion:150,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w47b",version:88,dataVersion:149,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w47a",version:87,dataVersion:148,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w46a",version:86,dataVersion:146,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w45a",version:85,dataVersion:145,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w44b",version:84,dataVersion:143,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w44a",version:83,dataVersion:142,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w43c",version:82,dataVersion:141,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w43b",version:81,dataVersion:140,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w43a",version:80,dataVersion:139,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w42a",version:79,dataVersion:138,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w41b",version:78,dataVersion:137,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w41a",version:77,dataVersion:136,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w40b",version:76,dataVersion:134,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w40a",version:75,dataVersion:133,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w39c",version:74,dataVersion:132,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w39b",version:74,dataVersion:131,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w39a",version:74,dataVersion:130,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w38b",version:73,dataVersion:129,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w38a",version:72,dataVersion:128,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w37a",version:71,dataVersion:127,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w36d",version:70,dataVersion:126,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w36c",version:69,dataVersion:125,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w36b",version:68,dataVersion:124,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w36a",version:67,dataVersion:123,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w35e",version:66,dataVersion:122,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w35d",version:65,dataVersion:121,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w35c",version:64,dataVersion:120,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w35b",version:63,dataVersion:119,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w35a",version:62,dataVersion:118,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w34d",version:61,dataVersion:117,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w34c",version:60,dataVersion:116,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w34b",version:59,dataVersion:115,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w34a",version:58,dataVersion:114,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w33c",version:57,dataVersion:112,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w33b",version:56,dataVersion:111,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w33a",version:55,dataVersion:111,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w32c",version:54,dataVersion:104,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w32b",version:53,dataVersion:103,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w32a",version:52,dataVersion:100,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w31c",version:51,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w31b",version:50,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w31a",version:49,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"15w14a",version:48,usesNetty:!0,majorVersion:"1.9"},{minecraftVersion:"1.8.9",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.8",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.7",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.6",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.5",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.4",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.3",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.2",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.2-pre7",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.2-pre6",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.2-pre5",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.2-pre4",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.2-pre3",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.2-pre2",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.2-pre1",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.1",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.1-pre5",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.1-pre4",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.1-pre3",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.1-pre2",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8.1-pre1",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8",version:47,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8-pre3",version:46,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8-pre2",version:45,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.8-pre1",version:44,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w34d",version:43,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w34c",version:42,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w34b",version:41,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w34a",version:40,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w33c",version:39,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w33b",version:38,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w33a",version:37,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w32d",version:36,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w32c",version:35,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w32b",version:34,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w32a",version:33,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w31a",version:32,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w30c",version:31,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w30b",version:30,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w30a",version:30,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w29b",version:29,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w29a",version:29,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w28b",version:28,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w28a",version:27,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w27b",version:26,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w27a",version:26,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w26c",version:25,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w26b",version:24,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w26a",version:23,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w25b",version:22,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w25a",version:21,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w21b",version:20,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w21a",version:19,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w20b",version:18,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w20a",version:18,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w19a",version:17,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w18b",version:16,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w18a",version:16,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w17a",version:15,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w11b",version:14,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w11a",version:14,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w10c",version:13,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w10b",version:13,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w10a",version:13,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w08a",version:12,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w07a",version:11,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w06b",version:10,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w06a",version:10,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w05b",version:9,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w05a",version:9,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w04b",version:8,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w04a",version:7,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w03b",version:6,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w03a",version:6,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w02c",version:5,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w02b",version:5,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"14w02a",version:5,usesNetty:!0,majorVersion:"1.8"},{minecraftVersion:"1.7.10",version:5,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.10-pre4",version:5,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.10-pre3",version:5,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.10-pre2",version:5,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.10-pre1",version:5,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.9",version:5,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.8",version:5,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.7",version:5,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.6",version:5,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.6-pre2",version:5,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.6-pre1",version:5,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.5",version:4,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.4",version:4,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.3-pre",version:4,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"13w49a",version:4,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"13w48b",version:4,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"13w48a",version:4,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"13w47e",version:4,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"13w47d",version:4,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"13w47c",version:4,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"13w47b",version:4,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"13w47a",version:4,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.2",version:4,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7.1-pre",version:3,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.7-pre",version:3,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"13w43a",version:2,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"13w42b",version:1,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"13w42a",version:1,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"13w41b",version:0,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"13w41a",version:0,usesNetty:!0,majorVersion:"1.7"},{minecraftVersion:"1.6.4",version:78,dataVersion:137,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"1.6.2",version:74,dataVersion:132,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"1.6.1",version:73,dataVersion:129,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"1.6-pre",version:72,dataVersion:128,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w26a",version:72,dataVersion:128,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w25c",version:71,dataVersion:127,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w25b",version:71,dataVersion:127,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w25a",version:71,dataVersion:127,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w24b",version:70,dataVersion:126,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w24a",version:69,dataVersion:125,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w23b",version:68,dataVersion:124,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w23a",version:67,dataVersion:123,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w22a",version:67,dataVersion:123,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w21b",version:67,dataVersion:123,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w21a",version:67,dataVersion:123,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w19a",version:66,dataVersion:122,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w18a",version:65,dataVersion:121,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w17a",version:64,dataVersion:120,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"13w16b",version:63,dataVersion:119,usesNetty:!1,majorVersion:"1.6"},{minecraftVersion:"1.5.2",version:61,dataVersion:117,usesNetty:!1,majorVersion:"1.5"},{minecraftVersion:"1.5.1",version:60,dataVersion:116,usesNetty:!1,majorVersion:"1.5"},{minecraftVersion:"1.5",version:60,dataVersion:116,usesNetty:!1,majorVersion:"1.5"},{minecraftVersion:"13w09b",version:59,dataVersion:115,usesNetty:!1,majorVersion:"1.5"},{minecraftVersion:"13w06a",version:58,dataVersion:114,usesNetty:!1,majorVersion:"1.5"},{minecraftVersion:"13w05b",version:57,dataVersion:112,usesNetty:!1,majorVersion:"1.5"},{minecraftVersion:"13w05a",version:56,dataVersion:111,usesNetty:!1,majorVersion:"1.5"},{minecraftVersion:"13w04a",version:55,dataVersion:111,usesNetty:!1,majorVersion:"1.5"},{minecraftVersion:"13w03a",version:54,dataVersion:104,usesNetty:!1,majorVersion:"1.5"},{minecraftVersion:"13w02a",version:53,dataVersion:103,usesNetty:!1,majorVersion:"1.5"},{minecraftVersion:"13w01a",version:52,dataVersion:100,usesNetty:!1,majorVersion:"1.5"},{minecraftVersion:"1.4.7",version:51,usesNetty:!1,majorVersion:"1.4"},{minecraftVersion:"1.4.6",version:51,usesNetty:!1,majorVersion:"1.4"},{minecraftVersion:"12w49a",version:50,usesNetty:!1,majorVersion:"1.4"},{minecraftVersion:"1.4.5",version:49,usesNetty:!1,majorVersion:"1.4"},{minecraftVersion:"1.4.4",version:49,usesNetty:!1,majorVersion:"1.4"},{minecraftVersion:"1.4.3-pre",version:48,usesNetty:!1,majorVersion:"1.4"},{minecraftVersion:"1.4.2",version:47,usesNetty:!1,majorVersion:"1.4"},{minecraftVersion:"12w41a",version:46,usesNetty:!1,majorVersion:"1.4"},{minecraftVersion:"12w40a",version:45,usesNetty:!1,majorVersion:"1.4"},{minecraftVersion:"12w34b",version:42,usesNetty:!1,majorVersion:"1.4"},{minecraftVersion:"12w34a",version:41,usesNetty:!1,majorVersion:"1.4"},{minecraftVersion:"12w32a",version:40,usesNetty:!1,majorVersion:"1.4"},{minecraftVersion:"1.3.2",version:39,usesNetty:!1,majorVersion:"1.3"},{minecraftVersion:"1.3.1",version:39,usesNetty:!1,majorVersion:"1.3"},{minecraftVersion:"12w27a",version:38,usesNetty:!1,majorVersion:"1.3"},{minecraftVersion:"12w26a",version:37,usesNetty:!1,majorVersion:"1.3"},{minecraftVersion:"12w25a",version:37,usesNetty:!1,majorVersion:"1.3"},{minecraftVersion:"12w24a",version:36,usesNetty:!1,majorVersion:"1.3"},{minecraftVersion:"12w23a",version:35,usesNetty:!1,majorVersion:"1.3"},{minecraftVersion:"12w22a",version:34,usesNetty:!1,majorVersion:"1.3"},{minecraftVersion:"12w21ab",version:33,usesNetty:!1,majorVersion:"1.3"},{minecraftVersion:"12w19a",version:32,usesNetty:!1,majorVersion:"1.3"},{minecraftVersion:"12w18a",version:32,usesNetty:!1,majorVersion:"1.3"},{minecraftVersion:"12w17a",version:31,usesNetty:!1,majorVersion:"1.3"},{minecraftVersion:"12w16a",version:30,usesNetty:!1,majorVersion:"1.3"},{minecraftVersion:"1.2.5",version:29,usesNetty:!1,majorVersion:"1.2"},{minecraftVersion:"1.2.4",version:29,usesNetty:!1,majorVersion:"1.2"},{minecraftVersion:"1.2.3",version:28,usesNetty:!1,majorVersion:"1.2"},{minecraftVersion:"1.2.2",version:28,usesNetty:!1,majorVersion:"1.2"},{minecraftVersion:"1.2.1",version:28,usesNetty:!1,majorVersion:"1.2"},{minecraftVersion:"12w07a",version:27,usesNetty:!1,majorVersion:"1.2"},{minecraftVersion:"12w06a",version:25,usesNetty:!1,majorVersion:"1.2"},{minecraftVersion:"12w01a",version:24,usesNetty:!1,majorVersion:"1.2"},{minecraftVersion:"12w03a",version:24,usesNetty:!1,majorVersion:"1.2"},{minecraftVersion:"12w04a",version:24,usesNetty:!1,majorVersion:"1.2"},{minecraftVersion:"12w05a",version:24,usesNetty:!1,majorVersion:"1.2"},{minecraftVersion:"1.1",version:23,usesNetty:!1,majorVersion:"1.1"},{minecraftVersion:"1.0.0",version:22,usesNetty:!1,majorVersion:"1.0"}]});var lY=qe((s9e,o5e)=>{o5e.exports=[{version:649,minecraftVersion:"1.20.61",majorVersion:"1.20",releaseType:"release"},{version:630,minecraftVersion:"1.20.50",majorVersion:"1.20",releaseType:"release"},{version:622,minecraftVersion:"1.20.40",majorVersion:"1.20",releaseType:"release"},{version:618,minecraftVersion:"1.20.30",majorVersion:"1.20",releaseType:"release"},{version:594,minecraftVersion:"1.20.15",majorVersion:"1.20",releaseType:"release"},{version:594,minecraftVersion:"1.20.10",majorVersion:"1.20",releaseType:"release"},{version:589,minecraftVersion:"1.20.0",majorVersion:"1.20",releaseType:"release"},{version:582,minecraftVersion:"1.19.80",majorVersion:"1.19",releaseType:"release"},{version:575,minecraftVersion:"1.19.70",majorVersion:"1.19",releaseType:"release"},{version:568,minecraftVersion:"1.19.63",majorVersion:"1.19",releaseType:"release"},{version:567,minecraftVersion:"1.19.62",majorVersion:"1.19",releaseType:"release"},{version:567,minecraftVersion:"1.19.60",majorVersion:"1.19",releaseType:"release"},{version:560,minecraftVersion:"1.19.50",majorVersion:"1.19",releaseType:"release"},{version:557,minecraftVersion:"1.19.40",majorVersion:"1.19",releaseType:"release"},{version:554,minecraftVersion:"1.19.30",majorVersion:"1.19",releaseType:"release"},{version:545,minecraftVersion:"1.19.21",majorVersion:"1.19",releaseType:"release"},{version:544,minecraftVersion:"1.19.20",majorVersion:"1.19",releaseType:"release"},{version:534,minecraftVersion:"1.19.10",majorVersion:"1.19",releaseType:"release"},{version:527,minecraftVersion:"1.19.1",majorVersion:"1.19",releaseType:"release"},{version:503,minecraftVersion:"1.18.30",majorVersion:"1.18",releaseType:"release"},{version:486,minecraftVersion:"1.18.11",majorVersion:"1.18",releaseType:"release"},{version:475,minecraftVersion:"1.18.0",majorVersion:"1.18",releaseType:"release"},{version:471,minecraftVersion:"1.17.40",majorVersion:"1.17",releaseType:"release"},{version:465,minecraftVersion:"1.17.30",majorVersion:"1.17",releaseType:"release"},{version:448,minecraftVersion:"1.17.10",majorVersion:"1.17",releaseType:"release"},{version:440,minecraftVersion:"1.17.0",majorVersion:"1.17",releaseType:"release"},{version:431,minecraftVersion:"1.16.220",majorVersion:"1.16",releaseType:"release"},{version:428,minecraftVersion:"1.16.210",majorVersion:"1.16",releaseType:"release"},{version:422,minecraftVersion:"1.16.201",majorVersion:"1.16",releaseType:"release"},{version:100,minecraftVersion:"1.0.0",majorVersion:"1.0"},{version:82,minecraftVersion:"0.15.6",majorVersion:"0.15"},{version:70,minecraftVersion:"0.14.3",majorVersion:"0.14"}]});var cY=qe((o9e,l5e)=>{l5e.exports=["0.30c","1.7","1.8","15w40b","1.9","1.9.1-pre2","1.9.2","1.9.4","16w20a","1.10-pre1","1.10","1.10.1","1.10.2","16w35a","1.11","1.11.2","17w15a","17w18b","1.12-pre4","1.12","1.12.1","1.12.2","17w50a","1.13","1.13.1","1.13.2-pre1","1.13.2-pre2","1.13.2","1.14","1.14.1","1.14.3","1.14.4","1.15","1.15.1","1.15.2","20w13b","20w14a","1.16-rc1","1.16","1.16.1","1.16.2","1.16.3","1.16.4","21w07a","1.17","1.17.1","1.18","1.18.1","1.18.2","1.19","1.19.2","1.19.3","1.19.4","1.20","1.20.1","1.20.2","1.20.3","1.20.4"]});var uY=qe((l9e,c5e)=>{c5e.exports=["0.14","0.15","1.0","1.16.201","1.16.210","1.16.220","1.17.0","1.17.10","1.17.30","1.17.40","1.18.0","1.18.11","1.18.30","1.19.1","1.19.10","1.19.20","1.19.21","1.19.30","1.19.40","1.19.50","1.19.60","1.19.62","1.19.63","1.19.70","1.19.80","1.20.0","1.20.10","1.20.15","1.20.30","1.20.40","1.20.50","1.20.61"]});var hY=qe((c9e,u5e)=>{u5e.exports={blocks:{"0:0":"minecraft:air","1:0":"minecraft:stone","1:1":"minecraft:granite","1:2":"minecraft:polished_granite","1:3":"minecraft:diorite","1:4":"minecraft:polished_diorite","1:5":"minecraft:andesite","1:6":"minecraft:polished_andesite","2:0":"minecraft:grass_block[snowy=false]","3:0":"minecraft:dirt","3:1":"minecraft:coarse_dirt","3:2":"minecraft:podzol[snowy=false]","4:0":"minecraft:cobblestone","5:0":"minecraft:oak_planks","5:1":"minecraft:spruce_planks","5:2":"minecraft:birch_planks","5:3":"minecraft:jungle_planks","5:4":"minecraft:acacia_planks","5:5":"minecraft:dark_oak_planks","6:0":"minecraft:oak_sapling[stage=0]","6:1":"minecraft:spruce_sapling[stage=0]","6:2":"minecraft:birch_sapling[stage=0]","6:3":"minecraft:jungle_sapling[stage=0]","6:4":"minecraft:acacia_sapling[stage=0]","6:5":"minecraft:dark_oak_sapling[stage=0]","6:8":"minecraft:oak_sapling[stage=1]","6:9":"minecraft:spruce_sapling[stage=1]","6:10":"minecraft:birch_sapling[stage=1]","6:11":"minecraft:jungle_sapling[stage=1]","6:12":"minecraft:acacia_sapling[stage=1]","6:13":"minecraft:dark_oak_sapling[stage=1]","7:0":"minecraft:bedrock","8:0":"minecraft:water[level=0]","8:1":"minecraft:water[level=1]","8:2":"minecraft:water[level=2]","8:3":"minecraft:water[level=3]","8:4":"minecraft:water[level=4]","8:5":"minecraft:water[level=5]","8:6":"minecraft:water[level=6]","8:7":"minecraft:water[level=7]","8:8":"minecraft:water[level=8]","8:9":"minecraft:water[level=9]","8:10":"minecraft:water[level=10]","8:11":"minecraft:water[level=11]","8:12":"minecraft:water[level=12]","8:13":"minecraft:water[level=13]","8:14":"minecraft:water[level=14]","8:15":"minecraft:water[level=15]","9:0":"minecraft:water[level=0]","9:1":"minecraft:water[level=1]","9:2":"minecraft:water[level=2]","9:3":"minecraft:water[level=3]","9:4":"minecraft:water[level=4]","9:5":"minecraft:water[level=5]","9:6":"minecraft:water[level=6]","9:7":"minecraft:water[level=7]","9:8":"minecraft:water[level=8]","9:9":"minecraft:water[level=9]","9:10":"minecraft:water[level=10]","9:11":"minecraft:water[level=11]","9:12":"minecraft:water[level=12]","9:13":"minecraft:water[level=13]","9:14":"minecraft:water[level=14]","9:15":"minecraft:water[level=15]","10:0":"minecraft:lava[level=0]","10:1":"minecraft:lava[level=1]","10:2":"minecraft:lava[level=2]","10:3":"minecraft:lava[level=3]","10:4":"minecraft:lava[level=4]","10:5":"minecraft:lava[level=5]","10:6":"minecraft:lava[level=6]","10:7":"minecraft:lava[level=7]","10:8":"minecraft:lava[level=8]","10:9":"minecraft:lava[level=9]","10:10":"minecraft:lava[level=10]","10:11":"minecraft:lava[level=11]","10:12":"minecraft:lava[level=12]","10:13":"minecraft:lava[level=13]","10:14":"minecraft:lava[level=14]","10:15":"minecraft:lava[level=15]","11:0":"minecraft:lava[level=0]","11:1":"minecraft:lava[level=1]","11:2":"minecraft:lava[level=2]","11:3":"minecraft:lava[level=3]","11:4":"minecraft:lava[level=4]","11:5":"minecraft:lava[level=5]","11:6":"minecraft:lava[level=6]","11:7":"minecraft:lava[level=7]","11:8":"minecraft:lava[level=8]","11:9":"minecraft:lava[level=9]","11:10":"minecraft:lava[level=10]","11:11":"minecraft:lava[level=11]","11:12":"minecraft:lava[level=12]","11:13":"minecraft:lava[level=13]","11:14":"minecraft:lava[level=14]","11:15":"minecraft:lava[level=15]","12:0":"minecraft:sand","12:1":"minecraft:red_sand","13:0":"minecraft:gravel","14:0":"minecraft:gold_ore","15:0":"minecraft:iron_ore","16:0":"minecraft:coal_ore","17:0":"minecraft:oak_log[axis=y]","17:1":"minecraft:spruce_log[axis=y]","17:2":"minecraft:birch_log[axis=y]","17:3":"minecraft:jungle_log[axis=y]","17:4":"minecraft:oak_log[axis=x]","17:5":"minecraft:spruce_log[axis=x]","17:6":"minecraft:birch_log[axis=x]","17:7":"minecraft:jungle_log[axis=x]","17:8":"minecraft:oak_log[axis=z]","17:9":"minecraft:spruce_log[axis=z]","17:10":"minecraft:birch_log[axis=z]","17:11":"minecraft:jungle_log[axis=z]","17:12":"minecraft:oak_wood","17:13":"minecraft:spruce_wood","17:14":"minecraft:birch_wood","17:15":"minecraft:jungle_wood","18:0":"minecraft:oak_leaves[persistent=false,distance=1]","18:1":"minecraft:spruce_leaves[persistent=false,distance=1]","18:2":"minecraft:birch_leaves[persistent=false,distance=1]","18:3":"minecraft:jungle_leaves[persistent=false,distance=1]","18:4":"minecraft:oak_leaves[persistent=true,distance=1]","18:5":"minecraft:spruce_leaves[persistent=true,distance=1]","18:6":"minecraft:birch_leaves[persistent=true,distance=1]","18:7":"minecraft:jungle_leaves[persistent=true,distance=1]","18:8":"minecraft:oak_leaves[persistent=false,distance=1]","18:9":"minecraft:spruce_leaves[persistent=false,distance=1]","18:10":"minecraft:birch_leaves[persistent=false,distance=1]","18:11":"minecraft:jungle_leaves[persistent=false,distance=1]","18:12":"minecraft:oak_leaves[persistent=true,distance=1]","18:13":"minecraft:spruce_leaves[persistent=true,distance=1]","18:14":"minecraft:birch_leaves[persistent=true,distance=1]","18:15":"minecraft:jungle_leaves[persistent=true,distance=1]","19:0":"minecraft:sponge","19:1":"minecraft:wet_sponge","20:0":"minecraft:glass","21:0":"minecraft:lapis_ore","22:0":"minecraft:lapis_block","23:0":"minecraft:dispenser[triggered=false,facing=down]","23:1":"minecraft:dispenser[triggered=false,facing=up]","23:2":"minecraft:dispenser[triggered=false,facing=north]","23:3":"minecraft:dispenser[triggered=false,facing=south]","23:4":"minecraft:dispenser[triggered=false,facing=west]","23:5":"minecraft:dispenser[triggered=false,facing=east]","23:8":"minecraft:dispenser[triggered=true,facing=down]","23:9":"minecraft:dispenser[triggered=true,facing=up]","23:10":"minecraft:dispenser[triggered=true,facing=north]","23:11":"minecraft:dispenser[triggered=true,facing=south]","23:12":"minecraft:dispenser[triggered=true,facing=west]","23:13":"minecraft:dispenser[triggered=true,facing=east]","24:0":"minecraft:sandstone","24:1":"minecraft:chiseled_sandstone","24:2":"minecraft:cut_sandstone","25:0":"minecraft:note_block","26:0":"minecraft:red_bed[part=foot,facing=south,occupied=false]","26:1":"minecraft:red_bed[part=foot,facing=west,occupied=false]","26:2":"minecraft:red_bed[part=foot,facing=north,occupied=false]","26:3":"minecraft:red_bed[part=foot,facing=east,occupied=false]","26:4":"minecraft:red_bed[part=foot,facing=south,occupied=true]","26:5":"minecraft:red_bed[part=foot,facing=west,occupied=true]","26:6":"minecraft:red_bed[part=foot,facing=north,occupied=true]","26:7":"minecraft:red_bed[part=foot,facing=east,occupied=true]","26:8":"minecraft:red_bed[part=head,facing=south,occupied=false]","26:9":"minecraft:red_bed[part=head,facing=west,occupied=false]","26:10":"minecraft:red_bed[part=head,facing=north,occupied=false]","26:11":"minecraft:red_bed[part=head,facing=east,occupied=false]","26:12":"minecraft:red_bed[part=head,facing=south,occupied=true]","26:13":"minecraft:red_bed[part=head,facing=west,occupied=true]","26:14":"minecraft:red_bed[part=head,facing=north,occupied=true]","26:15":"minecraft:red_bed[part=head,facing=east,occupied=true]","27:0":"minecraft:powered_rail[shape=north_south,powered=false]","27:1":"minecraft:powered_rail[shape=east_west,powered=false]","27:2":"minecraft:powered_rail[shape=ascending_east,powered=false]","27:3":"minecraft:powered_rail[shape=ascending_west,powered=false]","27:4":"minecraft:powered_rail[shape=ascending_north,powered=false]","27:5":"minecraft:powered_rail[shape=ascending_south,powered=false]","27:8":"minecraft:powered_rail[shape=north_south,powered=true]","27:9":"minecraft:powered_rail[shape=east_west,powered=true]","27:10":"minecraft:powered_rail[shape=ascending_east,powered=true]","27:11":"minecraft:powered_rail[shape=ascending_west,powered=true]","27:12":"minecraft:powered_rail[shape=ascending_north,powered=true]","27:13":"minecraft:powered_rail[shape=ascending_south,powered=true]","28:0":"minecraft:detector_rail[shape=north_south,powered=false]","28:1":"minecraft:detector_rail[shape=east_west,powered=false]","28:2":"minecraft:detector_rail[shape=ascending_east,powered=false]","28:3":"minecraft:detector_rail[shape=ascending_west,powered=false]","28:4":"minecraft:detector_rail[shape=ascending_north,powered=false]","28:5":"minecraft:detector_rail[shape=ascending_south,powered=false]","28:8":"minecraft:detector_rail[shape=north_south,powered=true]","28:9":"minecraft:detector_rail[shape=east_west,powered=true]","28:10":"minecraft:detector_rail[shape=ascending_east,powered=true]","28:11":"minecraft:detector_rail[shape=ascending_west,powered=true]","28:12":"minecraft:detector_rail[shape=ascending_north,powered=true]","28:13":"minecraft:detector_rail[shape=ascending_south,powered=true]","29:0":"minecraft:sticky_piston[facing=down,extended=false]","29:1":"minecraft:sticky_piston[facing=up,extended=false]","29:2":"minecraft:sticky_piston[facing=north,extended=false]","29:3":"minecraft:sticky_piston[facing=south,extended=false]","29:4":"minecraft:sticky_piston[facing=west,extended=false]","29:5":"minecraft:sticky_piston[facing=east,extended=false]","29:8":"minecraft:sticky_piston[facing=down,extended=true]","29:9":"minecraft:sticky_piston[facing=up,extended=true]","29:10":"minecraft:sticky_piston[facing=north,extended=true]","29:11":"minecraft:sticky_piston[facing=south,extended=true]","29:12":"minecraft:sticky_piston[facing=west,extended=true]","29:13":"minecraft:sticky_piston[facing=east,extended=true]","30:0":"minecraft:cobweb","31:0":"minecraft:dead_bush","31:1":"minecraft:grass","31:2":"minecraft:fern","32:0":"minecraft:dead_bush","33:0":"minecraft:piston[facing=down,extended=false]","33:1":"minecraft:piston[facing=up,extended=false]","33:2":"minecraft:piston[facing=north,extended=false]","33:3":"minecraft:piston[facing=south,extended=false]","33:4":"minecraft:piston[facing=west,extended=false]","33:5":"minecraft:piston[facing=east,extended=false]","33:8":"minecraft:piston[facing=down,extended=true]","33:9":"minecraft:piston[facing=up,extended=true]","33:10":"minecraft:piston[facing=north,extended=true]","33:11":"minecraft:piston[facing=south,extended=true]","33:12":"minecraft:piston[facing=west,extended=true]","33:13":"minecraft:piston[facing=east,extended=true]","34:0":"minecraft:piston_head[short=false,facing=down,type=normal]","34:1":"minecraft:piston_head[short=false,facing=up,type=normal]","34:2":"minecraft:piston_head[short=false,facing=north,type=normal]","34:3":"minecraft:piston_head[short=false,facing=south,type=normal]","34:4":"minecraft:piston_head[short=false,facing=west,type=normal]","34:5":"minecraft:piston_head[short=false,facing=east,type=normal]","34:8":"minecraft:piston_head[short=false,facing=down,type=sticky]","34:9":"minecraft:piston_head[short=false,facing=up,type=sticky]","34:10":"minecraft:piston_head[short=false,facing=north,type=sticky]","34:11":"minecraft:piston_head[short=false,facing=south,type=sticky]","34:12":"minecraft:piston_head[short=false,facing=west,type=sticky]","34:13":"minecraft:piston_head[short=false,facing=east,type=sticky]","35:0":"minecraft:white_wool","35:1":"minecraft:orange_wool","35:2":"minecraft:magenta_wool","35:3":"minecraft:light_blue_wool","35:4":"minecraft:yellow_wool","35:5":"minecraft:lime_wool","35:6":"minecraft:pink_wool","35:7":"minecraft:gray_wool","35:8":"minecraft:light_gray_wool","35:9":"minecraft:cyan_wool","35:10":"minecraft:purple_wool","35:11":"minecraft:blue_wool","35:12":"minecraft:brown_wool","35:13":"minecraft:green_wool","35:14":"minecraft:red_wool","35:15":"minecraft:black_wool","36:0":"minecraft:moving_piston[facing=down,type=normal]","36:1":"minecraft:moving_piston[facing=up,type=normal]","36:2":"minecraft:moving_piston[facing=north,type=normal]","36:3":"minecraft:moving_piston[facing=south,type=normal]","36:4":"minecraft:moving_piston[facing=west,type=normal]","36:5":"minecraft:moving_piston[facing=east,type=normal]","36:8":"minecraft:moving_piston[facing=down,type=sticky]","36:9":"minecraft:moving_piston[facing=up,type=sticky]","36:10":"minecraft:moving_piston[facing=north,type=sticky]","36:11":"minecraft:moving_piston[facing=south,type=sticky]","36:12":"minecraft:moving_piston[facing=west,type=sticky]","36:13":"minecraft:moving_piston[facing=east,type=sticky]","37:0":"minecraft:dandelion","38:0":"minecraft:poppy","38:1":"minecraft:blue_orchid","38:2":"minecraft:allium","38:3":"minecraft:azure_bluet","38:4":"minecraft:red_tulip","38:5":"minecraft:orange_tulip","38:6":"minecraft:white_tulip","38:7":"minecraft:pink_tulip","38:8":"minecraft:oxeye_daisy","39:0":"minecraft:brown_mushroom","40:0":"minecraft:red_mushroom","41:0":"minecraft:gold_block","42:0":"minecraft:iron_block","43:0":"minecraft:stone_slab[type=double]","43:1":"minecraft:sandstone_slab[type=double]","43:2":"minecraft:petrified_oak_slab[type=double]","43:3":"minecraft:cobblestone_slab[type=double]","43:4":"minecraft:brick_slab[type=double]","43:5":"minecraft:stone_brick_slab[type=double]","43:6":"minecraft:nether_brick_slab[type=double]","43:7":"minecraft:quartz_slab[type=double]","43:8":"minecraft:smooth_stone","43:9":"minecraft:smooth_sandstone","43:10":"minecraft:petrified_oak_slab[type=double]","43:11":"minecraft:cobblestone_slab[type=double]","43:12":"minecraft:brick_slab[type=double]","43:13":"minecraft:stone_brick_slab[type=double]","43:14":"minecraft:nether_brick_slab[type=double]","43:15":"minecraft:smooth_quartz","44:0":"minecraft:stone_slab[type=bottom]","44:1":"minecraft:sandstone_slab[type=bottom]","44:2":"minecraft:petrified_oak_slab[type=bottom]","44:3":"minecraft:cobblestone_slab[type=bottom]","44:4":"minecraft:brick_slab[type=bottom]","44:5":"minecraft:stone_brick_slab[type=bottom]","44:6":"minecraft:nether_brick_slab[type=bottom]","44:7":"minecraft:quartz_slab[type=bottom]","44:8":"minecraft:stone_slab[type=top]","44:9":"minecraft:sandstone_slab[type=top]","44:10":"minecraft:petrified_oak_slab[type=top]","44:11":"minecraft:cobblestone_slab[type=top]","44:12":"minecraft:brick_slab[type=top]","44:13":"minecraft:stone_brick_slab[type=top]","44:14":"minecraft:nether_brick_slab[type=top]","44:15":"minecraft:quartz_slab[type=top]","45:0":"minecraft:bricks","46:0":"minecraft:tnt[unstable=false]","46:1":"minecraft:tnt[unstable=true]","47:0":"minecraft:bookshelf","48:0":"minecraft:mossy_cobblestone","49:0":"minecraft:obsidian","50:1":"minecraft:wall_torch[facing=east]","50:2":"minecraft:wall_torch[facing=west]","50:3":"minecraft:wall_torch[facing=south]","50:4":"minecraft:wall_torch[facing=north]","50:5":"minecraft:torch","51:0":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=0]","51:1":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=1]","51:2":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=2]","51:3":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=3]","51:4":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=4]","51:5":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=5]","51:6":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=6]","51:7":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=7]","51:8":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=8]","51:9":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=9]","51:10":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=10]","51:11":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=11]","51:12":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=12]","51:13":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=13]","51:14":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=14]","51:15":"minecraft:fire[east=false,south=false,north=false,west=false,up=false,age=15]","52:0":"minecraft:spawner","53:0":"minecraft:oak_stairs[half=bottom,shape=outer_right,facing=east]","53:1":"minecraft:oak_stairs[half=bottom,shape=outer_right,facing=west]","53:2":"minecraft:oak_stairs[half=bottom,shape=outer_right,facing=south]","53:3":"minecraft:oak_stairs[half=bottom,shape=outer_right,facing=north]","53:4":"minecraft:oak_stairs[half=top,shape=outer_right,facing=east]","53:5":"minecraft:oak_stairs[half=top,shape=outer_right,facing=west]","53:6":"minecraft:oak_stairs[half=top,shape=outer_right,facing=south]","53:7":"minecraft:oak_stairs[half=top,shape=outer_right,facing=north]","54:2":"minecraft:chest[facing=north,type=single]","54:3":"minecraft:chest[facing=south,type=single]","54:4":"minecraft:chest[facing=west,type=single]","54:5":"minecraft:chest[facing=east,type=single]","55:0":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=0]","55:1":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=1]","55:2":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=2]","55:3":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=3]","55:4":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=4]","55:5":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=5]","55:6":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=6]","55:7":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=7]","55:8":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=8]","55:9":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=9]","55:10":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=10]","55:11":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=11]","55:12":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=12]","55:13":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=13]","55:14":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=14]","55:15":"minecraft:redstone_wire[east=none,south=none,north=none,west=none,power=15]","56:0":"minecraft:diamond_ore","57:0":"minecraft:diamond_block","58:0":"minecraft:crafting_table","59:0":"minecraft:wheat[age=0]","59:1":"minecraft:wheat[age=1]","59:2":"minecraft:wheat[age=2]","59:3":"minecraft:wheat[age=3]","59:4":"minecraft:wheat[age=4]","59:5":"minecraft:wheat[age=5]","59:6":"minecraft:wheat[age=6]","59:7":"minecraft:wheat[age=7]","60:0":"minecraft:farmland[moisture=0]","60:1":"minecraft:farmland[moisture=1]","60:2":"minecraft:farmland[moisture=2]","60:3":"minecraft:farmland[moisture=3]","60:4":"minecraft:farmland[moisture=4]","60:5":"minecraft:farmland[moisture=5]","60:6":"minecraft:farmland[moisture=6]","60:7":"minecraft:farmland[moisture=7]","61:2":"minecraft:furnace[facing=north,lit=false]","61:3":"minecraft:furnace[facing=south,lit=false]","61:4":"minecraft:furnace[facing=west,lit=false]","61:5":"minecraft:furnace[facing=east,lit=false]","62:2":"minecraft:furnace[facing=north,lit=true]","62:3":"minecraft:furnace[facing=south,lit=true]","62:4":"minecraft:furnace[facing=west,lit=true]","62:5":"minecraft:furnace[facing=east,lit=true]","63:0":"minecraft:sign[rotation=0]","63:1":"minecraft:sign[rotation=1]","63:2":"minecraft:sign[rotation=2]","63:3":"minecraft:sign[rotation=3]","63:4":"minecraft:sign[rotation=4]","63:5":"minecraft:sign[rotation=5]","63:6":"minecraft:sign[rotation=6]","63:7":"minecraft:sign[rotation=7]","63:8":"minecraft:sign[rotation=8]","63:9":"minecraft:sign[rotation=9]","63:10":"minecraft:sign[rotation=10]","63:11":"minecraft:sign[rotation=11]","63:12":"minecraft:sign[rotation=12]","63:13":"minecraft:sign[rotation=13]","63:14":"minecraft:sign[rotation=14]","63:15":"minecraft:sign[rotation=15]","64:0":"minecraft:oak_door[hinge=right,half=lower,powered=false,facing=east,open=false]","64:1":"minecraft:oak_door[hinge=right,half=lower,powered=false,facing=south,open=false]","64:2":"minecraft:oak_door[hinge=right,half=lower,powered=false,facing=west,open=false]","64:3":"minecraft:oak_door[hinge=right,half=lower,powered=false,facing=north,open=false]","64:4":"minecraft:oak_door[hinge=right,half=lower,powered=false,facing=east,open=true]","64:5":"minecraft:oak_door[hinge=right,half=lower,powered=false,facing=south,open=true]","64:6":"minecraft:oak_door[hinge=right,half=lower,powered=false,facing=west,open=true]","64:7":"minecraft:oak_door[hinge=right,half=lower,powered=false,facing=north,open=true]","64:8":"minecraft:oak_door[hinge=left,half=upper,powered=false,facing=east,open=false]","64:9":"minecraft:oak_door[hinge=right,half=upper,powered=false,facing=east,open=false]","64:10":"minecraft:oak_door[hinge=left,half=upper,powered=true,facing=east,open=false]","64:11":"minecraft:oak_door[hinge=right,half=upper,powered=true,facing=east,open=false]","65:2":"minecraft:ladder[facing=north]","65:3":"minecraft:ladder[facing=south]","65:4":"minecraft:ladder[facing=west]","65:5":"minecraft:ladder[facing=east]","66:0":"minecraft:rail[shape=north_south]","66:1":"minecraft:rail[shape=east_west]","66:2":"minecraft:rail[shape=ascending_east]","66:3":"minecraft:rail[shape=ascending_west]","66:4":"minecraft:rail[shape=ascending_north]","66:5":"minecraft:rail[shape=ascending_south]","66:6":"minecraft:rail[shape=south_east]","66:7":"minecraft:rail[shape=south_west]","66:8":"minecraft:rail[shape=north_west]","66:9":"minecraft:rail[shape=north_east]","67:0":"minecraft:cobblestone_stairs[half=bottom,shape=straight,facing=east]","67:1":"minecraft:cobblestone_stairs[half=bottom,shape=straight,facing=west]","67:2":"minecraft:cobblestone_stairs[half=bottom,shape=straight,facing=south]","67:3":"minecraft:cobblestone_stairs[half=bottom,shape=straight,facing=north]","67:4":"minecraft:cobblestone_stairs[half=top,shape=straight,facing=east]","67:5":"minecraft:cobblestone_stairs[half=top,shape=straight,facing=west]","67:6":"minecraft:cobblestone_stairs[half=top,shape=straight,facing=south]","67:7":"minecraft:cobblestone_stairs[half=top,shape=straight,facing=north]","68:2":"minecraft:wall_sign[facing=north]","68:3":"minecraft:wall_sign[facing=south]","68:4":"minecraft:wall_sign[facing=west]","68:5":"minecraft:wall_sign[facing=east]","69:0":"minecraft:lever[powered=false,facing=north,face=ceiling]","69:1":"minecraft:lever[powered=false,facing=east,face=wall]","69:2":"minecraft:lever[powered=false,facing=west,face=wall]","69:3":"minecraft:lever[powered=false,facing=south,face=wall]","69:4":"minecraft:lever[powered=false,facing=north,face=wall]","69:5":"minecraft:lever[powered=false,facing=east,face=floor]","69:6":"minecraft:lever[powered=false,facing=north,face=floor]","69:7":"minecraft:lever[powered=false,facing=east,face=ceiling]","69:8":"minecraft:lever[powered=true,facing=north,face=ceiling]","69:9":"minecraft:lever[powered=true,facing=east,face=wall]","69:10":"minecraft:lever[powered=true,facing=west,face=wall]","69:11":"minecraft:lever[powered=true,facing=south,face=wall]","69:12":"minecraft:lever[powered=true,facing=north,face=wall]","69:13":"minecraft:lever[powered=true,facing=east,face=floor]","69:14":"minecraft:lever[powered=true,facing=north,face=floor]","69:15":"minecraft:lever[powered=true,facing=east,face=ceiling]","70:0":"minecraft:stone_pressure_plate[powered=false]","70:1":"minecraft:stone_pressure_plate[powered=true]","71:0":"minecraft:iron_door[hinge=right,half=lower,powered=false,facing=east,open=false]","71:1":"minecraft:iron_door[hinge=right,half=lower,powered=false,facing=south,open=false]","71:2":"minecraft:iron_door[hinge=right,half=lower,powered=false,facing=west,open=false]","71:3":"minecraft:iron_door[hinge=right,half=lower,powered=false,facing=north,open=false]","71:4":"minecraft:iron_door[hinge=right,half=lower,powered=false,facing=east,open=true]","71:5":"minecraft:iron_door[hinge=right,half=lower,powered=false,facing=south,open=true]","71:6":"minecraft:iron_door[hinge=right,half=lower,powered=false,facing=west,open=true]","71:7":"minecraft:iron_door[hinge=right,half=lower,powered=false,facing=north,open=true]","71:8":"minecraft:iron_door[hinge=left,half=upper,powered=false,facing=east,open=false]","71:9":"minecraft:iron_door[hinge=right,half=upper,powered=false,facing=east,open=false]","71:10":"minecraft:iron_door[hinge=left,half=upper,powered=true,facing=east,open=false]","71:11":"minecraft:iron_door[hinge=right,half=upper,powered=true,facing=east,open=false]","72:0":"minecraft:oak_pressure_plate[powered=false]","72:1":"minecraft:oak_pressure_plate[powered=true]","73:0":"minecraft:redstone_ore[lit=false]","74:0":"minecraft:redstone_ore[lit=true]","75:1":"minecraft:redstone_wall_torch[facing=east,lit=false]","75:2":"minecraft:redstone_wall_torch[facing=west,lit=false]","75:3":"minecraft:redstone_wall_torch[facing=south,lit=false]","75:4":"minecraft:redstone_wall_torch[facing=north,lit=false]","75:5":"minecraft:redstone_torch[lit=false]","76:1":"minecraft:redstone_wall_torch[facing=east,lit=true]","76:2":"minecraft:redstone_wall_torch[facing=west,lit=true]","76:3":"minecraft:redstone_wall_torch[facing=south,lit=true]","76:4":"minecraft:redstone_wall_torch[facing=north,lit=true]","76:5":"minecraft:redstone_torch[lit=true]","77:0":"minecraft:stone_button[powered=false,facing=east,face=ceiling]","77:1":"minecraft:stone_button[powered=false,facing=east,face=wall]","77:2":"minecraft:stone_button[powered=false,facing=west,face=wall]","77:3":"minecraft:stone_button[powered=false,facing=south,face=wall]","77:4":"minecraft:stone_button[powered=false,facing=north,face=wall]","77:5":"minecraft:stone_button[powered=false,facing=east,face=floor]","77:8":"minecraft:stone_button[powered=true,facing=south,face=ceiling]","77:9":"minecraft:stone_button[powered=true,facing=east,face=wall]","77:10":"minecraft:stone_button[powered=true,facing=west,face=wall]","77:11":"minecraft:stone_button[powered=true,facing=south,face=wall]","77:12":"minecraft:stone_button[powered=true,facing=north,face=wall]","77:13":"minecraft:stone_button[powered=true,facing=south,face=floor]","78:0":"minecraft:snow[layers=1]","78:1":"minecraft:snow[layers=2]","78:2":"minecraft:snow[layers=3]","78:3":"minecraft:snow[layers=4]","78:4":"minecraft:snow[layers=5]","78:5":"minecraft:snow[layers=6]","78:6":"minecraft:snow[layers=7]","78:7":"minecraft:snow[layers=8]","79:0":"minecraft:ice","80:0":"minecraft:snow_block","81:0":"minecraft:cactus[age=0]","81:1":"minecraft:cactus[age=1]","81:2":"minecraft:cactus[age=2]","81:3":"minecraft:cactus[age=3]","81:4":"minecraft:cactus[age=4]","81:5":"minecraft:cactus[age=5]","81:6":"minecraft:cactus[age=6]","81:7":"minecraft:cactus[age=7]","81:8":"minecraft:cactus[age=8]","81:9":"minecraft:cactus[age=9]","81:10":"minecraft:cactus[age=10]","81:11":"minecraft:cactus[age=11]","81:12":"minecraft:cactus[age=12]","81:13":"minecraft:cactus[age=13]","81:14":"minecraft:cactus[age=14]","81:15":"minecraft:cactus[age=15]","82:0":"minecraft:clay","83:0":"minecraft:sugar_cane[age=0]","83:1":"minecraft:sugar_cane[age=1]","83:2":"minecraft:sugar_cane[age=2]","83:3":"minecraft:sugar_cane[age=3]","83:4":"minecraft:sugar_cane[age=4]","83:5":"minecraft:sugar_cane[age=5]","83:6":"minecraft:sugar_cane[age=6]","83:7":"minecraft:sugar_cane[age=7]","83:8":"minecraft:sugar_cane[age=8]","83:9":"minecraft:sugar_cane[age=9]","83:10":"minecraft:sugar_cane[age=10]","83:11":"minecraft:sugar_cane[age=11]","83:12":"minecraft:sugar_cane[age=12]","83:13":"minecraft:sugar_cane[age=13]","83:14":"minecraft:sugar_cane[age=14]","83:15":"minecraft:sugar_cane[age=15]","84:0":"minecraft:jukebox[has_record=false]","84:1":"minecraft:jukebox[has_record=true]","85:0":"minecraft:oak_fence[east=false,south=false,north=false,west=false]","86:0":"minecraft:carved_pumpkin[facing=south]","86:1":"minecraft:carved_pumpkin[facing=west]","86:2":"minecraft:carved_pumpkin[facing=north]","86:3":"minecraft:carved_pumpkin[facing=east]","87:0":"minecraft:netherrack","88:0":"minecraft:soul_sand","89:0":"minecraft:glowstone","90:1":"minecraft:nether_portal[axis=x]","90:2":"minecraft:nether_portal[axis=z]","91:0":"minecraft:jack_o_lantern[facing=south]","91:1":"minecraft:jack_o_lantern[facing=west]","91:2":"minecraft:jack_o_lantern[facing=north]","91:3":"minecraft:jack_o_lantern[facing=east]","92:0":"minecraft:cake[bites=0]","92:1":"minecraft:cake[bites=1]","92:2":"minecraft:cake[bites=2]","92:3":"minecraft:cake[bites=3]","92:4":"minecraft:cake[bites=4]","92:5":"minecraft:cake[bites=5]","92:6":"minecraft:cake[bites=6]","93:0":"minecraft:repeater[delay=1,facing=south,locked=false,powered=false]","93:1":"minecraft:repeater[delay=1,facing=west,locked=false,powered=false]","93:2":"minecraft:repeater[delay=1,facing=north,locked=false,powered=false]","93:3":"minecraft:repeater[delay=1,facing=east,locked=false,powered=false]","93:4":"minecraft:repeater[delay=2,facing=south,locked=false,powered=false]","93:5":"minecraft:repeater[delay=2,facing=west,locked=false,powered=false]","93:6":"minecraft:repeater[delay=2,facing=north,locked=false,powered=false]","93:7":"minecraft:repeater[delay=2,facing=east,locked=false,powered=false]","93:8":"minecraft:repeater[delay=3,facing=south,locked=false,powered=false]","93:9":"minecraft:repeater[delay=3,facing=west,locked=false,powered=false]","93:10":"minecraft:repeater[delay=3,facing=north,locked=false,powered=false]","93:11":"minecraft:repeater[delay=3,facing=east,locked=false,powered=false]","93:12":"minecraft:repeater[delay=4,facing=south,locked=false,powered=false]","93:13":"minecraft:repeater[delay=4,facing=west,locked=false,powered=false]","93:14":"minecraft:repeater[delay=4,facing=north,locked=false,powered=false]","93:15":"minecraft:repeater[delay=4,facing=east,locked=false,powered=false]","94:0":"minecraft:repeater[delay=1,facing=south,locked=false,powered=true]","94:1":"minecraft:repeater[delay=1,facing=west,locked=false,powered=true]","94:2":"minecraft:repeater[delay=1,facing=north,locked=false,powered=true]","94:3":"minecraft:repeater[delay=1,facing=east,locked=false,powered=true]","94:4":"minecraft:repeater[delay=2,facing=south,locked=false,powered=true]","94:5":"minecraft:repeater[delay=2,facing=west,locked=false,powered=true]","94:6":"minecraft:repeater[delay=2,facing=north,locked=false,powered=true]","94:7":"minecraft:repeater[delay=2,facing=east,locked=false,powered=true]","94:8":"minecraft:repeater[delay=3,facing=south,locked=false,powered=true]","94:9":"minecraft:repeater[delay=3,facing=west,locked=false,powered=true]","94:10":"minecraft:repeater[delay=3,facing=north,locked=false,powered=true]","94:11":"minecraft:repeater[delay=3,facing=east,locked=false,powered=true]","94:12":"minecraft:repeater[delay=4,facing=south,locked=false,powered=true]","94:13":"minecraft:repeater[delay=4,facing=west,locked=false,powered=true]","94:14":"minecraft:repeater[delay=4,facing=north,locked=false,powered=true]","94:15":"minecraft:repeater[delay=4,facing=east,locked=false,powered=true]","95:0":"minecraft:white_stained_glass","95:1":"minecraft:orange_stained_glass","95:2":"minecraft:magenta_stained_glass","95:3":"minecraft:light_blue_stained_glass","95:4":"minecraft:yellow_stained_glass","95:5":"minecraft:lime_stained_glass","95:6":"minecraft:pink_stained_glass","95:7":"minecraft:gray_stained_glass","95:8":"minecraft:light_gray_stained_glass","95:9":"minecraft:cyan_stained_glass","95:10":"minecraft:purple_stained_glass","95:11":"minecraft:blue_stained_glass","95:12":"minecraft:brown_stained_glass","95:13":"minecraft:green_stained_glass","95:14":"minecraft:red_stained_glass","95:15":"minecraft:black_stained_glass","96:0":"minecraft:oak_trapdoor[half=bottom,facing=north,open=false,powered=false]","96:1":"minecraft:oak_trapdoor[half=bottom,facing=south,open=false,powered=false]","96:2":"minecraft:oak_trapdoor[half=bottom,facing=west,open=false,powered=false]","96:3":"minecraft:oak_trapdoor[half=bottom,facing=east,open=false,powered=false]","96:4":"minecraft:oak_trapdoor[half=bottom,facing=north,open=true,powered=true]","96:5":"minecraft:oak_trapdoor[half=bottom,facing=south,open=true,powered=true]","96:6":"minecraft:oak_trapdoor[half=bottom,facing=west,open=true,powered=true]","96:7":"minecraft:oak_trapdoor[half=bottom,facing=east,open=true,powered=true]","96:8":"minecraft:oak_trapdoor[half=top,facing=north,open=false,powered=false]","96:9":"minecraft:oak_trapdoor[half=top,facing=south,open=false,powered=false]","96:10":"minecraft:oak_trapdoor[half=top,facing=west,open=false,powered=false]","96:11":"minecraft:oak_trapdoor[half=top,facing=east,open=false,powered=false]","96:12":"minecraft:oak_trapdoor[half=top,facing=north,open=true,powered=true]","96:13":"minecraft:oak_trapdoor[half=top,facing=south,open=true,powered=true]","96:14":"minecraft:oak_trapdoor[half=top,facing=west,open=true,powered=true]","96:15":"minecraft:oak_trapdoor[half=top,facing=east,open=true,powered=true]","97:0":"minecraft:infested_stone","97:1":"minecraft:infested_cobblestone","97:2":"minecraft:infested_stone_bricks","97:3":"minecraft:infested_mossy_stone_bricks","97:4":"minecraft:infested_cracked_stone_bricks","97:5":"minecraft:infested_chiseled_stone_bricks","98:0":"minecraft:stone_bricks","98:1":"minecraft:mossy_stone_bricks","98:2":"minecraft:cracked_stone_bricks","98:3":"minecraft:chiseled_stone_bricks","99:0":"minecraft:brown_mushroom_block[north=false,east=false,south=false,west=false,up=false,down=false]","99:1":"minecraft:brown_mushroom_block[north=true,east=false,south=false,west=true,up=true,down=false]","99:2":"minecraft:brown_mushroom_block[north=true,east=false,south=false,west=false,up=true,down=false]","99:3":"minecraft:brown_mushroom_block[north=true,east=true,south=false,west=false,up=true,down=false]","99:4":"minecraft:brown_mushroom_block[north=false,east=false,south=false,west=true,up=true,down=false]","99:5":"minecraft:brown_mushroom_block[north=false,east=false,south=false,west=false,up=true,down=false]","99:6":"minecraft:brown_mushroom_block[north=false,east=true,south=false,west=false,up=true,down=false]","99:7":"minecraft:brown_mushroom_block[north=false,east=false,south=true,west=true,up=true,down=false]","99:8":"minecraft:brown_mushroom_block[north=false,east=false,south=true,west=false,up=true,down=false]","99:9":"minecraft:brown_mushroom_block[north=false,east=true,south=true,west=false,up=true,down=false]","99:10":"minecraft:mushroom_stem[north=true,east=true,south=true,west=true,up=false,down=false]","99:14":"minecraft:brown_mushroom_block[north=true,east=true,south=true,west=true,up=true,down=true]","99:15":"minecraft:mushroom_stem[north=true,east=true,south=true,west=true,up=true,down=true]","100:0":"minecraft:red_mushroom_block[north=false,east=false,south=false,west=false,up=false,down=false]","100:1":"minecraft:red_mushroom_block[north=true,east=false,south=false,west=true,up=true,down=false]","100:2":"minecraft:red_mushroom_block[north=true,east=false,south=false,west=false,up=true,down=false]","100:3":"minecraft:red_mushroom_block[north=true,east=true,south=false,west=false,up=true,down=false]","100:4":"minecraft:red_mushroom_block[north=false,east=false,south=false,west=true,up=true,down=false]","100:5":"minecraft:red_mushroom_block[north=false,east=false,south=false,west=false,up=true,down=false]","100:6":"minecraft:red_mushroom_block[north=false,east=true,south=false,west=false,up=true,down=false]","100:7":"minecraft:red_mushroom_block[north=false,east=false,south=true,west=true,up=true,down=false]","100:8":"minecraft:red_mushroom_block[north=false,east=false,south=true,west=false,up=true,down=false]","100:9":"minecraft:red_mushroom_block[north=false,east=true,south=true,west=false,up=true,down=false]","100:10":"minecraft:mushroom_stem[north=true,east=true,south=true,west=true,up=false,down=false]","100:14":"minecraft:red_mushroom_block[north=true,east=true,south=true,west=true,up=true,down=true]","100:15":"minecraft:mushroom_stem[north=true,east=true,south=true,west=true,up=true,down=true]","101:0":"minecraft:iron_bars[east=false,south=false,north=false,west=false]","102:0":"minecraft:glass_pane[east=false,south=false,north=false,west=false]","103:0":"minecraft:melon","104:0":"minecraft:pumpkin_stem[age=0]","104:1":"minecraft:pumpkin_stem[age=1]","104:2":"minecraft:pumpkin_stem[age=2]","104:3":"minecraft:pumpkin_stem[age=3]","104:4":"minecraft:pumpkin_stem[age=4]","104:5":"minecraft:pumpkin_stem[age=5]","104:6":"minecraft:pumpkin_stem[age=6]","104:7":"minecraft:pumpkin_stem[age=7]","105:0":"minecraft:melon_stem[age=0]","105:1":"minecraft:melon_stem[age=1]","105:2":"minecraft:melon_stem[age=2]","105:3":"minecraft:melon_stem[age=3]","105:4":"minecraft:melon_stem[age=4]","105:5":"minecraft:melon_stem[age=5]","105:6":"minecraft:melon_stem[age=6]","105:7":"minecraft:melon_stem[age=7]","106:0":"minecraft:vine[east=false,south=false,north=false,west=false,up=false]","106:1":"minecraft:vine[east=false,south=true,north=false,west=false,up=false]","106:2":"minecraft:vine[east=false,south=false,north=false,west=true,up=false]","106:3":"minecraft:vine[east=false,south=true,north=false,west=true,up=false]","106:4":"minecraft:vine[east=false,south=false,north=true,west=false,up=false]","106:5":"minecraft:vine[east=false,south=true,north=true,west=false,up=false]","106:6":"minecraft:vine[east=false,south=false,north=true,west=true,up=false]","106:7":"minecraft:vine[east=false,south=true,north=true,west=true,up=false]","106:8":"minecraft:vine[east=true,south=false,north=false,west=false,up=false]","106:9":"minecraft:vine[east=true,south=true,north=false,west=false,up=false]","106:10":"minecraft:vine[east=true,south=false,north=false,west=true,up=false]","106:11":"minecraft:vine[east=true,south=true,north=false,west=true,up=false]","106:12":"minecraft:vine[east=true,south=false,north=true,west=false,up=false]","106:13":"minecraft:vine[east=true,south=true,north=true,west=false,up=false]","106:14":"minecraft:vine[east=true,south=false,north=true,west=true,up=false]","106:15":"minecraft:vine[east=true,south=true,north=true,west=true,up=false]","107:0":"minecraft:oak_fence_gate[in_wall=false,powered=false,facing=south,open=false]","107:1":"minecraft:oak_fence_gate[in_wall=false,powered=false,facing=west,open=false]","107:2":"minecraft:oak_fence_gate[in_wall=false,powered=false,facing=north,open=false]","107:3":"minecraft:oak_fence_gate[in_wall=false,powered=false,facing=east,open=false]","107:4":"minecraft:oak_fence_gate[in_wall=false,powered=false,facing=south,open=true]","107:5":"minecraft:oak_fence_gate[in_wall=false,powered=false,facing=west,open=true]","107:6":"minecraft:oak_fence_gate[in_wall=false,powered=false,facing=north,open=true]","107:7":"minecraft:oak_fence_gate[in_wall=false,powered=false,facing=east,open=true]","107:8":"minecraft:oak_fence_gate[in_wall=false,powered=true,facing=south,open=false]","107:9":"minecraft:oak_fence_gate[in_wall=false,powered=true,facing=west,open=false]","107:10":"minecraft:oak_fence_gate[in_wall=false,powered=true,facing=north,open=false]","107:11":"minecraft:oak_fence_gate[in_wall=false,powered=true,facing=east,open=false]","107:12":"minecraft:oak_fence_gate[in_wall=false,powered=true,facing=south,open=true]","107:13":"minecraft:oak_fence_gate[in_wall=false,powered=true,facing=west,open=true]","107:14":"minecraft:oak_fence_gate[in_wall=false,powered=true,facing=north,open=true]","107:15":"minecraft:oak_fence_gate[in_wall=false,powered=true,facing=east,open=true]","108:0":"minecraft:brick_stairs[half=bottom,shape=straight,facing=east]","108:1":"minecraft:brick_stairs[half=bottom,shape=straight,facing=west]","108:2":"minecraft:brick_stairs[half=bottom,shape=straight,facing=south]","108:3":"minecraft:brick_stairs[half=bottom,shape=straight,facing=north]","108:4":"minecraft:brick_stairs[half=top,shape=straight,facing=east]","108:5":"minecraft:brick_stairs[half=top,shape=straight,facing=west]","108:6":"minecraft:brick_stairs[half=top,shape=straight,facing=south]","108:7":"minecraft:brick_stairs[half=top,shape=straight,facing=north]","109:0":"minecraft:stone_brick_stairs[half=bottom,shape=straight,facing=east]","109:1":"minecraft:stone_brick_stairs[half=bottom,shape=straight,facing=west]","109:2":"minecraft:stone_brick_stairs[half=bottom,shape=straight,facing=south]","109:3":"minecraft:stone_brick_stairs[half=bottom,shape=straight,facing=north]","109:4":"minecraft:stone_brick_stairs[half=top,shape=straight,facing=east]","109:5":"minecraft:stone_brick_stairs[half=top,shape=straight,facing=west]","109:6":"minecraft:stone_brick_stairs[half=top,shape=straight,facing=south]","109:7":"minecraft:stone_brick_stairs[half=top,shape=straight,facing=north]","110:0":"minecraft:mycelium[snowy=false]","111:0":"minecraft:lily_pad","112:0":"minecraft:nether_bricks","113:0":"minecraft:nether_brick_fence[east=false,south=false,north=false,west=false]","114:0":"minecraft:nether_brick_stairs[half=bottom,shape=straight,facing=east]","114:1":"minecraft:nether_brick_stairs[half=bottom,shape=straight,facing=west]","114:2":"minecraft:nether_brick_stairs[half=bottom,shape=straight,facing=south]","114:3":"minecraft:nether_brick_stairs[half=bottom,shape=straight,facing=north]","114:4":"minecraft:nether_brick_stairs[half=top,shape=straight,facing=east]","114:5":"minecraft:nether_brick_stairs[half=top,shape=straight,facing=west]","114:6":"minecraft:nether_brick_stairs[half=top,shape=straight,facing=south]","114:7":"minecraft:nether_brick_stairs[half=top,shape=straight,facing=north]","115:0":"minecraft:nether_wart[age=0]","115:1":"minecraft:nether_wart[age=1]","115:2":"minecraft:nether_wart[age=2]","115:3":"minecraft:nether_wart[age=3]","116:0":"minecraft:enchanting_table","117:0":"minecraft:brewing_stand[has_bottle_0=false,has_bottle_1=false,has_bottle_2=false]","117:1":"minecraft:brewing_stand[has_bottle_0=true,has_bottle_1=false,has_bottle_2=false]","117:2":"minecraft:brewing_stand[has_bottle_0=false,has_bottle_1=true,has_bottle_2=false]","117:3":"minecraft:brewing_stand[has_bottle_0=true,has_bottle_1=true,has_bottle_2=false]","117:4":"minecraft:brewing_stand[has_bottle_0=false,has_bottle_1=false,has_bottle_2=true]","117:5":"minecraft:brewing_stand[has_bottle_0=true,has_bottle_1=false,has_bottle_2=true]","117:6":"minecraft:brewing_stand[has_bottle_0=false,has_bottle_1=true,has_bottle_2=true]","117:7":"minecraft:brewing_stand[has_bottle_0=true,has_bottle_1=true,has_bottle_2=true]","118:0":"minecraft:cauldron[level=0]","118:1":"minecraft:cauldron[level=1]","118:2":"minecraft:cauldron[level=2]","118:3":"minecraft:cauldron[level=3]","119:0":"minecraft:end_portal","120:0":"minecraft:end_portal_frame[eye=false,facing=south]","120:1":"minecraft:end_portal_frame[eye=false,facing=west]","120:2":"minecraft:end_portal_frame[eye=false,facing=north]","120:3":"minecraft:end_portal_frame[eye=false,facing=east]","120:4":"minecraft:end_portal_frame[eye=true,facing=south]","120:5":"minecraft:end_portal_frame[eye=true,facing=west]","120:6":"minecraft:end_portal_frame[eye=true,facing=north]","120:7":"minecraft:end_portal_frame[eye=true,facing=east]","121:0":"minecraft:end_stone","122:0":"minecraft:dragon_egg","123:0":"minecraft:redstone_lamp[lit=false]","124:0":"minecraft:redstone_lamp[lit=true]","125:0":"minecraft:oak_slab[type=double]","125:1":"minecraft:spruce_slab[type=double]","125:2":"minecraft:birch_slab[type=double]","125:3":"minecraft:jungle_slab[type=double]","125:4":"minecraft:acacia_slab[type=double]","125:5":"minecraft:dark_oak_slab[type=double]","126:0":"minecraft:oak_slab[type=bottom]","126:1":"minecraft:spruce_slab[type=bottom]","126:2":"minecraft:birch_slab[type=bottom]","126:3":"minecraft:jungle_slab[type=bottom]","126:4":"minecraft:acacia_slab[type=bottom]","126:5":"minecraft:dark_oak_slab[type=bottom]","126:8":"minecraft:oak_slab[type=top]","126:9":"minecraft:spruce_slab[type=top]","126:10":"minecraft:birch_slab[type=top]","126:11":"minecraft:jungle_slab[type=top]","126:12":"minecraft:acacia_slab[type=top]","126:13":"minecraft:dark_oak_slab[type=top]","127:0":"minecraft:cocoa[facing=south,age=0]","127:1":"minecraft:cocoa[facing=west,age=0]","127:2":"minecraft:cocoa[facing=north,age=0]","127:3":"minecraft:cocoa[facing=east,age=0]","127:4":"minecraft:cocoa[facing=south,age=1]","127:5":"minecraft:cocoa[facing=west,age=1]","127:6":"minecraft:cocoa[facing=north,age=1]","127:7":"minecraft:cocoa[facing=east,age=1]","127:8":"minecraft:cocoa[facing=south,age=2]","127:9":"minecraft:cocoa[facing=west,age=2]","127:10":"minecraft:cocoa[facing=north,age=2]","127:11":"minecraft:cocoa[facing=east,age=2]","128:0":"minecraft:sandstone_stairs[half=bottom,shape=straight,facing=east]","128:1":"minecraft:sandstone_stairs[half=bottom,shape=straight,facing=west]","128:2":"minecraft:sandstone_stairs[half=bottom,shape=straight,facing=south]","128:3":"minecraft:sandstone_stairs[half=bottom,shape=straight,facing=north]","128:4":"minecraft:sandstone_stairs[half=top,shape=straight,facing=east]","128:5":"minecraft:sandstone_stairs[half=top,shape=straight,facing=west]","128:6":"minecraft:sandstone_stairs[half=top,shape=straight,facing=south]","128:7":"minecraft:sandstone_stairs[half=top,shape=straight,facing=north]","129:0":"minecraft:emerald_ore","130:2":"minecraft:ender_chest[facing=north]","130:3":"minecraft:ender_chest[facing=south]","130:4":"minecraft:ender_chest[facing=west]","130:5":"minecraft:ender_chest[facing=east]","131:0":"minecraft:tripwire_hook[powered=false,attached=false,facing=south]","131:1":"minecraft:tripwire_hook[powered=false,attached=false,facing=west]","131:2":"minecraft:tripwire_hook[powered=false,attached=false,facing=north]","131:3":"minecraft:tripwire_hook[powered=false,attached=false,facing=east]","131:4":"minecraft:tripwire_hook[powered=false,attached=true,facing=south]","131:5":"minecraft:tripwire_hook[powered=false,attached=true,facing=west]","131:6":"minecraft:tripwire_hook[powered=false,attached=true,facing=north]","131:7":"minecraft:tripwire_hook[powered=false,attached=true,facing=east]","131:8":"minecraft:tripwire_hook[powered=true,attached=false,facing=south]","131:9":"minecraft:tripwire_hook[powered=true,attached=false,facing=west]","131:10":"minecraft:tripwire_hook[powered=true,attached=false,facing=north]","131:11":"minecraft:tripwire_hook[powered=true,attached=false,facing=east]","131:12":"minecraft:tripwire_hook[powered=true,attached=true,facing=south]","131:13":"minecraft:tripwire_hook[powered=true,attached=true,facing=west]","131:14":"minecraft:tripwire_hook[powered=true,attached=true,facing=north]","131:15":"minecraft:tripwire_hook[powered=true,attached=true,facing=east]","132:0":"minecraft:tripwire[disarmed=false,east=false,powered=false,south=false,north=false,west=false,attached=false]","132:1":"minecraft:tripwire[disarmed=false,east=false,powered=true,south=false,north=false,west=false,attached=false]","132:4":"minecraft:tripwire[disarmed=false,east=false,powered=false,south=false,north=false,west=false,attached=true]","132:5":"minecraft:tripwire[disarmed=false,east=false,powered=true,south=false,north=false,west=false,attached=true]","132:8":"minecraft:tripwire[disarmed=true,east=false,powered=false,south=false,north=false,west=false,attached=false]","132:9":"minecraft:tripwire[disarmed=true,east=false,powered=true,south=false,north=false,west=false,attached=false]","132:12":"minecraft:tripwire[disarmed=true,east=false,powered=false,south=false,north=false,west=false,attached=true]","132:13":"minecraft:tripwire[disarmed=true,east=false,powered=true,south=false,north=false,west=false,attached=true]","133:0":"minecraft:emerald_block","134:0":"minecraft:spruce_stairs[half=bottom,shape=straight,facing=east]","134:1":"minecraft:spruce_stairs[half=bottom,shape=straight,facing=west]","134:2":"minecraft:spruce_stairs[half=bottom,shape=straight,facing=south]","134:3":"minecraft:spruce_stairs[half=bottom,shape=straight,facing=north]","134:4":"minecraft:spruce_stairs[half=top,shape=straight,facing=east]","134:5":"minecraft:spruce_stairs[half=top,shape=straight,facing=west]","134:6":"minecraft:spruce_stairs[half=top,shape=straight,facing=south]","134:7":"minecraft:spruce_stairs[half=top,shape=straight,facing=north]","135:0":"minecraft:birch_stairs[half=bottom,shape=straight,facing=east]","135:1":"minecraft:birch_stairs[half=bottom,shape=straight,facing=west]","135:2":"minecraft:birch_stairs[half=bottom,shape=straight,facing=south]","135:3":"minecraft:birch_stairs[half=bottom,shape=straight,facing=north]","135:4":"minecraft:birch_stairs[half=top,shape=straight,facing=east]","135:5":"minecraft:birch_stairs[half=top,shape=straight,facing=west]","135:6":"minecraft:birch_stairs[half=top,shape=straight,facing=south]","135:7":"minecraft:birch_stairs[half=top,shape=straight,facing=north]","136:0":"minecraft:jungle_stairs[half=bottom,shape=straight,facing=east]","136:1":"minecraft:jungle_stairs[half=bottom,shape=straight,facing=west]","136:2":"minecraft:jungle_stairs[half=bottom,shape=straight,facing=south]","136:3":"minecraft:jungle_stairs[half=bottom,shape=straight,facing=north]","136:4":"minecraft:jungle_stairs[half=top,shape=straight,facing=east]","136:5":"minecraft:jungle_stairs[half=top,shape=straight,facing=west]","136:6":"minecraft:jungle_stairs[half=top,shape=straight,facing=south]","136:7":"minecraft:jungle_stairs[half=top,shape=straight,facing=north]","137:0":"minecraft:command_block[conditional=false,facing=down]","137:1":"minecraft:command_block[conditional=false,facing=up]","137:2":"minecraft:command_block[conditional=false,facing=north]","137:3":"minecraft:command_block[conditional=false,facing=south]","137:4":"minecraft:command_block[conditional=false,facing=west]","137:5":"minecraft:command_block[conditional=false,facing=east]","137:8":"minecraft:command_block[conditional=true,facing=down]","137:9":"minecraft:command_block[conditional=true,facing=up]","137:10":"minecraft:command_block[conditional=true,facing=north]","137:11":"minecraft:command_block[conditional=true,facing=south]","137:12":"minecraft:command_block[conditional=true,facing=west]","137:13":"minecraft:command_block[conditional=true,facing=east]","138:0":"minecraft:beacon","139:0":"minecraft:cobblestone_wall[east=false,south=false,north=false,west=false,up=false]","139:1":"minecraft:mossy_cobblestone_wall[east=false,south=false,north=false,west=false,up=false]","140:0":"minecraft:flower_pot","140:1":"minecraft:potted_poppy","140:2":"minecraft:potted_dandelion","140:3":"minecraft:potted_oak_sapling","140:4":"minecraft:potted_spruce_sapling","140:5":"minecraft:potted_birch_sapling","140:6":"minecraft:potted_jungle_sapling","140:7":"minecraft:potted_red_mushroom","140:8":"minecraft:potted_brown_mushroom","140:9":"minecraft:potted_cactus","140:10":"minecraft:potted_dead_bush","140:11":"minecraft:potted_fern","140:12":"minecraft:potted_acacia_sapling","140:13":"minecraft:potted_dark_oak_sapling","140:14":"minecraft:potted_blue_orchid","140:15":"minecraft:potted_allium","141:0":"minecraft:carrots[age=0]","141:1":"minecraft:carrots[age=1]","141:2":"minecraft:carrots[age=2]","141:3":"minecraft:carrots[age=3]","141:4":"minecraft:carrots[age=4]","141:5":"minecraft:carrots[age=5]","141:6":"minecraft:carrots[age=6]","141:7":"minecraft:carrots[age=7]","142:0":"minecraft:potatoes[age=0]","142:1":"minecraft:potatoes[age=1]","142:2":"minecraft:potatoes[age=2]","142:3":"minecraft:potatoes[age=3]","142:4":"minecraft:potatoes[age=4]","142:5":"minecraft:potatoes[age=5]","142:6":"minecraft:potatoes[age=6]","142:7":"minecraft:potatoes[age=7]","143:0":"minecraft:oak_button[powered=false,facing=east,face=ceiling]","143:1":"minecraft:oak_button[powered=false,facing=east,face=wall]","143:2":"minecraft:oak_button[powered=false,facing=west,face=wall]","143:3":"minecraft:oak_button[powered=false,facing=south,face=wall]","143:4":"minecraft:oak_button[powered=false,facing=north,face=wall]","143:5":"minecraft:oak_button[powered=false,facing=east,face=floor]","143:8":"minecraft:oak_button[powered=true,facing=south,face=ceiling]","143:9":"minecraft:oak_button[powered=true,facing=east,face=wall]","143:10":"minecraft:oak_button[powered=true,facing=west,face=wall]","143:11":"minecraft:oak_button[powered=true,facing=south,face=wall]","143:12":"minecraft:oak_button[powered=true,facing=north,face=wall]","143:13":"minecraft:oak_button[powered=true,facing=south,face=floor]","144:0":"minecraft:skeleton_skull[rotation=0]","144:1":"minecraft:skeleton_skull[rotation=4]","144:2":"minecraft:skeleton_wall_skull[facing=north]","144:3":"minecraft:skeleton_wall_skull[facing=south]","144:4":"minecraft:skeleton_wall_skull[facing=west]","144:5":"minecraft:skeleton_wall_skull[facing=east]","144:8":"minecraft:skeleton_skull[rotation=8]","144:9":"minecraft:skeleton_skull[rotation=12]","144:10":"minecraft:skeleton_wall_skull[facing=north]","144:11":"minecraft:skeleton_wall_skull[facing=south]","144:12":"minecraft:skeleton_wall_skull[facing=west]","144:13":"minecraft:skeleton_wall_skull[facing=east]","145:0":"minecraft:anvil[facing=south]","145:1":"minecraft:anvil[facing=west]","145:2":"minecraft:anvil[facing=north]","145:3":"minecraft:anvil[facing=east]","145:4":"minecraft:chipped_anvil[facing=south]","145:5":"minecraft:chipped_anvil[facing=west]","145:6":"minecraft:chipped_anvil[facing=north]","145:7":"minecraft:chipped_anvil[facing=east]","145:8":"minecraft:damaged_anvil[facing=south]","145:9":"minecraft:damaged_anvil[facing=west]","145:10":"minecraft:damaged_anvil[facing=north]","145:11":"minecraft:damaged_anvil[facing=east]","146:2":"minecraft:trapped_chest[facing=north,type=single]","146:3":"minecraft:trapped_chest[facing=south,type=single]","146:4":"minecraft:trapped_chest[facing=west,type=single]","146:5":"minecraft:trapped_chest[facing=east,type=single]","147:0":"minecraft:light_weighted_pressure_plate[power=0]","147:1":"minecraft:light_weighted_pressure_plate[power=1]","147:2":"minecraft:light_weighted_pressure_plate[power=2]","147:3":"minecraft:light_weighted_pressure_plate[power=3]","147:4":"minecraft:light_weighted_pressure_plate[power=4]","147:5":"minecraft:light_weighted_pressure_plate[power=5]","147:6":"minecraft:light_weighted_pressure_plate[power=6]","147:7":"minecraft:light_weighted_pressure_plate[power=7]","147:8":"minecraft:light_weighted_pressure_plate[power=8]","147:9":"minecraft:light_weighted_pressure_plate[power=9]","147:10":"minecraft:light_weighted_pressure_plate[power=10]","147:11":"minecraft:light_weighted_pressure_plate[power=11]","147:12":"minecraft:light_weighted_pressure_plate[power=12]","147:13":"minecraft:light_weighted_pressure_plate[power=13]","147:14":"minecraft:light_weighted_pressure_plate[power=14]","147:15":"minecraft:light_weighted_pressure_plate[power=15]","148:0":"minecraft:heavy_weighted_pressure_plate[power=0]","148:1":"minecraft:heavy_weighted_pressure_plate[power=1]","148:2":"minecraft:heavy_weighted_pressure_plate[power=2]","148:3":"minecraft:heavy_weighted_pressure_plate[power=3]","148:4":"minecraft:heavy_weighted_pressure_plate[power=4]","148:5":"minecraft:heavy_weighted_pressure_plate[power=5]","148:6":"minecraft:heavy_weighted_pressure_plate[power=6]","148:7":"minecraft:heavy_weighted_pressure_plate[power=7]","148:8":"minecraft:heavy_weighted_pressure_plate[power=8]","148:9":"minecraft:heavy_weighted_pressure_plate[power=9]","148:10":"minecraft:heavy_weighted_pressure_plate[power=10]","148:11":"minecraft:heavy_weighted_pressure_plate[power=11]","148:12":"minecraft:heavy_weighted_pressure_plate[power=12]","148:13":"minecraft:heavy_weighted_pressure_plate[power=13]","148:14":"minecraft:heavy_weighted_pressure_plate[power=14]","148:15":"minecraft:heavy_weighted_pressure_plate[power=15]","149:0":"minecraft:comparator[mode=compare,powered=false,facing=south]","149:1":"minecraft:comparator[mode=compare,powered=false,facing=west]","149:2":"minecraft:comparator[mode=compare,powered=false,facing=north]","149:3":"minecraft:comparator[mode=compare,powered=false,facing=east]","149:4":"minecraft:comparator[mode=subtract,powered=false,facing=south]","149:5":"minecraft:comparator[mode=subtract,powered=false,facing=west]","149:6":"minecraft:comparator[mode=subtract,powered=false,facing=north]","149:7":"minecraft:comparator[mode=subtract,powered=false,facing=east]","149:8":"minecraft:comparator[mode=compare,powered=false,facing=south]","149:9":"minecraft:comparator[mode=compare,powered=false,facing=west]","149:10":"minecraft:comparator[mode=compare,powered=false,facing=north]","149:11":"minecraft:comparator[mode=compare,powered=false,facing=east]","149:12":"minecraft:comparator[mode=subtract,powered=false,facing=south]","149:13":"minecraft:comparator[mode=subtract,powered=false,facing=west]","149:14":"minecraft:comparator[mode=subtract,powered=false,facing=north]","149:15":"minecraft:comparator[mode=subtract,powered=false,facing=east]","150:0":"minecraft:comparator[mode=compare,powered=true,facing=south]","150:1":"minecraft:comparator[mode=compare,powered=true,facing=west]","150:2":"minecraft:comparator[mode=compare,powered=true,facing=north]","150:3":"minecraft:comparator[mode=compare,powered=true,facing=east]","150:4":"minecraft:comparator[mode=subtract,powered=true,facing=south]","150:5":"minecraft:comparator[mode=subtract,powered=true,facing=west]","150:6":"minecraft:comparator[mode=subtract,powered=true,facing=north]","150:7":"minecraft:comparator[mode=subtract,powered=true,facing=east]","150:8":"minecraft:comparator[mode=compare,powered=true,facing=south]","150:9":"minecraft:comparator[mode=compare,powered=true,facing=west]","150:10":"minecraft:comparator[mode=compare,powered=true,facing=north]","150:11":"minecraft:comparator[mode=compare,powered=true,facing=east]","150:12":"minecraft:comparator[mode=subtract,powered=true,facing=south]","150:13":"minecraft:comparator[mode=subtract,powered=true,facing=west]","150:14":"minecraft:comparator[mode=subtract,powered=true,facing=north]","150:15":"minecraft:comparator[mode=subtract,powered=true,facing=east]","151:0":"minecraft:daylight_detector[inverted=false,power=0]","151:1":"minecraft:daylight_detector[inverted=false,power=1]","151:2":"minecraft:daylight_detector[inverted=false,power=2]","151:3":"minecraft:daylight_detector[inverted=false,power=3]","151:4":"minecraft:daylight_detector[inverted=false,power=4]","151:5":"minecraft:daylight_detector[inverted=false,power=5]","151:6":"minecraft:daylight_detector[inverted=false,power=6]","151:7":"minecraft:daylight_detector[inverted=false,power=7]","151:8":"minecraft:daylight_detector[inverted=false,power=8]","151:9":"minecraft:daylight_detector[inverted=false,power=9]","151:10":"minecraft:daylight_detector[inverted=false,power=10]","151:11":"minecraft:daylight_detector[inverted=false,power=11]","151:12":"minecraft:daylight_detector[inverted=false,power=12]","151:13":"minecraft:daylight_detector[inverted=false,power=13]","151:14":"minecraft:daylight_detector[inverted=false,power=14]","151:15":"minecraft:daylight_detector[inverted=false,power=15]","152:0":"minecraft:redstone_block","153:0":"minecraft:nether_quartz_ore","154:0":"minecraft:hopper[facing=down,enabled=true]","154:2":"minecraft:hopper[facing=north,enabled=true]","154:3":"minecraft:hopper[facing=south,enabled=true]","154:4":"minecraft:hopper[facing=west,enabled=true]","154:5":"minecraft:hopper[facing=east,enabled=true]","154:8":"minecraft:hopper[facing=down,enabled=false]","154:10":"minecraft:hopper[facing=north,enabled=false]","154:11":"minecraft:hopper[facing=south,enabled=false]","154:12":"minecraft:hopper[facing=west,enabled=false]","154:13":"minecraft:hopper[facing=east,enabled=false]","155:0":"minecraft:quartz_block","155:1":"minecraft:chiseled_quartz_block","155:2":"minecraft:quartz_pillar[axis=y]","155:3":"minecraft:quartz_pillar[axis=x]","155:4":"minecraft:quartz_pillar[axis=z]","155:6":"minecraft:quartz_pillar[axis=x]","155:10":"minecraft:quartz_pillar[axis=z]","156:0":"minecraft:quartz_stairs[half=bottom,shape=straight,facing=east]","156:1":"minecraft:quartz_stairs[half=bottom,shape=straight,facing=west]","156:2":"minecraft:quartz_stairs[half=bottom,shape=straight,facing=south]","156:3":"minecraft:quartz_stairs[half=bottom,shape=straight,facing=north]","156:4":"minecraft:quartz_stairs[half=top,shape=straight,facing=east]","156:5":"minecraft:quartz_stairs[half=top,shape=straight,facing=west]","156:6":"minecraft:quartz_stairs[half=top,shape=straight,facing=south]","156:7":"minecraft:quartz_stairs[half=top,shape=straight,facing=north]","157:0":"minecraft:activator_rail[shape=north_south,powered=false]","157:1":"minecraft:activator_rail[shape=east_west,powered=false]","157:2":"minecraft:activator_rail[shape=ascending_east,powered=false]","157:3":"minecraft:activator_rail[shape=ascending_west,powered=false]","157:4":"minecraft:activator_rail[shape=ascending_north,powered=false]","157:5":"minecraft:activator_rail[shape=ascending_south,powered=false]","157:8":"minecraft:activator_rail[shape=north_south,powered=true]","157:9":"minecraft:activator_rail[shape=east_west,powered=true]","157:10":"minecraft:activator_rail[shape=ascending_east,powered=true]","157:11":"minecraft:activator_rail[shape=ascending_west,powered=true]","157:12":"minecraft:activator_rail[shape=ascending_north,powered=true]","157:13":"minecraft:activator_rail[shape=ascending_south,powered=true]","158:0":"minecraft:dropper[triggered=false,facing=down]","158:1":"minecraft:dropper[triggered=false,facing=up]","158:2":"minecraft:dropper[triggered=false,facing=north]","158:3":"minecraft:dropper[triggered=false,facing=south]","158:4":"minecraft:dropper[triggered=false,facing=west]","158:5":"minecraft:dropper[triggered=false,facing=east]","158:8":"minecraft:dropper[triggered=true,facing=down]","158:9":"minecraft:dropper[triggered=true,facing=up]","158:10":"minecraft:dropper[triggered=true,facing=north]","158:11":"minecraft:dropper[triggered=true,facing=south]","158:12":"minecraft:dropper[triggered=true,facing=west]","158:13":"minecraft:dropper[triggered=true,facing=east]","159:0":"minecraft:white_terracotta","159:1":"minecraft:orange_terracotta","159:2":"minecraft:magenta_terracotta","159:3":"minecraft:light_blue_terracotta","159:4":"minecraft:yellow_terracotta","159:5":"minecraft:lime_terracotta","159:6":"minecraft:pink_terracotta","159:7":"minecraft:gray_terracotta","159:8":"minecraft:light_gray_terracotta","159:9":"minecraft:cyan_terracotta","159:10":"minecraft:purple_terracotta","159:11":"minecraft:blue_terracotta","159:12":"minecraft:brown_terracotta","159:13":"minecraft:green_terracotta","159:14":"minecraft:red_terracotta","159:15":"minecraft:black_terracotta","160:0":"minecraft:white_stained_glass_pane[east=false,south=false,north=false,west=false]","160:1":"minecraft:orange_stained_glass_pane[east=false,south=false,north=false,west=false]","160:2":"minecraft:magenta_stained_glass_pane[east=false,south=false,north=false,west=false]","160:3":"minecraft:light_blue_stained_glass_pane[east=false,south=false,north=false,west=false]","160:4":"minecraft:yellow_stained_glass_pane[east=false,south=false,north=false,west=false]","160:5":"minecraft:lime_stained_glass_pane[east=false,south=false,north=false,west=false]","160:6":"minecraft:pink_stained_glass_pane[east=false,south=false,north=false,west=false]","160:7":"minecraft:gray_stained_glass_pane[east=false,south=false,north=false,west=false]","160:8":"minecraft:light_gray_stained_glass_pane[east=false,south=false,north=false,west=false]","160:9":"minecraft:cyan_stained_glass_pane[east=false,south=false,north=false,west=false]","160:10":"minecraft:purple_stained_glass_pane[east=false,south=false,north=false,west=false]","160:11":"minecraft:blue_stained_glass_pane[east=false,south=false,north=false,west=false]","160:12":"minecraft:brown_stained_glass_pane[east=false,south=false,north=false,west=false]","160:13":"minecraft:green_stained_glass_pane[east=false,south=false,north=false,west=false]","160:14":"minecraft:red_stained_glass_pane[east=false,south=false,north=false,west=false]","160:15":"minecraft:black_stained_glass_pane[east=false,south=false,north=false,west=false]","161:0":"minecraft:acacia_leaves[persistent=false,distance=1]","161:1":"minecraft:dark_oak_leaves[persistent=false,distance=1]","161:4":"minecraft:acacia_leaves[persistent=true,distance=1]","161:5":"minecraft:dark_oak_leaves[persistent=true,distance=1]","161:8":"minecraft:acacia_leaves[persistent=false,distance=1]","161:9":"minecraft:dark_oak_leaves[persistent=false,distance=1]","161:12":"minecraft:acacia_leaves[persistent=true,distance=1]","161:13":"minecraft:dark_oak_leaves[persistent=true,distance=1]","162:0":"minecraft:acacia_log[axis=y]","162:1":"minecraft:dark_oak_log[axis=y]","162:4":"minecraft:acacia_log[axis=x]","162:5":"minecraft:dark_oak_log[axis=x]","162:8":"minecraft:acacia_log[axis=z]","162:9":"minecraft:dark_oak_log[axis=z]","162:12":"minecraft:acacia_wood","162:13":"minecraft:dark_oak_wood","163:0":"minecraft:acacia_stairs[half=bottom,shape=straight,facing=east]","163:1":"minecraft:acacia_stairs[half=bottom,shape=straight,facing=west]","163:2":"minecraft:acacia_stairs[half=bottom,shape=straight,facing=south]","163:3":"minecraft:acacia_stairs[half=bottom,shape=straight,facing=north]","163:4":"minecraft:acacia_stairs[half=top,shape=straight,facing=east]","163:5":"minecraft:acacia_stairs[half=top,shape=straight,facing=west]","163:6":"minecraft:acacia_stairs[half=top,shape=straight,facing=south]","163:7":"minecraft:acacia_stairs[half=top,shape=straight,facing=north]","164:0":"minecraft:dark_oak_stairs[half=bottom,shape=straight,facing=east]","164:1":"minecraft:dark_oak_stairs[half=bottom,shape=straight,facing=west]","164:2":"minecraft:dark_oak_stairs[half=bottom,shape=straight,facing=south]","164:3":"minecraft:dark_oak_stairs[half=bottom,shape=straight,facing=north]","164:4":"minecraft:dark_oak_stairs[half=top,shape=straight,facing=east]","164:5":"minecraft:dark_oak_stairs[half=top,shape=straight,facing=west]","164:6":"minecraft:dark_oak_stairs[half=top,shape=straight,facing=south]","164:7":"minecraft:dark_oak_stairs[half=top,shape=straight,facing=north]","165:0":"minecraft:slime_block","166:0":"minecraft:barrier","167:0":"minecraft:iron_trapdoor[half=bottom,facing=north,open=false]","167:1":"minecraft:iron_trapdoor[half=bottom,facing=south,open=false]","167:2":"minecraft:iron_trapdoor[half=bottom,facing=west,open=false]","167:3":"minecraft:iron_trapdoor[half=bottom,facing=east,open=false]","167:4":"minecraft:iron_trapdoor[half=bottom,facing=north,open=true]","167:5":"minecraft:iron_trapdoor[half=bottom,facing=south,open=true]","167:6":"minecraft:iron_trapdoor[half=bottom,facing=west,open=true]","167:7":"minecraft:iron_trapdoor[half=bottom,facing=east,open=true]","167:8":"minecraft:iron_trapdoor[half=top,facing=north,open=false]","167:9":"minecraft:iron_trapdoor[half=top,facing=south,open=false]","167:10":"minecraft:iron_trapdoor[half=top,facing=west,open=false]","167:11":"minecraft:iron_trapdoor[half=top,facing=east,open=false]","167:12":"minecraft:iron_trapdoor[half=top,facing=north,open=true]","167:13":"minecraft:iron_trapdoor[half=top,facing=south,open=true]","167:14":"minecraft:iron_trapdoor[half=top,facing=west,open=true]","167:15":"minecraft:iron_trapdoor[half=top,facing=east,open=true]","168:0":"minecraft:prismarine","168:1":"minecraft:prismarine_bricks","168:2":"minecraft:dark_prismarine","169:0":"minecraft:sea_lantern","170:0":"minecraft:hay_block[axis=y]","170:4":"minecraft:hay_block[axis=x]","170:8":"minecraft:hay_block[axis=z]","171:0":"minecraft:white_carpet","171:1":"minecraft:orange_carpet","171:2":"minecraft:magenta_carpet","171:3":"minecraft:light_blue_carpet","171:4":"minecraft:yellow_carpet","171:5":"minecraft:lime_carpet","171:6":"minecraft:pink_carpet","171:7":"minecraft:gray_carpet","171:8":"minecraft:light_gray_carpet","171:9":"minecraft:cyan_carpet","171:10":"minecraft:purple_carpet","171:11":"minecraft:blue_carpet","171:12":"minecraft:brown_carpet","171:13":"minecraft:green_carpet","171:14":"minecraft:red_carpet","171:15":"minecraft:black_carpet","172:0":"minecraft:terracotta","173:0":"minecraft:coal_block","174:0":"minecraft:packed_ice","175:0":"minecraft:sunflower[half=lower]","175:1":"minecraft:lilac[half=lower]","175:2":"minecraft:tall_grass[half=lower]","175:3":"minecraft:large_fern[half=lower]","175:4":"minecraft:rose_bush[half=lower]","175:5":"minecraft:peony[half=lower]","175:8":"minecraft:sunflower[half=upper]","175:9":"minecraft:lilac[half=upper]","175:10":"minecraft:tall_grass[half=upper]","175:11":"minecraft:large_fern[half=upper]","175:12":"minecraft:rose_bush[half=upper]","175:13":"minecraft:peony[half=upper]","176:0":"minecraft:white_banner[rotation=0]","176:1":"minecraft:white_banner[rotation=1]","176:2":"minecraft:white_banner[rotation=2]","176:3":"minecraft:white_banner[rotation=3]","176:4":"minecraft:white_banner[rotation=4]","176:5":"minecraft:white_banner[rotation=5]","176:6":"minecraft:white_banner[rotation=6]","176:7":"minecraft:white_banner[rotation=7]","176:8":"minecraft:white_banner[rotation=8]","176:9":"minecraft:white_banner[rotation=9]","176:10":"minecraft:white_banner[rotation=10]","176:11":"minecraft:white_banner[rotation=11]","176:12":"minecraft:white_banner[rotation=12]","176:13":"minecraft:white_banner[rotation=13]","176:14":"minecraft:white_banner[rotation=14]","176:15":"minecraft:white_banner[rotation=15]","177:2":"minecraft:white_wall_banner[facing=north]","177:3":"minecraft:white_wall_banner[facing=south]","177:4":"minecraft:white_wall_banner[facing=west]","177:5":"minecraft:white_wall_banner[facing=east]","178:0":"minecraft:daylight_detector[inverted=true,power=0]","178:1":"minecraft:daylight_detector[inverted=true,power=1]","178:2":"minecraft:daylight_detector[inverted=true,power=2]","178:3":"minecraft:daylight_detector[inverted=true,power=3]","178:4":"minecraft:daylight_detector[inverted=true,power=4]","178:5":"minecraft:daylight_detector[inverted=true,power=5]","178:6":"minecraft:daylight_detector[inverted=true,power=6]","178:7":"minecraft:daylight_detector[inverted=true,power=7]","178:8":"minecraft:daylight_detector[inverted=true,power=8]","178:9":"minecraft:daylight_detector[inverted=true,power=9]","178:10":"minecraft:daylight_detector[inverted=true,power=10]","178:11":"minecraft:daylight_detector[inverted=true,power=11]","178:12":"minecraft:daylight_detector[inverted=true,power=12]","178:13":"minecraft:daylight_detector[inverted=true,power=13]","178:14":"minecraft:daylight_detector[inverted=true,power=14]","178:15":"minecraft:daylight_detector[inverted=true,power=15]","179:0":"minecraft:red_sandstone","179:1":"minecraft:chiseled_red_sandstone","179:2":"minecraft:cut_red_sandstone","180:0":"minecraft:red_sandstone_stairs[half=bottom,shape=straight,facing=east]","180:1":"minecraft:red_sandstone_stairs[half=bottom,shape=straight,facing=west]","180:2":"minecraft:red_sandstone_stairs[half=bottom,shape=straight,facing=south]","180:3":"minecraft:red_sandstone_stairs[half=bottom,shape=straight,facing=north]","180:4":"minecraft:red_sandstone_stairs[half=top,shape=straight,facing=east]","180:5":"minecraft:red_sandstone_stairs[half=top,shape=straight,facing=west]","180:6":"minecraft:red_sandstone_stairs[half=top,shape=straight,facing=south]","180:7":"minecraft:red_sandstone_stairs[half=top,shape=straight,facing=north]","181:0":"minecraft:red_sandstone_slab[type=double]","181:8":"minecraft:smooth_red_sandstone","182:0":"minecraft:red_sandstone_slab[type=bottom]","182:8":"minecraft:red_sandstone_slab[type=top]","183:0":"minecraft:spruce_fence_gate[in_wall=false,powered=false,facing=south,open=false]","183:1":"minecraft:spruce_fence_gate[in_wall=false,powered=false,facing=west,open=false]","183:2":"minecraft:spruce_fence_gate[in_wall=false,powered=false,facing=north,open=false]","183:3":"minecraft:spruce_fence_gate[in_wall=false,powered=false,facing=east,open=false]","183:4":"minecraft:spruce_fence_gate[in_wall=false,powered=false,facing=south,open=true]","183:5":"minecraft:spruce_fence_gate[in_wall=false,powered=false,facing=west,open=true]","183:6":"minecraft:spruce_fence_gate[in_wall=false,powered=false,facing=north,open=true]","183:7":"minecraft:spruce_fence_gate[in_wall=false,powered=false,facing=east,open=true]","183:8":"minecraft:spruce_fence_gate[in_wall=false,powered=true,facing=south,open=false]","183:9":"minecraft:spruce_fence_gate[in_wall=false,powered=true,facing=west,open=false]","183:10":"minecraft:spruce_fence_gate[in_wall=false,powered=true,facing=north,open=false]","183:11":"minecraft:spruce_fence_gate[in_wall=false,powered=true,facing=east,open=false]","183:12":"minecraft:spruce_fence_gate[in_wall=false,powered=true,facing=south,open=true]","183:13":"minecraft:spruce_fence_gate[in_wall=false,powered=true,facing=west,open=true]","183:14":"minecraft:spruce_fence_gate[in_wall=false,powered=true,facing=north,open=true]","183:15":"minecraft:spruce_fence_gate[in_wall=false,powered=true,facing=east,open=true]","184:0":"minecraft:birch_fence_gate[in_wall=false,powered=false,facing=south,open=false]","184:1":"minecraft:birch_fence_gate[in_wall=false,powered=false,facing=west,open=false]","184:2":"minecraft:birch_fence_gate[in_wall=false,powered=false,facing=north,open=false]","184:3":"minecraft:birch_fence_gate[in_wall=false,powered=false,facing=east,open=false]","184:4":"minecraft:birch_fence_gate[in_wall=false,powered=false,facing=south,open=true]","184:5":"minecraft:birch_fence_gate[in_wall=false,powered=false,facing=west,open=true]","184:6":"minecraft:birch_fence_gate[in_wall=false,powered=false,facing=north,open=true]","184:7":"minecraft:birch_fence_gate[in_wall=false,powered=false,facing=east,open=true]","184:8":"minecraft:birch_fence_gate[in_wall=false,powered=true,facing=south,open=false]","184:9":"minecraft:birch_fence_gate[in_wall=false,powered=true,facing=west,open=false]","184:10":"minecraft:birch_fence_gate[in_wall=false,powered=true,facing=north,open=false]","184:11":"minecraft:birch_fence_gate[in_wall=false,powered=true,facing=east,open=false]","184:12":"minecraft:birch_fence_gate[in_wall=false,powered=true,facing=south,open=true]","184:13":"minecraft:birch_fence_gate[in_wall=false,powered=true,facing=west,open=true]","184:14":"minecraft:birch_fence_gate[in_wall=false,powered=true,facing=north,open=true]","184:15":"minecraft:birch_fence_gate[in_wall=false,powered=true,facing=east,open=true]","185:0":"minecraft:jungle_fence_gate[in_wall=false,powered=false,facing=south,open=false]","185:1":"minecraft:jungle_fence_gate[in_wall=false,powered=false,facing=west,open=false]","185:2":"minecraft:jungle_fence_gate[in_wall=false,powered=false,facing=north,open=false]","185:3":"minecraft:jungle_fence_gate[in_wall=false,powered=false,facing=east,open=false]","185:4":"minecraft:jungle_fence_gate[in_wall=false,powered=false,facing=south,open=true]","185:5":"minecraft:jungle_fence_gate[in_wall=false,powered=false,facing=west,open=true]","185:6":"minecraft:jungle_fence_gate[in_wall=false,powered=false,facing=north,open=true]","185:7":"minecraft:jungle_fence_gate[in_wall=false,powered=false,facing=east,open=true]","185:8":"minecraft:jungle_fence_gate[in_wall=false,powered=true,facing=south,open=false]","185:9":"minecraft:jungle_fence_gate[in_wall=false,powered=true,facing=west,open=false]","185:10":"minecraft:jungle_fence_gate[in_wall=false,powered=true,facing=north,open=false]","185:11":"minecraft:jungle_fence_gate[in_wall=false,powered=true,facing=east,open=false]","185:12":"minecraft:jungle_fence_gate[in_wall=false,powered=true,facing=south,open=true]","185:13":"minecraft:jungle_fence_gate[in_wall=false,powered=true,facing=west,open=true]","185:14":"minecraft:jungle_fence_gate[in_wall=false,powered=true,facing=north,open=true]","185:15":"minecraft:jungle_fence_gate[in_wall=false,powered=true,facing=east,open=true]","186:0":"minecraft:dark_oak_fence_gate[in_wall=false,powered=false,facing=south,open=false]","186:1":"minecraft:dark_oak_fence_gate[in_wall=false,powered=false,facing=west,open=false]","186:2":"minecraft:dark_oak_fence_gate[in_wall=false,powered=false,facing=north,open=false]","186:3":"minecraft:dark_oak_fence_gate[in_wall=false,powered=false,facing=east,open=false]","186:4":"minecraft:dark_oak_fence_gate[in_wall=false,powered=false,facing=south,open=true]","186:5":"minecraft:dark_oak_fence_gate[in_wall=false,powered=false,facing=west,open=true]","186:6":"minecraft:dark_oak_fence_gate[in_wall=false,powered=false,facing=north,open=true]","186:7":"minecraft:dark_oak_fence_gate[in_wall=false,powered=false,facing=east,open=true]","186:8":"minecraft:dark_oak_fence_gate[in_wall=false,powered=true,facing=south,open=false]","186:9":"minecraft:dark_oak_fence_gate[in_wall=false,powered=true,facing=west,open=false]","186:10":"minecraft:dark_oak_fence_gate[in_wall=false,powered=true,facing=north,open=false]","186:11":"minecraft:dark_oak_fence_gate[in_wall=false,powered=true,facing=east,open=false]","186:12":"minecraft:dark_oak_fence_gate[in_wall=false,powered=true,facing=south,open=true]","186:13":"minecraft:dark_oak_fence_gate[in_wall=false,powered=true,facing=west,open=true]","186:14":"minecraft:dark_oak_fence_gate[in_wall=false,powered=true,facing=north,open=true]","186:15":"minecraft:dark_oak_fence_gate[in_wall=false,powered=true,facing=east,open=true]","187:0":"minecraft:acacia_fence_gate[in_wall=false,powered=false,facing=south,open=false]","187:1":"minecraft:acacia_fence_gate[in_wall=false,powered=false,facing=west,open=false]","187:2":"minecraft:acacia_fence_gate[in_wall=false,powered=false,facing=north,open=false]","187:3":"minecraft:acacia_fence_gate[in_wall=false,powered=false,facing=east,open=false]","187:4":"minecraft:acacia_fence_gate[in_wall=false,powered=false,facing=south,open=true]","187:5":"minecraft:acacia_fence_gate[in_wall=false,powered=false,facing=west,open=true]","187:6":"minecraft:acacia_fence_gate[in_wall=false,powered=false,facing=north,open=true]","187:7":"minecraft:acacia_fence_gate[in_wall=false,powered=false,facing=east,open=true]","187:8":"minecraft:acacia_fence_gate[in_wall=false,powered=true,facing=south,open=false]","187:9":"minecraft:acacia_fence_gate[in_wall=false,powered=true,facing=west,open=false]","187:10":"minecraft:acacia_fence_gate[in_wall=false,powered=true,facing=north,open=false]","187:11":"minecraft:acacia_fence_gate[in_wall=false,powered=true,facing=east,open=false]","187:12":"minecraft:acacia_fence_gate[in_wall=false,powered=true,facing=south,open=true]","187:13":"minecraft:acacia_fence_gate[in_wall=false,powered=true,facing=west,open=true]","187:14":"minecraft:acacia_fence_gate[in_wall=false,powered=true,facing=north,open=true]","187:15":"minecraft:acacia_fence_gate[in_wall=false,powered=true,facing=east,open=true]","188:0":"minecraft:spruce_fence[east=false,south=false,north=false,west=false]","189:0":"minecraft:birch_fence[east=false,south=false,north=false,west=false]","190:0":"minecraft:jungle_fence[east=false,south=false,north=false,west=false]","191:0":"minecraft:dark_oak_fence[east=false,south=false,north=false,west=false]","192:0":"minecraft:acacia_fence[east=false,south=false,north=false,west=false]","193:0":"minecraft:spruce_door[hinge=right,half=lower,powered=false,facing=east,open=false]","193:1":"minecraft:spruce_door[hinge=right,half=lower,powered=false,facing=south,open=false]","193:2":"minecraft:spruce_door[hinge=right,half=lower,powered=false,facing=west,open=false]","193:3":"minecraft:spruce_door[hinge=right,half=lower,powered=false,facing=north,open=false]","193:4":"minecraft:spruce_door[hinge=right,half=lower,powered=false,facing=east,open=true]","193:5":"minecraft:spruce_door[hinge=right,half=lower,powered=false,facing=south,open=true]","193:6":"minecraft:spruce_door[hinge=right,half=lower,powered=false,facing=west,open=true]","193:7":"minecraft:spruce_door[hinge=right,half=lower,powered=false,facing=north,open=true]","193:8":"minecraft:spruce_door[hinge=left,half=upper,powered=false,facing=east,open=false]","193:9":"minecraft:spruce_door[hinge=right,half=upper,powered=false,facing=east,open=false]","193:10":"minecraft:spruce_door[hinge=left,half=upper,powered=true,facing=east,open=false]","193:11":"minecraft:spruce_door[hinge=right,half=upper,powered=true,facing=east,open=false]","194:0":"minecraft:birch_door[hinge=right,half=lower,powered=false,facing=east,open=false]","194:1":"minecraft:birch_door[hinge=right,half=lower,powered=false,facing=south,open=false]","194:2":"minecraft:birch_door[hinge=right,half=lower,powered=false,facing=west,open=false]","194:3":"minecraft:birch_door[hinge=right,half=lower,powered=false,facing=north,open=false]","194:4":"minecraft:birch_door[hinge=right,half=lower,powered=false,facing=east,open=true]","194:5":"minecraft:birch_door[hinge=right,half=lower,powered=false,facing=south,open=true]","194:6":"minecraft:birch_door[hinge=right,half=lower,powered=false,facing=west,open=true]","194:7":"minecraft:birch_door[hinge=right,half=lower,powered=false,facing=north,open=true]","194:8":"minecraft:birch_door[hinge=left,half=upper,powered=false,facing=east,open=false]","194:9":"minecraft:birch_door[hinge=right,half=upper,powered=false,facing=east,open=false]","194:10":"minecraft:birch_door[hinge=left,half=upper,powered=true,facing=east,open=false]","194:11":"minecraft:birch_door[hinge=right,half=upper,powered=true,facing=east,open=false]","195:0":"minecraft:jungle_door[hinge=right,half=lower,powered=false,facing=east,open=false]","195:1":"minecraft:jungle_door[hinge=right,half=lower,powered=false,facing=south,open=false]","195:2":"minecraft:jungle_door[hinge=right,half=lower,powered=false,facing=west,open=false]","195:3":"minecraft:jungle_door[hinge=right,half=lower,powered=false,facing=north,open=false]","195:4":"minecraft:jungle_door[hinge=right,half=lower,powered=false,facing=east,open=true]","195:5":"minecraft:jungle_door[hinge=right,half=lower,powered=false,facing=south,open=true]","195:6":"minecraft:jungle_door[hinge=right,half=lower,powered=false,facing=west,open=true]","195:7":"minecraft:jungle_door[hinge=right,half=lower,powered=false,facing=north,open=true]","195:8":"minecraft:jungle_door[hinge=left,half=upper,powered=false,facing=east,open=false]","195:9":"minecraft:jungle_door[hinge=right,half=upper,powered=false,facing=east,open=false]","195:10":"minecraft:jungle_door[hinge=left,half=upper,powered=true,facing=east,open=false]","195:11":"minecraft:jungle_door[hinge=right,half=upper,powered=true,facing=east,open=false]","196:0":"minecraft:acacia_door[hinge=right,half=lower,powered=false,facing=east,open=false]","196:1":"minecraft:acacia_door[hinge=right,half=lower,powered=false,facing=south,open=false]","196:2":"minecraft:acacia_door[hinge=right,half=lower,powered=false,facing=west,open=false]","196:3":"minecraft:acacia_door[hinge=right,half=lower,powered=false,facing=north,open=false]","196:4":"minecraft:acacia_door[hinge=right,half=lower,powered=false,facing=east,open=true]","196:5":"minecraft:acacia_door[hinge=right,half=lower,powered=false,facing=south,open=true]","196:6":"minecraft:acacia_door[hinge=right,half=lower,powered=false,facing=west,open=true]","196:7":"minecraft:acacia_door[hinge=right,half=lower,powered=false,facing=north,open=true]","196:8":"minecraft:acacia_door[hinge=left,half=upper,powered=false,facing=east,open=false]","196:9":"minecraft:acacia_door[hinge=right,half=upper,powered=false,facing=east,open=false]","196:10":"minecraft:acacia_door[hinge=left,half=upper,powered=true,facing=east,open=false]","196:11":"minecraft:acacia_door[hinge=right,half=upper,powered=true,facing=east,open=false]","197:0":"minecraft:dark_oak_door[hinge=right,half=lower,powered=false,facing=east,open=false]","197:1":"minecraft:dark_oak_door[hinge=right,half=lower,powered=false,facing=south,open=false]","197:2":"minecraft:dark_oak_door[hinge=right,half=lower,powered=false,facing=west,open=false]","197:3":"minecraft:dark_oak_door[hinge=right,half=lower,powered=false,facing=north,open=false]","197:4":"minecraft:dark_oak_door[hinge=right,half=lower,powered=false,facing=east,open=true]","197:5":"minecraft:dark_oak_door[hinge=right,half=lower,powered=false,facing=south,open=true]","197:6":"minecraft:dark_oak_door[hinge=right,half=lower,powered=false,facing=west,open=true]","197:7":"minecraft:dark_oak_door[hinge=right,half=lower,powered=false,facing=north,open=true]","197:8":"minecraft:dark_oak_door[hinge=left,half=upper,powered=false,facing=east,open=false]","197:9":"minecraft:dark_oak_door[hinge=right,half=upper,powered=false,facing=east,open=false]","197:10":"minecraft:dark_oak_door[hinge=left,half=upper,powered=true,facing=east,open=false]","197:11":"minecraft:dark_oak_door[hinge=right,half=upper,powered=true,facing=east,open=false]","198:0":"minecraft:end_rod[facing=down]","198:1":"minecraft:end_rod[facing=up]","198:2":"minecraft:end_rod[facing=north]","198:3":"minecraft:end_rod[facing=south]","198:4":"minecraft:end_rod[facing=west]","198:5":"minecraft:end_rod[facing=east]","199:0":"minecraft:chorus_plant[east=false,south=false,north=false,west=false,up=false,down=false]","200:0":"minecraft:chorus_flower[age=0]","200:1":"minecraft:chorus_flower[age=1]","200:2":"minecraft:chorus_flower[age=2]","200:3":"minecraft:chorus_flower[age=3]","200:4":"minecraft:chorus_flower[age=4]","200:5":"minecraft:chorus_flower[age=5]","201:0":"minecraft:purpur_block","202:0":"minecraft:purpur_pillar[axis=y]","202:4":"minecraft:purpur_pillar[axis=x]","202:8":"minecraft:purpur_pillar[axis=z]","203:0":"minecraft:purpur_stairs[half=bottom,shape=straight,facing=east]","203:1":"minecraft:purpur_stairs[half=bottom,shape=straight,facing=west]","203:2":"minecraft:purpur_stairs[half=bottom,shape=straight,facing=south]","203:3":"minecraft:purpur_stairs[half=bottom,shape=straight,facing=north]","203:4":"minecraft:purpur_stairs[half=top,shape=straight,facing=east]","203:5":"minecraft:purpur_stairs[half=top,shape=straight,facing=west]","203:6":"minecraft:purpur_stairs[half=top,shape=straight,facing=south]","203:7":"minecraft:purpur_stairs[half=top,shape=straight,facing=north]","204:0":"minecraft:purpur_slab[type=double]","205:0":"minecraft:purpur_slab[type=bottom]","205:8":"minecraft:purpur_slab[type=top]","206:0":"minecraft:end_stone_bricks","207:0":"minecraft:beetroots[age=0]","207:1":"minecraft:beetroots[age=1]","207:2":"minecraft:beetroots[age=2]","207:3":"minecraft:beetroots[age=3]","208:0":"minecraft:grass_path","209:0":"minecraft:end_gateway","210:0":"minecraft:repeating_command_block[conditional=false,facing=down]","210:1":"minecraft:repeating_command_block[conditional=false,facing=up]","210:2":"minecraft:repeating_command_block[conditional=false,facing=north]","210:3":"minecraft:repeating_command_block[conditional=false,facing=south]","210:4":"minecraft:repeating_command_block[conditional=false,facing=west]","210:5":"minecraft:repeating_command_block[conditional=false,facing=east]","210:8":"minecraft:repeating_command_block[conditional=true,facing=down]","210:9":"minecraft:repeating_command_block[conditional=true,facing=up]","210:10":"minecraft:repeating_command_block[conditional=true,facing=north]","210:11":"minecraft:repeating_command_block[conditional=true,facing=south]","210:12":"minecraft:repeating_command_block[conditional=true,facing=west]","210:13":"minecraft:repeating_command_block[conditional=true,facing=east]","211:0":"minecraft:chain_command_block[conditional=false,facing=down]","211:1":"minecraft:chain_command_block[conditional=false,facing=up]","211:2":"minecraft:chain_command_block[conditional=false,facing=north]","211:3":"minecraft:chain_command_block[conditional=false,facing=south]","211:4":"minecraft:chain_command_block[conditional=false,facing=west]","211:5":"minecraft:chain_command_block[conditional=false,facing=east]","211:8":"minecraft:chain_command_block[conditional=true,facing=down]","211:9":"minecraft:chain_command_block[conditional=true,facing=up]","211:10":"minecraft:chain_command_block[conditional=true,facing=north]","211:11":"minecraft:chain_command_block[conditional=true,facing=south]","211:12":"minecraft:chain_command_block[conditional=true,facing=west]","211:13":"minecraft:chain_command_block[conditional=true,facing=east]","212:0":"minecraft:frosted_ice[age=0]","212:1":"minecraft:frosted_ice[age=1]","212:2":"minecraft:frosted_ice[age=2]","212:3":"minecraft:frosted_ice[age=3]","213:0":"minecraft:magma_block","214:0":"minecraft:nether_wart_block","215:0":"minecraft:red_nether_bricks","216:0":"minecraft:bone_block[axis=y]","216:4":"minecraft:bone_block[axis=x]","216:8":"minecraft:bone_block[axis=z]","217:0":"minecraft:structure_void","218:0":"minecraft:observer[powered=false,facing=down]","218:1":"minecraft:observer[powered=false,facing=up]","218:2":"minecraft:observer[powered=false,facing=north]","218:3":"minecraft:observer[powered=false,facing=south]","218:4":"minecraft:observer[powered=false,facing=west]","218:5":"minecraft:observer[powered=false,facing=east]","218:8":"minecraft:observer[powered=true,facing=down]","218:9":"minecraft:observer[powered=true,facing=up]","218:10":"minecraft:observer[powered=true,facing=north]","218:11":"minecraft:observer[powered=true,facing=south]","218:12":"minecraft:observer[powered=true,facing=west]","218:13":"minecraft:observer[powered=true,facing=east]","219:0":"minecraft:white_shulker_box[facing=down]","219:1":"minecraft:white_shulker_box[facing=up]","219:2":"minecraft:white_shulker_box[facing=north]","219:3":"minecraft:white_shulker_box[facing=south]","219:4":"minecraft:white_shulker_box[facing=west]","219:5":"minecraft:white_shulker_box[facing=east]","220:0":"minecraft:orange_shulker_box[facing=down]","220:1":"minecraft:orange_shulker_box[facing=up]","220:2":"minecraft:orange_shulker_box[facing=north]","220:3":"minecraft:orange_shulker_box[facing=south]","220:4":"minecraft:orange_shulker_box[facing=west]","220:5":"minecraft:orange_shulker_box[facing=east]","221:0":"minecraft:magenta_shulker_box[facing=down]","221:1":"minecraft:magenta_shulker_box[facing=up]","221:2":"minecraft:magenta_shulker_box[facing=north]","221:3":"minecraft:magenta_shulker_box[facing=south]","221:4":"minecraft:magenta_shulker_box[facing=west]","221:5":"minecraft:magenta_shulker_box[facing=east]","222:0":"minecraft:light_blue_shulker_box[facing=down]","222:1":"minecraft:light_blue_shulker_box[facing=up]","222:2":"minecraft:light_blue_shulker_box[facing=north]","222:3":"minecraft:light_blue_shulker_box[facing=south]","222:4":"minecraft:light_blue_shulker_box[facing=west]","222:5":"minecraft:light_blue_shulker_box[facing=east]","223:0":"minecraft:yellow_shulker_box[facing=down]","223:1":"minecraft:yellow_shulker_box[facing=up]","223:2":"minecraft:yellow_shulker_box[facing=north]","223:3":"minecraft:yellow_shulker_box[facing=south]","223:4":"minecraft:yellow_shulker_box[facing=west]","223:5":"minecraft:yellow_shulker_box[facing=east]","224:0":"minecraft:lime_shulker_box[facing=down]","224:1":"minecraft:lime_shulker_box[facing=up]","224:2":"minecraft:lime_shulker_box[facing=north]","224:3":"minecraft:lime_shulker_box[facing=south]","224:4":"minecraft:lime_shulker_box[facing=west]","224:5":"minecraft:lime_shulker_box[facing=east]","225:0":"minecraft:pink_shulker_box[facing=down]","225:1":"minecraft:pink_shulker_box[facing=up]","225:2":"minecraft:pink_shulker_box[facing=north]","225:3":"minecraft:pink_shulker_box[facing=south]","225:4":"minecraft:pink_shulker_box[facing=west]","225:5":"minecraft:pink_shulker_box[facing=east]","226:0":"minecraft:gray_shulker_box[facing=down]","226:1":"minecraft:gray_shulker_box[facing=up]","226:2":"minecraft:gray_shulker_box[facing=north]","226:3":"minecraft:gray_shulker_box[facing=south]","226:4":"minecraft:gray_shulker_box[facing=west]","226:5":"minecraft:gray_shulker_box[facing=east]","227:0":"minecraft:light_gray_shulker_box[facing=down]","227:1":"minecraft:light_gray_shulker_box[facing=up]","227:2":"minecraft:light_gray_shulker_box[facing=north]","227:3":"minecraft:light_gray_shulker_box[facing=south]","227:4":"minecraft:light_gray_shulker_box[facing=west]","227:5":"minecraft:light_gray_shulker_box[facing=east]","228:0":"minecraft:cyan_shulker_box[facing=down]","228:1":"minecraft:cyan_shulker_box[facing=up]","228:2":"minecraft:cyan_shulker_box[facing=north]","228:3":"minecraft:cyan_shulker_box[facing=south]","228:4":"minecraft:cyan_shulker_box[facing=west]","228:5":"minecraft:cyan_shulker_box[facing=east]","229:0":"minecraft:purple_shulker_box[facing=down]","229:1":"minecraft:purple_shulker_box[facing=up]","229:2":"minecraft:purple_shulker_box[facing=north]","229:3":"minecraft:purple_shulker_box[facing=south]","229:4":"minecraft:purple_shulker_box[facing=west]","229:5":"minecraft:purple_shulker_box[facing=east]","230:0":"minecraft:blue_shulker_box[facing=down]","230:1":"minecraft:blue_shulker_box[facing=up]","230:2":"minecraft:blue_shulker_box[facing=north]","230:3":"minecraft:blue_shulker_box[facing=south]","230:4":"minecraft:blue_shulker_box[facing=west]","230:5":"minecraft:blue_shulker_box[facing=east]","231:0":"minecraft:brown_shulker_box[facing=down]","231:1":"minecraft:brown_shulker_box[facing=up]","231:2":"minecraft:brown_shulker_box[facing=north]","231:3":"minecraft:brown_shulker_box[facing=south]","231:4":"minecraft:brown_shulker_box[facing=west]","231:5":"minecraft:brown_shulker_box[facing=east]","232:0":"minecraft:green_shulker_box[facing=down]","232:1":"minecraft:green_shulker_box[facing=up]","232:2":"minecraft:green_shulker_box[facing=north]","232:3":"minecraft:green_shulker_box[facing=south]","232:4":"minecraft:green_shulker_box[facing=west]","232:5":"minecraft:green_shulker_box[facing=east]","233:0":"minecraft:red_shulker_box[facing=down]","233:1":"minecraft:red_shulker_box[facing=up]","233:2":"minecraft:red_shulker_box[facing=north]","233:3":"minecraft:red_shulker_box[facing=south]","233:4":"minecraft:red_shulker_box[facing=west]","233:5":"minecraft:red_shulker_box[facing=east]","234:0":"minecraft:black_shulker_box[facing=down]","234:1":"minecraft:black_shulker_box[facing=up]","234:2":"minecraft:black_shulker_box[facing=north]","234:3":"minecraft:black_shulker_box[facing=south]","234:4":"minecraft:black_shulker_box[facing=west]","234:5":"minecraft:black_shulker_box[facing=east]","235:0":"minecraft:white_glazed_terracotta[facing=south]","235:1":"minecraft:white_glazed_terracotta[facing=west]","235:2":"minecraft:white_glazed_terracotta[facing=north]","235:3":"minecraft:white_glazed_terracotta[facing=east]","236:0":"minecraft:orange_glazed_terracotta[facing=south]","236:1":"minecraft:orange_glazed_terracotta[facing=west]","236:2":"minecraft:orange_glazed_terracotta[facing=north]","236:3":"minecraft:orange_glazed_terracotta[facing=east]","237:0":"minecraft:magenta_glazed_terracotta[facing=south]","237:1":"minecraft:magenta_glazed_terracotta[facing=west]","237:2":"minecraft:magenta_glazed_terracotta[facing=north]","237:3":"minecraft:magenta_glazed_terracotta[facing=east]","238:0":"minecraft:light_blue_glazed_terracotta[facing=south]","238:1":"minecraft:light_blue_glazed_terracotta[facing=west]","238:2":"minecraft:light_blue_glazed_terracotta[facing=north]","238:3":"minecraft:light_blue_glazed_terracotta[facing=east]","239:0":"minecraft:yellow_glazed_terracotta[facing=south]","239:1":"minecraft:yellow_glazed_terracotta[facing=west]","239:2":"minecraft:yellow_glazed_terracotta[facing=north]","239:3":"minecraft:yellow_glazed_terracotta[facing=east]","240:0":"minecraft:lime_glazed_terracotta[facing=south]","240:1":"minecraft:lime_glazed_terracotta[facing=west]","240:2":"minecraft:lime_glazed_terracotta[facing=north]","240:3":"minecraft:lime_glazed_terracotta[facing=east]","241:0":"minecraft:pink_glazed_terracotta[facing=south]","241:1":"minecraft:pink_glazed_terracotta[facing=west]","241:2":"minecraft:pink_glazed_terracotta[facing=north]","241:3":"minecraft:pink_glazed_terracotta[facing=east]","242:0":"minecraft:gray_glazed_terracotta[facing=south]","242:1":"minecraft:gray_glazed_terracotta[facing=west]","242:2":"minecraft:gray_glazed_terracotta[facing=north]","242:3":"minecraft:gray_glazed_terracotta[facing=east]","243:0":"minecraft:light_gray_glazed_terracotta[facing=south]","243:1":"minecraft:light_gray_glazed_terracotta[facing=west]","243:2":"minecraft:light_gray_glazed_terracotta[facing=north]","243:3":"minecraft:light_gray_glazed_terracotta[facing=east]","244:0":"minecraft:cyan_glazed_terracotta[facing=south]","244:1":"minecraft:cyan_glazed_terracotta[facing=west]","244:2":"minecraft:cyan_glazed_terracotta[facing=north]","244:3":"minecraft:cyan_glazed_terracotta[facing=east]","245:0":"minecraft:purple_glazed_terracotta[facing=south]","245:1":"minecraft:purple_glazed_terracotta[facing=west]","245:2":"minecraft:purple_glazed_terracotta[facing=north]","245:3":"minecraft:purple_glazed_terracotta[facing=east]","246:0":"minecraft:blue_glazed_terracotta[facing=south]","246:1":"minecraft:blue_glazed_terracotta[facing=west]","246:2":"minecraft:blue_glazed_terracotta[facing=north]","246:3":"minecraft:blue_glazed_terracotta[facing=east]","247:0":"minecraft:brown_glazed_terracotta[facing=south]","247:1":"minecraft:brown_glazed_terracotta[facing=west]","247:2":"minecraft:brown_glazed_terracotta[facing=north]","247:3":"minecraft:brown_glazed_terracotta[facing=east]","248:0":"minecraft:green_glazed_terracotta[facing=south]","248:1":"minecraft:green_glazed_terracotta[facing=west]","248:2":"minecraft:green_glazed_terracotta[facing=north]","248:3":"minecraft:green_glazed_terracotta[facing=east]","249:0":"minecraft:red_glazed_terracotta[facing=south]","249:1":"minecraft:red_glazed_terracotta[facing=west]","249:2":"minecraft:red_glazed_terracotta[facing=north]","249:3":"minecraft:red_glazed_terracotta[facing=east]","250:0":"minecraft:black_glazed_terracotta[facing=south]","250:1":"minecraft:black_glazed_terracotta[facing=west]","250:2":"minecraft:black_glazed_terracotta[facing=north]","250:3":"minecraft:black_glazed_terracotta[facing=east]","251:0":"minecraft:white_concrete","251:1":"minecraft:orange_concrete","251:2":"minecraft:magenta_concrete","251:3":"minecraft:light_blue_concrete","251:4":"minecraft:yellow_concrete","251:5":"minecraft:lime_concrete","251:6":"minecraft:pink_concrete","251:7":"minecraft:gray_concrete","251:8":"minecraft:light_gray_concrete","251:9":"minecraft:cyan_concrete","251:10":"minecraft:purple_concrete","251:11":"minecraft:blue_concrete","251:12":"minecraft:brown_concrete","251:13":"minecraft:green_concrete","251:14":"minecraft:red_concrete","251:15":"minecraft:black_concrete","252:0":"minecraft:white_concrete_powder","252:1":"minecraft:orange_concrete_powder","252:2":"minecraft:magenta_concrete_powder","252:3":"minecraft:light_blue_concrete_powder","252:4":"minecraft:yellow_concrete_powder","252:5":"minecraft:lime_concrete_powder","252:6":"minecraft:pink_concrete_powder","252:7":"minecraft:gray_concrete_powder","252:8":"minecraft:light_gray_concrete_powder","252:9":"minecraft:cyan_concrete_powder","252:10":"minecraft:purple_concrete_powder","252:11":"minecraft:blue_concrete_powder","252:12":"minecraft:brown_concrete_powder","252:13":"minecraft:green_concrete_powder","252:14":"minecraft:red_concrete_powder","252:15":"minecraft:black_concrete_powder","255:0":"minecraft:structure_block[mode=save]","255:1":"minecraft:structure_block[mode=load]","255:2":"minecraft:structure_block[mode=corner]","255:3":"minecraft:structure_block[mode=data]"},items:{"0:0":"minecraft:air","1:0":"minecraft:stone","1:1":"minecraft:granite","1:2":"minecraft:polished_granite","1:3":"minecraft:diorite","1:4":"minecraft:polished_diorite","1:5":"minecraft:andesite","1:6":"minecraft:polished_andesite","2:0":"minecraft:grass_block","3:0":"minecraft:dirt","3:1":"minecraft:coarse_dirt","3:2":"minecraft:podzol","4:0":"minecraft:cobblestone","5:0":"minecraft:oak_planks","5:1":"minecraft:spruce_planks","5:2":"minecraft:birch_planks","5:3":"minecraft:jungle_planks","5:4":"minecraft:acacia_planks","5:5":"minecraft:dark_oak_planks","6:0":"minecraft:oak_sapling","6:1":"minecraft:spruce_sapling","6:2":"minecraft:birch_sapling","6:3":"minecraft:jungle_sapling","6:4":"minecraft:acacia_sapling","6:5":"minecraft:dark_oak_sapling","7:0":"minecraft:bedrock","12:0":"minecraft:sand","12:1":"minecraft:red_sand","13:0":"minecraft:gravel","14:0":"minecraft:gold_ore","15:0":"minecraft:iron_ore","16:0":"minecraft:coal_ore","17:0":"minecraft:oak_log","17:1":"minecraft:spruce_log","17:2":"minecraft:birch_log","17:3":"minecraft:jungle_log","18:0":"minecraft:oak_leaves","18:1":"minecraft:spruce_leaves","18:2":"minecraft:birch_leaves","18:3":"minecraft:jungle_leaves","19:0":"minecraft:sponge","19:1":"minecraft:wet_sponge","20:0":"minecraft:glass","21:0":"minecraft:lapis_ore","22:0":"minecraft:lapis_block","23:0":"minecraft:dispenser","24:0":"minecraft:sandstone","24:1":"minecraft:chiseled_sandstone","24:2":"minecraft:cut_sandstone","25:0":"minecraft:note_block","27:0":"minecraft:powered_rail","28:0":"minecraft:detector_rail","29:0":"minecraft:sticky_piston","30:0":"minecraft:cobweb","31:1":"minecraft:grass","31:2":"minecraft:fern","32:0":"minecraft:dead_bush","33:0":"minecraft:piston","35:0":"minecraft:white_wool","35:1":"minecraft:orange_wool","35:2":"minecraft:magenta_wool","35:3":"minecraft:light_blue_wool","35:4":"minecraft:yellow_wool","35:5":"minecraft:lime_wool","35:6":"minecraft:pink_wool","35:7":"minecraft:gray_wool","35:8":"minecraft:light_gray_wool","35:9":"minecraft:cyan_wool","35:10":"minecraft:purple_wool","35:11":"minecraft:blue_wool","35:12":"minecraft:brown_wool","35:13":"minecraft:green_wool","35:14":"minecraft:red_wool","35:15":"minecraft:black_wool","37:0":"minecraft:dandelion","38:0":"minecraft:poppy","38:1":"minecraft:blue_orchid","38:2":"minecraft:allium","38:3":"minecraft:azure_bluet","38:4":"minecraft:red_tulip","38:5":"minecraft:orange_tulip","38:6":"minecraft:white_tulip","38:7":"minecraft:pink_tulip","38:8":"minecraft:oxeye_daisy","39:0":"minecraft:brown_mushroom","40:0":"minecraft:red_mushroom","41:0":"minecraft:gold_block","42:0":"minecraft:iron_block","44:0":"minecraft:stone_slab","44:1":"minecraft:sandstone_slab","44:3":"minecraft:cobblestone_slab","44:4":"minecraft:brick_slab","44:5":"minecraft:stone_brick_slab","44:6":"minecraft:nether_brick_slab","44:7":"minecraft:quartz_slab","45:0":"minecraft:bricks","46:0":"minecraft:tnt","47:0":"minecraft:bookshelf","48:0":"minecraft:mossy_cobblestone","49:0":"minecraft:obsidian","50:0":"minecraft:torch","52:0":"minecraft:spawner","53:0":"minecraft:oak_stairs","54:0":"minecraft:chest","56:0":"minecraft:diamond_ore","57:0":"minecraft:diamond_block","58:0":"minecraft:crafting_table","60:0":"minecraft:farmland","61:0":"minecraft:furnace","65:0":"minecraft:ladder","66:0":"minecraft:rail","67:0":"minecraft:cobblestone_stairs","69:0":"minecraft:lever","70:0":"minecraft:stone_pressure_plate","72:0":"minecraft:oak_pressure_plate","73:0":"minecraft:redstone_ore","76:0":"minecraft:redstone_torch","77:0":"minecraft:stone_button","78:0":"minecraft:snow","79:0":"minecraft:ice","80:0":"minecraft:snow_block","81:0":"minecraft:cactus","82:0":"minecraft:clay","84:0":"minecraft:jukebox","85:0":"minecraft:oak_fence","86:0":"minecraft:carved_pumpkin","87:0":"minecraft:netherrack","88:0":"minecraft:soul_sand","89:0":"minecraft:glowstone","91:0":"minecraft:jack_o_lantern","95:0":"minecraft:white_stained_glass","95:1":"minecraft:orange_stained_glass","95:2":"minecraft:magenta_stained_glass","95:3":"minecraft:light_blue_stained_glass","95:4":"minecraft:yellow_stained_glass","95:5":"minecraft:lime_stained_glass","95:6":"minecraft:pink_stained_glass","95:7":"minecraft:gray_stained_glass","95:8":"minecraft:light_gray_stained_glass","95:9":"minecraft:cyan_stained_glass","95:10":"minecraft:purple_stained_glass","95:11":"minecraft:blue_stained_glass","95:12":"minecraft:brown_stained_glass","95:13":"minecraft:green_stained_glass","95:14":"minecraft:red_stained_glass","95:15":"minecraft:black_stained_glass","96:0":"minecraft:oak_trapdoor","97:0":"minecraft:infested_stone","97:1":"minecraft:infested_cobblestone","97:2":"minecraft:infested_stone_bricks","97:3":"minecraft:infested_mossy_stone_bricks","97:4":"minecraft:infested_cracked_stone_bricks","97:5":"minecraft:infested_chiseled_stone_bricks","98:0":"minecraft:stone_bricks","98:1":"minecraft:mossy_stone_bricks","98:2":"minecraft:cracked_stone_bricks","98:3":"minecraft:chiseled_stone_bricks","99:0":"minecraft:brown_mushroom_block","100:0":"minecraft:red_mushroom_block","101:0":"minecraft:iron_bars","102:0":"minecraft:glass_pane","103:0":"minecraft:melon","106:0":"minecraft:vine","107:0":"minecraft:oak_fence_gate","108:0":"minecraft:brick_stairs","109:0":"minecraft:stone_brick_stairs","110:0":"minecraft:mycelium","111:0":"minecraft:lily_pad","112:0":"minecraft:nether_bricks","113:0":"minecraft:nether_brick_fence","114:0":"minecraft:nether_brick_stairs","116:0":"minecraft:enchanting_table","120:0":"minecraft:end_portal_frame","121:0":"minecraft:end_stone","122:0":"minecraft:dragon_egg","123:0":"minecraft:redstone_lamp","126:0":"minecraft:oak_slab","126:1":"minecraft:spruce_slab","126:2":"minecraft:birch_slab","126:3":"minecraft:jungle_slab","126:4":"minecraft:acacia_slab","126:5":"minecraft:dark_oak_slab","128:0":"minecraft:sandstone_stairs","129:0":"minecraft:emerald_ore","130:0":"minecraft:ender_chest","131:0":"minecraft:tripwire_hook","133:0":"minecraft:emerald_block","134:0":"minecraft:spruce_stairs","135:0":"minecraft:birch_stairs","136:0":"minecraft:jungle_stairs","137:0":"minecraft:command_block","138:0":"minecraft:beacon","139:0":"minecraft:cobblestone_wall","139:1":"minecraft:mossy_cobblestone_wall","143:0":"minecraft:oak_button","145:0":"minecraft:anvil","145:1":"minecraft:chipped_anvil","145:2":"minecraft:damaged_anvil","146:0":"minecraft:trapped_chest","147:0":"minecraft:light_weighted_pressure_plate","148:0":"minecraft:heavy_weighted_pressure_plate","151:0":"minecraft:daylight_detector","152:0":"minecraft:redstone_block","153:0":"minecraft:nether_quartz_ore","154:0":"minecraft:hopper","155:0":"minecraft:quartz_block","155:1":"minecraft:chiseled_quartz_block","155:2":"minecraft:quartz_pillar","156:0":"minecraft:quartz_stairs","157:0":"minecraft:activator_rail","158:0":"minecraft:dropper","159:0":"minecraft:white_terracotta","159:1":"minecraft:orange_terracotta","159:2":"minecraft:magenta_terracotta","159:3":"minecraft:light_blue_terracotta","159:4":"minecraft:yellow_terracotta","159:5":"minecraft:lime_terracotta","159:6":"minecraft:pink_terracotta","159:7":"minecraft:gray_terracotta","159:8":"minecraft:light_gray_terracotta","159:9":"minecraft:cyan_terracotta","159:10":"minecraft:purple_terracotta","159:11":"minecraft:blue_terracotta","159:12":"minecraft:brown_terracotta","159:13":"minecraft:green_terracotta","159:14":"minecraft:red_terracotta","159:15":"minecraft:black_terracotta","160:0":"minecraft:white_stained_glass_pane","160:1":"minecraft:orange_stained_glass_pane","160:2":"minecraft:magenta_stained_glass_pane","160:3":"minecraft:light_blue_stained_glass_pane","160:4":"minecraft:yellow_stained_glass_pane","160:5":"minecraft:lime_stained_glass_pane","160:6":"minecraft:pink_stained_glass_pane","160:7":"minecraft:gray_stained_glass_pane","160:8":"minecraft:light_gray_stained_glass_pane","160:9":"minecraft:cyan_stained_glass_pane","160:10":"minecraft:purple_stained_glass_pane","160:11":"minecraft:blue_stained_glass_pane","160:12":"minecraft:brown_stained_glass_pane","160:13":"minecraft:green_stained_glass_pane","160:14":"minecraft:red_stained_glass_pane","160:15":"minecraft:black_stained_glass_pane","161:0":"minecraft:acacia_leaves","161:1":"minecraft:dark_oak_leaves","162:0":"minecraft:acacia_log","162:1":"minecraft:dark_oak_log","163:0":"minecraft:acacia_stairs","164:0":"minecraft:dark_oak_stairs","165:0":"minecraft:slime_block","166:0":"minecraft:barrier","167:0":"minecraft:iron_trapdoor","168:0":"minecraft:prismarine","168:1":"minecraft:prismarine_bricks","168:2":"minecraft:dark_prismarine","169:0":"minecraft:sea_lantern","170:0":"minecraft:hay_block","171:0":"minecraft:white_carpet","171:1":"minecraft:orange_carpet","171:2":"minecraft:magenta_carpet","171:3":"minecraft:light_blue_carpet","171:4":"minecraft:yellow_carpet","171:5":"minecraft:lime_carpet","171:6":"minecraft:pink_carpet","171:7":"minecraft:gray_carpet","171:8":"minecraft:light_gray_carpet","171:9":"minecraft:cyan_carpet","171:10":"minecraft:purple_carpet","171:11":"minecraft:blue_carpet","171:12":"minecraft:brown_carpet","171:13":"minecraft:green_carpet","171:14":"minecraft:red_carpet","171:15":"minecraft:black_carpet","172:0":"minecraft:terracotta","173:0":"minecraft:coal_block","174:0":"minecraft:packed_ice","175:0":"minecraft:sunflower","175:1":"minecraft:lilac","175:2":"minecraft:tall_grass","175:3":"minecraft:large_fern","175:4":"minecraft:rose_bush","175:5":"minecraft:peony","179:0":"minecraft:red_sandstone","179:1":"minecraft:chiseled_red_sandstone","179:2":"minecraft:cut_red_sandstone","180:0":"minecraft:red_sandstone_stairs","182:0":"minecraft:red_sandstone_slab","183:0":"minecraft:spruce_fence_gate","184:0":"minecraft:birch_fence_gate","185:0":"minecraft:jungle_fence_gate","186:0":"minecraft:dark_oak_fence_gate","187:0":"minecraft:acacia_fence_gate","188:0":"minecraft:spruce_fence","189:0":"minecraft:birch_fence","190:0":"minecraft:jungle_fence","191:0":"minecraft:dark_oak_fence","192:0":"minecraft:acacia_fence","198:0":"minecraft:end_rod","199:0":"minecraft:chorus_plant","200:0":"minecraft:chorus_flower","201:0":"minecraft:purpur_block","202:0":"minecraft:purpur_pillar","203:0":"minecraft:purpur_stairs","205:0":"minecraft:purpur_slab","206:0":"minecraft:end_stone_bricks","208:0":"minecraft:grass_path","210:0":"minecraft:repeating_command_block","211:0":"minecraft:chain_command_block","213:0":"minecraft:magma_block","214:0":"minecraft:nether_wart_block","215:0":"minecraft:red_nether_bricks","216:0":"minecraft:bone_block","217:0":"minecraft:structure_void","218:0":"minecraft:observer","219:0":"minecraft:white_shulker_box","220:0":"minecraft:orange_shulker_box","221:0":"minecraft:magenta_shulker_box","222:0":"minecraft:light_blue_shulker_box","223:0":"minecraft:yellow_shulker_box","224:0":"minecraft:lime_shulker_box","225:0":"minecraft:pink_shulker_box","226:0":"minecraft:gray_shulker_box","227:0":"minecraft:light_gray_shulker_box","228:0":"minecraft:cyan_shulker_box","229:0":"minecraft:purple_shulker_box","230:0":"minecraft:blue_shulker_box","231:0":"minecraft:brown_shulker_box","232:0":"minecraft:green_shulker_box","233:0":"minecraft:red_shulker_box","234:0":"minecraft:black_shulker_box","235:0":"minecraft:white_glazed_terracotta","236:0":"minecraft:orange_glazed_terracotta","237:0":"minecraft:magenta_glazed_terracotta","238:0":"minecraft:light_blue_glazed_terracotta","239:0":"minecraft:yellow_glazed_terracotta","240:0":"minecraft:lime_glazed_terracotta","241:0":"minecraft:pink_glazed_terracotta","242:0":"minecraft:gray_glazed_terracotta","243:0":"minecraft:light_gray_glazed_terracotta","244:0":"minecraft:cyan_glazed_terracotta","245:0":"minecraft:purple_glazed_terracotta","246:0":"minecraft:blue_glazed_terracotta","247:0":"minecraft:brown_glazed_terracotta","248:0":"minecraft:green_glazed_terracotta","249:0":"minecraft:red_glazed_terracotta","250:0":"minecraft:black_glazed_terracotta","251:0":"minecraft:white_concrete","251:1":"minecraft:orange_concrete","251:2":"minecraft:magenta_concrete","251:3":"minecraft:light_blue_concrete","251:4":"minecraft:yellow_concrete","251:5":"minecraft:lime_concrete","251:6":"minecraft:pink_concrete","251:7":"minecraft:gray_concrete","251:8":"minecraft:light_gray_concrete","251:9":"minecraft:cyan_concrete","251:10":"minecraft:purple_concrete","251:11":"minecraft:blue_concrete","251:12":"minecraft:brown_concrete","251:13":"minecraft:green_concrete","251:14":"minecraft:red_concrete","251:15":"minecraft:black_concrete","252:0":"minecraft:white_concrete_powder","252:1":"minecraft:orange_concrete_powder","252:2":"minecraft:magenta_concrete_powder","252:3":"minecraft:light_blue_concrete_powder","252:4":"minecraft:yellow_concrete_powder","252:5":"minecraft:lime_concrete_powder","252:6":"minecraft:pink_concrete_powder","252:7":"minecraft:gray_concrete_powder","252:8":"minecraft:light_gray_concrete_powder","252:9":"minecraft:cyan_concrete_powder","252:10":"minecraft:purple_concrete_powder","252:11":"minecraft:blue_concrete_powder","252:12":"minecraft:brown_concrete_powder","252:13":"minecraft:green_concrete_powder","252:14":"minecraft:red_concrete_powder","252:15":"minecraft:black_concrete_powder","255:0":"minecraft:structure_block","256:0":"minecraft:iron_shovel","257:0":"minecraft:iron_pickaxe","258:0":"minecraft:iron_axe","259:0":"minecraft:flint_and_steel","260:0":"minecraft:apple","261:0":"minecraft:bow","262:0":"minecraft:arrow","263:0":"minecraft:coal","263:1":"minecraft:charcoal","264:0":"minecraft:diamond","265:0":"minecraft:iron_ingot","266:0":"minecraft:gold_ingot","267:0":"minecraft:iron_sword","268:0":"minecraft:wooden_sword","269:0":"minecraft:wooden_shovel","270:0":"minecraft:wooden_pickaxe","271:0":"minecraft:wooden_axe","272:0":"minecraft:stone_sword","273:0":"minecraft:stone_shovel","274:0":"minecraft:stone_pickaxe","275:0":"minecraft:stone_axe","276:0":"minecraft:diamond_sword","277:0":"minecraft:diamond_shovel","278:0":"minecraft:diamond_pickaxe","279:0":"minecraft:diamond_axe","280:0":"minecraft:stick","281:0":"minecraft:bowl","282:0":"minecraft:mushroom_stew","283:0":"minecraft:golden_sword","284:0":"minecraft:golden_shovel","285:0":"minecraft:golden_pickaxe","286:0":"minecraft:golden_axe","287:0":"minecraft:string","288:0":"minecraft:feather","289:0":"minecraft:gunpowder","290:0":"minecraft:wooden_hoe","291:0":"minecraft:stone_hoe","292:0":"minecraft:iron_hoe","293:0":"minecraft:diamond_hoe","294:0":"minecraft:golden_hoe","295:0":"minecraft:wheat_seeds","296:0":"minecraft:wheat","297:0":"minecraft:bread","298:0":"minecraft:leather_helmet","299:0":"minecraft:leather_chestplate","300:0":"minecraft:leather_leggings","301:0":"minecraft:leather_boots","302:0":"minecraft:chainmail_helmet","303:0":"minecraft:chainmail_chestplate","304:0":"minecraft:chainmail_leggings","305:0":"minecraft:chainmail_boots","306:0":"minecraft:iron_helmet","307:0":"minecraft:iron_chestplate","308:0":"minecraft:iron_leggings","309:0":"minecraft:iron_boots","310:0":"minecraft:diamond_helmet","311:0":"minecraft:diamond_chestplate","312:0":"minecraft:diamond_leggings","313:0":"minecraft:diamond_boots","314:0":"minecraft:golden_helmet","315:0":"minecraft:golden_chestplate","316:0":"minecraft:golden_leggings","317:0":"minecraft:golden_boots","318:0":"minecraft:flint","319:0":"minecraft:porkchop","320:0":"minecraft:cooked_porkchop","321:0":"minecraft:painting","322:0":"minecraft:golden_apple","322:1":"minecraft:enchanted_golden_apple","323:0":"minecraft:sign","324:0":"minecraft:oak_door","325:0":"minecraft:bucket","326:0":"minecraft:water_bucket","327:0":"minecraft:lava_bucket","328:0":"minecraft:minecart","329:0":"minecraft:saddle","330:0":"minecraft:iron_door","331:0":"minecraft:redstone","332:0":"minecraft:snowball","333:0":"minecraft:oak_boat","334:0":"minecraft:leather","335:0":"minecraft:milk_bucket","336:0":"minecraft:brick","337:0":"minecraft:clay_ball","338:0":"minecraft:sugar_cane","339:0":"minecraft:paper","340:0":"minecraft:book","341:0":"minecraft:slime_ball","342:0":"minecraft:chest_minecart","343:0":"minecraft:furnace_minecart","344:0":"minecraft:egg","345:0":"minecraft:compass","346:0":"minecraft:fishing_rod","347:0":"minecraft:clock","348:0":"minecraft:glowstone_dust","349:0":"minecraft:cod","349:1":"minecraft:salmon","349:2":"minecraft:tropical_fish","349:3":"minecraft:pufferfish","350:0":"minecraft:cooked_cod","350:1":"minecraft:cooked_salmon","351:0":"minecraft:ink_sac","351:1":"minecraft:rose_red","351:2":"minecraft:cactus_green","351:3":"minecraft:cocoa_beans","351:4":"minecraft:lapis_lazuli","351:5":"minecraft:purple_dye","351:6":"minecraft:cyan_dye","351:7":"minecraft:light_gray_dye","351:8":"minecraft:gray_dye","351:9":"minecraft:pink_dye","351:10":"minecraft:lime_dye","351:11":"minecraft:dandelion_yellow","351:12":"minecraft:light_blue_dye","351:13":"minecraft:magenta_dye","351:14":"minecraft:orange_dye","351:15":"minecraft:bone_meal","352:0":"minecraft:bone","353:0":"minecraft:sugar","354:0":"minecraft:cake","355:0":"minecraft:white_bed","355:1":"minecraft:orange_bed","355:2":"minecraft:magenta_bed","355:3":"minecraft:light_blue_bed","355:4":"minecraft:yellow_bed","355:5":"minecraft:lime_bed","355:6":"minecraft:pink_bed","355:7":"minecraft:gray_bed","355:8":"minecraft:light_gray_bed","355:9":"minecraft:cyan_bed","355:10":"minecraft:purple_bed","355:11":"minecraft:blue_bed","355:12":"minecraft:brown_bed","355:13":"minecraft:green_bed","355:14":"minecraft:red_bed","355:15":"minecraft:black_bed","356:0":"minecraft:repeater","357:0":"minecraft:cookie","358:0":"minecraft:filled_map","359:0":"minecraft:shears","360:0":"minecraft:melon_slice","361:0":"minecraft:pumpkin_seeds","362:0":"minecraft:melon_seeds","363:0":"minecraft:beef","364:0":"minecraft:cooked_beef","365:0":"minecraft:chicken","366:0":"minecraft:cooked_chicken","367:0":"minecraft:rotten_flesh","368:0":"minecraft:ender_pearl","369:0":"minecraft:blaze_rod","370:0":"minecraft:ghast_tear","371:0":"minecraft:gold_nugget","372:0":"minecraft:nether_wart","373:0":"minecraft:potion","374:0":"minecraft:glass_bottle","375:0":"minecraft:spider_eye","376:0":"minecraft:fermented_spider_eye","377:0":"minecraft:blaze_powder","378:0":"minecraft:magma_cream","379:0":"minecraft:brewing_stand","380:0":"minecraft:cauldron","381:0":"minecraft:ender_eye","382:0":"minecraft:glistering_melon_slice","383:0":"minecraft:pig_spawn_egg","384:0":"minecraft:experience_bottle","385:0":"minecraft:fire_charge","386:0":"minecraft:writable_book","387:0":"minecraft:written_book","388:0":"minecraft:emerald","389:0":"minecraft:item_frame","390:0":"minecraft:flower_pot","391:0":"minecraft:carrot","392:0":"minecraft:potato","393:0":"minecraft:baked_potato","394:0":"minecraft:poisonous_potato","395:0":"minecraft:map","396:0":"minecraft:golden_carrot","397:0":"minecraft:skeleton_skull","397:1":"minecraft:wither_skeleton_skull","397:2":"minecraft:zombie_head","397:3":"minecraft:player_head","397:4":"minecraft:creeper_head","397:5":"minecraft:dragon_head","398:0":"minecraft:carrot_on_a_stick","399:0":"minecraft:nether_star","400:0":"minecraft:pumpkin_pie","401:0":"minecraft:firework_rocket","402:0":"minecraft:firework_star","403:0":"minecraft:enchanted_book","404:0":"minecraft:comparator","405:0":"minecraft:nether_brick","406:0":"minecraft:quartz","407:0":"minecraft:tnt_minecart","408:0":"minecraft:hopper_minecart","409:0":"minecraft:prismarine_shard","410:0":"minecraft:prismarine_crystals","411:0":"minecraft:rabbit","412:0":"minecraft:cooked_rabbit","413:0":"minecraft:rabbit_stew","414:0":"minecraft:rabbit_foot","415:0":"minecraft:rabbit_hide","416:0":"minecraft:armor_stand","417:0":"minecraft:iron_horse_armor","418:0":"minecraft:golden_horse_armor","419:0":"minecraft:diamond_horse_armor","420:0":"minecraft:lead","421:0":"minecraft:name_tag","422:0":"minecraft:command_block_minecart","423:0":"minecraft:mutton","424:0":"minecraft:cooked_mutton","425:0":"minecraft:black_banner","425:1":"minecraft:red_banner","425:2":"minecraft:green_banner","425:3":"minecraft:brown_banner","425:4":"minecraft:blue_banner","425:5":"minecraft:purple_banner","425:6":"minecraft:cyan_banner","425:7":"minecraft:light_gray_banner","425:8":"minecraft:gray_banner","425:9":"minecraft:pink_banner","425:10":"minecraft:lime_banner","425:11":"minecraft:yellow_banner","425:12":"minecraft:light_blue_banner","425:13":"minecraft:magenta_banner","425:14":"minecraft:orange_banner","425:15":"minecraft:white_banner","426:0":"minecraft:end_crystal","427:0":"minecraft:spruce_door","428:0":"minecraft:birch_door","429:0":"minecraft:jungle_door","430:0":"minecraft:acacia_door","431:0":"minecraft:dark_oak_door","432:0":"minecraft:chorus_fruit","433:0":"minecraft:popped_chorus_fruit","434:0":"minecraft:beetroot","435:0":"minecraft:beetroot_seeds","436:0":"minecraft:beetroot_soup","437:0":"minecraft:dragon_breath","438:0":"minecraft:splash_potion","439:0":"minecraft:spectral_arrow","440:0":"minecraft:tipped_arrow","441:0":"minecraft:lingering_potion","442:0":"minecraft:shield","443:0":"minecraft:elytra","444:0":"minecraft:spruce_boat","445:0":"minecraft:birch_boat","446:0":"minecraft:jungle_boat","447:0":"minecraft:acacia_boat","448:0":"minecraft:dark_oak_boat","449:0":"minecraft:totem_of_undying","450:0":"minecraft:shulker_shell","452:0":"minecraft:iron_nugget","453:0":"minecraft:knowledge_book","2256:0":"minecraft:music_disc_13","2257:0":"minecraft:music_disc_cat","2258:0":"minecraft:music_disc_blocks","2259:0":"minecraft:music_disc_chirp","2260:0":"minecraft:music_disc_far","2261:0":"minecraft:music_disc_mall","2262:0":"minecraft:music_disc_mellohi","2263:0":"minecraft:music_disc_stal","2264:0":"minecraft:music_disc_strad","2265:0":"minecraft:music_disc_ward","2266:0":"minecraft:music_disc_11","2267:0":"minecraft:music_disc_wait"}}});var fY=qe((u9e,h5e)=>{h5e.exports={blocks:{"0:0":"minecraft:air","1:0":"minecraft:stone[stone_type=stone]","1:1":"minecraft:stone[stone_type=granite]","1:2":"minecraft:stone[stone_type=granite_smooth]","1:3":"minecraft:stone[stone_type=diorite]","1:4":"minecraft:stone[stone_type=diorite_smooth]","1:5":"minecraft:stone[stone_type=andesite]","1:6":"minecraft:stone[stone_type=andesite_smooth]","2:0":"minecraft:grass","3:0":"minecraft:dirt[dirt_type=normal]","3:1":"minecraft:dirt[dirt_type=coarse]","4:0":"minecraft:cobblestone","5:0":"minecraft:planks[wood_type=oak]","5:1":"minecraft:planks[wood_type=spruce]","5:2":"minecraft:planks[wood_type=birch]","5:3":"minecraft:planks[wood_type=jungle]","5:4":"minecraft:planks[wood_type=acacia]","5:5":"minecraft:planks[wood_type=dark_oak]","6:0":"minecraft:sapling[age_bit=0,sapling_type=oak]","6:1":"minecraft:sapling[age_bit=0,sapling_type=spruce]","6:2":"minecraft:sapling[age_bit=0,sapling_type=birch]","6:3":"minecraft:sapling[age_bit=0,sapling_type=jungle]","6:4":"minecraft:sapling[age_bit=0,sapling_type=acacia]","6:5":"minecraft:sapling[age_bit=0,sapling_type=dark_oak]","6:6":"minecraft:sapling[age_bit=1,sapling_type=oak]","6:7":"minecraft:sapling[age_bit=1,sapling_type=spruce]","6:8":"minecraft:sapling[age_bit=1,sapling_type=birch]","6:9":"minecraft:sapling[age_bit=1,sapling_type=jungle]","6:10":"minecraft:sapling[age_bit=1,sapling_type=acacia]","6:11":"minecraft:sapling[age_bit=1,sapling_type=dark_oak]","7:0":"minecraft:bedrock[infiniburn_bit=0]","7:1":"minecraft:bedrock[infiniburn_bit=1]","8:0":"minecraft:flowing_water[liquid_depth=0]","8:1":"minecraft:flowing_water[liquid_depth=1]","8:2":"minecraft:flowing_water[liquid_depth=2]","8:3":"minecraft:flowing_water[liquid_depth=3]","8:4":"minecraft:flowing_water[liquid_depth=4]","8:5":"minecraft:flowing_water[liquid_depth=5]","8:6":"minecraft:flowing_water[liquid_depth=6]","8:7":"minecraft:flowing_water[liquid_depth=7]","8:8":"minecraft:flowing_water[liquid_depth=8]","8:9":"minecraft:flowing_water[liquid_depth=9]","8:10":"minecraft:flowing_water[liquid_depth=10]","8:11":"minecraft:flowing_water[liquid_depth=11]","8:12":"minecraft:flowing_water[liquid_depth=12]","8:13":"minecraft:flowing_water[liquid_depth=13]","8:14":"minecraft:flowing_water[liquid_depth=14]","8:15":"minecraft:flowing_water[liquid_depth=15]","9:0":"minecraft:water[liquid_depth=0]","9:1":"minecraft:water[liquid_depth=1]","9:2":"minecraft:water[liquid_depth=2]","9:3":"minecraft:water[liquid_depth=3]","9:4":"minecraft:water[liquid_depth=4]","9:5":"minecraft:water[liquid_depth=5]","9:6":"minecraft:water[liquid_depth=6]","9:7":"minecraft:water[liquid_depth=7]","9:8":"minecraft:water[liquid_depth=8]","9:9":"minecraft:water[liquid_depth=9]","9:10":"minecraft:water[liquid_depth=10]","9:11":"minecraft:water[liquid_depth=11]","9:12":"minecraft:water[liquid_depth=12]","9:13":"minecraft:water[liquid_depth=13]","9:14":"minecraft:water[liquid_depth=14]","9:15":"minecraft:water[liquid_depth=15]","10:0":"minecraft:flowing_lava[liquid_depth=0]","10:1":"minecraft:flowing_lava[liquid_depth=1]","10:2":"minecraft:flowing_lava[liquid_depth=2]","10:3":"minecraft:flowing_lava[liquid_depth=3]","10:4":"minecraft:flowing_lava[liquid_depth=4]","10:5":"minecraft:flowing_lava[liquid_depth=5]","10:6":"minecraft:flowing_lava[liquid_depth=6]","10:7":"minecraft:flowing_lava[liquid_depth=7]","10:8":"minecraft:flowing_lava[liquid_depth=8]","10:9":"minecraft:flowing_lava[liquid_depth=9]","10:10":"minecraft:flowing_lava[liquid_depth=10]","10:11":"minecraft:flowing_lava[liquid_depth=11]","10:12":"minecraft:flowing_lava[liquid_depth=12]","10:13":"minecraft:flowing_lava[liquid_depth=13]","10:14":"minecraft:flowing_lava[liquid_depth=14]","10:15":"minecraft:flowing_lava[liquid_depth=15]","11:0":"minecraft:lava[liquid_depth=0]","11:1":"minecraft:lava[liquid_depth=1]","11:2":"minecraft:lava[liquid_depth=2]","11:3":"minecraft:lava[liquid_depth=3]","11:4":"minecraft:lava[liquid_depth=4]","11:5":"minecraft:lava[liquid_depth=5]","11:6":"minecraft:lava[liquid_depth=6]","11:7":"minecraft:lava[liquid_depth=7]","11:8":"minecraft:lava[liquid_depth=8]","11:9":"minecraft:lava[liquid_depth=9]","11:10":"minecraft:lava[liquid_depth=10]","11:11":"minecraft:lava[liquid_depth=11]","11:12":"minecraft:lava[liquid_depth=12]","11:13":"minecraft:lava[liquid_depth=13]","11:14":"minecraft:lava[liquid_depth=14]","11:15":"minecraft:lava[liquid_depth=15]","12:0":"minecraft:sand[sand_type=normal]","12:1":"minecraft:sand[sand_type=red]","13:0":"minecraft:gravel","14:0":"minecraft:gold_ore","15:0":"minecraft:iron_ore","16:0":"minecraft:coal_ore","17:0":"minecraft:log[old_log_type=oak,pillar_axis=y]","17:1":"minecraft:log[old_log_type=spruce,pillar_axis=y]","17:2":"minecraft:log[old_log_type=birch,pillar_axis=y]","17:3":"minecraft:log[old_log_type=jungle,pillar_axis=y]","17:4":"minecraft:log[old_log_type=oak,pillar_axis=x]","17:5":"minecraft:log[old_log_type=spruce,pillar_axis=x]","17:6":"minecraft:log[old_log_type=birch,pillar_axis=x]","17:7":"minecraft:log[old_log_type=jungle,pillar_axis=x]","17:8":"minecraft:log[old_log_type=oak,pillar_axis=z]","17:9":"minecraft:log[old_log_type=spruce,pillar_axis=z]","17:10":"minecraft:log[old_log_type=birch,pillar_axis=z]","17:11":"minecraft:log[old_log_type=jungle,pillar_axis=z]","18:0":"minecraft:leaves[old_leaf_type=oak,persistent_bit=0,update_bit=0]","18:1":"minecraft:leaves[old_leaf_type=spruce,persistent_bit=0,update_bit=0]","18:2":"minecraft:leaves[old_leaf_type=birch,persistent_bit=0,update_bit=0]","18:3":"minecraft:leaves[old_leaf_type=jungle,persistent_bit=0,update_bit=0]","18:4":"minecraft:leaves[old_leaf_type=oak,persistent_bit=0,update_bit=1]","18:5":"minecraft:leaves[old_leaf_type=spruce,persistent_bit=0,update_bit=1]","18:6":"minecraft:leaves[old_leaf_type=birch,persistent_bit=0,update_bit=1]","18:7":"minecraft:leaves[old_leaf_type=jungle,persistent_bit=0,update_bit=1]","18:8":"minecraft:leaves[old_leaf_type=oak,persistent_bit=1,update_bit=0]","18:9":"minecraft:leaves[old_leaf_type=spruce,persistent_bit=1,update_bit=0]","18:10":"minecraft:leaves[old_leaf_type=birch,persistent_bit=1,update_bit=0]","18:11":"minecraft:leaves[old_leaf_type=jungle,persistent_bit=1,update_bit=0]","18:12":"minecraft:leaves[old_leaf_type=oak,persistent_bit=1,update_bit=1]","18:13":"minecraft:leaves[old_leaf_type=spruce,persistent_bit=1,update_bit=1]","18:14":"minecraft:leaves[old_leaf_type=birch,persistent_bit=1,update_bit=1]","18:15":"minecraft:leaves[old_leaf_type=jungle,persistent_bit=1,update_bit=1]","19:0":"minecraft:sponge[sponge_type=dry]","19:1":"minecraft:sponge[sponge_type=wet]","20:0":"minecraft:glass","21:0":"minecraft:lapis_ore","22:0":"minecraft:lapis_block","23:0":"minecraft:dispenser[facing_direction=0,triggered_bit=0]","23:1":"minecraft:dispenser[facing_direction=1,triggered_bit=0]","23:2":"minecraft:dispenser[facing_direction=2,triggered_bit=0]","23:3":"minecraft:dispenser[facing_direction=3,triggered_bit=0]","23:4":"minecraft:dispenser[facing_direction=4,triggered_bit=0]","23:5":"minecraft:dispenser[facing_direction=5,triggered_bit=0]","23:6":"minecraft:dispenser[facing_direction=0,triggered_bit=1]","23:7":"minecraft:dispenser[facing_direction=1,triggered_bit=1]","23:8":"minecraft:dispenser[facing_direction=2,triggered_bit=1]","23:9":"minecraft:dispenser[facing_direction=3,triggered_bit=1]","23:10":"minecraft:dispenser[facing_direction=4,triggered_bit=1]","23:11":"minecraft:dispenser[facing_direction=5,triggered_bit=1]","24:0":"minecraft:sandstone[sand_stone_type=default]","24:1":"minecraft:sandstone[sand_stone_type=heiroglyphs]","24:2":"minecraft:sandstone[sand_stone_type=cut]","24:3":"minecraft:sandstone[sand_stone_type=smooth]","25:0":"minecraft:noteblock","26:0":"minecraft:bed[direction=0,head_piece_bit=0,occupied_bit=0]","26:1":"minecraft:bed[direction=1,head_piece_bit=0,occupied_bit=0]","26:2":"minecraft:bed[direction=2,head_piece_bit=0,occupied_bit=0]","26:3":"minecraft:bed[direction=3,head_piece_bit=0,occupied_bit=0]","26:4":"minecraft:bed[direction=0,head_piece_bit=0,occupied_bit=1]","26:5":"minecraft:bed[direction=1,head_piece_bit=0,occupied_bit=1]","26:6":"minecraft:bed[direction=2,head_piece_bit=0,occupied_bit=1]","26:7":"minecraft:bed[direction=3,head_piece_bit=0,occupied_bit=1]","26:8":"minecraft:bed[direction=0,head_piece_bit=1,occupied_bit=0]","26:9":"minecraft:bed[direction=1,head_piece_bit=1,occupied_bit=0]","26:10":"minecraft:bed[direction=2,head_piece_bit=1,occupied_bit=0]","26:11":"minecraft:bed[direction=3,head_piece_bit=1,occupied_bit=0]","26:12":"minecraft:bed[direction=0,head_piece_bit=1,occupied_bit=1]","26:13":"minecraft:bed[direction=1,head_piece_bit=1,occupied_bit=1]","26:14":"minecraft:bed[direction=2,head_piece_bit=1,occupied_bit=1]","26:15":"minecraft:bed[direction=3,head_piece_bit=1,occupied_bit=1]","27:0":"minecraft:golden_rail[rail_data_bit=0,rail_direction=0]","27:1":"minecraft:golden_rail[rail_data_bit=0,rail_direction=1]","27:2":"minecraft:golden_rail[rail_data_bit=0,rail_direction=2]","27:3":"minecraft:golden_rail[rail_data_bit=0,rail_direction=3]","27:4":"minecraft:golden_rail[rail_data_bit=0,rail_direction=4]","27:5":"minecraft:golden_rail[rail_data_bit=0,rail_direction=5]","27:6":"minecraft:golden_rail[rail_data_bit=1,rail_direction=0]","27:7":"minecraft:golden_rail[rail_data_bit=1,rail_direction=1]","27:8":"minecraft:golden_rail[rail_data_bit=1,rail_direction=2]","27:9":"minecraft:golden_rail[rail_data_bit=1,rail_direction=3]","27:10":"minecraft:golden_rail[rail_data_bit=1,rail_direction=4]","27:11":"minecraft:golden_rail[rail_data_bit=1,rail_direction=5]","28:0":"minecraft:detector_rail[rail_data_bit=0,rail_direction=0]","28:1":"minecraft:detector_rail[rail_data_bit=0,rail_direction=1]","28:2":"minecraft:detector_rail[rail_data_bit=0,rail_direction=2]","28:3":"minecraft:detector_rail[rail_data_bit=0,rail_direction=3]","28:4":"minecraft:detector_rail[rail_data_bit=0,rail_direction=4]","28:5":"minecraft:detector_rail[rail_data_bit=0,rail_direction=5]","28:6":"minecraft:detector_rail[rail_data_bit=1,rail_direction=0]","28:7":"minecraft:detector_rail[rail_data_bit=1,rail_direction=1]","28:8":"minecraft:detector_rail[rail_data_bit=1,rail_direction=2]","28:9":"minecraft:detector_rail[rail_data_bit=1,rail_direction=3]","28:10":"minecraft:detector_rail[rail_data_bit=1,rail_direction=4]","28:11":"minecraft:detector_rail[rail_data_bit=1,rail_direction=5]","29:0":"minecraft:sticky_piston[facing_direction=0]","29:1":"minecraft:sticky_piston[facing_direction=1]","29:2":"minecraft:sticky_piston[facing_direction=2]","29:3":"minecraft:sticky_piston[facing_direction=3]","29:4":"minecraft:sticky_piston[facing_direction=4]","29:5":"minecraft:sticky_piston[facing_direction=5]","30:0":"minecraft:web","31:0":"minecraft:tallgrass[tall_grass_type=default]","31:1":"minecraft:tallgrass[tall_grass_type=tall]","31:2":"minecraft:tallgrass[tall_grass_type=fern]","31:3":"minecraft:tallgrass[tall_grass_type=snow]","32:0":"minecraft:deadbush","33:0":"minecraft:piston[facing_direction=0]","33:1":"minecraft:piston[facing_direction=1]","33:2":"minecraft:piston[facing_direction=2]","33:3":"minecraft:piston[facing_direction=3]","33:4":"minecraft:piston[facing_direction=4]","33:5":"minecraft:piston[facing_direction=5]","34:0":"minecraft:pistonArmCollision[facing_direction=0]","34:1":"minecraft:pistonArmCollision[facing_direction=1]","34:2":"minecraft:pistonArmCollision[facing_direction=2]","34:3":"minecraft:pistonArmCollision[facing_direction=3]","34:4":"minecraft:pistonArmCollision[facing_direction=4]","34:5":"minecraft:pistonArmCollision[facing_direction=5]","35:0":"minecraft:wool[color=white]","35:1":"minecraft:wool[color=orange]","35:2":"minecraft:wool[color=magenta]","35:3":"minecraft:wool[color=light_blue]","35:4":"minecraft:wool[color=yellow]","35:5":"minecraft:wool[color=lime]","35:6":"minecraft:wool[color=pink]","35:7":"minecraft:wool[color=gray]","35:8":"minecraft:wool[color=silver]","35:9":"minecraft:wool[color=cyan]","35:10":"minecraft:wool[color=purple]","35:11":"minecraft:wool[color=blue]","35:12":"minecraft:wool[color=brown]","35:13":"minecraft:wool[color=green]","35:14":"minecraft:wool[color=red]","35:15":"minecraft:wool[color=black]","36:0":"minecraft:element_0","37:0":"minecraft:yellow_flower","38:0":"minecraft:red_flower[flower_type=poppy]","38:1":"minecraft:red_flower[flower_type=orchid]","38:2":"minecraft:red_flower[flower_type=allium]","38:3":"minecraft:red_flower[flower_type=houstonia]","38:4":"minecraft:red_flower[flower_type=tulip_red]","38:5":"minecraft:red_flower[flower_type=tulip_orange]","38:6":"minecraft:red_flower[flower_type=tulip_white]","38:7":"minecraft:red_flower[flower_type=tulip_pink]","38:8":"minecraft:red_flower[flower_type=oxeye]","38:9":"minecraft:red_flower[flower_type=cornflower]","38:10":"minecraft:red_flower[flower_type=lily_of_the_valley]","39:0":"minecraft:brown_mushroom","40:0":"minecraft:red_mushroom","41:0":"minecraft:gold_block","42:0":"minecraft:iron_block","43:0":"minecraft:double_stone_slab[stone_slab_type=smooth_stone,top_slot_bit=0]","43:1":"minecraft:double_stone_slab[stone_slab_type=sandstone,top_slot_bit=0]","43:2":"minecraft:double_stone_slab[stone_slab_type=wood,top_slot_bit=0]","43:3":"minecraft:double_stone_slab[stone_slab_type=cobblestone,top_slot_bit=0]","43:4":"minecraft:double_stone_slab[stone_slab_type=brick,top_slot_bit=0]","43:5":"minecraft:double_stone_slab[stone_slab_type=stone_brick,top_slot_bit=0]","43:6":"minecraft:double_stone_slab[stone_slab_type=quartz,top_slot_bit=0]","43:7":"minecraft:double_stone_slab[stone_slab_type=nether_brick,top_slot_bit=0]","43:8":"minecraft:double_stone_slab[stone_slab_type=smooth_stone,top_slot_bit=1]","43:9":"minecraft:double_stone_slab[stone_slab_type=sandstone,top_slot_bit=1]","43:10":"minecraft:double_stone_slab[stone_slab_type=wood,top_slot_bit=1]","43:11":"minecraft:double_stone_slab[stone_slab_type=cobblestone,top_slot_bit=1]","43:12":"minecraft:double_stone_slab[stone_slab_type=brick,top_slot_bit=1]","43:13":"minecraft:double_stone_slab[stone_slab_type=stone_brick,top_slot_bit=1]","43:14":"minecraft:double_stone_slab[stone_slab_type=quartz,top_slot_bit=1]","43:15":"minecraft:double_stone_slab[stone_slab_type=nether_brick,top_slot_bit=1]","44:0":"minecraft:stone_slab[stone_slab_type=smooth_stone,top_slot_bit=0]","44:1":"minecraft:stone_slab[stone_slab_type=sandstone,top_slot_bit=0]","44:2":"minecraft:stone_slab[stone_slab_type=wood,top_slot_bit=0]","44:3":"minecraft:stone_slab[stone_slab_type=cobblestone,top_slot_bit=0]","44:4":"minecraft:stone_slab[stone_slab_type=brick,top_slot_bit=0]","44:5":"minecraft:stone_slab[stone_slab_type=stone_brick,top_slot_bit=0]","44:6":"minecraft:stone_slab[stone_slab_type=quartz,top_slot_bit=0]","44:7":"minecraft:stone_slab[stone_slab_type=nether_brick,top_slot_bit=0]","44:8":"minecraft:stone_slab[stone_slab_type=smooth_stone,top_slot_bit=1]","44:9":"minecraft:stone_slab[stone_slab_type=sandstone,top_slot_bit=1]","44:10":"minecraft:stone_slab[stone_slab_type=wood,top_slot_bit=1]","44:11":"minecraft:stone_slab[stone_slab_type=cobblestone,top_slot_bit=1]","44:12":"minecraft:stone_slab[stone_slab_type=brick,top_slot_bit=1]","44:13":"minecraft:stone_slab[stone_slab_type=stone_brick,top_slot_bit=1]","44:14":"minecraft:stone_slab[stone_slab_type=quartz,top_slot_bit=1]","44:15":"minecraft:stone_slab[stone_slab_type=nether_brick,top_slot_bit=1]","45:0":"minecraft:brick_block","46:0":"minecraft:tnt[allow_underwater_bit=0,explode_bit=0]","46:1":"minecraft:tnt[allow_underwater_bit=0,explode_bit=1]","46:2":"minecraft:tnt[allow_underwater_bit=1,explode_bit=0]","46:3":"minecraft:tnt[allow_underwater_bit=1,explode_bit=1]","47:0":"minecraft:bookshelf","48:0":"minecraft:mossy_cobblestone","49:0":"minecraft:obsidian","50:0":"minecraft:torch[torch_facing_direction=unknown]","50:1":"minecraft:torch[torch_facing_direction=west]","50:2":"minecraft:torch[torch_facing_direction=east]","50:3":"minecraft:torch[torch_facing_direction=north]","50:4":"minecraft:torch[torch_facing_direction=south]","50:5":"minecraft:torch[torch_facing_direction=top]","51:0":"minecraft:fire[age=0]","51:1":"minecraft:fire[age=1]","51:2":"minecraft:fire[age=2]","51:3":"minecraft:fire[age=3]","51:4":"minecraft:fire[age=4]","51:5":"minecraft:fire[age=5]","51:6":"minecraft:fire[age=6]","51:7":"minecraft:fire[age=7]","51:8":"minecraft:fire[age=8]","51:9":"minecraft:fire[age=9]","51:10":"minecraft:fire[age=10]","51:11":"minecraft:fire[age=11]","51:12":"minecraft:fire[age=12]","51:13":"minecraft:fire[age=13]","51:14":"minecraft:fire[age=14]","51:15":"minecraft:fire[age=15]","52:0":"minecraft:mob_spawner","53:0":"minecraft:oak_stairs[upside_down_bit=0,weirdo_direction=0]","53:1":"minecraft:oak_stairs[upside_down_bit=0,weirdo_direction=1]","53:2":"minecraft:oak_stairs[upside_down_bit=0,weirdo_direction=2]","53:3":"minecraft:oak_stairs[upside_down_bit=0,weirdo_direction=3]","53:4":"minecraft:oak_stairs[upside_down_bit=1,weirdo_direction=0]","53:5":"minecraft:oak_stairs[upside_down_bit=1,weirdo_direction=1]","53:6":"minecraft:oak_stairs[upside_down_bit=1,weirdo_direction=2]","53:7":"minecraft:oak_stairs[upside_down_bit=1,weirdo_direction=3]","54:0":"minecraft:chest[facing_direction=0]","54:1":"minecraft:chest[facing_direction=1]","54:2":"minecraft:chest[facing_direction=2]","54:3":"minecraft:chest[facing_direction=3]","54:4":"minecraft:chest[facing_direction=4]","54:5":"minecraft:chest[facing_direction=5]","55:0":"minecraft:redstone_wire[redstone_signal=0]","55:1":"minecraft:redstone_wire[redstone_signal=1]","55:2":"minecraft:redstone_wire[redstone_signal=2]","55:3":"minecraft:redstone_wire[redstone_signal=3]","55:4":"minecraft:redstone_wire[redstone_signal=4]","55:5":"minecraft:redstone_wire[redstone_signal=5]","55:6":"minecraft:redstone_wire[redstone_signal=6]","55:7":"minecraft:redstone_wire[redstone_signal=7]","55:8":"minecraft:redstone_wire[redstone_signal=8]","55:9":"minecraft:redstone_wire[redstone_signal=9]","55:10":"minecraft:redstone_wire[redstone_signal=10]","55:11":"minecraft:redstone_wire[redstone_signal=11]","55:12":"minecraft:redstone_wire[redstone_signal=12]","55:13":"minecraft:redstone_wire[redstone_signal=13]","55:14":"minecraft:redstone_wire[redstone_signal=14]","55:15":"minecraft:redstone_wire[redstone_signal=15]","56:0":"minecraft:diamond_ore","57:0":"minecraft:diamond_block","58:0":"minecraft:crafting_table","59:0":"minecraft:wheat[growth=0]","59:1":"minecraft:wheat[growth=1]","59:2":"minecraft:wheat[growth=2]","59:3":"minecraft:wheat[growth=3]","59:4":"minecraft:wheat[growth=4]","59:5":"minecraft:wheat[growth=5]","59:6":"minecraft:wheat[growth=6]","59:7":"minecraft:wheat[growth=7]","60:0":"minecraft:farmland[moisturized_amount=0]","60:1":"minecraft:farmland[moisturized_amount=1]","60:2":"minecraft:farmland[moisturized_amount=2]","60:3":"minecraft:farmland[moisturized_amount=3]","60:4":"minecraft:farmland[moisturized_amount=4]","60:5":"minecraft:farmland[moisturized_amount=5]","60:6":"minecraft:farmland[moisturized_amount=6]","60:7":"minecraft:farmland[moisturized_amount=7]","61:0":"minecraft:furnace[facing_direction=0]","61:1":"minecraft:furnace[facing_direction=1]","61:2":"minecraft:furnace[facing_direction=2]","61:3":"minecraft:furnace[facing_direction=3]","61:4":"minecraft:furnace[facing_direction=4]","61:5":"minecraft:furnace[facing_direction=5]","62:0":"minecraft:lit_furnace[facing_direction=0]","62:1":"minecraft:lit_furnace[facing_direction=1]","62:2":"minecraft:lit_furnace[facing_direction=2]","62:3":"minecraft:lit_furnace[facing_direction=3]","62:4":"minecraft:lit_furnace[facing_direction=4]","62:5":"minecraft:lit_furnace[facing_direction=5]","63:0":"minecraft:standing_sign[ground_sign_direction=0]","63:1":"minecraft:standing_sign[ground_sign_direction=1]","63:2":"minecraft:standing_sign[ground_sign_direction=2]","63:3":"minecraft:standing_sign[ground_sign_direction=3]","63:4":"minecraft:standing_sign[ground_sign_direction=4]","63:5":"minecraft:standing_sign[ground_sign_direction=5]","63:6":"minecraft:standing_sign[ground_sign_direction=6]","63:7":"minecraft:standing_sign[ground_sign_direction=7]","63:8":"minecraft:standing_sign[ground_sign_direction=8]","63:9":"minecraft:standing_sign[ground_sign_direction=9]","63:10":"minecraft:standing_sign[ground_sign_direction=10]","63:11":"minecraft:standing_sign[ground_sign_direction=11]","63:12":"minecraft:standing_sign[ground_sign_direction=12]","63:13":"minecraft:standing_sign[ground_sign_direction=13]","63:14":"minecraft:standing_sign[ground_sign_direction=14]","63:15":"minecraft:standing_sign[ground_sign_direction=15]","64:0":"minecraft:wooden_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","64:1":"minecraft:wooden_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","64:2":"minecraft:wooden_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","64:3":"minecraft:wooden_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","64:4":"minecraft:wooden_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","64:5":"minecraft:wooden_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","64:6":"minecraft:wooden_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","64:7":"minecraft:wooden_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","64:8":"minecraft:wooden_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","64:9":"minecraft:wooden_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","64:10":"minecraft:wooden_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","64:11":"minecraft:wooden_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","64:12":"minecraft:wooden_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","64:13":"minecraft:wooden_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","64:14":"minecraft:wooden_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","64:15":"minecraft:wooden_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","65:0":"minecraft:ladder[facing_direction=0]","65:1":"minecraft:ladder[facing_direction=1]","65:2":"minecraft:ladder[facing_direction=2]","65:3":"minecraft:ladder[facing_direction=3]","65:4":"minecraft:ladder[facing_direction=4]","65:5":"minecraft:ladder[facing_direction=5]","66:0":"minecraft:rail[rail_direction=0]","66:1":"minecraft:rail[rail_direction=1]","66:2":"minecraft:rail[rail_direction=2]","66:3":"minecraft:rail[rail_direction=3]","66:4":"minecraft:rail[rail_direction=4]","66:5":"minecraft:rail[rail_direction=5]","66:6":"minecraft:rail[rail_direction=6]","66:7":"minecraft:rail[rail_direction=7]","66:8":"minecraft:rail[rail_direction=8]","66:9":"minecraft:rail[rail_direction=9]","67:0":"minecraft:stone_stairs[upside_down_bit=0,weirdo_direction=0]","67:1":"minecraft:stone_stairs[upside_down_bit=0,weirdo_direction=1]","67:2":"minecraft:stone_stairs[upside_down_bit=0,weirdo_direction=2]","67:3":"minecraft:stone_stairs[upside_down_bit=0,weirdo_direction=3]","67:4":"minecraft:stone_stairs[upside_down_bit=1,weirdo_direction=0]","67:5":"minecraft:stone_stairs[upside_down_bit=1,weirdo_direction=1]","67:6":"minecraft:stone_stairs[upside_down_bit=1,weirdo_direction=2]","67:7":"minecraft:stone_stairs[upside_down_bit=1,weirdo_direction=3]","68:0":"minecraft:wall_sign[facing_direction=0]","68:1":"minecraft:wall_sign[facing_direction=1]","68:2":"minecraft:wall_sign[facing_direction=2]","68:3":"minecraft:wall_sign[facing_direction=3]","68:4":"minecraft:wall_sign[facing_direction=4]","68:5":"minecraft:wall_sign[facing_direction=5]","69:0":"minecraft:lever[lever_direction=down_east_west,open_bit=0]","69:1":"minecraft:lever[lever_direction=east,open_bit=0]","69:2":"minecraft:lever[lever_direction=west,open_bit=0]","69:3":"minecraft:lever[lever_direction=south,open_bit=0]","69:4":"minecraft:lever[lever_direction=north,open_bit=0]","69:5":"minecraft:lever[lever_direction=up_north_south,open_bit=0]","69:6":"minecraft:lever[lever_direction=up_east_west,open_bit=0]","69:7":"minecraft:lever[lever_direction=down_north_south,open_bit=0]","69:8":"minecraft:lever[lever_direction=down_east_west,open_bit=1]","69:9":"minecraft:lever[lever_direction=east,open_bit=1]","69:10":"minecraft:lever[lever_direction=west,open_bit=1]","69:11":"minecraft:lever[lever_direction=south,open_bit=1]","69:12":"minecraft:lever[lever_direction=north,open_bit=1]","69:13":"minecraft:lever[lever_direction=up_north_south,open_bit=1]","69:14":"minecraft:lever[lever_direction=up_east_west,open_bit=1]","69:15":"minecraft:lever[lever_direction=down_north_south,open_bit=1]","70:0":"minecraft:stone_pressure_plate[redstone_signal=0]","70:1":"minecraft:stone_pressure_plate[redstone_signal=1]","70:2":"minecraft:stone_pressure_plate[redstone_signal=2]","70:3":"minecraft:stone_pressure_plate[redstone_signal=3]","70:4":"minecraft:stone_pressure_plate[redstone_signal=4]","70:5":"minecraft:stone_pressure_plate[redstone_signal=5]","70:6":"minecraft:stone_pressure_plate[redstone_signal=6]","70:7":"minecraft:stone_pressure_plate[redstone_signal=7]","70:8":"minecraft:stone_pressure_plate[redstone_signal=8]","70:9":"minecraft:stone_pressure_plate[redstone_signal=9]","70:10":"minecraft:stone_pressure_plate[redstone_signal=10]","70:11":"minecraft:stone_pressure_plate[redstone_signal=11]","70:12":"minecraft:stone_pressure_plate[redstone_signal=12]","70:13":"minecraft:stone_pressure_plate[redstone_signal=13]","70:14":"minecraft:stone_pressure_plate[redstone_signal=14]","70:15":"minecraft:stone_pressure_plate[redstone_signal=15]","71:0":"minecraft:iron_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","71:1":"minecraft:iron_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","71:2":"minecraft:iron_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","71:3":"minecraft:iron_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","71:4":"minecraft:iron_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","71:5":"minecraft:iron_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","71:6":"minecraft:iron_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","71:7":"minecraft:iron_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","71:8":"minecraft:iron_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","71:9":"minecraft:iron_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","71:10":"minecraft:iron_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","71:11":"minecraft:iron_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","71:12":"minecraft:iron_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","71:13":"minecraft:iron_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","71:14":"minecraft:iron_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","71:15":"minecraft:iron_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","72:0":"minecraft:wooden_pressure_plate[redstone_signal=0]","72:1":"minecraft:wooden_pressure_plate[redstone_signal=1]","72:2":"minecraft:wooden_pressure_plate[redstone_signal=2]","72:3":"minecraft:wooden_pressure_plate[redstone_signal=3]","72:4":"minecraft:wooden_pressure_plate[redstone_signal=4]","72:5":"minecraft:wooden_pressure_plate[redstone_signal=5]","72:6":"minecraft:wooden_pressure_plate[redstone_signal=6]","72:7":"minecraft:wooden_pressure_plate[redstone_signal=7]","72:8":"minecraft:wooden_pressure_plate[redstone_signal=8]","72:9":"minecraft:wooden_pressure_plate[redstone_signal=9]","72:10":"minecraft:wooden_pressure_plate[redstone_signal=10]","72:11":"minecraft:wooden_pressure_plate[redstone_signal=11]","72:12":"minecraft:wooden_pressure_plate[redstone_signal=12]","72:13":"minecraft:wooden_pressure_plate[redstone_signal=13]","72:14":"minecraft:wooden_pressure_plate[redstone_signal=14]","72:15":"minecraft:wooden_pressure_plate[redstone_signal=15]","73:0":"minecraft:redstone_ore","74:0":"minecraft:lit_redstone_ore","75:0":"minecraft:unlit_redstone_torch[torch_facing_direction=unknown]","75:1":"minecraft:unlit_redstone_torch[torch_facing_direction=west]","75:2":"minecraft:unlit_redstone_torch[torch_facing_direction=east]","75:3":"minecraft:unlit_redstone_torch[torch_facing_direction=north]","75:4":"minecraft:unlit_redstone_torch[torch_facing_direction=south]","75:5":"minecraft:unlit_redstone_torch[torch_facing_direction=top]","76:0":"minecraft:redstone_torch[torch_facing_direction=unknown]","76:1":"minecraft:redstone_torch[torch_facing_direction=west]","76:2":"minecraft:redstone_torch[torch_facing_direction=east]","76:3":"minecraft:redstone_torch[torch_facing_direction=north]","76:4":"minecraft:redstone_torch[torch_facing_direction=south]","76:5":"minecraft:redstone_torch[torch_facing_direction=top]","77:0":"minecraft:stone_button[button_pressed_bit=0,facing_direction=0]","77:1":"minecraft:stone_button[button_pressed_bit=0,facing_direction=1]","77:2":"minecraft:stone_button[button_pressed_bit=0,facing_direction=2]","77:3":"minecraft:stone_button[button_pressed_bit=0,facing_direction=3]","77:4":"minecraft:stone_button[button_pressed_bit=0,facing_direction=4]","77:5":"minecraft:stone_button[button_pressed_bit=0,facing_direction=5]","77:6":"minecraft:stone_button[button_pressed_bit=1,facing_direction=0]","77:7":"minecraft:stone_button[button_pressed_bit=1,facing_direction=1]","77:8":"minecraft:stone_button[button_pressed_bit=1,facing_direction=2]","77:9":"minecraft:stone_button[button_pressed_bit=1,facing_direction=3]","77:10":"minecraft:stone_button[button_pressed_bit=1,facing_direction=4]","77:11":"minecraft:stone_button[button_pressed_bit=1,facing_direction=5]","78:0":"minecraft:snow_layer[covered_bit=0,height=0]","78:1":"minecraft:snow_layer[covered_bit=0,height=1]","78:2":"minecraft:snow_layer[covered_bit=0,height=2]","78:3":"minecraft:snow_layer[covered_bit=0,height=3]","78:4":"minecraft:snow_layer[covered_bit=0,height=4]","78:5":"minecraft:snow_layer[covered_bit=0,height=5]","78:6":"minecraft:snow_layer[covered_bit=0,height=6]","78:7":"minecraft:snow_layer[covered_bit=0,height=7]","78:8":"minecraft:snow_layer[covered_bit=1,height=0]","78:9":"minecraft:snow_layer[covered_bit=1,height=1]","78:10":"minecraft:snow_layer[covered_bit=1,height=2]","78:11":"minecraft:snow_layer[covered_bit=1,height=3]","78:12":"minecraft:snow_layer[covered_bit=1,height=4]","78:13":"minecraft:snow_layer[covered_bit=1,height=5]","78:14":"minecraft:snow_layer[covered_bit=1,height=6]","78:15":"minecraft:snow_layer[covered_bit=1,height=7]","79:0":"minecraft:ice","80:0":"minecraft:snow","81:0":"minecraft:cactus[age=0]","81:1":"minecraft:cactus[age=1]","81:2":"minecraft:cactus[age=2]","81:3":"minecraft:cactus[age=3]","81:4":"minecraft:cactus[age=4]","81:5":"minecraft:cactus[age=5]","81:6":"minecraft:cactus[age=6]","81:7":"minecraft:cactus[age=7]","81:8":"minecraft:cactus[age=8]","81:9":"minecraft:cactus[age=9]","81:10":"minecraft:cactus[age=10]","81:11":"minecraft:cactus[age=11]","81:12":"minecraft:cactus[age=12]","81:13":"minecraft:cactus[age=13]","81:14":"minecraft:cactus[age=14]","81:15":"minecraft:cactus[age=15]","82:0":"minecraft:clay","83:0":"minecraft:reeds[age=0]","83:1":"minecraft:reeds[age=1]","83:2":"minecraft:reeds[age=2]","83:3":"minecraft:reeds[age=3]","83:4":"minecraft:reeds[age=4]","83:5":"minecraft:reeds[age=5]","83:6":"minecraft:reeds[age=6]","83:7":"minecraft:reeds[age=7]","83:8":"minecraft:reeds[age=8]","83:9":"minecraft:reeds[age=9]","83:10":"minecraft:reeds[age=10]","83:11":"minecraft:reeds[age=11]","83:12":"minecraft:reeds[age=12]","83:13":"minecraft:reeds[age=13]","83:14":"minecraft:reeds[age=14]","83:15":"minecraft:reeds[age=15]","84:0":"minecraft:jukebox","85:0":"minecraft:fence[wood_type=oak]","85:1":"minecraft:fence[wood_type=spruce]","85:2":"minecraft:fence[wood_type=birch]","85:3":"minecraft:fence[wood_type=jungle]","85:4":"minecraft:fence[wood_type=acacia]","85:5":"minecraft:fence[wood_type=dark_oak]","86:0":"minecraft:pumpkin[direction=0]","86:1":"minecraft:pumpkin[direction=1]","86:2":"minecraft:pumpkin[direction=2]","86:3":"minecraft:pumpkin[direction=3]","87:0":"minecraft:netherrack","88:0":"minecraft:soul_sand","89:0":"minecraft:glowstone","90:0":"minecraft:portal[portal_axis=unknown]","90:1":"minecraft:portal[portal_axis=x]","90:2":"minecraft:portal[portal_axis=z]","91:0":"minecraft:lit_pumpkin[direction=0]","91:1":"minecraft:lit_pumpkin[direction=1]","91:2":"minecraft:lit_pumpkin[direction=2]","91:3":"minecraft:lit_pumpkin[direction=3]","92:0":"minecraft:cake[bite_counter=0]","92:1":"minecraft:cake[bite_counter=1]","92:2":"minecraft:cake[bite_counter=2]","92:3":"minecraft:cake[bite_counter=3]","92:4":"minecraft:cake[bite_counter=4]","92:5":"minecraft:cake[bite_counter=5]","92:6":"minecraft:cake[bite_counter=6]","93:0":"minecraft:unpowered_repeater[direction=0,repeater_delay=0]","93:1":"minecraft:unpowered_repeater[direction=1,repeater_delay=0]","93:2":"minecraft:unpowered_repeater[direction=2,repeater_delay=0]","93:3":"minecraft:unpowered_repeater[direction=3,repeater_delay=0]","93:4":"minecraft:unpowered_repeater[direction=0,repeater_delay=1]","93:5":"minecraft:unpowered_repeater[direction=1,repeater_delay=1]","93:6":"minecraft:unpowered_repeater[direction=2,repeater_delay=1]","93:7":"minecraft:unpowered_repeater[direction=3,repeater_delay=1]","93:8":"minecraft:unpowered_repeater[direction=0,repeater_delay=2]","93:9":"minecraft:unpowered_repeater[direction=1,repeater_delay=2]","93:10":"minecraft:unpowered_repeater[direction=2,repeater_delay=2]","93:11":"minecraft:unpowered_repeater[direction=3,repeater_delay=2]","93:12":"minecraft:unpowered_repeater[direction=0,repeater_delay=3]","93:13":"minecraft:unpowered_repeater[direction=1,repeater_delay=3]","93:14":"minecraft:unpowered_repeater[direction=2,repeater_delay=3]","93:15":"minecraft:unpowered_repeater[direction=3,repeater_delay=3]","94:0":"minecraft:powered_repeater[direction=0,repeater_delay=0]","94:1":"minecraft:powered_repeater[direction=1,repeater_delay=0]","94:2":"minecraft:powered_repeater[direction=2,repeater_delay=0]","94:3":"minecraft:powered_repeater[direction=3,repeater_delay=0]","94:4":"minecraft:powered_repeater[direction=0,repeater_delay=1]","94:5":"minecraft:powered_repeater[direction=1,repeater_delay=1]","94:6":"minecraft:powered_repeater[direction=2,repeater_delay=1]","94:7":"minecraft:powered_repeater[direction=3,repeater_delay=1]","94:8":"minecraft:powered_repeater[direction=0,repeater_delay=2]","94:9":"minecraft:powered_repeater[direction=1,repeater_delay=2]","94:10":"minecraft:powered_repeater[direction=2,repeater_delay=2]","94:11":"minecraft:powered_repeater[direction=3,repeater_delay=2]","94:12":"minecraft:powered_repeater[direction=0,repeater_delay=3]","94:13":"minecraft:powered_repeater[direction=1,repeater_delay=3]","94:14":"minecraft:powered_repeater[direction=2,repeater_delay=3]","94:15":"minecraft:powered_repeater[direction=3,repeater_delay=3]","95:0":"minecraft:invisibleBedrock","96:0":"minecraft:trapdoor[direction=0,open_bit=0,upside_down_bit=0]","96:1":"minecraft:trapdoor[direction=1,open_bit=0,upside_down_bit=0]","96:2":"minecraft:trapdoor[direction=2,open_bit=0,upside_down_bit=0]","96:3":"minecraft:trapdoor[direction=3,open_bit=0,upside_down_bit=0]","96:4":"minecraft:trapdoor[direction=0,open_bit=0,upside_down_bit=1]","96:5":"minecraft:trapdoor[direction=1,open_bit=0,upside_down_bit=1]","96:6":"minecraft:trapdoor[direction=2,open_bit=0,upside_down_bit=1]","96:7":"minecraft:trapdoor[direction=3,open_bit=0,upside_down_bit=1]","96:8":"minecraft:trapdoor[direction=0,open_bit=1,upside_down_bit=0]","96:9":"minecraft:trapdoor[direction=1,open_bit=1,upside_down_bit=0]","96:10":"minecraft:trapdoor[direction=2,open_bit=1,upside_down_bit=0]","96:11":"minecraft:trapdoor[direction=3,open_bit=1,upside_down_bit=0]","96:12":"minecraft:trapdoor[direction=0,open_bit=1,upside_down_bit=1]","96:13":"minecraft:trapdoor[direction=1,open_bit=1,upside_down_bit=1]","96:14":"minecraft:trapdoor[direction=2,open_bit=1,upside_down_bit=1]","96:15":"minecraft:trapdoor[direction=3,open_bit=1,upside_down_bit=1]","97:0":"minecraft:monster_egg[monster_egg_stone_type=stone]","97:1":"minecraft:monster_egg[monster_egg_stone_type=cobblestone]","97:2":"minecraft:monster_egg[monster_egg_stone_type=stone_brick]","97:3":"minecraft:monster_egg[monster_egg_stone_type=mossy_stone_brick]","97:4":"minecraft:monster_egg[monster_egg_stone_type=cracked_stone_brick]","97:5":"minecraft:monster_egg[monster_egg_stone_type=chiseled_stone_brick]","98:0":"minecraft:stonebrick[stone_brick_type=default]","98:1":"minecraft:stonebrick[stone_brick_type=mossy]","98:2":"minecraft:stonebrick[stone_brick_type=cracked]","98:3":"minecraft:stonebrick[stone_brick_type=chiseled]","98:4":"minecraft:stonebrick[stone_brick_type=smooth]","99:0":"minecraft:brown_mushroom_block[huge_mushroom_bits=0]","99:1":"minecraft:brown_mushroom_block[huge_mushroom_bits=1]","99:2":"minecraft:brown_mushroom_block[huge_mushroom_bits=2]","99:3":"minecraft:brown_mushroom_block[huge_mushroom_bits=3]","99:4":"minecraft:brown_mushroom_block[huge_mushroom_bits=4]","99:5":"minecraft:brown_mushroom_block[huge_mushroom_bits=5]","99:6":"minecraft:brown_mushroom_block[huge_mushroom_bits=6]","99:7":"minecraft:brown_mushroom_block[huge_mushroom_bits=7]","99:8":"minecraft:brown_mushroom_block[huge_mushroom_bits=8]","99:9":"minecraft:brown_mushroom_block[huge_mushroom_bits=9]","99:10":"minecraft:brown_mushroom_block[huge_mushroom_bits=10]","99:11":"minecraft:brown_mushroom_block[huge_mushroom_bits=11]","99:12":"minecraft:brown_mushroom_block[huge_mushroom_bits=12]","99:13":"minecraft:brown_mushroom_block[huge_mushroom_bits=13]","99:14":"minecraft:brown_mushroom_block[huge_mushroom_bits=14]","99:15":"minecraft:brown_mushroom_block[huge_mushroom_bits=15]","100:0":"minecraft:red_mushroom_block[huge_mushroom_bits=0]","100:1":"minecraft:red_mushroom_block[huge_mushroom_bits=1]","100:2":"minecraft:red_mushroom_block[huge_mushroom_bits=2]","100:3":"minecraft:red_mushroom_block[huge_mushroom_bits=3]","100:4":"minecraft:red_mushroom_block[huge_mushroom_bits=4]","100:5":"minecraft:red_mushroom_block[huge_mushroom_bits=5]","100:6":"minecraft:red_mushroom_block[huge_mushroom_bits=6]","100:7":"minecraft:red_mushroom_block[huge_mushroom_bits=7]","100:8":"minecraft:red_mushroom_block[huge_mushroom_bits=8]","100:9":"minecraft:red_mushroom_block[huge_mushroom_bits=9]","100:10":"minecraft:red_mushroom_block[huge_mushroom_bits=10]","100:11":"minecraft:red_mushroom_block[huge_mushroom_bits=11]","100:12":"minecraft:red_mushroom_block[huge_mushroom_bits=12]","100:13":"minecraft:red_mushroom_block[huge_mushroom_bits=13]","100:14":"minecraft:red_mushroom_block[huge_mushroom_bits=14]","100:15":"minecraft:red_mushroom_block[huge_mushroom_bits=15]","101:0":"minecraft:iron_bars","102:0":"minecraft:glass_pane","103:0":"minecraft:melon_block","104:0":"minecraft:pumpkin_stem[facing_direction=0,growth=0]","104:1":"minecraft:pumpkin_stem[facing_direction=0,growth=1]","104:2":"minecraft:pumpkin_stem[facing_direction=0,growth=2]","104:3":"minecraft:pumpkin_stem[facing_direction=0,growth=3]","104:4":"minecraft:pumpkin_stem[facing_direction=0,growth=4]","104:5":"minecraft:pumpkin_stem[facing_direction=0,growth=5]","104:6":"minecraft:pumpkin_stem[facing_direction=0,growth=6]","104:7":"minecraft:pumpkin_stem[facing_direction=0,growth=7]","104:8":"minecraft:pumpkin_stem[facing_direction=1,growth=0]","104:9":"minecraft:pumpkin_stem[facing_direction=1,growth=1]","104:10":"minecraft:pumpkin_stem[facing_direction=1,growth=2]","104:11":"minecraft:pumpkin_stem[facing_direction=1,growth=3]","104:12":"minecraft:pumpkin_stem[facing_direction=1,growth=4]","104:13":"minecraft:pumpkin_stem[facing_direction=1,growth=5]","104:14":"minecraft:pumpkin_stem[facing_direction=1,growth=6]","104:15":"minecraft:pumpkin_stem[facing_direction=1,growth=7]","105:0":"minecraft:melon_stem[facing_direction=0,growth=0]","105:1":"minecraft:melon_stem[facing_direction=0,growth=1]","105:2":"minecraft:melon_stem[facing_direction=0,growth=2]","105:3":"minecraft:melon_stem[facing_direction=0,growth=3]","105:4":"minecraft:melon_stem[facing_direction=0,growth=4]","105:5":"minecraft:melon_stem[facing_direction=0,growth=5]","105:6":"minecraft:melon_stem[facing_direction=0,growth=6]","105:7":"minecraft:melon_stem[facing_direction=0,growth=7]","105:8":"minecraft:melon_stem[facing_direction=1,growth=0]","105:9":"minecraft:melon_stem[facing_direction=1,growth=1]","105:10":"minecraft:melon_stem[facing_direction=1,growth=2]","105:11":"minecraft:melon_stem[facing_direction=1,growth=3]","105:12":"minecraft:melon_stem[facing_direction=1,growth=4]","105:13":"minecraft:melon_stem[facing_direction=1,growth=5]","105:14":"minecraft:melon_stem[facing_direction=1,growth=6]","105:15":"minecraft:melon_stem[facing_direction=1,growth=7]","106:0":"minecraft:vine[vine_direction_bits=0]","106:1":"minecraft:vine[vine_direction_bits=1]","106:2":"minecraft:vine[vine_direction_bits=2]","106:3":"minecraft:vine[vine_direction_bits=3]","106:4":"minecraft:vine[vine_direction_bits=4]","106:5":"minecraft:vine[vine_direction_bits=5]","106:6":"minecraft:vine[vine_direction_bits=6]","106:7":"minecraft:vine[vine_direction_bits=7]","106:8":"minecraft:vine[vine_direction_bits=8]","106:9":"minecraft:vine[vine_direction_bits=9]","106:10":"minecraft:vine[vine_direction_bits=10]","106:11":"minecraft:vine[vine_direction_bits=11]","106:12":"minecraft:vine[vine_direction_bits=12]","106:13":"minecraft:vine[vine_direction_bits=13]","106:14":"minecraft:vine[vine_direction_bits=14]","106:15":"minecraft:vine[vine_direction_bits=15]","107:0":"minecraft:fence_gate[direction=0,in_wall_bit=0,open_bit=0]","107:1":"minecraft:fence_gate[direction=1,in_wall_bit=0,open_bit=0]","107:2":"minecraft:fence_gate[direction=2,in_wall_bit=0,open_bit=0]","107:3":"minecraft:fence_gate[direction=3,in_wall_bit=0,open_bit=0]","107:4":"minecraft:fence_gate[direction=0,in_wall_bit=0,open_bit=1]","107:5":"minecraft:fence_gate[direction=1,in_wall_bit=0,open_bit=1]","107:6":"minecraft:fence_gate[direction=2,in_wall_bit=0,open_bit=1]","107:7":"minecraft:fence_gate[direction=3,in_wall_bit=0,open_bit=1]","107:8":"minecraft:fence_gate[direction=0,in_wall_bit=1,open_bit=0]","107:9":"minecraft:fence_gate[direction=1,in_wall_bit=1,open_bit=0]","107:10":"minecraft:fence_gate[direction=2,in_wall_bit=1,open_bit=0]","107:11":"minecraft:fence_gate[direction=3,in_wall_bit=1,open_bit=0]","107:12":"minecraft:fence_gate[direction=0,in_wall_bit=1,open_bit=1]","107:13":"minecraft:fence_gate[direction=1,in_wall_bit=1,open_bit=1]","107:14":"minecraft:fence_gate[direction=2,in_wall_bit=1,open_bit=1]","107:15":"minecraft:fence_gate[direction=3,in_wall_bit=1,open_bit=1]","108:0":"minecraft:brick_stairs[upside_down_bit=0,weirdo_direction=0]","108:1":"minecraft:brick_stairs[upside_down_bit=0,weirdo_direction=1]","108:2":"minecraft:brick_stairs[upside_down_bit=0,weirdo_direction=2]","108:3":"minecraft:brick_stairs[upside_down_bit=0,weirdo_direction=3]","108:4":"minecraft:brick_stairs[upside_down_bit=1,weirdo_direction=0]","108:5":"minecraft:brick_stairs[upside_down_bit=1,weirdo_direction=1]","108:6":"minecraft:brick_stairs[upside_down_bit=1,weirdo_direction=2]","108:7":"minecraft:brick_stairs[upside_down_bit=1,weirdo_direction=3]","109:0":"minecraft:stone_brick_stairs[upside_down_bit=0,weirdo_direction=0]","109:1":"minecraft:stone_brick_stairs[upside_down_bit=0,weirdo_direction=1]","109:2":"minecraft:stone_brick_stairs[upside_down_bit=0,weirdo_direction=2]","109:3":"minecraft:stone_brick_stairs[upside_down_bit=0,weirdo_direction=3]","109:4":"minecraft:stone_brick_stairs[upside_down_bit=1,weirdo_direction=0]","109:5":"minecraft:stone_brick_stairs[upside_down_bit=1,weirdo_direction=1]","109:6":"minecraft:stone_brick_stairs[upside_down_bit=1,weirdo_direction=2]","109:7":"minecraft:stone_brick_stairs[upside_down_bit=1,weirdo_direction=3]","110:0":"minecraft:mycelium","111:0":"minecraft:waterlily","112:0":"minecraft:nether_brick","113:0":"minecraft:nether_brick_fence","114:0":"minecraft:nether_brick_stairs[upside_down_bit=0,weirdo_direction=0]","114:1":"minecraft:nether_brick_stairs[upside_down_bit=0,weirdo_direction=1]","114:2":"minecraft:nether_brick_stairs[upside_down_bit=0,weirdo_direction=2]","114:3":"minecraft:nether_brick_stairs[upside_down_bit=0,weirdo_direction=3]","114:4":"minecraft:nether_brick_stairs[upside_down_bit=1,weirdo_direction=0]","114:5":"minecraft:nether_brick_stairs[upside_down_bit=1,weirdo_direction=1]","114:6":"minecraft:nether_brick_stairs[upside_down_bit=1,weirdo_direction=2]","114:7":"minecraft:nether_brick_stairs[upside_down_bit=1,weirdo_direction=3]","115:0":"minecraft:nether_wart[age=0]","115:1":"minecraft:nether_wart[age=1]","115:2":"minecraft:nether_wart[age=2]","115:3":"minecraft:nether_wart[age=3]","116:0":"minecraft:enchanting_table","117:0":"minecraft:brewing_stand[brewing_stand_slot_a_bit=0,brewing_stand_slot_b_bit=0,brewing_stand_slot_c_bit=0]","117:1":"minecraft:brewing_stand[brewing_stand_slot_a_bit=1,brewing_stand_slot_b_bit=0,brewing_stand_slot_c_bit=0]","117:2":"minecraft:brewing_stand[brewing_stand_slot_a_bit=0,brewing_stand_slot_b_bit=1,brewing_stand_slot_c_bit=0]","117:3":"minecraft:brewing_stand[brewing_stand_slot_a_bit=1,brewing_stand_slot_b_bit=1,brewing_stand_slot_c_bit=0]","117:4":"minecraft:brewing_stand[brewing_stand_slot_a_bit=0,brewing_stand_slot_b_bit=0,brewing_stand_slot_c_bit=1]","117:5":"minecraft:brewing_stand[brewing_stand_slot_a_bit=1,brewing_stand_slot_b_bit=0,brewing_stand_slot_c_bit=1]","117:6":"minecraft:brewing_stand[brewing_stand_slot_a_bit=0,brewing_stand_slot_b_bit=1,brewing_stand_slot_c_bit=1]","117:7":"minecraft:brewing_stand[brewing_stand_slot_a_bit=1,brewing_stand_slot_b_bit=1,brewing_stand_slot_c_bit=1]","118:0":"minecraft:cauldron[cauldron_liquid=water,fill_level=0]","118:1":"minecraft:cauldron[cauldron_liquid=water,fill_level=1]","118:2":"minecraft:cauldron[cauldron_liquid=water,fill_level=2]","118:3":"minecraft:cauldron[cauldron_liquid=water,fill_level=3]","118:4":"minecraft:cauldron[cauldron_liquid=water,fill_level=4]","118:5":"minecraft:cauldron[cauldron_liquid=water,fill_level=5]","118:6":"minecraft:cauldron[cauldron_liquid=water,fill_level=6]","118:7":"minecraft:cauldron[cauldron_liquid=lava,fill_level=0]","118:8":"minecraft:cauldron[cauldron_liquid=lava,fill_level=1]","118:9":"minecraft:cauldron[cauldron_liquid=lava,fill_level=2]","118:10":"minecraft:cauldron[cauldron_liquid=lava,fill_level=3]","118:11":"minecraft:cauldron[cauldron_liquid=lava,fill_level=4]","118:12":"minecraft:cauldron[cauldron_liquid=lava,fill_level=5]","118:13":"minecraft:cauldron[cauldron_liquid=lava,fill_level=6]","118:14":"minecraft:cauldron[cauldron_liquid=powder_snow,fill_level=0]","118:15":"minecraft:cauldron[cauldron_liquid=powder_snow,fill_level=1]","119:0":"minecraft:end_portal","120:0":"minecraft:end_portal_frame[direction=0,end_portal_eye_bit=0]","120:1":"minecraft:end_portal_frame[direction=1,end_portal_eye_bit=0]","120:2":"minecraft:end_portal_frame[direction=2,end_portal_eye_bit=0]","120:3":"minecraft:end_portal_frame[direction=3,end_portal_eye_bit=0]","120:4":"minecraft:end_portal_frame[direction=0,end_portal_eye_bit=1]","120:5":"minecraft:end_portal_frame[direction=1,end_portal_eye_bit=1]","120:6":"minecraft:end_portal_frame[direction=2,end_portal_eye_bit=1]","120:7":"minecraft:end_portal_frame[direction=3,end_portal_eye_bit=1]","121:0":"minecraft:end_stone","122:0":"minecraft:dragon_egg","123:0":"minecraft:redstone_lamp","124:0":"minecraft:lit_redstone_lamp","125:0":"minecraft:dropper[facing_direction=0,triggered_bit=0]","125:1":"minecraft:dropper[facing_direction=1,triggered_bit=0]","125:2":"minecraft:dropper[facing_direction=2,triggered_bit=0]","125:3":"minecraft:dropper[facing_direction=3,triggered_bit=0]","125:4":"minecraft:dropper[facing_direction=4,triggered_bit=0]","125:5":"minecraft:dropper[facing_direction=5,triggered_bit=0]","125:6":"minecraft:dropper[facing_direction=0,triggered_bit=1]","125:7":"minecraft:dropper[facing_direction=1,triggered_bit=1]","125:8":"minecraft:dropper[facing_direction=2,triggered_bit=1]","125:9":"minecraft:dropper[facing_direction=3,triggered_bit=1]","125:10":"minecraft:dropper[facing_direction=4,triggered_bit=1]","125:11":"minecraft:dropper[facing_direction=5,triggered_bit=1]","126:0":"minecraft:activator_rail[rail_data_bit=0,rail_direction=0]","126:1":"minecraft:activator_rail[rail_data_bit=0,rail_direction=1]","126:2":"minecraft:activator_rail[rail_data_bit=0,rail_direction=2]","126:3":"minecraft:activator_rail[rail_data_bit=0,rail_direction=3]","126:4":"minecraft:activator_rail[rail_data_bit=0,rail_direction=4]","126:5":"minecraft:activator_rail[rail_data_bit=0,rail_direction=5]","126:6":"minecraft:activator_rail[rail_data_bit=1,rail_direction=0]","126:7":"minecraft:activator_rail[rail_data_bit=1,rail_direction=1]","126:8":"minecraft:activator_rail[rail_data_bit=1,rail_direction=2]","126:9":"minecraft:activator_rail[rail_data_bit=1,rail_direction=3]","126:10":"minecraft:activator_rail[rail_data_bit=1,rail_direction=4]","126:11":"minecraft:activator_rail[rail_data_bit=1,rail_direction=5]","127:0":"minecraft:cocoa[age=0,direction=0]","127:1":"minecraft:cocoa[age=0,direction=1]","127:2":"minecraft:cocoa[age=0,direction=2]","127:3":"minecraft:cocoa[age=0,direction=3]","127:4":"minecraft:cocoa[age=1,direction=0]","127:5":"minecraft:cocoa[age=1,direction=1]","127:6":"minecraft:cocoa[age=1,direction=2]","127:7":"minecraft:cocoa[age=1,direction=3]","127:8":"minecraft:cocoa[age=2,direction=0]","127:9":"minecraft:cocoa[age=2,direction=1]","127:10":"minecraft:cocoa[age=2,direction=2]","127:11":"minecraft:cocoa[age=2,direction=3]","128:0":"minecraft:sandstone_stairs[upside_down_bit=0,weirdo_direction=0]","128:1":"minecraft:sandstone_stairs[upside_down_bit=0,weirdo_direction=1]","128:2":"minecraft:sandstone_stairs[upside_down_bit=0,weirdo_direction=2]","128:3":"minecraft:sandstone_stairs[upside_down_bit=0,weirdo_direction=3]","128:4":"minecraft:sandstone_stairs[upside_down_bit=1,weirdo_direction=0]","128:5":"minecraft:sandstone_stairs[upside_down_bit=1,weirdo_direction=1]","128:6":"minecraft:sandstone_stairs[upside_down_bit=1,weirdo_direction=2]","128:7":"minecraft:sandstone_stairs[upside_down_bit=1,weirdo_direction=3]","129:0":"minecraft:emerald_ore","130:0":"minecraft:ender_chest[facing_direction=0]","130:1":"minecraft:ender_chest[facing_direction=1]","130:2":"minecraft:ender_chest[facing_direction=2]","130:3":"minecraft:ender_chest[facing_direction=3]","130:4":"minecraft:ender_chest[facing_direction=4]","130:5":"minecraft:ender_chest[facing_direction=5]","131:0":"minecraft:tripwire_hook[attached_bit=0,direction=0,powered_bit=0]","131:1":"minecraft:tripwire_hook[attached_bit=0,direction=1,powered_bit=0]","131:2":"minecraft:tripwire_hook[attached_bit=0,direction=2,powered_bit=0]","131:3":"minecraft:tripwire_hook[attached_bit=0,direction=3,powered_bit=0]","131:4":"minecraft:tripwire_hook[attached_bit=1,direction=0,powered_bit=0]","131:5":"minecraft:tripwire_hook[attached_bit=1,direction=1,powered_bit=0]","131:6":"minecraft:tripwire_hook[attached_bit=1,direction=2,powered_bit=0]","131:7":"minecraft:tripwire_hook[attached_bit=1,direction=3,powered_bit=0]","131:8":"minecraft:tripwire_hook[attached_bit=0,direction=0,powered_bit=1]","131:9":"minecraft:tripwire_hook[attached_bit=0,direction=1,powered_bit=1]","131:10":"minecraft:tripwire_hook[attached_bit=0,direction=2,powered_bit=1]","131:11":"minecraft:tripwire_hook[attached_bit=0,direction=3,powered_bit=1]","131:12":"minecraft:tripwire_hook[attached_bit=1,direction=0,powered_bit=1]","131:13":"minecraft:tripwire_hook[attached_bit=1,direction=1,powered_bit=1]","131:14":"minecraft:tripwire_hook[attached_bit=1,direction=2,powered_bit=1]","131:15":"minecraft:tripwire_hook[attached_bit=1,direction=3,powered_bit=1]","132:0":"minecraft:tripWire[attached_bit=0,disarmed_bit=0,powered_bit=0,suspended_bit=0]","132:1":"minecraft:tripWire[attached_bit=0,disarmed_bit=0,powered_bit=1,suspended_bit=0]","132:2":"minecraft:tripWire[attached_bit=0,disarmed_bit=0,powered_bit=0,suspended_bit=1]","132:3":"minecraft:tripWire[attached_bit=0,disarmed_bit=0,powered_bit=1,suspended_bit=1]","132:4":"minecraft:tripWire[attached_bit=1,disarmed_bit=0,powered_bit=0,suspended_bit=0]","132:5":"minecraft:tripWire[attached_bit=1,disarmed_bit=0,powered_bit=1,suspended_bit=0]","132:6":"minecraft:tripWire[attached_bit=1,disarmed_bit=0,powered_bit=0,suspended_bit=1]","132:7":"minecraft:tripWire[attached_bit=1,disarmed_bit=0,powered_bit=1,suspended_bit=1]","132:8":"minecraft:tripWire[attached_bit=0,disarmed_bit=1,powered_bit=0,suspended_bit=0]","132:9":"minecraft:tripWire[attached_bit=0,disarmed_bit=1,powered_bit=1,suspended_bit=0]","132:10":"minecraft:tripWire[attached_bit=0,disarmed_bit=1,powered_bit=0,suspended_bit=1]","132:11":"minecraft:tripWire[attached_bit=0,disarmed_bit=1,powered_bit=1,suspended_bit=1]","132:12":"minecraft:tripWire[attached_bit=1,disarmed_bit=1,powered_bit=0,suspended_bit=0]","132:13":"minecraft:tripWire[attached_bit=1,disarmed_bit=1,powered_bit=1,suspended_bit=0]","132:14":"minecraft:tripWire[attached_bit=1,disarmed_bit=1,powered_bit=0,suspended_bit=1]","132:15":"minecraft:tripWire[attached_bit=1,disarmed_bit=1,powered_bit=1,suspended_bit=1]","133:0":"minecraft:emerald_block","134:0":"minecraft:spruce_stairs[upside_down_bit=0,weirdo_direction=0]","134:1":"minecraft:spruce_stairs[upside_down_bit=0,weirdo_direction=1]","134:2":"minecraft:spruce_stairs[upside_down_bit=0,weirdo_direction=2]","134:3":"minecraft:spruce_stairs[upside_down_bit=0,weirdo_direction=3]","134:4":"minecraft:spruce_stairs[upside_down_bit=1,weirdo_direction=0]","134:5":"minecraft:spruce_stairs[upside_down_bit=1,weirdo_direction=1]","134:6":"minecraft:spruce_stairs[upside_down_bit=1,weirdo_direction=2]","134:7":"minecraft:spruce_stairs[upside_down_bit=1,weirdo_direction=3]","135:0":"minecraft:birch_stairs[upside_down_bit=0,weirdo_direction=0]","135:1":"minecraft:birch_stairs[upside_down_bit=0,weirdo_direction=1]","135:2":"minecraft:birch_stairs[upside_down_bit=0,weirdo_direction=2]","135:3":"minecraft:birch_stairs[upside_down_bit=0,weirdo_direction=3]","135:4":"minecraft:birch_stairs[upside_down_bit=1,weirdo_direction=0]","135:5":"minecraft:birch_stairs[upside_down_bit=1,weirdo_direction=1]","135:6":"minecraft:birch_stairs[upside_down_bit=1,weirdo_direction=2]","135:7":"minecraft:birch_stairs[upside_down_bit=1,weirdo_direction=3]","136:0":"minecraft:jungle_stairs[upside_down_bit=0,weirdo_direction=0]","136:1":"minecraft:jungle_stairs[upside_down_bit=0,weirdo_direction=1]","136:2":"minecraft:jungle_stairs[upside_down_bit=0,weirdo_direction=2]","136:3":"minecraft:jungle_stairs[upside_down_bit=0,weirdo_direction=3]","136:4":"minecraft:jungle_stairs[upside_down_bit=1,weirdo_direction=0]","136:5":"minecraft:jungle_stairs[upside_down_bit=1,weirdo_direction=1]","136:6":"minecraft:jungle_stairs[upside_down_bit=1,weirdo_direction=2]","136:7":"minecraft:jungle_stairs[upside_down_bit=1,weirdo_direction=3]","137:0":"minecraft:command_block[conditional_bit=0,facing_direction=0]","137:1":"minecraft:command_block[conditional_bit=0,facing_direction=1]","137:2":"minecraft:command_block[conditional_bit=0,facing_direction=2]","137:3":"minecraft:command_block[conditional_bit=0,facing_direction=3]","137:4":"minecraft:command_block[conditional_bit=0,facing_direction=4]","137:5":"minecraft:command_block[conditional_bit=0,facing_direction=5]","137:6":"minecraft:command_block[conditional_bit=1,facing_direction=0]","137:7":"minecraft:command_block[conditional_bit=1,facing_direction=1]","137:8":"minecraft:command_block[conditional_bit=1,facing_direction=2]","137:9":"minecraft:command_block[conditional_bit=1,facing_direction=3]","137:10":"minecraft:command_block[conditional_bit=1,facing_direction=4]","137:11":"minecraft:command_block[conditional_bit=1,facing_direction=5]","138:0":"minecraft:beacon","139:0":"minecraft:cobblestone_wall[wall_block_type=cobblestone,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:1":"minecraft:cobblestone_wall[wall_block_type=mossy_cobblestone,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:2":"minecraft:cobblestone_wall[wall_block_type=granite,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:3":"minecraft:cobblestone_wall[wall_block_type=diorite,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:4":"minecraft:cobblestone_wall[wall_block_type=andesite,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:5":"minecraft:cobblestone_wall[wall_block_type=sandstone,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:6":"minecraft:cobblestone_wall[wall_block_type=brick,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:7":"minecraft:cobblestone_wall[wall_block_type=stone_brick,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:8":"minecraft:cobblestone_wall[wall_block_type=mossy_stone_brick,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:9":"minecraft:cobblestone_wall[wall_block_type=nether_brick,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:10":"minecraft:cobblestone_wall[wall_block_type=end_brick,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:11":"minecraft:cobblestone_wall[wall_block_type=prismarine,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:12":"minecraft:cobblestone_wall[wall_block_type=red_sandstone,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:13":"minecraft:cobblestone_wall[wall_block_type=red_nether_brick,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","139:14":"minecraft:cobblestone_wall[wall_block_type=cobblestone,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=1]","139:15":"minecraft:cobblestone_wall[wall_block_type=mossy_cobblestone,wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=1]","140:0":"minecraft:flower_pot[update_bit=0]","140:1":"minecraft:flower_pot[update_bit=1]","141:0":"minecraft:carrots[growth=0]","141:1":"minecraft:carrots[growth=1]","141:2":"minecraft:carrots[growth=2]","141:3":"minecraft:carrots[growth=3]","141:4":"minecraft:carrots[growth=4]","141:5":"minecraft:carrots[growth=5]","141:6":"minecraft:carrots[growth=6]","141:7":"minecraft:carrots[growth=7]","142:0":"minecraft:potatoes[growth=0]","142:1":"minecraft:potatoes[growth=1]","142:2":"minecraft:potatoes[growth=2]","142:3":"minecraft:potatoes[growth=3]","142:4":"minecraft:potatoes[growth=4]","142:5":"minecraft:potatoes[growth=5]","142:6":"minecraft:potatoes[growth=6]","142:7":"minecraft:potatoes[growth=7]","143:0":"minecraft:wooden_button[button_pressed_bit=0,facing_direction=0]","143:1":"minecraft:wooden_button[button_pressed_bit=0,facing_direction=1]","143:2":"minecraft:wooden_button[button_pressed_bit=0,facing_direction=2]","143:3":"minecraft:wooden_button[button_pressed_bit=0,facing_direction=3]","143:4":"minecraft:wooden_button[button_pressed_bit=0,facing_direction=4]","143:5":"minecraft:wooden_button[button_pressed_bit=0,facing_direction=5]","143:6":"minecraft:wooden_button[button_pressed_bit=1,facing_direction=0]","143:7":"minecraft:wooden_button[button_pressed_bit=1,facing_direction=1]","143:8":"minecraft:wooden_button[button_pressed_bit=1,facing_direction=2]","143:9":"minecraft:wooden_button[button_pressed_bit=1,facing_direction=3]","143:10":"minecraft:wooden_button[button_pressed_bit=1,facing_direction=4]","143:11":"minecraft:wooden_button[button_pressed_bit=1,facing_direction=5]","144:0":"minecraft:skull[facing_direction=0]","144:1":"minecraft:skull[facing_direction=1]","144:2":"minecraft:skull[facing_direction=2]","144:3":"minecraft:skull[facing_direction=3]","144:4":"minecraft:skull[facing_direction=4]","144:5":"minecraft:skull[facing_direction=5]","145:0":"minecraft:anvil[damage=undamaged,direction=0]","145:1":"minecraft:anvil[damage=undamaged,direction=1]","145:2":"minecraft:anvil[damage=undamaged,direction=2]","145:3":"minecraft:anvil[damage=undamaged,direction=3]","145:4":"minecraft:anvil[damage=slightly_damaged,direction=0]","145:5":"minecraft:anvil[damage=slightly_damaged,direction=1]","145:6":"minecraft:anvil[damage=slightly_damaged,direction=2]","145:7":"minecraft:anvil[damage=slightly_damaged,direction=3]","145:8":"minecraft:anvil[damage=very_damaged,direction=0]","145:9":"minecraft:anvil[damage=very_damaged,direction=1]","145:10":"minecraft:anvil[damage=very_damaged,direction=2]","145:11":"minecraft:anvil[damage=very_damaged,direction=3]","145:12":"minecraft:anvil[damage=broken,direction=0]","145:13":"minecraft:anvil[damage=broken,direction=1]","145:14":"minecraft:anvil[damage=broken,direction=2]","145:15":"minecraft:anvil[damage=broken,direction=3]","146:0":"minecraft:trapped_chest[facing_direction=0]","146:1":"minecraft:trapped_chest[facing_direction=1]","146:2":"minecraft:trapped_chest[facing_direction=2]","146:3":"minecraft:trapped_chest[facing_direction=3]","146:4":"minecraft:trapped_chest[facing_direction=4]","146:5":"minecraft:trapped_chest[facing_direction=5]","147:0":"minecraft:light_weighted_pressure_plate[redstone_signal=0]","147:1":"minecraft:light_weighted_pressure_plate[redstone_signal=1]","147:2":"minecraft:light_weighted_pressure_plate[redstone_signal=2]","147:3":"minecraft:light_weighted_pressure_plate[redstone_signal=3]","147:4":"minecraft:light_weighted_pressure_plate[redstone_signal=4]","147:5":"minecraft:light_weighted_pressure_plate[redstone_signal=5]","147:6":"minecraft:light_weighted_pressure_plate[redstone_signal=6]","147:7":"minecraft:light_weighted_pressure_plate[redstone_signal=7]","147:8":"minecraft:light_weighted_pressure_plate[redstone_signal=8]","147:9":"minecraft:light_weighted_pressure_plate[redstone_signal=9]","147:10":"minecraft:light_weighted_pressure_plate[redstone_signal=10]","147:11":"minecraft:light_weighted_pressure_plate[redstone_signal=11]","147:12":"minecraft:light_weighted_pressure_plate[redstone_signal=12]","147:13":"minecraft:light_weighted_pressure_plate[redstone_signal=13]","147:14":"minecraft:light_weighted_pressure_plate[redstone_signal=14]","147:15":"minecraft:light_weighted_pressure_plate[redstone_signal=15]","148:0":"minecraft:heavy_weighted_pressure_plate[redstone_signal=0]","148:1":"minecraft:heavy_weighted_pressure_plate[redstone_signal=1]","148:2":"minecraft:heavy_weighted_pressure_plate[redstone_signal=2]","148:3":"minecraft:heavy_weighted_pressure_plate[redstone_signal=3]","148:4":"minecraft:heavy_weighted_pressure_plate[redstone_signal=4]","148:5":"minecraft:heavy_weighted_pressure_plate[redstone_signal=5]","148:6":"minecraft:heavy_weighted_pressure_plate[redstone_signal=6]","148:7":"minecraft:heavy_weighted_pressure_plate[redstone_signal=7]","148:8":"minecraft:heavy_weighted_pressure_plate[redstone_signal=8]","148:9":"minecraft:heavy_weighted_pressure_plate[redstone_signal=9]","148:10":"minecraft:heavy_weighted_pressure_plate[redstone_signal=10]","148:11":"minecraft:heavy_weighted_pressure_plate[redstone_signal=11]","148:12":"minecraft:heavy_weighted_pressure_plate[redstone_signal=12]","148:13":"minecraft:heavy_weighted_pressure_plate[redstone_signal=13]","148:14":"minecraft:heavy_weighted_pressure_plate[redstone_signal=14]","148:15":"minecraft:heavy_weighted_pressure_plate[redstone_signal=15]","149:0":"minecraft:unpowered_comparator[direction=0,output_lit_bit=0,output_subtract_bit=0]","149:1":"minecraft:unpowered_comparator[direction=1,output_lit_bit=0,output_subtract_bit=0]","149:2":"minecraft:unpowered_comparator[direction=2,output_lit_bit=0,output_subtract_bit=0]","149:3":"minecraft:unpowered_comparator[direction=3,output_lit_bit=0,output_subtract_bit=0]","149:4":"minecraft:unpowered_comparator[direction=0,output_lit_bit=0,output_subtract_bit=1]","149:5":"minecraft:unpowered_comparator[direction=1,output_lit_bit=0,output_subtract_bit=1]","149:6":"minecraft:unpowered_comparator[direction=2,output_lit_bit=0,output_subtract_bit=1]","149:7":"minecraft:unpowered_comparator[direction=3,output_lit_bit=0,output_subtract_bit=1]","149:8":"minecraft:unpowered_comparator[direction=0,output_lit_bit=1,output_subtract_bit=0]","149:9":"minecraft:unpowered_comparator[direction=1,output_lit_bit=1,output_subtract_bit=0]","149:10":"minecraft:unpowered_comparator[direction=2,output_lit_bit=1,output_subtract_bit=0]","149:11":"minecraft:unpowered_comparator[direction=3,output_lit_bit=1,output_subtract_bit=0]","149:12":"minecraft:unpowered_comparator[direction=0,output_lit_bit=1,output_subtract_bit=1]","149:13":"minecraft:unpowered_comparator[direction=1,output_lit_bit=1,output_subtract_bit=1]","149:14":"minecraft:unpowered_comparator[direction=2,output_lit_bit=1,output_subtract_bit=1]","149:15":"minecraft:unpowered_comparator[direction=3,output_lit_bit=1,output_subtract_bit=1]","150:0":"minecraft:powered_comparator[direction=0,output_lit_bit=0,output_subtract_bit=0]","150:1":"minecraft:powered_comparator[direction=1,output_lit_bit=0,output_subtract_bit=0]","150:2":"minecraft:powered_comparator[direction=2,output_lit_bit=0,output_subtract_bit=0]","150:3":"minecraft:powered_comparator[direction=3,output_lit_bit=0,output_subtract_bit=0]","150:4":"minecraft:powered_comparator[direction=0,output_lit_bit=0,output_subtract_bit=1]","150:5":"minecraft:powered_comparator[direction=1,output_lit_bit=0,output_subtract_bit=1]","150:6":"minecraft:powered_comparator[direction=2,output_lit_bit=0,output_subtract_bit=1]","150:7":"minecraft:powered_comparator[direction=3,output_lit_bit=0,output_subtract_bit=1]","150:8":"minecraft:powered_comparator[direction=0,output_lit_bit=1,output_subtract_bit=0]","150:9":"minecraft:powered_comparator[direction=1,output_lit_bit=1,output_subtract_bit=0]","150:10":"minecraft:powered_comparator[direction=2,output_lit_bit=1,output_subtract_bit=0]","150:11":"minecraft:powered_comparator[direction=3,output_lit_bit=1,output_subtract_bit=0]","150:12":"minecraft:powered_comparator[direction=0,output_lit_bit=1,output_subtract_bit=1]","150:13":"minecraft:powered_comparator[direction=1,output_lit_bit=1,output_subtract_bit=1]","150:14":"minecraft:powered_comparator[direction=2,output_lit_bit=1,output_subtract_bit=1]","150:15":"minecraft:powered_comparator[direction=3,output_lit_bit=1,output_subtract_bit=1]","151:0":"minecraft:daylight_detector[redstone_signal=0]","151:1":"minecraft:daylight_detector[redstone_signal=1]","151:2":"minecraft:daylight_detector[redstone_signal=2]","151:3":"minecraft:daylight_detector[redstone_signal=3]","151:4":"minecraft:daylight_detector[redstone_signal=4]","151:5":"minecraft:daylight_detector[redstone_signal=5]","151:6":"minecraft:daylight_detector[redstone_signal=6]","151:7":"minecraft:daylight_detector[redstone_signal=7]","151:8":"minecraft:daylight_detector[redstone_signal=8]","151:9":"minecraft:daylight_detector[redstone_signal=9]","151:10":"minecraft:daylight_detector[redstone_signal=10]","151:11":"minecraft:daylight_detector[redstone_signal=11]","151:12":"minecraft:daylight_detector[redstone_signal=12]","151:13":"minecraft:daylight_detector[redstone_signal=13]","151:14":"minecraft:daylight_detector[redstone_signal=14]","151:15":"minecraft:daylight_detector[redstone_signal=15]","152:0":"minecraft:redstone_block","153:0":"minecraft:quartz_ore","154:0":"minecraft:hopper[facing_direction=0,toggle_bit=0]","154:1":"minecraft:hopper[facing_direction=1,toggle_bit=0]","154:2":"minecraft:hopper[facing_direction=2,toggle_bit=0]","154:3":"minecraft:hopper[facing_direction=3,toggle_bit=0]","154:4":"minecraft:hopper[facing_direction=4,toggle_bit=0]","154:5":"minecraft:hopper[facing_direction=5,toggle_bit=0]","154:6":"minecraft:hopper[facing_direction=0,toggle_bit=1]","154:7":"minecraft:hopper[facing_direction=1,toggle_bit=1]","154:8":"minecraft:hopper[facing_direction=2,toggle_bit=1]","154:9":"minecraft:hopper[facing_direction=3,toggle_bit=1]","154:10":"minecraft:hopper[facing_direction=4,toggle_bit=1]","154:11":"minecraft:hopper[facing_direction=5,toggle_bit=1]","155:0":"minecraft:quartz_block[chisel_type=default,pillar_axis=y]","155:1":"minecraft:quartz_block[chisel_type=chiseled,pillar_axis=y]","155:2":"minecraft:quartz_block[chisel_type=lines,pillar_axis=y]","155:3":"minecraft:quartz_block[chisel_type=smooth,pillar_axis=y]","155:4":"minecraft:quartz_block[chisel_type=default,pillar_axis=x]","155:5":"minecraft:quartz_block[chisel_type=chiseled,pillar_axis=x]","155:6":"minecraft:quartz_block[chisel_type=lines,pillar_axis=x]","155:7":"minecraft:quartz_block[chisel_type=smooth,pillar_axis=x]","155:8":"minecraft:quartz_block[chisel_type=default,pillar_axis=z]","155:9":"minecraft:quartz_block[chisel_type=chiseled,pillar_axis=z]","155:10":"minecraft:quartz_block[chisel_type=lines,pillar_axis=z]","155:11":"minecraft:quartz_block[chisel_type=smooth,pillar_axis=z]","156:0":"minecraft:quartz_stairs[upside_down_bit=0,weirdo_direction=0]","156:1":"minecraft:quartz_stairs[upside_down_bit=0,weirdo_direction=1]","156:2":"minecraft:quartz_stairs[upside_down_bit=0,weirdo_direction=2]","156:3":"minecraft:quartz_stairs[upside_down_bit=0,weirdo_direction=3]","156:4":"minecraft:quartz_stairs[upside_down_bit=1,weirdo_direction=0]","156:5":"minecraft:quartz_stairs[upside_down_bit=1,weirdo_direction=1]","156:6":"minecraft:quartz_stairs[upside_down_bit=1,weirdo_direction=2]","156:7":"minecraft:quartz_stairs[upside_down_bit=1,weirdo_direction=3]","157:0":"minecraft:double_wooden_slab[top_slot_bit=0,wood_type=oak]","157:1":"minecraft:double_wooden_slab[top_slot_bit=0,wood_type=spruce]","157:2":"minecraft:double_wooden_slab[top_slot_bit=0,wood_type=birch]","157:3":"minecraft:double_wooden_slab[top_slot_bit=0,wood_type=jungle]","157:4":"minecraft:double_wooden_slab[top_slot_bit=0,wood_type=acacia]","157:5":"minecraft:double_wooden_slab[top_slot_bit=0,wood_type=dark_oak]","157:6":"minecraft:double_wooden_slab[top_slot_bit=1,wood_type=oak]","157:7":"minecraft:double_wooden_slab[top_slot_bit=1,wood_type=spruce]","157:8":"minecraft:double_wooden_slab[top_slot_bit=1,wood_type=birch]","157:9":"minecraft:double_wooden_slab[top_slot_bit=1,wood_type=jungle]","157:10":"minecraft:double_wooden_slab[top_slot_bit=1,wood_type=acacia]","157:11":"minecraft:double_wooden_slab[top_slot_bit=1,wood_type=dark_oak]","158:0":"minecraft:wooden_slab[top_slot_bit=0,wood_type=oak]","158:1":"minecraft:wooden_slab[top_slot_bit=0,wood_type=spruce]","158:2":"minecraft:wooden_slab[top_slot_bit=0,wood_type=birch]","158:3":"minecraft:wooden_slab[top_slot_bit=0,wood_type=jungle]","158:4":"minecraft:wooden_slab[top_slot_bit=0,wood_type=acacia]","158:5":"minecraft:wooden_slab[top_slot_bit=0,wood_type=dark_oak]","158:6":"minecraft:wooden_slab[top_slot_bit=1,wood_type=oak]","158:7":"minecraft:wooden_slab[top_slot_bit=1,wood_type=spruce]","158:8":"minecraft:wooden_slab[top_slot_bit=1,wood_type=birch]","158:9":"minecraft:wooden_slab[top_slot_bit=1,wood_type=jungle]","158:10":"minecraft:wooden_slab[top_slot_bit=1,wood_type=acacia]","158:11":"minecraft:wooden_slab[top_slot_bit=1,wood_type=dark_oak]","159:0":"minecraft:stained_hardened_clay[color=white]","159:1":"minecraft:stained_hardened_clay[color=orange]","159:2":"minecraft:stained_hardened_clay[color=magenta]","159:3":"minecraft:stained_hardened_clay[color=light_blue]","159:4":"minecraft:stained_hardened_clay[color=yellow]","159:5":"minecraft:stained_hardened_clay[color=lime]","159:6":"minecraft:stained_hardened_clay[color=pink]","159:7":"minecraft:stained_hardened_clay[color=gray]","159:8":"minecraft:stained_hardened_clay[color=silver]","159:9":"minecraft:stained_hardened_clay[color=cyan]","159:10":"minecraft:stained_hardened_clay[color=purple]","159:11":"minecraft:stained_hardened_clay[color=blue]","159:12":"minecraft:stained_hardened_clay[color=brown]","159:13":"minecraft:stained_hardened_clay[color=green]","159:14":"minecraft:stained_hardened_clay[color=red]","159:15":"minecraft:stained_hardened_clay[color=black]","160:0":"minecraft:stained_glass_pane[color=white]","160:1":"minecraft:stained_glass_pane[color=orange]","160:2":"minecraft:stained_glass_pane[color=magenta]","160:3":"minecraft:stained_glass_pane[color=light_blue]","160:4":"minecraft:stained_glass_pane[color=yellow]","160:5":"minecraft:stained_glass_pane[color=lime]","160:6":"minecraft:stained_glass_pane[color=pink]","160:7":"minecraft:stained_glass_pane[color=gray]","160:8":"minecraft:stained_glass_pane[color=silver]","160:9":"minecraft:stained_glass_pane[color=cyan]","160:10":"minecraft:stained_glass_pane[color=purple]","160:11":"minecraft:stained_glass_pane[color=blue]","160:12":"minecraft:stained_glass_pane[color=brown]","160:13":"minecraft:stained_glass_pane[color=green]","160:14":"minecraft:stained_glass_pane[color=red]","160:15":"minecraft:stained_glass_pane[color=black]","161:0":"minecraft:leaves2[new_leaf_type=acacia,persistent_bit=0,update_bit=0]","161:1":"minecraft:leaves2[new_leaf_type=dark_oak,persistent_bit=0,update_bit=0]","161:2":"minecraft:leaves2[new_leaf_type=acacia,persistent_bit=0,update_bit=1]","161:3":"minecraft:leaves2[new_leaf_type=dark_oak,persistent_bit=0,update_bit=1]","161:4":"minecraft:leaves2[new_leaf_type=acacia,persistent_bit=1,update_bit=0]","161:5":"minecraft:leaves2[new_leaf_type=dark_oak,persistent_bit=1,update_bit=0]","161:6":"minecraft:leaves2[new_leaf_type=acacia,persistent_bit=1,update_bit=1]","161:7":"minecraft:leaves2[new_leaf_type=dark_oak,persistent_bit=1,update_bit=1]","162:0":"minecraft:log2[new_log_type=acacia,pillar_axis=y]","162:1":"minecraft:log2[new_log_type=dark_oak,pillar_axis=y]","162:2":"minecraft:log2[new_log_type=acacia,pillar_axis=x]","162:3":"minecraft:log2[new_log_type=dark_oak,pillar_axis=x]","162:4":"minecraft:log2[new_log_type=acacia,pillar_axis=z]","162:5":"minecraft:log2[new_log_type=dark_oak,pillar_axis=z]","163:0":"minecraft:acacia_stairs[upside_down_bit=0,weirdo_direction=0]","163:1":"minecraft:acacia_stairs[upside_down_bit=0,weirdo_direction=1]","163:2":"minecraft:acacia_stairs[upside_down_bit=0,weirdo_direction=2]","163:3":"minecraft:acacia_stairs[upside_down_bit=0,weirdo_direction=3]","163:4":"minecraft:acacia_stairs[upside_down_bit=1,weirdo_direction=0]","163:5":"minecraft:acacia_stairs[upside_down_bit=1,weirdo_direction=1]","163:6":"minecraft:acacia_stairs[upside_down_bit=1,weirdo_direction=2]","163:7":"minecraft:acacia_stairs[upside_down_bit=1,weirdo_direction=3]","164:0":"minecraft:dark_oak_stairs[upside_down_bit=0,weirdo_direction=0]","164:1":"minecraft:dark_oak_stairs[upside_down_bit=0,weirdo_direction=1]","164:2":"minecraft:dark_oak_stairs[upside_down_bit=0,weirdo_direction=2]","164:3":"minecraft:dark_oak_stairs[upside_down_bit=0,weirdo_direction=3]","164:4":"minecraft:dark_oak_stairs[upside_down_bit=1,weirdo_direction=0]","164:5":"minecraft:dark_oak_stairs[upside_down_bit=1,weirdo_direction=1]","164:6":"minecraft:dark_oak_stairs[upside_down_bit=1,weirdo_direction=2]","164:7":"minecraft:dark_oak_stairs[upside_down_bit=1,weirdo_direction=3]","165:0":"minecraft:slime","167:0":"minecraft:iron_trapdoor[direction=0,open_bit=0,upside_down_bit=0]","167:1":"minecraft:iron_trapdoor[direction=1,open_bit=0,upside_down_bit=0]","167:2":"minecraft:iron_trapdoor[direction=2,open_bit=0,upside_down_bit=0]","167:3":"minecraft:iron_trapdoor[direction=3,open_bit=0,upside_down_bit=0]","167:4":"minecraft:iron_trapdoor[direction=0,open_bit=0,upside_down_bit=1]","167:5":"minecraft:iron_trapdoor[direction=1,open_bit=0,upside_down_bit=1]","167:6":"minecraft:iron_trapdoor[direction=2,open_bit=0,upside_down_bit=1]","167:7":"minecraft:iron_trapdoor[direction=3,open_bit=0,upside_down_bit=1]","167:8":"minecraft:iron_trapdoor[direction=0,open_bit=1,upside_down_bit=0]","167:9":"minecraft:iron_trapdoor[direction=1,open_bit=1,upside_down_bit=0]","167:10":"minecraft:iron_trapdoor[direction=2,open_bit=1,upside_down_bit=0]","167:11":"minecraft:iron_trapdoor[direction=3,open_bit=1,upside_down_bit=0]","167:12":"minecraft:iron_trapdoor[direction=0,open_bit=1,upside_down_bit=1]","167:13":"minecraft:iron_trapdoor[direction=1,open_bit=1,upside_down_bit=1]","167:14":"minecraft:iron_trapdoor[direction=2,open_bit=1,upside_down_bit=1]","167:15":"minecraft:iron_trapdoor[direction=3,open_bit=1,upside_down_bit=1]","168:0":"minecraft:prismarine[prismarine_block_type=default]","168:1":"minecraft:prismarine[prismarine_block_type=dark]","168:2":"minecraft:prismarine[prismarine_block_type=bricks]","169:0":"minecraft:seaLantern","170:0":"minecraft:hay_block[deprecated=0,pillar_axis=y]","170:1":"minecraft:hay_block[deprecated=1,pillar_axis=y]","170:2":"minecraft:hay_block[deprecated=2,pillar_axis=y]","170:3":"minecraft:hay_block[deprecated=3,pillar_axis=y]","170:4":"minecraft:hay_block[deprecated=0,pillar_axis=x]","170:5":"minecraft:hay_block[deprecated=1,pillar_axis=x]","170:6":"minecraft:hay_block[deprecated=2,pillar_axis=x]","170:7":"minecraft:hay_block[deprecated=3,pillar_axis=x]","170:8":"minecraft:hay_block[deprecated=0,pillar_axis=z]","170:9":"minecraft:hay_block[deprecated=1,pillar_axis=z]","170:10":"minecraft:hay_block[deprecated=2,pillar_axis=z]","170:11":"minecraft:hay_block[deprecated=3,pillar_axis=z]","171:0":"minecraft:carpet[color=white]","171:1":"minecraft:carpet[color=orange]","171:2":"minecraft:carpet[color=magenta]","171:3":"minecraft:carpet[color=light_blue]","171:4":"minecraft:carpet[color=yellow]","171:5":"minecraft:carpet[color=lime]","171:6":"minecraft:carpet[color=pink]","171:7":"minecraft:carpet[color=gray]","171:8":"minecraft:carpet[color=silver]","171:9":"minecraft:carpet[color=cyan]","171:10":"minecraft:carpet[color=purple]","171:11":"minecraft:carpet[color=blue]","171:12":"minecraft:carpet[color=brown]","171:13":"minecraft:carpet[color=green]","171:14":"minecraft:carpet[color=red]","171:15":"minecraft:carpet[color=black]","172:0":"minecraft:hardened_clay","173:0":"minecraft:coal_block","174:0":"minecraft:packed_ice","175:0":"minecraft:double_plant[double_plant_type=sunflower,upper_block_bit=0]","175:1":"minecraft:double_plant[double_plant_type=syringa,upper_block_bit=0]","175:2":"minecraft:double_plant[double_plant_type=grass,upper_block_bit=0]","175:3":"minecraft:double_plant[double_plant_type=fern,upper_block_bit=0]","175:4":"minecraft:double_plant[double_plant_type=rose,upper_block_bit=0]","175:5":"minecraft:double_plant[double_plant_type=paeonia,upper_block_bit=0]","175:6":"minecraft:double_plant[double_plant_type=sunflower,upper_block_bit=1]","175:7":"minecraft:double_plant[double_plant_type=syringa,upper_block_bit=1]","175:8":"minecraft:double_plant[double_plant_type=grass,upper_block_bit=1]","175:9":"minecraft:double_plant[double_plant_type=fern,upper_block_bit=1]","175:10":"minecraft:double_plant[double_plant_type=rose,upper_block_bit=1]","175:11":"minecraft:double_plant[double_plant_type=paeonia,upper_block_bit=1]","176:0":"minecraft:standing_banner[ground_sign_direction=0]","176:1":"minecraft:standing_banner[ground_sign_direction=1]","176:2":"minecraft:standing_banner[ground_sign_direction=2]","176:3":"minecraft:standing_banner[ground_sign_direction=3]","176:4":"minecraft:standing_banner[ground_sign_direction=4]","176:5":"minecraft:standing_banner[ground_sign_direction=5]","176:6":"minecraft:standing_banner[ground_sign_direction=6]","176:7":"minecraft:standing_banner[ground_sign_direction=7]","176:8":"minecraft:standing_banner[ground_sign_direction=8]","176:9":"minecraft:standing_banner[ground_sign_direction=9]","176:10":"minecraft:standing_banner[ground_sign_direction=10]","176:11":"minecraft:standing_banner[ground_sign_direction=11]","176:12":"minecraft:standing_banner[ground_sign_direction=12]","176:13":"minecraft:standing_banner[ground_sign_direction=13]","176:14":"minecraft:standing_banner[ground_sign_direction=14]","176:15":"minecraft:standing_banner[ground_sign_direction=15]","177:0":"minecraft:wall_banner[facing_direction=0]","177:1":"minecraft:wall_banner[facing_direction=1]","177:2":"minecraft:wall_banner[facing_direction=2]","177:3":"minecraft:wall_banner[facing_direction=3]","177:4":"minecraft:wall_banner[facing_direction=4]","177:5":"minecraft:wall_banner[facing_direction=5]","178:0":"minecraft:daylight_detector_inverted[redstone_signal=0]","178:1":"minecraft:daylight_detector_inverted[redstone_signal=1]","178:2":"minecraft:daylight_detector_inverted[redstone_signal=2]","178:3":"minecraft:daylight_detector_inverted[redstone_signal=3]","178:4":"minecraft:daylight_detector_inverted[redstone_signal=4]","178:5":"minecraft:daylight_detector_inverted[redstone_signal=5]","178:6":"minecraft:daylight_detector_inverted[redstone_signal=6]","178:7":"minecraft:daylight_detector_inverted[redstone_signal=7]","178:8":"minecraft:daylight_detector_inverted[redstone_signal=8]","178:9":"minecraft:daylight_detector_inverted[redstone_signal=9]","178:10":"minecraft:daylight_detector_inverted[redstone_signal=10]","178:11":"minecraft:daylight_detector_inverted[redstone_signal=11]","178:12":"minecraft:daylight_detector_inverted[redstone_signal=12]","178:13":"minecraft:daylight_detector_inverted[redstone_signal=13]","178:14":"minecraft:daylight_detector_inverted[redstone_signal=14]","178:15":"minecraft:daylight_detector_inverted[redstone_signal=15]","179:0":"minecraft:red_sandstone[sand_stone_type=default]","179:1":"minecraft:red_sandstone[sand_stone_type=heiroglyphs]","179:2":"minecraft:red_sandstone[sand_stone_type=cut]","179:3":"minecraft:red_sandstone[sand_stone_type=smooth]","180:0":"minecraft:red_sandstone_stairs[upside_down_bit=0,weirdo_direction=0]","180:1":"minecraft:red_sandstone_stairs[upside_down_bit=0,weirdo_direction=1]","180:2":"minecraft:red_sandstone_stairs[upside_down_bit=0,weirdo_direction=2]","180:3":"minecraft:red_sandstone_stairs[upside_down_bit=0,weirdo_direction=3]","180:4":"minecraft:red_sandstone_stairs[upside_down_bit=1,weirdo_direction=0]","180:5":"minecraft:red_sandstone_stairs[upside_down_bit=1,weirdo_direction=1]","180:6":"minecraft:red_sandstone_stairs[upside_down_bit=1,weirdo_direction=2]","180:7":"minecraft:red_sandstone_stairs[upside_down_bit=1,weirdo_direction=3]","181:0":"minecraft:double_stone_slab2[stone_slab_type_2=red_sandstone,top_slot_bit=0]","181:1":"minecraft:double_stone_slab2[stone_slab_type_2=purpur,top_slot_bit=0]","181:2":"minecraft:double_stone_slab2[stone_slab_type_2=prismarine_rough,top_slot_bit=0]","181:3":"minecraft:double_stone_slab2[stone_slab_type_2=prismarine_dark,top_slot_bit=0]","181:4":"minecraft:double_stone_slab2[stone_slab_type_2=prismarine_brick,top_slot_bit=0]","181:5":"minecraft:double_stone_slab2[stone_slab_type_2=mossy_cobblestone,top_slot_bit=0]","181:6":"minecraft:double_stone_slab2[stone_slab_type_2=smooth_sandstone,top_slot_bit=0]","181:7":"minecraft:double_stone_slab2[stone_slab_type_2=red_nether_brick,top_slot_bit=0]","181:8":"minecraft:double_stone_slab2[stone_slab_type_2=red_sandstone,top_slot_bit=1]","181:9":"minecraft:double_stone_slab2[stone_slab_type_2=purpur,top_slot_bit=1]","181:10":"minecraft:double_stone_slab2[stone_slab_type_2=prismarine_rough,top_slot_bit=1]","181:11":"minecraft:double_stone_slab2[stone_slab_type_2=prismarine_dark,top_slot_bit=1]","181:12":"minecraft:double_stone_slab2[stone_slab_type_2=prismarine_brick,top_slot_bit=1]","181:13":"minecraft:double_stone_slab2[stone_slab_type_2=mossy_cobblestone,top_slot_bit=1]","181:14":"minecraft:double_stone_slab2[stone_slab_type_2=smooth_sandstone,top_slot_bit=1]","181:15":"minecraft:double_stone_slab2[stone_slab_type_2=red_nether_brick,top_slot_bit=1]","182:0":"minecraft:stone_slab2[stone_slab_type_2=red_sandstone,top_slot_bit=0]","182:1":"minecraft:stone_slab2[stone_slab_type_2=purpur,top_slot_bit=0]","182:2":"minecraft:stone_slab2[stone_slab_type_2=prismarine_rough,top_slot_bit=0]","182:3":"minecraft:stone_slab2[stone_slab_type_2=prismarine_dark,top_slot_bit=0]","182:4":"minecraft:stone_slab2[stone_slab_type_2=prismarine_brick,top_slot_bit=0]","182:5":"minecraft:stone_slab2[stone_slab_type_2=mossy_cobblestone,top_slot_bit=0]","182:6":"minecraft:stone_slab2[stone_slab_type_2=smooth_sandstone,top_slot_bit=0]","182:7":"minecraft:stone_slab2[stone_slab_type_2=red_nether_brick,top_slot_bit=0]","182:8":"minecraft:stone_slab2[stone_slab_type_2=red_sandstone,top_slot_bit=1]","182:9":"minecraft:stone_slab2[stone_slab_type_2=purpur,top_slot_bit=1]","182:10":"minecraft:stone_slab2[stone_slab_type_2=prismarine_rough,top_slot_bit=1]","182:11":"minecraft:stone_slab2[stone_slab_type_2=prismarine_dark,top_slot_bit=1]","182:12":"minecraft:stone_slab2[stone_slab_type_2=prismarine_brick,top_slot_bit=1]","182:13":"minecraft:stone_slab2[stone_slab_type_2=mossy_cobblestone,top_slot_bit=1]","182:14":"minecraft:stone_slab2[stone_slab_type_2=smooth_sandstone,top_slot_bit=1]","182:15":"minecraft:stone_slab2[stone_slab_type_2=red_nether_brick,top_slot_bit=1]","183:0":"minecraft:spruce_fence_gate[direction=0,in_wall_bit=0,open_bit=0]","183:1":"minecraft:spruce_fence_gate[direction=1,in_wall_bit=0,open_bit=0]","183:2":"minecraft:spruce_fence_gate[direction=2,in_wall_bit=0,open_bit=0]","183:3":"minecraft:spruce_fence_gate[direction=3,in_wall_bit=0,open_bit=0]","183:4":"minecraft:spruce_fence_gate[direction=0,in_wall_bit=0,open_bit=1]","183:5":"minecraft:spruce_fence_gate[direction=1,in_wall_bit=0,open_bit=1]","183:6":"minecraft:spruce_fence_gate[direction=2,in_wall_bit=0,open_bit=1]","183:7":"minecraft:spruce_fence_gate[direction=3,in_wall_bit=0,open_bit=1]","183:8":"minecraft:spruce_fence_gate[direction=0,in_wall_bit=1,open_bit=0]","183:9":"minecraft:spruce_fence_gate[direction=1,in_wall_bit=1,open_bit=0]","183:10":"minecraft:spruce_fence_gate[direction=2,in_wall_bit=1,open_bit=0]","183:11":"minecraft:spruce_fence_gate[direction=3,in_wall_bit=1,open_bit=0]","183:12":"minecraft:spruce_fence_gate[direction=0,in_wall_bit=1,open_bit=1]","183:13":"minecraft:spruce_fence_gate[direction=1,in_wall_bit=1,open_bit=1]","183:14":"minecraft:spruce_fence_gate[direction=2,in_wall_bit=1,open_bit=1]","183:15":"minecraft:spruce_fence_gate[direction=3,in_wall_bit=1,open_bit=1]","184:0":"minecraft:birch_fence_gate[direction=0,in_wall_bit=0,open_bit=0]","184:1":"minecraft:birch_fence_gate[direction=1,in_wall_bit=0,open_bit=0]","184:2":"minecraft:birch_fence_gate[direction=2,in_wall_bit=0,open_bit=0]","184:3":"minecraft:birch_fence_gate[direction=3,in_wall_bit=0,open_bit=0]","184:4":"minecraft:birch_fence_gate[direction=0,in_wall_bit=0,open_bit=1]","184:5":"minecraft:birch_fence_gate[direction=1,in_wall_bit=0,open_bit=1]","184:6":"minecraft:birch_fence_gate[direction=2,in_wall_bit=0,open_bit=1]","184:7":"minecraft:birch_fence_gate[direction=3,in_wall_bit=0,open_bit=1]","184:8":"minecraft:birch_fence_gate[direction=0,in_wall_bit=1,open_bit=0]","184:9":"minecraft:birch_fence_gate[direction=1,in_wall_bit=1,open_bit=0]","184:10":"minecraft:birch_fence_gate[direction=2,in_wall_bit=1,open_bit=0]","184:11":"minecraft:birch_fence_gate[direction=3,in_wall_bit=1,open_bit=0]","184:12":"minecraft:birch_fence_gate[direction=0,in_wall_bit=1,open_bit=1]","184:13":"minecraft:birch_fence_gate[direction=1,in_wall_bit=1,open_bit=1]","184:14":"minecraft:birch_fence_gate[direction=2,in_wall_bit=1,open_bit=1]","184:15":"minecraft:birch_fence_gate[direction=3,in_wall_bit=1,open_bit=1]","185:0":"minecraft:jungle_fence_gate[direction=0,in_wall_bit=0,open_bit=0]","185:1":"minecraft:jungle_fence_gate[direction=1,in_wall_bit=0,open_bit=0]","185:2":"minecraft:jungle_fence_gate[direction=2,in_wall_bit=0,open_bit=0]","185:3":"minecraft:jungle_fence_gate[direction=3,in_wall_bit=0,open_bit=0]","185:4":"minecraft:jungle_fence_gate[direction=0,in_wall_bit=0,open_bit=1]","185:5":"minecraft:jungle_fence_gate[direction=1,in_wall_bit=0,open_bit=1]","185:6":"minecraft:jungle_fence_gate[direction=2,in_wall_bit=0,open_bit=1]","185:7":"minecraft:jungle_fence_gate[direction=3,in_wall_bit=0,open_bit=1]","185:8":"minecraft:jungle_fence_gate[direction=0,in_wall_bit=1,open_bit=0]","185:9":"minecraft:jungle_fence_gate[direction=1,in_wall_bit=1,open_bit=0]","185:10":"minecraft:jungle_fence_gate[direction=2,in_wall_bit=1,open_bit=0]","185:11":"minecraft:jungle_fence_gate[direction=3,in_wall_bit=1,open_bit=0]","185:12":"minecraft:jungle_fence_gate[direction=0,in_wall_bit=1,open_bit=1]","185:13":"minecraft:jungle_fence_gate[direction=1,in_wall_bit=1,open_bit=1]","185:14":"minecraft:jungle_fence_gate[direction=2,in_wall_bit=1,open_bit=1]","185:15":"minecraft:jungle_fence_gate[direction=3,in_wall_bit=1,open_bit=1]","186:0":"minecraft:dark_oak_fence_gate[direction=0,in_wall_bit=0,open_bit=0]","186:1":"minecraft:dark_oak_fence_gate[direction=1,in_wall_bit=0,open_bit=0]","186:2":"minecraft:dark_oak_fence_gate[direction=2,in_wall_bit=0,open_bit=0]","186:3":"minecraft:dark_oak_fence_gate[direction=3,in_wall_bit=0,open_bit=0]","186:4":"minecraft:dark_oak_fence_gate[direction=0,in_wall_bit=0,open_bit=1]","186:5":"minecraft:dark_oak_fence_gate[direction=1,in_wall_bit=0,open_bit=1]","186:6":"minecraft:dark_oak_fence_gate[direction=2,in_wall_bit=0,open_bit=1]","186:7":"minecraft:dark_oak_fence_gate[direction=3,in_wall_bit=0,open_bit=1]","186:8":"minecraft:dark_oak_fence_gate[direction=0,in_wall_bit=1,open_bit=0]","186:9":"minecraft:dark_oak_fence_gate[direction=1,in_wall_bit=1,open_bit=0]","186:10":"minecraft:dark_oak_fence_gate[direction=2,in_wall_bit=1,open_bit=0]","186:11":"minecraft:dark_oak_fence_gate[direction=3,in_wall_bit=1,open_bit=0]","186:12":"minecraft:dark_oak_fence_gate[direction=0,in_wall_bit=1,open_bit=1]","186:13":"minecraft:dark_oak_fence_gate[direction=1,in_wall_bit=1,open_bit=1]","186:14":"minecraft:dark_oak_fence_gate[direction=2,in_wall_bit=1,open_bit=1]","186:15":"minecraft:dark_oak_fence_gate[direction=3,in_wall_bit=1,open_bit=1]","187:0":"minecraft:acacia_fence_gate[direction=0,in_wall_bit=0,open_bit=0]","187:1":"minecraft:acacia_fence_gate[direction=1,in_wall_bit=0,open_bit=0]","187:2":"minecraft:acacia_fence_gate[direction=2,in_wall_bit=0,open_bit=0]","187:3":"minecraft:acacia_fence_gate[direction=3,in_wall_bit=0,open_bit=0]","187:4":"minecraft:acacia_fence_gate[direction=0,in_wall_bit=0,open_bit=1]","187:5":"minecraft:acacia_fence_gate[direction=1,in_wall_bit=0,open_bit=1]","187:6":"minecraft:acacia_fence_gate[direction=2,in_wall_bit=0,open_bit=1]","187:7":"minecraft:acacia_fence_gate[direction=3,in_wall_bit=0,open_bit=1]","187:8":"minecraft:acacia_fence_gate[direction=0,in_wall_bit=1,open_bit=0]","187:9":"minecraft:acacia_fence_gate[direction=1,in_wall_bit=1,open_bit=0]","187:10":"minecraft:acacia_fence_gate[direction=2,in_wall_bit=1,open_bit=0]","187:11":"minecraft:acacia_fence_gate[direction=3,in_wall_bit=1,open_bit=0]","187:12":"minecraft:acacia_fence_gate[direction=0,in_wall_bit=1,open_bit=1]","187:13":"minecraft:acacia_fence_gate[direction=1,in_wall_bit=1,open_bit=1]","187:14":"minecraft:acacia_fence_gate[direction=2,in_wall_bit=1,open_bit=1]","187:15":"minecraft:acacia_fence_gate[direction=3,in_wall_bit=1,open_bit=1]","188:0":"minecraft:repeating_command_block[conditional_bit=0,facing_direction=0]","188:1":"minecraft:repeating_command_block[conditional_bit=0,facing_direction=1]","188:2":"minecraft:repeating_command_block[conditional_bit=0,facing_direction=2]","188:3":"minecraft:repeating_command_block[conditional_bit=0,facing_direction=3]","188:4":"minecraft:repeating_command_block[conditional_bit=0,facing_direction=4]","188:5":"minecraft:repeating_command_block[conditional_bit=0,facing_direction=5]","188:6":"minecraft:repeating_command_block[conditional_bit=1,facing_direction=0]","188:7":"minecraft:repeating_command_block[conditional_bit=1,facing_direction=1]","188:8":"minecraft:repeating_command_block[conditional_bit=1,facing_direction=2]","188:9":"minecraft:repeating_command_block[conditional_bit=1,facing_direction=3]","188:10":"minecraft:repeating_command_block[conditional_bit=1,facing_direction=4]","188:11":"minecraft:repeating_command_block[conditional_bit=1,facing_direction=5]","189:0":"minecraft:chain_command_block[conditional_bit=0,facing_direction=0]","189:1":"minecraft:chain_command_block[conditional_bit=0,facing_direction=1]","189:2":"minecraft:chain_command_block[conditional_bit=0,facing_direction=2]","189:3":"minecraft:chain_command_block[conditional_bit=0,facing_direction=3]","189:4":"minecraft:chain_command_block[conditional_bit=0,facing_direction=4]","189:5":"minecraft:chain_command_block[conditional_bit=0,facing_direction=5]","189:6":"minecraft:chain_command_block[conditional_bit=1,facing_direction=0]","189:7":"minecraft:chain_command_block[conditional_bit=1,facing_direction=1]","189:8":"minecraft:chain_command_block[conditional_bit=1,facing_direction=2]","189:9":"minecraft:chain_command_block[conditional_bit=1,facing_direction=3]","189:10":"minecraft:chain_command_block[conditional_bit=1,facing_direction=4]","189:11":"minecraft:chain_command_block[conditional_bit=1,facing_direction=5]","190:0":"minecraft:hard_glass_pane","191:0":"minecraft:hard_stained_glass_pane[color=white]","191:1":"minecraft:hard_stained_glass_pane[color=orange]","191:2":"minecraft:hard_stained_glass_pane[color=magenta]","191:3":"minecraft:hard_stained_glass_pane[color=light_blue]","191:4":"minecraft:hard_stained_glass_pane[color=yellow]","191:5":"minecraft:hard_stained_glass_pane[color=lime]","191:6":"minecraft:hard_stained_glass_pane[color=pink]","191:7":"minecraft:hard_stained_glass_pane[color=gray]","191:8":"minecraft:hard_stained_glass_pane[color=silver]","191:9":"minecraft:hard_stained_glass_pane[color=cyan]","191:10":"minecraft:hard_stained_glass_pane[color=purple]","191:11":"minecraft:hard_stained_glass_pane[color=blue]","191:12":"minecraft:hard_stained_glass_pane[color=brown]","191:13":"minecraft:hard_stained_glass_pane[color=green]","191:14":"minecraft:hard_stained_glass_pane[color=red]","191:15":"minecraft:hard_stained_glass_pane[color=black]","192:0":"minecraft:chemical_heat","193:0":"minecraft:spruce_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","193:1":"minecraft:spruce_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","193:2":"minecraft:spruce_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","193:3":"minecraft:spruce_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","193:4":"minecraft:spruce_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","193:5":"minecraft:spruce_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","193:6":"minecraft:spruce_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","193:7":"minecraft:spruce_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","193:8":"minecraft:spruce_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","193:9":"minecraft:spruce_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","193:10":"minecraft:spruce_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","193:11":"minecraft:spruce_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","193:12":"minecraft:spruce_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","193:13":"minecraft:spruce_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","193:14":"minecraft:spruce_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","193:15":"minecraft:spruce_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","194:0":"minecraft:birch_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","194:1":"minecraft:birch_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","194:2":"minecraft:birch_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","194:3":"minecraft:birch_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","194:4":"minecraft:birch_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","194:5":"minecraft:birch_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","194:6":"minecraft:birch_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","194:7":"minecraft:birch_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","194:8":"minecraft:birch_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","194:9":"minecraft:birch_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","194:10":"minecraft:birch_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","194:11":"minecraft:birch_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","194:12":"minecraft:birch_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","194:13":"minecraft:birch_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","194:14":"minecraft:birch_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","194:15":"minecraft:birch_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","195:0":"minecraft:jungle_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","195:1":"minecraft:jungle_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","195:2":"minecraft:jungle_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","195:3":"minecraft:jungle_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","195:4":"minecraft:jungle_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","195:5":"minecraft:jungle_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","195:6":"minecraft:jungle_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","195:7":"minecraft:jungle_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","195:8":"minecraft:jungle_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","195:9":"minecraft:jungle_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","195:10":"minecraft:jungle_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","195:11":"minecraft:jungle_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","195:12":"minecraft:jungle_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","195:13":"minecraft:jungle_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","195:14":"minecraft:jungle_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","195:15":"minecraft:jungle_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","196:0":"minecraft:acacia_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","196:1":"minecraft:acacia_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","196:2":"minecraft:acacia_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","196:3":"minecraft:acacia_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","196:4":"minecraft:acacia_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","196:5":"minecraft:acacia_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","196:6":"minecraft:acacia_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","196:7":"minecraft:acacia_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","196:8":"minecraft:acacia_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","196:9":"minecraft:acacia_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","196:10":"minecraft:acacia_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","196:11":"minecraft:acacia_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","196:12":"minecraft:acacia_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","196:13":"minecraft:acacia_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","196:14":"minecraft:acacia_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","196:15":"minecraft:acacia_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","197:0":"minecraft:dark_oak_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","197:1":"minecraft:dark_oak_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","197:2":"minecraft:dark_oak_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","197:3":"minecraft:dark_oak_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=0]","197:4":"minecraft:dark_oak_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","197:5":"minecraft:dark_oak_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","197:6":"minecraft:dark_oak_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","197:7":"minecraft:dark_oak_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=0]","197:8":"minecraft:dark_oak_door[direction=0,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","197:9":"minecraft:dark_oak_door[direction=1,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","197:10":"minecraft:dark_oak_door[direction=2,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","197:11":"minecraft:dark_oak_door[direction=3,door_hinge_bit=0,open_bit=0,upper_block_bit=1]","197:12":"minecraft:dark_oak_door[direction=0,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","197:13":"minecraft:dark_oak_door[direction=1,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","197:14":"minecraft:dark_oak_door[direction=2,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","197:15":"minecraft:dark_oak_door[direction=3,door_hinge_bit=0,open_bit=1,upper_block_bit=1]","198:0":"minecraft:grass_path","199:0":"minecraft:frame[facing_direction=0,item_frame_map_bit=0,item_frame_photo_bit=0]","199:1":"minecraft:frame[facing_direction=1,item_frame_map_bit=0,item_frame_photo_bit=0]","199:2":"minecraft:frame[facing_direction=2,item_frame_map_bit=0,item_frame_photo_bit=0]","199:3":"minecraft:frame[facing_direction=3,item_frame_map_bit=0,item_frame_photo_bit=0]","199:4":"minecraft:frame[facing_direction=4,item_frame_map_bit=0,item_frame_photo_bit=0]","199:5":"minecraft:frame[facing_direction=5,item_frame_map_bit=0,item_frame_photo_bit=0]","199:6":"minecraft:frame[facing_direction=0,item_frame_map_bit=1,item_frame_photo_bit=0]","199:7":"minecraft:frame[facing_direction=1,item_frame_map_bit=1,item_frame_photo_bit=0]","199:8":"minecraft:frame[facing_direction=2,item_frame_map_bit=1,item_frame_photo_bit=0]","199:9":"minecraft:frame[facing_direction=3,item_frame_map_bit=1,item_frame_photo_bit=0]","199:10":"minecraft:frame[facing_direction=4,item_frame_map_bit=1,item_frame_photo_bit=0]","199:11":"minecraft:frame[facing_direction=5,item_frame_map_bit=1,item_frame_photo_bit=0]","199:12":"minecraft:frame[facing_direction=0,item_frame_map_bit=0,item_frame_photo_bit=1]","199:13":"minecraft:frame[facing_direction=1,item_frame_map_bit=0,item_frame_photo_bit=1]","199:14":"minecraft:frame[facing_direction=2,item_frame_map_bit=0,item_frame_photo_bit=1]","199:15":"minecraft:frame[facing_direction=3,item_frame_map_bit=0,item_frame_photo_bit=1]","200:0":"minecraft:chorus_flower[age=0]","200:1":"minecraft:chorus_flower[age=1]","200:2":"minecraft:chorus_flower[age=2]","200:3":"minecraft:chorus_flower[age=3]","200:4":"minecraft:chorus_flower[age=4]","200:5":"minecraft:chorus_flower[age=5]","201:0":"minecraft:purpur_block[chisel_type=default,pillar_axis=y]","201:1":"minecraft:purpur_block[chisel_type=chiseled,pillar_axis=y]","201:2":"minecraft:purpur_block[chisel_type=lines,pillar_axis=y]","201:3":"minecraft:purpur_block[chisel_type=smooth,pillar_axis=y]","201:4":"minecraft:purpur_block[chisel_type=default,pillar_axis=x]","201:5":"minecraft:purpur_block[chisel_type=chiseled,pillar_axis=x]","201:6":"minecraft:purpur_block[chisel_type=lines,pillar_axis=x]","201:7":"minecraft:purpur_block[chisel_type=smooth,pillar_axis=x]","201:8":"minecraft:purpur_block[chisel_type=default,pillar_axis=z]","201:9":"minecraft:purpur_block[chisel_type=chiseled,pillar_axis=z]","201:10":"minecraft:purpur_block[chisel_type=lines,pillar_axis=z]","201:11":"minecraft:purpur_block[chisel_type=smooth,pillar_axis=z]","202:0":"minecraft:colored_torch_rg[color_bit=0,torch_facing_direction=unknown]","202:1":"minecraft:colored_torch_rg[color_bit=0,torch_facing_direction=west]","202:2":"minecraft:colored_torch_rg[color_bit=0,torch_facing_direction=east]","202:3":"minecraft:colored_torch_rg[color_bit=0,torch_facing_direction=north]","202:4":"minecraft:colored_torch_rg[color_bit=0,torch_facing_direction=south]","202:5":"minecraft:colored_torch_rg[color_bit=0,torch_facing_direction=top]","202:6":"minecraft:colored_torch_rg[color_bit=1,torch_facing_direction=unknown]","202:7":"minecraft:colored_torch_rg[color_bit=1,torch_facing_direction=west]","202:8":"minecraft:colored_torch_rg[color_bit=1,torch_facing_direction=east]","202:9":"minecraft:colored_torch_rg[color_bit=1,torch_facing_direction=north]","202:10":"minecraft:colored_torch_rg[color_bit=1,torch_facing_direction=south]","202:11":"minecraft:colored_torch_rg[color_bit=1,torch_facing_direction=top]","203:0":"minecraft:purpur_stairs[upside_down_bit=0,weirdo_direction=0]","203:1":"minecraft:purpur_stairs[upside_down_bit=0,weirdo_direction=1]","203:2":"minecraft:purpur_stairs[upside_down_bit=0,weirdo_direction=2]","203:3":"minecraft:purpur_stairs[upside_down_bit=0,weirdo_direction=3]","203:4":"minecraft:purpur_stairs[upside_down_bit=1,weirdo_direction=0]","203:5":"minecraft:purpur_stairs[upside_down_bit=1,weirdo_direction=1]","203:6":"minecraft:purpur_stairs[upside_down_bit=1,weirdo_direction=2]","203:7":"minecraft:purpur_stairs[upside_down_bit=1,weirdo_direction=3]","204:0":"minecraft:colored_torch_bp[color_bit=0,torch_facing_direction=unknown]","204:1":"minecraft:colored_torch_bp[color_bit=0,torch_facing_direction=west]","204:2":"minecraft:colored_torch_bp[color_bit=0,torch_facing_direction=east]","204:3":"minecraft:colored_torch_bp[color_bit=0,torch_facing_direction=north]","204:4":"minecraft:colored_torch_bp[color_bit=0,torch_facing_direction=south]","204:5":"minecraft:colored_torch_bp[color_bit=0,torch_facing_direction=top]","204:6":"minecraft:colored_torch_bp[color_bit=1,torch_facing_direction=unknown]","204:7":"minecraft:colored_torch_bp[color_bit=1,torch_facing_direction=west]","204:8":"minecraft:colored_torch_bp[color_bit=1,torch_facing_direction=east]","204:9":"minecraft:colored_torch_bp[color_bit=1,torch_facing_direction=north]","204:10":"minecraft:colored_torch_bp[color_bit=1,torch_facing_direction=south]","204:11":"minecraft:colored_torch_bp[color_bit=1,torch_facing_direction=top]","205:0":"minecraft:undyed_shulker_box","206:0":"minecraft:end_bricks","207:0":"minecraft:frosted_ice[age=0]","207:1":"minecraft:frosted_ice[age=1]","207:2":"minecraft:frosted_ice[age=2]","207:3":"minecraft:frosted_ice[age=3]","208:0":"minecraft:end_rod[facing_direction=0]","208:1":"minecraft:end_rod[facing_direction=1]","208:2":"minecraft:end_rod[facing_direction=2]","208:3":"minecraft:end_rod[facing_direction=3]","208:4":"minecraft:end_rod[facing_direction=4]","208:5":"minecraft:end_rod[facing_direction=5]","209:0":"minecraft:end_gateway","210:0":"minecraft:allow","211:0":"minecraft:deny","212:0":"minecraft:border_block[wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","212:1":"minecraft:border_block[wall_connection_type_east=none,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=1]","212:2":"minecraft:border_block[wall_connection_type_east=none,wall_connection_type_north=short,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","212:3":"minecraft:border_block[wall_connection_type_east=none,wall_connection_type_north=short,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=1]","212:4":"minecraft:border_block[wall_connection_type_east=none,wall_connection_type_north=tall,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","212:5":"minecraft:border_block[wall_connection_type_east=none,wall_connection_type_north=tall,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=1]","212:6":"minecraft:border_block[wall_connection_type_east=short,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","212:7":"minecraft:border_block[wall_connection_type_east=short,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=1]","212:8":"minecraft:border_block[wall_connection_type_east=short,wall_connection_type_north=short,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","212:9":"minecraft:border_block[wall_connection_type_east=short,wall_connection_type_north=short,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=1]","212:10":"minecraft:border_block[wall_connection_type_east=short,wall_connection_type_north=tall,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","212:11":"minecraft:border_block[wall_connection_type_east=short,wall_connection_type_north=tall,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=1]","212:12":"minecraft:border_block[wall_connection_type_east=tall,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","212:13":"minecraft:border_block[wall_connection_type_east=tall,wall_connection_type_north=none,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=1]","212:14":"minecraft:border_block[wall_connection_type_east=tall,wall_connection_type_north=short,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=0]","212:15":"minecraft:border_block[wall_connection_type_east=tall,wall_connection_type_north=short,wall_connection_type_south=none,wall_connection_type_west=none,wall_post_bit=1]","213:0":"minecraft:magma","214:0":"minecraft:nether_wart_block","215:0":"minecraft:red_nether_brick","216:0":"minecraft:bone_block[deprecated=0,pillar_axis=y]","216:1":"minecraft:bone_block[deprecated=1,pillar_axis=y]","216:2":"minecraft:bone_block[deprecated=2,pillar_axis=y]","216:3":"minecraft:bone_block[deprecated=3,pillar_axis=y]","216:4":"minecraft:bone_block[deprecated=0,pillar_axis=x]","216:5":"minecraft:bone_block[deprecated=1,pillar_axis=x]","216:6":"minecraft:bone_block[deprecated=2,pillar_axis=x]","216:7":"minecraft:bone_block[deprecated=3,pillar_axis=x]","216:8":"minecraft:bone_block[deprecated=0,pillar_axis=z]","216:9":"minecraft:bone_block[deprecated=1,pillar_axis=z]","216:10":"minecraft:bone_block[deprecated=2,pillar_axis=z]","216:11":"minecraft:bone_block[deprecated=3,pillar_axis=z]","217:0":"minecraft:structure_void[structure_void_type=void]","217:1":"minecraft:structure_void[structure_void_type=air]","218:0":"minecraft:shulker_box[color=white]","218:1":"minecraft:shulker_box[color=orange]","218:2":"minecraft:shulker_box[color=magenta]","218:3":"minecraft:shulker_box[color=light_blue]","218:4":"minecraft:shulker_box[color=yellow]","218:5":"minecraft:shulker_box[color=lime]","218:6":"minecraft:shulker_box[color=pink]","218:7":"minecraft:shulker_box[color=gray]","218:8":"minecraft:shulker_box[color=silver]","218:9":"minecraft:shulker_box[color=cyan]","218:10":"minecraft:shulker_box[color=purple]","218:11":"minecraft:shulker_box[color=blue]","218:12":"minecraft:shulker_box[color=brown]","218:13":"minecraft:shulker_box[color=green]","218:14":"minecraft:shulker_box[color=red]","218:15":"minecraft:shulker_box[color=black]","219:0":"minecraft:purple_glazed_terracotta[facing_direction=0]","219:1":"minecraft:purple_glazed_terracotta[facing_direction=1]","219:2":"minecraft:purple_glazed_terracotta[facing_direction=2]","219:3":"minecraft:purple_glazed_terracotta[facing_direction=3]","219:4":"minecraft:purple_glazed_terracotta[facing_direction=4]","219:5":"minecraft:purple_glazed_terracotta[facing_direction=5]","220:0":"minecraft:white_glazed_terracotta[facing_direction=0]","220:1":"minecraft:white_glazed_terracotta[facing_direction=1]","220:2":"minecraft:white_glazed_terracotta[facing_direction=2]","220:3":"minecraft:white_glazed_terracotta[facing_direction=3]","220:4":"minecraft:white_glazed_terracotta[facing_direction=4]","220:5":"minecraft:white_glazed_terracotta[facing_direction=5]","221:0":"minecraft:orange_glazed_terracotta[facing_direction=0]","221:1":"minecraft:orange_glazed_terracotta[facing_direction=1]","221:2":"minecraft:orange_glazed_terracotta[facing_direction=2]","221:3":"minecraft:orange_glazed_terracotta[facing_direction=3]","221:4":"minecraft:orange_glazed_terracotta[facing_direction=4]","221:5":"minecraft:orange_glazed_terracotta[facing_direction=5]","222:0":"minecraft:magenta_glazed_terracotta[facing_direction=0]","222:1":"minecraft:magenta_glazed_terracotta[facing_direction=1]","222:2":"minecraft:magenta_glazed_terracotta[facing_direction=2]","222:3":"minecraft:magenta_glazed_terracotta[facing_direction=3]","222:4":"minecraft:magenta_glazed_terracotta[facing_direction=4]","222:5":"minecraft:magenta_glazed_terracotta[facing_direction=5]","223:0":"minecraft:light_blue_glazed_terracotta[facing_direction=0]","223:1":"minecraft:light_blue_glazed_terracotta[facing_direction=1]","223:2":"minecraft:light_blue_glazed_terracotta[facing_direction=2]","223:3":"minecraft:light_blue_glazed_terracotta[facing_direction=3]","223:4":"minecraft:light_blue_glazed_terracotta[facing_direction=4]","223:5":"minecraft:light_blue_glazed_terracotta[facing_direction=5]","224:0":"minecraft:yellow_glazed_terracotta[facing_direction=0]","224:1":"minecraft:yellow_glazed_terracotta[facing_direction=1]","224:2":"minecraft:yellow_glazed_terracotta[facing_direction=2]","224:3":"minecraft:yellow_glazed_terracotta[facing_direction=3]","224:4":"minecraft:yellow_glazed_terracotta[facing_direction=4]","224:5":"minecraft:yellow_glazed_terracotta[facing_direction=5]","225:0":"minecraft:lime_glazed_terracotta[facing_direction=0]","225:1":"minecraft:lime_glazed_terracotta[facing_direction=1]","225:2":"minecraft:lime_glazed_terracotta[facing_direction=2]","225:3":"minecraft:lime_glazed_terracotta[facing_direction=3]","225:4":"minecraft:lime_glazed_terracotta[facing_direction=4]","225:5":"minecraft:lime_glazed_terracotta[facing_direction=5]","226:0":"minecraft:pink_glazed_terracotta[facing_direction=0]","226:1":"minecraft:pink_glazed_terracotta[facing_direction=1]","226:2":"minecraft:pink_glazed_terracotta[facing_direction=2]","226:3":"minecraft:pink_glazed_terracotta[facing_direction=3]","226:4":"minecraft:pink_glazed_terracotta[facing_direction=4]","226:5":"minecraft:pink_glazed_terracotta[facing_direction=5]","227:0":"minecraft:gray_glazed_terracotta[facing_direction=0]","227:1":"minecraft:gray_glazed_terracotta[facing_direction=1]","227:2":"minecraft:gray_glazed_terracotta[facing_direction=2]","227:3":"minecraft:gray_glazed_terracotta[facing_direction=3]","227:4":"minecraft:gray_glazed_terracotta[facing_direction=4]","227:5":"minecraft:gray_glazed_terracotta[facing_direction=5]","228:0":"minecraft:silver_glazed_terracotta[facing_direction=0]","228:1":"minecraft:silver_glazed_terracotta[facing_direction=1]","228:2":"minecraft:silver_glazed_terracotta[facing_direction=2]","228:3":"minecraft:silver_glazed_terracotta[facing_direction=3]","228:4":"minecraft:silver_glazed_terracotta[facing_direction=4]","228:5":"minecraft:silver_glazed_terracotta[facing_direction=5]","229:0":"minecraft:cyan_glazed_terracotta[facing_direction=0]","229:1":"minecraft:cyan_glazed_terracotta[facing_direction=1]","229:2":"minecraft:cyan_glazed_terracotta[facing_direction=2]","229:3":"minecraft:cyan_glazed_terracotta[facing_direction=3]","229:4":"minecraft:cyan_glazed_terracotta[facing_direction=4]","229:5":"minecraft:cyan_glazed_terracotta[facing_direction=5]","231:0":"minecraft:blue_glazed_terracotta[facing_direction=0]","231:1":"minecraft:blue_glazed_terracotta[facing_direction=1]","231:2":"minecraft:blue_glazed_terracotta[facing_direction=2]","231:3":"minecraft:blue_glazed_terracotta[facing_direction=3]","231:4":"minecraft:blue_glazed_terracotta[facing_direction=4]","231:5":"minecraft:blue_glazed_terracotta[facing_direction=5]","232:0":"minecraft:brown_glazed_terracotta[facing_direction=0]","232:1":"minecraft:brown_glazed_terracotta[facing_direction=1]","232:2":"minecraft:brown_glazed_terracotta[facing_direction=2]","232:3":"minecraft:brown_glazed_terracotta[facing_direction=3]","232:4":"minecraft:brown_glazed_terracotta[facing_direction=4]","232:5":"minecraft:brown_glazed_terracotta[facing_direction=5]","233:0":"minecraft:green_glazed_terracotta[facing_direction=0]","233:1":"minecraft:green_glazed_terracotta[facing_direction=1]","233:2":"minecraft:green_glazed_terracotta[facing_direction=2]","233:3":"minecraft:green_glazed_terracotta[facing_direction=3]","233:4":"minecraft:green_glazed_terracotta[facing_direction=4]","233:5":"minecraft:green_glazed_terracotta[facing_direction=5]","234:0":"minecraft:red_glazed_terracotta[facing_direction=0]","234:1":"minecraft:red_glazed_terracotta[facing_direction=1]","234:2":"minecraft:red_glazed_terracotta[facing_direction=2]","234:3":"minecraft:red_glazed_terracotta[facing_direction=3]","234:4":"minecraft:red_glazed_terracotta[facing_direction=4]","234:5":"minecraft:red_glazed_terracotta[facing_direction=5]","235:0":"minecraft:black_glazed_terracotta[facing_direction=0]","235:1":"minecraft:black_glazed_terracotta[facing_direction=1]","235:2":"minecraft:black_glazed_terracotta[facing_direction=2]","235:3":"minecraft:black_glazed_terracotta[facing_direction=3]","235:4":"minecraft:black_glazed_terracotta[facing_direction=4]","235:5":"minecraft:black_glazed_terracotta[facing_direction=5]","236:0":"minecraft:concrete[color=white]","236:1":"minecraft:concrete[color=orange]","236:2":"minecraft:concrete[color=magenta]","236:3":"minecraft:concrete[color=light_blue]","236:4":"minecraft:concrete[color=yellow]","236:5":"minecraft:concrete[color=lime]","236:6":"minecraft:concrete[color=pink]","236:7":"minecraft:concrete[color=gray]","236:8":"minecraft:concrete[color=silver]","236:9":"minecraft:concrete[color=cyan]","236:10":"minecraft:concrete[color=purple]","236:11":"minecraft:concrete[color=blue]","236:12":"minecraft:concrete[color=brown]","236:13":"minecraft:concrete[color=green]","236:14":"minecraft:concrete[color=red]","236:15":"minecraft:concrete[color=black]","237:0":"minecraft:concretePowder[color=white]","237:1":"minecraft:concretePowder[color=orange]","237:2":"minecraft:concretePowder[color=magenta]","237:3":"minecraft:concretePowder[color=light_blue]","237:4":"minecraft:concretePowder[color=yellow]","237:5":"minecraft:concretePowder[color=lime]","237:6":"minecraft:concretePowder[color=pink]","237:7":"minecraft:concretePowder[color=gray]","237:8":"minecraft:concretePowder[color=silver]","237:9":"minecraft:concretePowder[color=cyan]","237:10":"minecraft:concretePowder[color=purple]","237:11":"minecraft:concretePowder[color=blue]","237:12":"minecraft:concretePowder[color=brown]","237:13":"minecraft:concretePowder[color=green]","237:14":"minecraft:concretePowder[color=red]","237:15":"minecraft:concretePowder[color=black]","238:0":"minecraft:chemistry_table[chemistry_table_type=compound_creator,direction=0]","238:1":"minecraft:chemistry_table[chemistry_table_type=compound_creator,direction=1]","238:2":"minecraft:chemistry_table[chemistry_table_type=compound_creator,direction=2]","238:3":"minecraft:chemistry_table[chemistry_table_type=compound_creator,direction=3]","238:4":"minecraft:chemistry_table[chemistry_table_type=material_reducer,direction=0]","238:5":"minecraft:chemistry_table[chemistry_table_type=material_reducer,direction=1]","238:6":"minecraft:chemistry_table[chemistry_table_type=material_reducer,direction=2]","238:7":"minecraft:chemistry_table[chemistry_table_type=material_reducer,direction=3]","238:8":"minecraft:chemistry_table[chemistry_table_type=element_constructor,direction=0]","238:9":"minecraft:chemistry_table[chemistry_table_type=element_constructor,direction=1]","238:10":"minecraft:chemistry_table[chemistry_table_type=element_constructor,direction=2]","238:11":"minecraft:chemistry_table[chemistry_table_type=element_constructor,direction=3]","238:12":"minecraft:chemistry_table[chemistry_table_type=lab_table,direction=0]","238:13":"minecraft:chemistry_table[chemistry_table_type=lab_table,direction=1]","238:14":"minecraft:chemistry_table[chemistry_table_type=lab_table,direction=2]","238:15":"minecraft:chemistry_table[chemistry_table_type=lab_table,direction=3]","239:0":"minecraft:underwater_torch[torch_facing_direction=unknown]","239:1":"minecraft:underwater_torch[torch_facing_direction=west]","239:2":"minecraft:underwater_torch[torch_facing_direction=east]","239:3":"minecraft:underwater_torch[torch_facing_direction=north]","239:4":"minecraft:underwater_torch[torch_facing_direction=south]","239:5":"minecraft:underwater_torch[torch_facing_direction=top]","240:0":"minecraft:chorus_plant","241:0":"minecraft:stained_glass[color=white]","241:1":"minecraft:stained_glass[color=orange]","241:2":"minecraft:stained_glass[color=magenta]","241:3":"minecraft:stained_glass[color=light_blue]","241:4":"minecraft:stained_glass[color=yellow]","241:5":"minecraft:stained_glass[color=lime]","241:6":"minecraft:stained_glass[color=pink]","241:7":"minecraft:stained_glass[color=gray]","241:8":"minecraft:stained_glass[color=silver]","241:9":"minecraft:stained_glass[color=cyan]","241:10":"minecraft:stained_glass[color=purple]","241:11":"minecraft:stained_glass[color=blue]","241:12":"minecraft:stained_glass[color=brown]","241:13":"minecraft:stained_glass[color=green]","241:14":"minecraft:stained_glass[color=red]","241:15":"minecraft:stained_glass[color=black]","242:0":"minecraft:camera","243:0":"minecraft:podzol","244:0":"minecraft:beetroot[growth=0]","244:1":"minecraft:beetroot[growth=1]","244:2":"minecraft:beetroot[growth=2]","244:3":"minecraft:beetroot[growth=3]","244:4":"minecraft:beetroot[growth=4]","244:5":"minecraft:beetroot[growth=5]","244:6":"minecraft:beetroot[growth=6]","244:7":"minecraft:beetroot[growth=7]","245:0":"minecraft:stonecutter","246:0":"minecraft:glowingobsidian","247:0":"minecraft:netherreactor","248:0":"minecraft:info_update","249:0":"minecraft:info_update2","250:0":"minecraft:movingBlock","251:0":"minecraft:observer[facing_direction=0,powered_bit=0]","251:1":"minecraft:observer[facing_direction=1,powered_bit=0]","251:2":"minecraft:observer[facing_direction=2,powered_bit=0]","251:3":"minecraft:observer[facing_direction=3,powered_bit=0]","251:4":"minecraft:observer[facing_direction=4,powered_bit=0]","251:5":"minecraft:observer[facing_direction=5,powered_bit=0]","251:6":"minecraft:observer[facing_direction=0,powered_bit=1]","251:7":"minecraft:observer[facing_direction=1,powered_bit=1]","251:8":"minecraft:observer[facing_direction=2,powered_bit=1]","251:9":"minecraft:observer[facing_direction=3,powered_bit=1]","251:10":"minecraft:observer[facing_direction=4,powered_bit=1]","251:11":"minecraft:observer[facing_direction=5,powered_bit=1]","252:0":"minecraft:structure_block[structure_block_type=data]","252:1":"minecraft:structure_block[structure_block_type=save]","252:2":"minecraft:structure_block[structure_block_type=load]","252:3":"minecraft:structure_block[structure_block_type=corner]","252:4":"minecraft:structure_block[structure_block_type=invalid]","252:5":"minecraft:structure_block[structure_block_type=export]","253:0":"minecraft:hard_glass","254:0":"minecraft:hard_stained_glass[color=white]","254:1":"minecraft:hard_stained_glass[color=orange]","254:2":"minecraft:hard_stained_glass[color=magenta]","254:3":"minecraft:hard_stained_glass[color=light_blue]","254:4":"minecraft:hard_stained_glass[color=yellow]","254:5":"minecraft:hard_stained_glass[color=lime]","254:6":"minecraft:hard_stained_glass[color=pink]","254:7":"minecraft:hard_stained_glass[color=gray]","254:8":"minecraft:hard_stained_glass[color=silver]","254:9":"minecraft:hard_stained_glass[color=cyan]","254:10":"minecraft:hard_stained_glass[color=purple]","254:11":"minecraft:hard_stained_glass[color=blue]","254:12":"minecraft:hard_stained_glass[color=brown]","254:13":"minecraft:hard_stained_glass[color=green]","254:14":"minecraft:hard_stained_glass[color=red]","254:15":"minecraft:hard_stained_glass[color=black]","255:0":"minecraft:reserved6"},items:{}}});var dY=qe((h9e,f5e)=>{f5e.exports={title:"biomes",type:"array",uniqueItems:!0,items:{title:"biome",type:"object",properties:{id:{description:"The unique identifier for a biome",type:"integer",minimum:0},name:{description:"The name of a biome",type:"string"},category:{description:"The category of a biome",type:"string"},temperature:{description:"An indicator for the temperature in a biome",type:"number",minimum:-1,maximum:2},precipitation:{description:"The type of precipitation: none, rain or snow [before 1.19.4]",type:"string"},has_precipitation:{description:"True if a biome has any precipitation (rain or snow) [1.19.4+]",type:"boolean"},dimension:{description:"The dimension of a biome: overworld, nether or end",type:"string"},displayName:{description:"The display name of a biome",type:"string",pattern:"\\S+"},color:{description:"The color in a biome",type:"integer",minimum:0},rainfall:{description:"How much rain there is in a biome [before 1.19.4]",type:"number",minimum:0,maximum:1}},required:["id","name","category","temperature","dimension","displayName","color"]}}});var pY=qe((f9e,d5e)=>{d5e.exports={title:"blocks",type:"array",uniqueItems:!0,items:{title:"block",type:"object",properties:{id:{description:"The unique identifier for a block",type:"integer",minimum:0},displayName:{description:"The display name of a block",type:"string"},name:{description:"The name of a block",type:"string",pattern:"\\S+"},hardness:{description:"Hardness of a block",type:["number","null"],minimum:-1},stackSize:{description:"Stack size for a block",type:"integer",minimum:0},diggable:{description:"true if a block is diggable",type:"boolean"},boundingBox:{description:"BoundingBox of a block",enum:["block","empty"]},material:{description:"Material of a block",type:"string"},harvestTools:{description:"Using one of these tools is required to harvest a block, without that you get a 3.33x time penalty.",type:"object",patternProperties:{"^[0-9]+$":{type:"boolean"}}},variations:{type:"array",items:{type:"object",properties:{metadata:{type:"integer",minimum:0},displayName:{type:"string"},description:{type:"string"}},required:["metadata","displayName"],additionalProperties:!1}},states:{type:"array",items:{type:"object",properties:{name:{description:"The name of the property",type:"string"},type:{description:"The type of the property",type:"string",enum:["enum","bool","int","direction"]},values:{description:"The possible values of the property",type:"array"},num_values:{description:"The number of possible values",type:"number",minimum:1}},required:["name","type","num_values"],additionalProperties:!1}},drops:{type:"array",items:{oneOf:[{type:["integer"]},{type:"object",properties:{minCount:{type:"number",minimum:0,description:"minimum number or chance, default : 1"},maxCount:{type:"number",minimum:0,description:"maximum number or chance, default : minCount"},drop:{oneOf:[{type:["integer"]},{type:"object",properties:{id:{type:"integer",minimum:0},metadata:{type:"integer",minimum:0}},required:["id","metadata"],additionalProperties:!1}]}},required:["drop"],additionalProperties:!1}]}},transparent:{description:"true if a block is transparent",type:"boolean"},emitLight:{description:"Light emitted by that block",type:"integer",minimum:0,maximum:15},filterLight:{description:"Light filtered by that block",type:"integer",minimum:0,maximum:15},minStateId:{description:"Minimum state id",type:"integer",minimum:0},maxStateId:{description:"Maximum state id",type:"integer",minimum:0},defaultState:{description:"Default state id",type:"integer",minimum:0},resistance:{description:"Blast resistance",type:["number","null"],minimum:-1}},required:["id","displayName","name","hardness","stackSize","diggable","boundingBox","drops","transparent","emitLight","filterLight"],additionalProperties:!1}}});var mY=qe((d9e,p5e)=>{p5e.exports={title:"effects",type:"array",uniqueItems:!0,items:{title:"effect",type:"object",properties:{id:{description:"The unique identifier for an effect",type:"integer",minimum:0},displayName:{description:"The display name of an effect",type:"string"},name:{description:"The name of an effect",type:"string",pattern:"\\S+"},type:{description:"Whether an effect is positive or negative",enum:["good","bad"]}},required:["id","displayName","type","name"],additionalProperties:!1}}});var _Y=qe((p9e,m5e)=>{m5e.exports={$id:"https://example.com/person.schema.json",$schema:"http://json-schema.org/draft-07/schema#",definitions:{RootNode:{type:"object",properties:{type:{enum:["root"]},name:{type:"string"},executable:{type:"boolean"},redirects:{type:"array",items:{type:"string"}},children:{type:"array",items:{oneOf:[{$ref:"#/definitions/LiteralNode"},{$ref:"#/definitions/ArgumentNode"}]}}},required:["type","name","executable","redirects","children"]},LiteralNode:{type:"object",properties:{type:{enum:["literal"]},name:{type:"string"},executable:{type:"boolean"},redirects:{type:"array",items:{type:"string"}},children:{type:"array",items:{oneOf:[{$ref:"#/definitions/LiteralNode"},{$ref:"#/definitions/ArgumentNode"}]}}},required:["type","name","executable","redirects","children"]},ArgumentNode:{type:"object",properties:{type:{enum:["argument"]},name:{type:"string"},executable:{type:"boolean"},redirects:{type:"array",items:{type:"string"}},children:{type:"array",items:{oneOf:[{$ref:"#/definitions/LiteralNode"},{$ref:"#/definitions/ArgumentNode"}]}},parser:{type:"object",properties:{parser:{type:"string"},modifier:{type:["object","null"]}}}},required:["type","name","executable","redirects","children"]},ParserInfo:{type:"object",properties:{parser:{type:"string"},modifier:{type:["object","null"]},examples:{type:"array",items:{type:"string"}}},required:["parser","modifier","examples"]}},type:"object",properties:{graph:{$ref:"#/definitions/RootNode"},parsers:{type:"array",items:{$ref:"#/definitions/ParserInfo"}}},required:["root","parsers"]}});var gY=qe((m9e,_5e)=>{_5e.exports={title:"entities",type:"array",uniqueItems:!0,items:{title:"entity",type:"object",properties:{id:{description:"The unique identifier for an entity",type:"integer",minimum:0},internalId:{description:"The internal id of an entity : used in eggs metadata for example",type:"integer",minimum:0},displayName:{description:"The display name of an entity",type:"string"},name:{description:"The name of an entity",type:"string",pattern:"\\S+"},type:{description:"The type of an entity",type:"string"},width:{description:"The width of the entity",type:["number","null"]},height:{description:"The height of the entity",type:["number","null"]},length:{description:"The length of the entity",type:["number","null"]},offset:{description:"The offset of the entity",type:["number","null"]},category:{description:"The category of an entity : a semantic category",type:"string"},metadataKeys:{description:"The pc metadata tags of an entity. (Naming is via mc code, with data_ and id_ prefixes stripped)",type:"array",items:{type:"string"}}},required:["id","displayName","name","type","width","height"],additionalProperties:!1}}});var bY=qe((_9e,g5e)=>{g5e.exports={title:"enchantments",type:"array",uniqueItems:!0,items:{title:"enchantment",type:"object",properties:{id:{description:"The unique identifier for an enchantment",type:"integer",minimum:0},name:{description:"The name of an enchantment",type:"string",pattern:"\\S+"},displayName:{description:"The display name of an enchantment",type:"string"},maxLevel:{description:"The maximum level of an enchantment",type:"integer",minimum:1,maximum:5},minCost:{description:"Min cost equation's coefficients a * level + b",type:"object",properties:{a:{type:"integer"},b:{type:"integer"}}},maxCost:{description:"Max cost equation's coefficients a * level + b",type:"object",properties:{a:{type:"integer"},b:{type:"integer"}}},treasureOnly:{description:"Can only be found in a treasure, not created",type:"boolean"},curse:{description:"Is a curse, not an enchantment",type:"boolean"},exclude:{description:"List of enchantment not compatibles",type:"array",uniqueItems:!0,items:{type:"string"}},category:{description:"The category of enchantable items",type:"string"},weight:{description:"Weight of the rarity of the enchantment",type:"integer",minimum:1,maximum:10},tradeable:{description:"Can this enchantment be traded",type:"boolean"},discoverable:{description:"Can this enchantment be discovered",type:"boolean"}},required:["id","name","displayName","maxLevel","minCost","maxCost","exclude","category","weight","treasureOnly","curse","tradeable","discoverable"]}}});var yY=qe((g9e,b5e)=>{b5e.exports={title:"instruments",type:"array",uniqueItems:!0,items:{title:"instrument",type:"object",properties:{id:{description:"The unique identifier for an instrument",type:"integer",minimum:0},name:{description:"The name of an instrument",type:"string",pattern:"\\S+"},sound:{description:"The sound ID played by this instrument",type:"string",pattern:"\\S+"}},required:["id","name"],additionalProperties:!1}}});var vY=qe((b9e,y5e)=>{y5e.exports={title:"items",type:"array",uniqueItems:!0,items:{title:"item",type:"object",properties:{id:{description:"The unique identifier for an item",type:"integer",minimum:0},displayName:{description:"The display name of an item",type:"string"},stackSize:{description:"Stack size for an item",type:"integer",minimum:0},enchantCategories:{description:"describes categories of enchants this item can use",type:"array",uniqueItems:!0,items:{type:"string"}},repairWith:{description:"describes what items this item can be fixed with in an anvil",type:"array",uniqueItems:!0,items:{type:"string"}},maxDurability:{description:"the amount of durability an item has before being damaged/used",type:"integer",minimum:0},name:{description:"The name of an item",type:"string",pattern:"\\S+"},variations:{type:"array",items:{type:"object",properties:{metadata:{type:"integer",minimum:0},displayName:{type:"string"}},required:["metadata","displayName"],additionalProperties:!0}}},required:["id","displayName","stackSize","name"],additionalProperties:!0}}});var wY=qe((y9e,v5e)=>{v5e.exports={title:"materials",type:"object",uniqueItems:!0,patternProperties:{"^[a-z;/_]+$":{title:"material",type:"object",patternProperties:{"^[0-9]+$":{type:"number"}},additionalProperties:!1}},additionalProperties:!1}});var xY=qe((v9e,w5e)=>{w5e.exports={title:"protocolVersions",type:"array",uniqueItems:!0,items:{type:"object",uniqueItems:!0,properties:{version:{description:"The protocol version",type:"integer"},dataVersion:{type:"integer"},minecraftVersion:{type:"string",pattern:"([0-9]+\\.[0-9]+(\\.[0-9]+)?[a-z]?(-pre[0-9]+)?)|([0-9]{2}w[0-9]{2}[a-z])"},majorVersion:{type:"string",pattern:"[0-9]+\\.[0-9]+[a-z]?"},usesNetty:{type:"boolean"},releaseType:{type:"string",pattern:"[a-z]+"}},required:["version","minecraftVersion","majorVersion"],additionalProperties:!1}}});var SY=qe((w9e,x5e)=>{x5e.exports={title:"recipes",description:"A dictionary of quoted numerical item IDs. Each ID maps to a list of recipes. There may be multiple different recipes per item (same ID and metadata). The recipes may not be sorted.",definitions:{id:{type:["integer","null"],description:"A single numerical ID or null."},metadata:{type:"integer"},count:{type:"integer"},id_metadata_array:{type:"array",title:"[id,metadata]",description:"A list of id and metadata. This is preferred if there are many items at once, e.g. in a shape.",items:[{$ref:"#/definitions/id"},{$ref:"#/definitions/metadata"}],additionalItems:!1},id_metadata_count_object:{type:"object",title:"{id:1,metadata:1,count:1}",description:"A dictionary of at least id, optionally metadata and count. This is preferred if there are not many items at once, e.g. result in a recipe.",properties:{id:{$ref:"#/definitions/id"},metadata:{$ref:"#/definitions/metadata"},count:{$ref:"#/definitions/count"}},required:["id"],additionalProperties:!1},recipeItem:{title:"recipe item",description:"An item can be represented different ways.",oneOf:[{$ref:"#/definitions/id"},{$ref:"#/definitions/id_metadata_array"},{$ref:"#/definitions/id_metadata_count_object"}]},shapeRow:{type:"array",minItems:1,maxItems:3,items:{$ref:"#/definitions/recipeItem"}},shape:{type:"array",description:"A shape is a list of rows, which are lists of items. There must be at least one row with at least one item in it. All rows must have the same length. Empty rows at the beginning or end of a shape may be omitted. Empty colums at the end may also be omitted. When an item can be crafted in a 2x2 grid, the shape may not be larger than 2x2.",minItems:1,maxItems:3,items:{$ref:"#/definitions/shapeRow"}},ingredients:{type:"array",minItems:1,items:{$ref:"#/definitions/recipeItem"}},shaped_recipe:{title:"shaped recipe",description:"A shaped recipe is a dictionary of result, inShape and optionally outShape",type:"object",properties:{result:{$ref:"#/definitions/recipeItem"},inShape:{$ref:"#/definitions/shape"},outShape:{$ref:"#/definitions/shape"}},required:["result","inShape"],additionalProperties:!1},shapeless_recipe:{title:"shapeless recipe",description:"A shapeless recipe is a dictionary of result and ingredients",type:"object",properties:{result:{$ref:"#/definitions/recipeItem"},ingredients:{$ref:"#/definitions/ingredients"}},required:["result","ingredients"],additionalProperties:!1},recipe:{oneOf:[{$ref:"#/definitions/shaped_recipe"},{$ref:"#/definitions/shapeless_recipe"}]}},type:"object",uniqueItems:!0,patternProperties:{"^[0-9]+$":{oneOf:[{type:"array",uniqueItems:!0,items:{$ref:"#/definitions/recipe"}},{title:"new recipe",description:"Bedrock recipe schema",type:"object",properties:{name:{type:["string","null"],description:"A unique identifier for this item"},type:{description:"What type of recipe and block this recipe relates to",enum:["multi","cartography_table","stonecutter","crafting_table","crafting_table_shapeless","shulker_box","furnace","blast_furnace","smoker","soul_campfire","campfire","smithing_table"]},ingredients:{type:"array",minItems:1},input:{type:"array"},output:{type:"array"},priority:{type:"number",description:"Specific to bedrock edition"}},required:["name","type","ingredients","output"],additionalProperties:!1}]}},additionalProperties:!1}});var EY=qe((x9e,S5e)=>{S5e.exports={title:"version",type:"object",uniqueItems:!0,properties:{version:{description:"The protocol version",type:"integer"},minecraftVersion:{type:"string",pattern:"([0-9]+\\.[0-9]+(\\.[0-9]+)?[a-z]?(-pre[0-9]+)?)|([0-9]{2}w[0-9]{2}[a-z])"},majorVersion:{type:"string",pattern:"[0-9]+\\.[0-9]+[a-z]?"},releaseType:{type:"string",pattern:"[a-z]+"}},additionalProperties:!1}});var MY=qe((S9e,E5e)=>{E5e.exports={title:"windows",type:"array",minItems:1,uniqueItems:!0,items:{title:"window",type:"object",additionalProperties:!1,properties:{id:{description:"The unique identifier for the window",type:"string"},name:{description:"The default displayed name of the window",type:"string"},slots:{description:"The slots displayed in the window",type:"array",minItems:1,uniqueItems:!0,items:{description:"A slot or slot range in the window",type:"object",additionalProperties:!1,properties:{name:{description:"The name of the slot or slot range",type:"string"},index:{description:"The position of the slot or begin of the slot range",type:"integer",minimum:0},size:{description:"The size of the slot range",type:"integer",minimum:0}},required:["name","index"]},additionalItems:!1},properties:{description:"Names of the properties of the window",type:"array",minItems:1,items:{type:"string"},additionalItems:!1},openedWith:{type:"array",items:{type:"object",properties:{type:{enum:["item","entity","block"]},id:{type:"integer"}},required:["type","id"],additionalProperties:!1}}},required:["id","name"]}}});var AY=qe((E9e,M5e)=>{M5e.exports={title:"foods",type:"array",uniqueItems:!0,items:{title:"food",type:"object",properties:{id:{description:"The unique identifier for an item",type:"integer",minimum:0},displayName:{description:"The display name of an item",type:"string"},stackSize:{description:"Stack size for an item",type:"integer",minimum:0},name:{description:"The name of an item",type:"string",pattern:"\\S+"},foodPoints:{description:"The amount of food points the food item replenishes",type:"number",minimum:0},saturation:{description:"The amount of saturation points the food  restores",type:"number",minimum:0},effectiveQuality:{description:"The effective quality of the food item",type:"number",minimum:0},saturationRatio:{description:"The saturation ratio of the food item",type:"number",minimum:0},variations:{type:"array",items:{type:"object",properties:{metadata:{type:"integer",minimum:0},displayName:{type:"string"}},required:["metadata","displayName"],additionalProperties:!1}}},required:["id","displayName","stackSize","name","foodPoints","saturation","effectiveQuality","saturationRatio"],additionalProperties:!1}}});var TY=qe((M9e,A5e)=>{A5e.exports={title:"particles",type:"array",uniqueItems:!0,items:{title:"particle",type:"object",properties:{id:{description:"The unique identifier for a particle",type:"integer",minimum:0},name:{description:"The name of a particle",type:"string",pattern:"\\S+"}},required:["id","name"],additionalProperties:!1}}});var kY=qe((A9e,T5e)=>{T5e.exports={title:"mapIcons",type:"array",uniqueItems:!0,items:{title:"mapIcon",type:"object",properties:{id:{description:"The unique identifier for a map icon",type:"integer",minimum:0},name:{description:"The name of a map icon",type:"string"},appearance:{description:"Description of the map icon's appearance",type:"string"},visibleInItemFrame:{description:"Visibility in item frames",type:"boolean"}},required:["id","name","visibleInItemFrame"],additionalProperties:!1}}});var HS=qe((T9e,xo)=>{ne();ae();re();var k5e=tY(),R5e=sY(),DS=SC(),Bl={pc:oY(),bedrock:lY()},Vg={},MC={},VS={},qS={},P5e=["pc","bedrock"];P5e.forEach(function(i){for(let e=0;e<Bl[i].length;e++)Bl[i][e].dataVersion||(Bl[i][e].dataVersion=-e);Vg[i]=DS.buildIndexFromArray(Bl[i],"minecraftVersion"),MC[i]=DS.buildIndexFromArray(Bl[i].slice().reverse(),"majorVersion"),VS[i]=DS.buildIndexFromArrayNonUnique(Bl[i].filter(function(e){return!e.usesNetty}),"version"),qS[i]=DS.buildIndexFromArrayNonUnique(Bl[i].filter(function(e){return e.usesNetty}),"version")});function RY(i,e,t){let n=Vg[i];for(let s in n){let o=n[s];o.minecraftVersion.endsWith(".0")&&(n[o.majorVersion]=o)}this.dataVersion=n[e]?.dataVersion;let r=this.dataVersion??0,a=l(s=>{throw new RangeError(`Version '${s}' not found in [${Object.keys(n).join(" ; ")}] for ${i}`)},"raise");return this[">="]=s=>n[s]?r>=n[s].dataVersion:a(s),this[">"]=s=>n[s]?r>n[s].dataVersion:a(s),this["<"]=s=>n[s]?r<n[s].dataVersion:a(s),this["<="]=s=>n[s]?r<=n[s].dataVersion:a(s),this["=="]=s=>n[s]?r===n[s].dataVersion:a(s),this.type=i,this.majorVersion=t,this}l(RY,"Version");var EC={};xo.exports=function(i,e){e=e||!1,i=String(i).replace("pe_","bedrock_");let t=AC(i,e);if(t==null)return null;let n=`${t.type}_${t.majorVersion}_${t.dataVersion}`;if(EC[n])return EC[n];let r=PY[t.type][t.majorVersion];if(r==null)return null;let a=k5e(r);return a.type=t.type,a.isNewerOrEqualTo=s=>a.version[">="](s),a.isOlderThan=s=>a.version["<"](s),a.version=Object.assign(t,a.version),EC[n]=a,a.supportFeature=R5e(a.version,Bl[a.type]),a};xo.exports.Version=RY;function AC(i,e,t){let n=(i+"").split("_"),r=t||(n.length===2?n[0]:"pc"),a=n.length===2?n[1]:i,s;if(PY[r][a])s=a;else if(Vg[r][a])s=Vg[r][a].majorVersion;else{if(e&&VS[r][a])return AC(VS[r][a][0].minecraftVersion,e,r);if(!e&&qS[r][a]){let o=qS[r][a],c=o.filter(u=>!/[a-zA-Z]/g.test(u.minecraftVersion));return AC(c[0]?c[0].minecraftVersion:o[0].minecraftVersion,e,r)}else MC[r][a]&&(s=MC[r][a].minecraftVersion)}return new RY(r,a,s)}l(AC,"toMajor");xo.exports.supportedVersions={pc:cY(),bedrock:uY()};xo.exports.versions=Bl;xo.exports.versionsByMinecraftVersion=Vg;xo.exports.preNettyVersionsByProtocolVersion=VS;xo.exports.postNettyVersionsByProtocolVersion=qS;xo.exports.legacy={pc:hY(),bedrock:fY()};var I5e={biomes:dY(),blocks:pY(),effects:mY(),commands:_Y(),entities:gY(),enchantments:bY(),instruments:yY(),items:vY(),materials:wY(),protocolVersions:xY(),recipes:SY(),version:EY(),windows:MY(),foods:AY(),particles:TY(),mapIcons:kY()};xo.exports.schemas=I5e;var PY=yR()});var CY=qe((C9e,IY)=>{ne();ae();re();IY.exports=i=>({})});var NY=qe((B9e,LY)=>{ne();ae();re();var Ji=Dg();LY.exports={networkBiomesToMcDataSchema(i,e){let t=i.name.replace("minecraft:",""),n=e.biomesByName[t];return Object.assign(i.element,{...n,id:i.id,name:t,category:i.element.category,temperature:i.element.temperature,depth:i.element.depth,scale:i.element.scale,precipitation:i.element.precipitation,rainfall:i.element.downfall})},mcDataSchemaToNetworkBiomes(i,e){let t=[];if(i)for(let n of i){let r=Object.entries(n.effects).map(([a,s])=>({[a]:Ji.int(s)})).reduce((a,s)=>Object.assign(a,s),{});t.push({name:Ji.string("minecraft:"+n.name),id:Ji.int(n.id),element:Ji.comp({depth:Ji.float(n.depth),scale:Ji.float(n.scale),category:Ji.string(n.category),temperature:Ji.float(n.temperature),precipitation:Ji.string(n.precipitation),downfall:Ji.float(n.rainfall),effects:Ji.comp({...r,mood_sound:n.effects?.mood_sound?Ji.comp({tick_delay:Ji.int(n.effects.mood_sound.tick_delay),offset:Ji.double(n.effects.mood_sound.offset),sound:Ji.string(n.effects.mood_sound.sound),block_search_extent:Ji.int(n.effects.mood_sound.block_search_extent)}):void 0})})})}else for(let n of e.biomesArray)t.push({name:Ji.string("minecraft:"+n.name),id:Ji.int(n.id),element:Ji.comp({depth:Ji.float(n.depth),scale:Ji.float(n.scale),category:Ji.string(n.category),temperature:Ji.float(n.temperature),precipitation:Ji.string(n.precipitation),downfall:Ji.float(n.rainfall),effects:{sky_color:Ji.int(n.color)}})});return t}}});var BY=qe((D9e,OY)=>{ne();ae();re();var Us=Dg();Us.float=i=>({type:"float",value:i});var{networkBiomesToMcDataSchema:C5e,mcDataSchemaToNetworkBiomes:L5e}=NY();OY.exports=(i,e)=>{let t=!1;return{loadDimensionCodec(n){let r=Us.simplify(n),a=r["minecraft:chat_type"]?.value;if(a){i.chatFormattingById={},i.chatFormattingByName={};for(let u of a){let h=u.element?.chat?.decoration??u.element?.chat;if(!h)continue;let f={id:u.id,name:u.name,formatString:e.language[h.translation_key]||h.translation_key,parameters:h.parameters};i.chatFormattingById[u.id]=f,i.chatFormattingByName[u.name]=f}}let s=r["minecraft:dimension_type"]?.value;if(s){i.dimensionsById={},i.dimensionsByName={};for(let{name:u,id:h,element:f}of s){let p=u.replace("minecraft:",""),d={name:p,minY:f.min_y,height:f.height};i.dimensionsById[h]=d,i.dimensionsByName[p]=d}}let o=r["minecraft:worldgen/biome"]?.value;if(!o)return;i.biomes=[],i.biomesByName={},i.biomesArray=[],o.map(u=>C5e(u,e));let c=[];for(let{name:u,id:h,element:f}of o)i.biomes[h]=f,i.biomesByName[u]=f,c.push(f);i.biomesArray=c,t=!0},writeDimensionCodec(){let n={};return i.version["<"]("1.16")?n:i.version["<"]("1.16.2")?e.loginPacket.dimensionCodec:(i.version[">="]("1.16.2")&&(i.dimensionsArray?n["minecraft:dimension_type"]=Us.comp({type:Us.string("minecraft:dimension_type"),value:Us.list(Us.comp(i.dimensionsArray.map(r=>({name:r.name,id:r.id,element:r.element}))))}):n["minecraft:dimension_type"]=e.loginPacket.dimensionCodec.value["minecraft:dimension_type"],n["minecraft:worldgen/biome"]=Us.comp({type:Us.string("minecraft:worldgen/biome"),value:Us.list(Us.comp(L5e(t?i.biomesArray:null,e)))}),n["minecraft:chat_type"]=e.loginPacket.dimensionCodec?.value?.["minecraft:chat_type"]),Us.comp(n))}}}});var qg=qe((G9e,FY)=>{ne();ae();re();var N5e=ZX();FY.exports=i=>{let e=HS()(i),t=N5e(e),n;return i.startsWith("bedrock_")?n=CY()(t,e):n=BY()(t,e),Object.assign(t,n)}});var DY=qe((X9e,zY)=>{ne();ae();re();var UY=FS(),Hg=Dg(),O5e={0:"black",1:"dark_blue",2:"dark_green",3:"dark_aqua",4:"dark_red",5:"dark_purple",6:"gold",7:"gray",8:"dark_gray",9:"blue",a:"green",b:"aqua",c:"red",d:"light_purple",e:"yellow",f:"white",k:"obfuscated",l:"bold",m:"strikethrough",n:"underlined",o:"italic",r:"reset"};function B5e(i){class e{static{l(this,"MessageBuilder")}constructor(){this.with=[],this.extra=[]}setBold(n){return this.bold=n,this}setItalic(n){return this.italic=n,this}setUnderlined(n){return this.underlined=n,this}setStrikethrough(n){return this.strikethrough=n,this}setObfuscated(n){return this.obfuscated=n,this}setColor(n){return this.color=n,this}setText(n){return this.text=n,this}setFont(n){return this.font=n,this}setTranslate(n){return this.translate=n,this}setInsertion(n){return this.insertion=n,this}setKeybind(n){return this.keybind=n,this}setScore(n,r){return this.score={name:n,objective:r},this}setClickEvent(n,r){return this.clickEvent={action:n,value:r},this}setHoverEvent(n,r,a="contents"){let s={action:n};if(a==="contents")switch(n){case"show_item":s.contents={id:`minecraft:${r.name}`,count:r.count,tag:r.nbt?UY.stringify(r.nbt):{}};break;case"show_entity":s.contents={name:r.displayName,type:`minecraft:${r.name}`,id:r.uuid};break;case"show_text":s.contents=r;break;default:throw Error("Not implemented")}else if(a==="value")switch(n){case"show_item":s.value=UY.stringify(Hg.comp({id:Hg.string(`minecraft:${r.name}`),Count:Hg.byte(r.count),tag:r.nbt||Hg.comp({}),Damage:Hg.short(0)}));break;case"show_text":s.value=r.toString();break;case"show_entity":default:throw Error("Not implemented")}return this.hoverEvent=s,this}addExtra(...n){for(let r of n){let a=typeof r=="string"?r:r.toJSON();this.extra.push(a)}return this}addWith(...n){for(let r of n){let a=typeof r=="string"?r:r.toJSON();this.with.push(a)}return this}resetFormatting(){this.setBold(!1),this.setItalic(!1),this.setUnderlined(!1),this.setStrikethrough(!1),this.setObfuscated(!1),this.setColor("reset")}toJSON(){let n=l(a=>a!==void 0,"isDef"),r={};return n(this.strikethrough)&&(r.strikethrough=this.strikethrough),n(this.obfuscated)&&(r.obfuscated=this.obfuscated),n(this.underlined)&&(r.underlined=this.underlined),n(this.clickEvent)&&(r.clickEvent=this.clickEvent),n(this.hoverEvent)&&(r.hoverEvent=this.hoverEvent),n(this.translate)&&(r.translate=this.translate),n(this.insertion)&&(r.insertion=this.insertion),n(this.italic)&&(r.italic=this.italic),n(this.color)&&(r.color=this.color),n(this.bold)&&(r.bold=this.bold),n(this.font)&&(r.font=this.font),n(this.text)?r.text=this.text:n(this.keybind)?r.keybind=this.keybind:n(this.score)&&(r.score=this.score),n(this.translate)&&this.with.length>0&&(r.with=this.with),this.extra.length>0&&(r.extra=this.extra),r}toString(){return JSON.stringify(this)}static fromString(n,{colorSeparator:r="&"}={}){let a=null,s="";for(let o=n.length-1;o>-1;o--){let c=n.substring(o,o+1);if(c!==r)s+=c;else{let u=s.split("").reverse(),h=O5e[u.shift()],f=new e;h==="obfuscated"?f.setObfuscated(!0):h==="bold"?f.setBold(!0):h==="strikethrough"?f.setStrikethrough(!0):h==="underlined"?f.setUnderlined(!0):h==="italic"?f.setItalic(!0):h==="reset"?f.resetFormatting():f.setColor(h),f.setText(u.join("")),a===null?a=f:a=f.addExtra(a),s=""}}if(s!==""){let o=s.split("").reverse().join("");a!==null?a=new e().setText(o).addExtra(a):a=new e().setText(o)}return a}}return{MessageBuilder:e}}l(B5e,"loader");zY.exports=B5e});var kC=qe((Q9e,HY)=>{ne();ae();re();var F5e=FS(),TC=HX(),VY=XX()("minecraft-protocol");HY.exports=U5e;var Gg=l((i,e,t)=>Object.prototype.hasOwnProperty.call(i,e)?i[e]:t,"getValueSafely");function U5e(i){let e=typeof i=="string"?qg()(i):i,t=e.language,n={"\xA70":"\x1B[30m","\xA71":"\x1B[34m","\xA72":"\x1B[32m","\xA73":"\x1B[36m","\xA74":"\x1B[31m","\xA75":"\x1B[35m","\xA76":"\x1B[33m","\xA77":"\x1B[37m","\xA78":"\x1B[90m","\xA79":"\x1B[94m","\xA7a":"\x1B[92m","\xA7b":"\x1B[96m","\xA7c":"\x1B[91m","\xA7d":"\x1B[95m","\xA7e":"\x1B[93m","\xA7f":"\x1B[97m","\xA7l":"\x1B[1m","\xA7o":"\x1B[3m","\xA7n":"\x1B[4m","\xA7m":"\x1B[9m","\xA7k":"\x1B[6m","\xA7r":"\x1B[0m"},r={black:"color:#000000",dark_blue:"color:#0000AA",dark_green:"color:#00AA00",dark_aqua:"color:#00AAAA",dark_red:"color:#AA0000",dark_purple:"color:#AA00AA",gold:"color:#FFAA00",gray:"color:#AAAAAA",dark_gray:"color:#555555",blue:"color:#5555FF",green:"color:#55FF55",aqua:"color:#55FFFF",red:"color:#FF5555",light_purple:"color:#FF55FF",yellow:"color:#FFFF55",white:"color:#FFFFFF",bold:"font-weight:900",strikethrough:"text-decoration:line-through",underlined:"text-decoration:underline",italic:"font-style:italic"},a=["color","bold","strikethrough","underlined","italic"],{MessageBuilder:s}=DY()(e);class o{static{l(this,"ChatMessage")}constructor(u,h=!1){if(typeof u=="string")u===""?this.json={text:""}:this.json=s.fromString(u,{colorSeparator:"\xA7"});else if(typeof u=="number")this.json={text:u};else if(typeof u=="object"&&Array.isArray(u))this.json={extra:u};else if(typeof u=="object")this.json=u;else throw new Error("Expected String or Object for Message argument");this.warn=h?console.warn:VY,this.parse(h)}parse(){let u=this.json;if(typeof u.text=="string"||typeof u.text=="number")this.text=u.text;else if(typeof u.translate=="string"&&(this.translate=u.translate,typeof u.with=="object")){if(!Array.isArray(u.with))throw new Error("Expected with property to be an Array in ChatMessage");this.with=u.with.map(d=>new o(d))}if(typeof u.extra=="object"){if(!Array.isArray(u.extra))throw new Error("Expected extra property to be an Array in ChatMessage");this.extra=u.extra.map(d=>new o(d))}this.bold=u.bold,this.italic=u.italic,this.underlined=u.underlined,this.strikethrough=u.strikethrough,this.obfuscated=u.obfuscated;let h=["black","dark_blue","dark_green","dark_aqua","dark_red","dark_purple","gold","gray","dark_gray","blue","green","aqua","red","light_purple","yellow","white","obfuscated","bold","strikethrough","underlined","italic","reset"],f=["open_url","open_file","run_command","suggest_command"],p=["show_text","show_achievement","show_item","show_entity"];switch(this.color=u.color,this.color){case"obfuscated":this.obfuscated=!0,this.color=null;break;case"bold":this.bold=!0,this.color=null;break;case"strikethrough":this.strikethrough=!0,this.color=null;break;case"underlined":this.underlined=!0,this.color=null;break;case"italic":this.italic=!0,this.color=null;break;case"reset":this.reset=!0,this.color=null;break}if(this.color&&!h.includes(this.color)&&!this.color.match(/#[a-fA-F\d]{6}/)&&(this.warn("ChatMessage parsed with unsupported color",this.color),this.color=null),typeof u.clickEvent=="object"){if(this.clickEvent=u.clickEvent,typeof this.clickEvent.action!="string")throw new Error("ClickEvent action missing in ChatMessage");f.includes(this.clickEvent.action)||this.warn("ChatMessage parsed with unsupported clickEvent",this.clickEvent.action)}if(typeof u.hoverEvent=="object"){if(this.hoverEvent=u.hoverEvent,typeof this.hoverEvent.action!="string")throw new Error("HoverEvent action missing in ChatMessage");if(p.includes(this.hoverEvent.action)||this.warn("ChatMessage parsed with unsupported hoverEvent",this.hoverEvent.action),this.hoverEvent.action==="show_item"){let d;this.hoverEvent.value instanceof Array?this.hoverEvent.value[0]instanceof Object?d=this.hoverEvent.value[0].text:d=this.hoverEvent.value[0]:this.hoverEvent.value instanceof Object?d=this.hoverEvent.value.text:d=this.hoverEvent.value;try{this.hoverEvent.value=F5e.parse(d)}catch(m){VY(m)}}}}append(...u){this.extra===void 0&&(this.extra=[]),u.forEach(h=>{typeof h=="object"&&!Array.isArray(h)?this.extra.push(h):typeof h=="string"&&this.extra.push(new o(h))})}clone(){return new o(JSON.parse(JSON.stringify(this.json)))}length(){let u=0;return this.text?u++:this.with&&(u+=this.with.length),this.extra&&(u+=this.extra.length),u}getText(u,h=t){return typeof u!="number"?this.toString(h):this.text&&u===0?this.text.replace(/[0-9a-flnmokr]/g,""):this.with.length>u?this.with[u].toString(h):this.extra&&this.extra.length+(this.text?1:this.with.length)>u?this.extra[u-(this.text?1:this.with.length)].toString(h):""}toString(u=t){let h="";if(typeof this.text=="string"||typeof this.text=="number")h+=this.text;else if(this.translate!==void 0){let p=(this.with??[]).map(m=>m.toString(u)),d=Gg(u,this.translate,this.translate);h+=TC(d,p)}return this.extra&&(h+=this.extra.map(f=>f.toString(u)).join("")),h.replace(/[0-9a-flnmokr]/g,"")}valueOf(){return this.toString()}toMotd(u=t,h={}){let f={color:{black:"\xA70",dark_blue:"\xA71",dark_green:"\xA72",dark_aqua:"\xA73",dark_red:"\xA74",dark_purple:"\xA75",gold:"\xA76",gray:"\xA77",dark_gray:"\xA78",blue:"\xA79",green:"\xA7a",aqua:"\xA7b",red:"\xA7c",light_purple:"\xA7d",yellow:"\xA7e",white:"\xA7f",reset:"\xA7r"},bold:"\xA7l",italic:"\xA7o",underlined:"\xA7n",strikethrough:"\xA7m",obfuscated:"\xA7k"},p=Object.keys(f).map(d=>(this[d]=this[d]||h[d],!this[d]||this[d]==="false"?null:d==="color"?this.color.startsWith("#")?`\xA7${this.color}`:f.color[this.color]:f[d])).join("");if(typeof this.text=="string"||typeof this.text=="number")p+=this.text;else if(this.translate!==void 0){let m=(this.with??[]).map(g=>{let b=g.toMotd(u,this);return b+(b.includes("\xA7")?"\xA7r"+p:"")}),y=Gg(u,this.translate,this.translate);p+=TC(y,m)}return this.extra&&(p+=this.extra.map(d=>d.toMotd(u,this)).join("")),p}toAnsi(u=t,h=n){let f=this.toMotd(u);for(let d in h)f=f.replace(new RegExp(d,"g"),h[d]);let p=/#?([a-fA-F\d]{2})([a-fA-F\d]{2})([a-fA-F\d]{2})/;for(;f.search(p)!==-1;){let d=p.exec(f),m=parseInt(d[1],16),y=parseInt(d[2],16),g=parseInt(d[3],16);f=f.replace(p,`\x1B[38;2;${m};${y};${g}m`)}return h["\xA7r"]+f+h["\xA7r"]}toHTML(u=e.language,h=r,f=a){let p="";if(f.some(d=>this[d])){let d=f.reduce((m,y)=>this[y]?m.push(y==="color"?this.color.startsWith("#")?z5e(this.color.slice(1)):h[this.color]:h[y])&&m:m,[]);p+=`<span style="${d.join(";")}">`}else p+="<span>";if(this.text)p+=qY(this.text);else if(this.translate){let d=[];if(this.with)for(let y of this.with)d.push(y.toHTML(u,h,f));let m=Gg(u,this.translate,this.translate);p+=TC(qY(m),d)}return this.extra&&(p+=this.extra.map(d=>d.toHTML(u,h,f)).join("")),p+="</span>",p}static fromNotch(u){let h;try{h=new o(JSON.parse(u))}catch{h=new o(u)}return h}static fromNetwork(u,h){let f=Gg(e.chatFormattingById,u);if(f==null)throw new Error("unknown chat format code: "+u);return new o({translate:f.formatString,with:f.parameters.map(p=>Gg(h,p,""))})}}return o.MessageBuilder=s,o}l(U5e,"loader");var qY=l(i=>i.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;"),"escapeHtml"),z5e=l(i=>`color:rgb(${i.match(/.{2}/g).map(e=>parseInt(e,16)).join(",")})`,"escapeRGB")});function q5e(i){let e={};for(let t of Ki.list)t.matchStyle(i)&&Object.assign(e,t.cssForeground);return e}function RC(i){let e=[];for(let t of i.extra||[])e.push(RC(t));return{children:e,component:i,style:q5e(i)}}function PC(i){let e=[i];if(i.extra&&i.extra.length!==0)for(let t of i.extra)e.push(...PC(t));return e}function GS(i){let e=i.indexOf("\xA7");if(e===-1)return{text:i};let t={text:i.substring(0,e)},n="",r={bold:!1,obfuscated:!1,strikethrough:!1,underlined:!1,italic:!1,color:void 0};for(let a=e;a<i.length;a++)if(i.charCodeAt(a)===167&&a+1<i.length){n.length!==0&&(t.extra||(t.extra=[]),t.extra.push({text:n,...r}),n="");let o=Ki.fromCode(i.charAt(a+1).toLowerCase());o&&o.applyToStyle(r),++a}else n+=i[a];return n.length!==0&&(t.extra||(t.extra=[]),t.extra.push({text:n,...r})),t}var D5e,V5e,on,Zt,Ki,IC=Gt(()=>{ne();ae();re();D5e=Object.defineProperty,V5e=l((i,e,t)=>e in i?D5e(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,"__defNormalProp"),on=l((i,e,t)=>(V5e(i,typeof e!="symbol"?e+"":e,t),t),"__publicField");l(q5e,"getSuggestedStyle");l(RC,"render");l(PC,"flat");l(GS,"fromFormattedString");Zt=class{static{l(this,"_TextFormat")}constructor(i,e,t,n,r,a){this.key=i,this.value=e,this.name=t,this.code=n,this.cssForeground=r,this.cssBackground=a}applyToStyle(i){i[this.key]=this.value}matchStyle(i){return i[this.key]===this.value}static fromCode(i){let t="0123456789abcdefklmnor".indexOf(i);if(t)return this.list[t]}toString(){return`${Zt.CONTROL_STRING}${this.code}`}},Ki=Zt;on(Ki,"CONTROL_STRING","\xA7");on(Ki,"BLACK",new Zt("color","black","BLACK","0",{color:"#000000"},{color:"#000000"}));on(Ki,"DARK_BLUE",new Zt("color","dark_blue","DARK_BLUE","1",{color:"#0000AA"},{color:"#00002A"}));on(Ki,"DARK_GREEN",new Zt("color","dark_green","DARK_GREEN","2",{color:"#00AA00"},{color:"#002A00"}));on(Ki,"DARK_AQUA",new Zt("color","dark_aqua","DARK_AQUA","3",{color:"#00AAAA"},{color:"#002A2A"}));on(Ki,"DARK_RED",new Zt("color","dark_red","DARK_RED","4",{color:"#AA0000"},{color:"#2A0000"}));on(Ki,"DARK_PURPLE",new Zt("color","dark_purple","DARK_PURPLE","5",{color:"#AA00AA"},{color:"#2A002A"}));on(Ki,"GOLD",new Zt("color","gold","GOLD","6",{color:"#FFAA00"},{color:"#2A2A00"}));on(Ki,"GRAY",new Zt("color","gray","GRAY","7",{color:"#AAAAAA"},{color:"#2A2A2A"}));on(Ki,"DARK_GRAY",new Zt("color","dark_gray","DARK_GRAY","8",{color:"#555555"},{color:"#151515"}));on(Ki,"BLUE",new Zt("color","blue","BLUE","9",{color:"#5555FF"},{color:"#15153F"}));on(Ki,"GREEN",new Zt("color","green","GREEN","a",{color:"#55FF55"},{color:"#153F15"}));on(Ki,"AQUA",new Zt("color","aqua","AQUA","b",{color:"#55FFFF"},{color:"#153F3F"}));on(Ki,"RED",new Zt("color","red","RED","c",{color:"#FF5555"},{color:"#3F1515"}));on(Ki,"LIGHT_PURPLE",new Zt("color","light_purple","LIGHT_PURPLE","d",{color:"#FF55FF"},{color:"#3F153F"}));on(Ki,"YELLOW",new Zt("color","yellow","YELLOW","e",{color:"#FFFF55"},{color:"#3F3F15"}));on(Ki,"WHITE",new Zt("color","white","WHITE","f",{color:"#FFFFFF"},{color:"#3F3F3F"}));on(Ki,"OBFUSCATED",new Zt("obfuscated",!0,"OBFUSCATED","k",{}));on(Ki,"BOLD",new Zt("bold",!0,"BOLD","l",{"font-weight":"bold"}));on(Ki,"STRIKETHROUGH",new Zt("strikethrough",!0,"STRIKETHROUGH","m",{"text-decoration":"line-through"}));on(Ki,"UNDERLINE",new Zt("underlined",!0,"UNDERLINE","n",{"text-decoration":"underline"}));on(Ki,"ITALIC",new Zt("italic",!0,"ITALIC","o",{"font-style":"italic"}));on(Ki,"RESET",{name:"RESET",code:"r",applyToStyle(i){i.bold=!1,i.strikethrough=!1,i.underlined=!1,i.italic=!1,i.obfuscated=!1,i.color=void 0},matchStyle(i){return!1},cssBackground:{},cssForeground:{},toString(){return`${Zt.CONTROL_STRING}r`}});on(Ki,"list",[Zt.BLACK,Zt.DARK_BLUE,Zt.DARK_GREEN,Zt.DARK_AQUA,Zt.DARK_RED,Zt.DARK_PURPLE,Zt.GOLD,Zt.GRAY,Zt.DARK_GRAY,Zt.BLUE,Zt.GREEN,Zt.AQUA,Zt.RED,Zt.LIGHT_PURPLE,Zt.YELLOW,Zt.WHITE,Zt.OBFUSCATED,Zt.BOLD,Zt.STRIKETHROUGH,Zt.UNDERLINE,Zt.ITALIC,Zt.RESET])});var H5e,GY,WY=Gt(()=>{ne();ae();re();IC();H5e=l((i,e)=>{try{return JSON.parse(i)}catch(t){return console.warn(`Failed to parse ${e}`,t),null}},"parseSafe"),GY=l((i,e,t=n=>{})=>{let r=[16,9],a=r[0]-r[1],s=a/16,o,c=null,u=l(()=>c||(o=document.createElement("canvas"),o.width=16*40,o.height=a*40,c=o.getContext("2d"),c.imageSmoothingEnabled=!1,t(c),c),"getCtx"),h="front_text"in i?i.front_text.messages:[i.Text1,i.Text2,i.Text3,i.Text4],f=("front_text"in i?i.front_text.color:i.Color)||"black";for(let[p,d]of h.slice(0,4).entries()){if(d==="null")continue;let m=d?.startsWith("{")||d?.startsWith('"')?H5e(d??'""',"sign text"):d;if(!m||typeof m!="object"&&typeof m!="string")continue;let y=typeof m=="string"?GS(m):new e(m),g=l(({extra:T})=>{if(T)for(let j of T)j.color&&(j.color=j.color==="dark_green"?j.color.toUpperCase():j.color.toLowerCase()),g(j)},"patchExtra");g(y);let b=RC(y),x=[],w="",E=50,M=l(T=>{let{component:j}=T,{text:R}=j;if(w.length+R.length>E&&(R=R.slice(0,E-w.length),!R))return!1;w+=R,x.push({fontStyle:`${j.bold?"bold":""} ${j.italic?"italic":""}`,fillStyle:T.style.color||f,underlineStyle:j.underlined??!1,strikeStyle:j.strikethrough??!1,text:R});for(let U of T.children)if(M(U)===!1)return!1},"renderText");if(M(b),!w.trim())continue;let C=u(),I=1.6*40;C.font=`${I}px mojangles`;let F=C.measureText(w).width,A=0;for(let{fillStyle:T,fontStyle:j,strikeStyle:R,text:U,underlineStyle:q}of x)C.fillStyle=T,C.font=`${j} ${I}px mojangles`,C.fillText(U,(o.width-F)/2+A,I*(p+1)),A+=C.measureText(U).width}return o},"renderSign")});var jY={};Xa(jY,{chunkPos:()=>Fl,getBufferFromStream:()=>G5e,sectionPos:()=>WS});function G5e(i){return new Promise((e,t)=>{let n=pe.Buffer.from([]);i.on("data",r=>{n=pe.Buffer.concat([n,r])}),i.on("end",()=>e(n)),i.on("error",t)})}function Fl(i){let e=Math.floor(i.x/16),t=Math.floor(i.z/16);return[e,t]}function WS(i){let e=Math.floor(i.x/16),t=Math.floor(i.y/16),n=Math.floor(i.z/16);return[e,t,n]}var jS=Gt(()=>{ne();ae();re();l(G5e,"getBufferFromStream");l(Fl,"chunkPos");l(WS,"sectionPos")});function W5e(i,e){return(i%e+e)%e}var $Y,CC,XY,LC,YY,ZY,$S,JY=Gt(()=>{ne();ae();re();ns();s0();D2();$Y=Mn(wl()),CC=Mn(yR()),XY=Mn(Dg());TX();LC=Mn(CS()),YY=Mn(LS()),ZY=Mn(kC());WY();jS();l(W5e,"mod");$S=class{constructor(e,t=4){this.scene=e;for(let n=0;n<t;n++){let r=__dirname;typeof window>"u"?r+="/worker.js":r="worker.js";let a=new Worker(r);a.onmessage=async({data:s})=>{if(this.active)if(await new Promise(o=>{setTimeout(o,0)}),s.type==="geometry"){let o=this.sectionObjects[s.key];o&&(this.scene.remove(o),(0,LC.dispose3)(o),delete this.sectionObjects[s.key]);let c=s.key.split(",");if(!this.loadedChunks[c[0]+","+c[2]]||!s.geometry.positions.length||!this.active)return;let u=new ci;u.setAttribute("position",new Ai(s.geometry.positions,3)),u.setAttribute("normal",new Ai(s.geometry.normals,3)),u.setAttribute("color",new Ai(s.geometry.colors,3)),u.setAttribute("uv",new Ai(s.geometry.uvs,2)),u.setIndex(s.geometry.indices);let h=new ii(u,this.material);h.position.set(s.geometry.sx,s.geometry.sy,s.geometry.sz),h.name="mesh",o=new an,o.add(h);let f=new n0(h,16776960);if(f.name="helper",o.add(f),o.name="chunk",this.showChunkBorders||(f.visible=!1),Object.keys(s.geometry.signs).length)for(let[p,{isWall:d,rotation:m}]of Object.entries(s.geometry.signs)){let[y,g,b]=p.split(","),x=this.blockEntities[p];if(!x)continue;let w=this.renderSign(new ir(+y,+g,+b),m,d,XY.default.simplify(x));w&&o.add(w)}this.sectionObjects[s.key]=o,this.updatePosDataChunk(s.key),this.scene.add(o)}else s.type==="sectionFinished"&&(this.sectionsOutstanding.delete(s.key),this.renderUpdateEmitter.emit("update"))},a.on&&a.on("message",s=>{a.onmessage({data:s})}),this.workers.push(a)}}static{l(this,"WorldRenderer")}worldConfig={minY:0,worldHeight:256};material=new Xd({vertexColors:!0,transparent:!0,alphaTest:.5});blockEntities={};sectionObjects={};showChunkBorders=!1;active=!1;version=void 0;chunkTextures=new Map;loadedChunks={};sectionsOutstanding=new Set;renderUpdateEmitter=new $Y.EventEmitter;customBlockStatesData=void 0;customTexturesDataUrl=void 0;downloadedBlockStatesData=void 0;downloadedTextureImage=void 0;workers=[];viewerPosition;lastCamUpdate=0;droppedFpsPercentage=0;initialChunksLoad=!0;enableChunksLoadDelay=!1;texturesVersion;promisesQueue=[];updatePosDataChunk(e){if(!this.viewerPosition)return;let[t,n,r]=e.split(",").map(h=>Math.floor(+h/16)),[a,s,o]=this.viewerPosition.toArray().map(h=>Math.floor(h/16)),c=Math.abs(t-a)+Math.abs(n-s)+Math.abs(r-o),u=this.sectionObjects[e].children.find(h=>h.name==="mesh");u.renderOrder=500-c}updateViewerPosition(e){this.viewerPosition=e;for(let t of Object.keys(this.sectionObjects))this.updatePosDataChunk(t)}signsCache=new Map;getSignTexture(e,t,n=!1){let r=Fl(e),a=this.chunkTextures.get(`${r[0]},${r[1]}`);a||(a={},this.chunkTextures.set(`${r[0]},${r[1]}`,a));let s=`${e.x},${e.y},${e.z}`;if(a[s])return a[s];let o=(0,ZY.default)(this.version),c=GY(t,o);if(!c)return;let u=new kn(c);return u.magFilter=Di,u.minFilter=Di,u.needsUpdate=!0,a[s]=u,u}renderSign(e,t,n,r){let a=this.getSignTexture(e,r);if(!a)return;let s=new ii(new Qo(1,1),new ts({map:a,transparent:!0}));s.renderOrder=999,s.scale.set(1,7/16,1),n?s.position.set(0,0,-(8-1.5)/16+.001):s.position.set(0,0,(8.75-16/2)/16+.001);let o=new an;o.rotation.set(0,-il.degToRad(t*(n?90:45/2)),0),o.add(s);let c=n?4.5/16+s.scale.y/2:1-s.scale.y/2;return o.position.set(e.x+.5,e.y+c,e.z+.5),o}updateShowChunksBorder(e){this.showChunkBorders=e;for(let t of Object.values(this.sectionObjects))for(let n of t.children)n.name==="helper"&&(n.visible=e)}resetWorld(){this.active=!1;for(let e of Object.values(this.sectionObjects))this.scene.remove(e);this.sectionObjects={},this.loadedChunks={},this.sectionsOutstanding=new Set;for(let e of this.workers)e.postMessage({type:"reset"})}setVersion(e,t=e){this.version=e,this.texturesVersion=t,this.resetWorld(),this.active=!0;let n=CC.default.pc[this.version]??CC.default.pc[(0,YY.toMajor)(this.version)];for(let r of this.workers){let a=Object.fromEntries(Object.entries(n).filter(([s])=>AX.includes(s)));a.version=JSON.parse(JSON.stringify(a.version)),r.postMessage({type:"mcData",mcData:a,version:this.version})}this.updateTexturesData()}updateTexturesData(){mR(this.customTexturesDataUrl||`textures/${this.texturesVersion}.png`,t=>{t.magFilter=Di,t.minFilter=Di,t.flipY=!1,this.material.map=t,this.material.map.onUpdate=()=>{this.downloadedTextureImage=this.material.map.image}}),l(async()=>new Promise(t=>this.customBlockStatesData?t(this.customBlockStatesData):_R(`/blocksStates/${this.texturesVersion}.json`,n=>{this.downloadedBlockStatesData=n,this.renderUpdateEmitter.emit("blockStatesDownloaded"),t(n)})),"loadBlockStates")().then(t=>{for(let n of this.workers)n.postMessage({type:"blockStates",json:t})})}getLoadedChunksRelative(e,t=!1){let[n,r,a]=WS(e);return Object.fromEntries(Object.entries(this.sectionObjects).map(([s,o])=>{let[c,u,h]=s.split(",").map(Number),[f,p,d]=WS({x:c,y:u,z:h});return[t?`${f-n},${p-r},${d-a}`:`${f-n},${d-a}`,o]}))}addColumn(e,t,n){this.initialChunksLoad=!1,this.loadedChunks[`${e},${t}`]=!0;for(let r of this.workers)r.postMessage({type:"chunk",x:e,z:t,chunk:n});for(let r=this.worldConfig.minY;r<this.worldConfig.worldHeight;r+=16){let a=new ir(e,r,t);this.setSectionDirty(a),this.setSectionDirty(a.offset(-16,0,0)),this.setSectionDirty(a.offset(16,0,0)),this.setSectionDirty(a.offset(0,0,-16)),this.setSectionDirty(a.offset(0,0,16))}}cleanChunkTextures(e,t){let n=this.chunkTextures.get(`${Math.floor(e/16)},${Math.floor(t/16)}`)??{};for(let r of Object.keys(n))n[r].dispose(),delete n[r]}removeColumn(e,t){this.cleanChunkTextures(e,t),delete this.loadedChunks[`${e},${t}`];for(let n of this.workers)n.postMessage({type:"unloadChunk",x:e,z:t});for(let n=this.worldConfig.minY;n<this.worldConfig.worldHeight;n+=16){this.setSectionDirty(new ir(e,n,t),!1);let r=`${e},${n},${t}`,a=this.sectionObjects[r];a&&(this.scene.remove(a),(0,LC.dispose3)(a)),delete this.sectionObjects[r]}}setBlockStateId(e,t){for(let n of this.workers)n.postMessage({type:"blockUpdate",pos:e,stateId:t});this.setSectionDirty(e),e.x&15||this.setSectionDirty(e.offset(-16,0,0)),(e.x&15)===15&&this.setSectionDirty(e.offset(16,0,0)),e.y&15||this.setSectionDirty(e.offset(0,-16,0)),(e.y&15)===15&&this.setSectionDirty(e.offset(0,16,0)),e.z&15||this.setSectionDirty(e.offset(0,0,-16)),(e.z&15)===15&&this.setSectionDirty(e.offset(0,0,16))}setSectionDirty(e,t=!0){this.cleanChunkTextures(e.x,e.z);let n=W5e(Math.floor(e.x/16)+Math.floor(e.y/16)+Math.floor(e.z/16),this.workers.length);this.workers[n].postMessage({type:"dirty",x:e.x,y:e.y,z:e.z,value:t}),this.sectionsOutstanding.add(`${Math.floor(e.x/16)*16},${Math.floor(e.y/16)*16},${Math.floor(e.z/16)*16}`)}async waitForChunksToRender(){return new Promise((e,t)=>{if([...this.sectionsOutstanding].length===0){e();return}let n=l(()=>{this.sectionsOutstanding.size===0&&(this.renderUpdateEmitter.removeListener("update",n),e())},"updateHandler");this.renderUpdateEmitter.on("update",n)})}}});function zC(i,e,t,n,r,a,s,o){let c=l((I,F,A,T)=>[new ot(I/s,1-T/o),new ot(A/s,1-T/o),new ot(A/s,1-F/o),new ot(I/s,1-F/o)],"toFaceVertices"),u=c(e+a,t,e+n+a,t+a),h=c(e+n+a,t,e+n*2+a,t+a),f=c(e,t+a,e+a,t+a+r),p=c(e+a,t+a,e+n+a,t+a+r),d=c(e+n+a,t+a,e+n+a*2,t+r+a),m=c(e+n+a*2,t+a,e+n*2+a*2,t+r+a),y=i.attributes.uv,g=[d[3],d[2],d[0],d[1]],b=[f[3],f[2],f[0],f[1]],x=[u[3],u[2],u[0],u[1]],w=[h[0],h[1],h[3],h[2]],E=[p[3],p[2],p[0],p[1]],M=[m[3],m[2],m[0],m[1]],C=[];for(let I of[g,b,x,w,E,M])for(let F of I)C.push(F.x,F.y);y.set(new Float32Array(C)),y.needsUpdate=!0}function ms(i,e,t,n,r,a){zC(i,e,t,n,r,a,64,64)}function NC(i,e,t,n,r,a){zC(i,e,t,n,r,a,64,32)}var Ul,OC,BC,FC,UC,KY,Wg,XS=Gt(()=>{ne();ae();re();ns();l(zC,"setUVs");l(ms,"setSkinUVs");l(NC,"setCapeUVs");Ul=class extends an{static{l(this,"BodyPart")}constructor(e,t){super(),Object.defineProperty(this,"innerLayer",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"outerLayer",{enumerable:!0,configurable:!0,writable:!0,value:t}),e.name="inner",t.name="outer"}},OC=class extends an{static{l(this,"SkinObject")}constructor(){super(),Object.defineProperty(this,"head",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rightArm",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"leftArm",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rightLeg",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"leftLeg",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelListeners",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"slim",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_map",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"layer1Material",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"layer1MaterialBiased",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"layer2Material",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"layer2MaterialBiased",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.layer1Material=new As({side:Qa}),this.layer2Material=new As({side:ea,transparent:!0,alphaTest:1e-5}),this.layer1MaterialBiased=this.layer1Material.clone(),this.layer1MaterialBiased.polygonOffset=!0,this.layer1MaterialBiased.polygonOffsetFactor=1,this.layer1MaterialBiased.polygonOffsetUnits=1,this.layer2MaterialBiased=this.layer2Material.clone(),this.layer2MaterialBiased.polygonOffset=!0,this.layer2MaterialBiased.polygonOffsetFactor=1,this.layer2MaterialBiased.polygonOffsetUnits=1;let e=new sn(8,8,8);ms(e,0,0,8,8,8);let t=new ii(e,this.layer1Material),n=new sn(9,9,9);ms(n,32,0,8,8,8);let r=new ii(n,this.layer2Material);this.head=new Ul(t,r),this.head.name="head",this.head.add(t,r),t.position.y=4,r.position.y=4,this.add(this.head);let a=new sn(8,12,4);ms(a,16,16,8,12,4);let s=new ii(a,this.layer1Material),o=new sn(8.5,12.5,4.5);ms(o,16,32,8,12,4);let c=new ii(o,this.layer2Material);this.body=new Ul(s,c),this.body.name="body",this.body.add(s,c),this.body.position.y=-6,this.add(this.body);let u=new sn,h=new ii(u,this.layer1MaterialBiased);this.modelListeners.push(()=>{h.scale.x=this.slim?3:4,h.scale.y=12,h.scale.z=4,ms(u,40,16,this.slim?3:4,12,4)});let f=new sn,p=new ii(f,this.layer2MaterialBiased);this.modelListeners.push(()=>{p.scale.x=this.slim?3.5:4.5,p.scale.y=12.5,p.scale.z=4.5,ms(f,40,32,this.slim?3:4,12,4)});let d=new an;d.add(h,p),this.modelListeners.push(()=>{d.position.x=this.slim?-.5:-1}),d.position.y=-4,this.rightArm=new Ul(h,p),this.rightArm.name="rightArm",this.rightArm.add(d),this.rightArm.position.x=-5,this.rightArm.position.y=-2,this.add(this.rightArm);let m=new sn,y=new ii(m,this.layer1MaterialBiased);this.modelListeners.push(()=>{y.scale.x=this.slim?3:4,y.scale.y=12,y.scale.z=4,ms(m,32,48,this.slim?3:4,12,4)});let g=new sn,b=new ii(g,this.layer2MaterialBiased);this.modelListeners.push(()=>{b.scale.x=this.slim?3.5:4.5,b.scale.y=12.5,b.scale.z=4.5,ms(g,48,48,this.slim?3:4,12,4)});let x=new an;x.add(y,b),this.modelListeners.push(()=>{x.position.x=this.slim?.5:1}),x.position.y=-4,this.leftArm=new Ul(y,b),this.leftArm.name="leftArm",this.leftArm.add(x),this.leftArm.position.x=5,this.leftArm.position.y=-2,this.add(this.leftArm);let w=new sn(4,12,4);ms(w,0,16,4,12,4);let E=new ii(w,this.layer1MaterialBiased),M=new sn(4.5,12.5,4.5);ms(M,0,32,4,12,4);let C=new ii(M,this.layer2MaterialBiased),I=new an;I.add(E,C),I.position.y=-6,this.rightLeg=new Ul(E,C),this.rightLeg.name="rightLeg",this.rightLeg.add(I),this.rightLeg.position.x=-1.9,this.rightLeg.position.y=-12,this.rightLeg.position.z=-.1,this.add(this.rightLeg);let F=new sn(4,12,4);ms(F,16,48,4,12,4);let A=new ii(F,this.layer1MaterialBiased),T=new sn(4.5,12.5,4.5);ms(T,0,48,4,12,4);let j=new ii(T,this.layer2MaterialBiased),R=new an;R.add(A,j),R.position.y=-6,this.leftLeg=new Ul(A,j),this.leftLeg.name="leftLeg",this.leftLeg.add(R),this.leftLeg.position.x=1.9,this.leftLeg.position.y=-12,this.leftLeg.position.z=-.1,this.add(this.leftLeg),this.modelType="default"}get map(){return this._map}set map(e){this._map=e,this.layer1Material.map=e,this.layer1Material.needsUpdate=!0,this.layer1MaterialBiased.map=e,this.layer1MaterialBiased.needsUpdate=!0,this.layer2Material.map=e,this.layer2Material.needsUpdate=!0,this.layer2MaterialBiased.map=e,this.layer2MaterialBiased.needsUpdate=!0}get modelType(){return this.slim?"slim":"default"}set modelType(e){this.slim=e==="slim",this.modelListeners.forEach(t=>t())}getBodyParts(){return this.children.filter(e=>e instanceof Ul)}setInnerLayerVisible(e){this.getBodyParts().forEach(t=>t.innerLayer.visible=e)}setOuterLayerVisible(e){this.getBodyParts().forEach(t=>t.outerLayer.visible=e)}resetJoints(){this.head.rotation.set(0,0,0),this.leftArm.rotation.set(0,0,0),this.rightArm.rotation.set(0,0,0),this.leftLeg.rotation.set(0,0,0),this.rightLeg.rotation.set(0,0,0)}},BC=class extends an{static{l(this,"CapeObject")}constructor(){super(),Object.defineProperty(this,"cape",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"material",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.material=new As({side:ea,transparent:!0,alphaTest:1e-5});let e=new sn(10,16,1);NC(e,0,0,10,16,1),this.cape=new ii(e,this.material),this.cape.position.y=-8,this.cape.position.z=.5,this.add(this.cape)}get map(){return this.material.map}set map(e){this.material.map=e,this.material.needsUpdate=!0}},FC=class extends an{static{l(this,"ElytraObject")}constructor(){super(),Object.defineProperty(this,"leftWing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rightWing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"material",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.material=new As({side:ea,transparent:!0,alphaTest:1e-5});let e=new sn(12,22,4);NC(e,22,0,10,20,2);let t=new ii(e,this.material);t.position.x=-5,t.position.y=-10,t.position.z=-1,this.leftWing=new an,this.leftWing.add(t),this.add(this.leftWing);let n=new sn(12,22,4);NC(n,22,0,10,20,2);let r=new ii(n,this.material);r.scale.x=-1,r.position.x=5,r.position.y=-10,r.position.z=-1,this.rightWing=new an,this.rightWing.add(r),this.add(this.rightWing),this.leftWing.position.x=5,this.leftWing.rotation.x=.2617994,this.resetJoints()}resetJoints(){this.leftWing.rotation.y=.01,this.leftWing.rotation.z=.2617994,this.updateRightWing()}updateRightWing(){this.rightWing.position.x=-this.leftWing.position.x,this.rightWing.position.y=this.leftWing.position.y,this.rightWing.rotation.x=this.leftWing.rotation.x,this.rightWing.rotation.y=-this.leftWing.rotation.y,this.rightWing.rotation.z=-this.leftWing.rotation.z}get map(){return this.material.map}set map(e){this.material.map=e,this.material.needsUpdate=!0}},UC=class extends an{static{l(this,"EarsObject")}constructor(){super(),Object.defineProperty(this,"rightEar",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"leftEar",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"material",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.material=new As({side:Qa});let e=new sn(8,8,4/3);zC(e,0,0,6,6,1,14,7),this.rightEar=new ii(e,this.material),this.rightEar.name="rightEar",this.rightEar.position.x=-6,this.add(this.rightEar),this.leftEar=new ii(e,this.material),this.leftEar.name="leftEar",this.leftEar.position.x=6,this.add(this.leftEar)}get map(){return this.material.map}set map(e){this.material.map=e,this.material.needsUpdate=!0}},KY=10.8*Math.PI/180,Wg=class extends an{static{l(this,"PlayerObject")}constructor(){super(),Object.defineProperty(this,"skin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cape",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"elytra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ears",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.skin=new OC,this.skin.name="skin",this.skin.position.y=8,this.add(this.skin),this.cape=new BC,this.cape.name="cape",this.cape.position.y=8,this.cape.position.z=-2,this.cape.rotation.x=KY,this.cape.rotation.y=Math.PI,this.add(this.cape),this.elytra=new FC,this.elytra.name="elytra",this.elytra.position.y=8,this.elytra.position.z=-2,this.elytra.visible=!1,this.add(this.elytra),this.ears=new UC,this.ears.name="ears",this.ears.position.y=10,this.ears.position.z=2/3,this.ears.visible=!1,this.skin.head.add(this.ears)}get backEquipment(){return this.cape.visible?"cape":this.elytra.visible?"elytra":null}set backEquipment(e){this.cape.visible=e==="cape",this.elytra.visible=e==="elytra"}resetJoints(){this.skin.resetJoints(),this.cape.rotation.x=KY,this.elytra.resetJoints()}}});var QY=Gt(()=>{ne();ae();re()});function DC(i,e,t,n,r){let a=i.getImageData(e,t,n,r);for(let s=0;s<n;s++)for(let o=0;o<r;o++){let c=(s+o*n)*4;if(a.data[c+3]!==255)return!0}return!1}function YS(i){return i/64}function eZ(i,e,t){if(t){if(DC(i,0,0,e,e))return}else if(DC(i,0,0,e,e/2))return;let n=YS(e),r=l((a,s,o,c)=>i.clearRect(a*n,s*n,o*n,c*n),"clearArea");r(40,0,8,8),r(48,0,8,8),r(32,8,8,8),r(40,8,8,8),r(48,8,8,8),r(56,8,8,8),t&&(r(4,32,4,4),r(8,32,4,4),r(0,36,4,12),r(4,36,4,12),r(8,36,4,12),r(12,36,4,12),r(20,32,8,4),r(28,32,8,4),r(16,36,4,12),r(20,36,8,12),r(28,36,4,12),r(32,36,8,12),r(44,32,4,4),r(48,32,4,4),r(40,36,4,12),r(44,36,4,12),r(48,36,4,12),r(52,36,12,12),r(4,48,4,4),r(8,48,4,4),r(0,52,4,12),r(4,52,4,12),r(8,52,4,12),r(12,52,4,12),r(52,48,4,4),r(56,48,4,4),r(48,52,4,12),r(52,52,4,12),r(56,52,4,12),r(60,52,4,12))}function j5e(i,e){i.save(),i.scale(-1,1);let t=YS(e),n=l((r,a,s,o,c,u)=>i.drawImage(i.canvas,r*t,a*t,s*t,o*t,-c*t,u*t,-s*t,o*t),"copySkin");n(4,16,4,4,20,48),n(8,16,4,4,24,48),n(0,20,4,12,24,52),n(4,20,4,12,20,52),n(8,20,4,12,16,52),n(12,20,4,12,28,52),n(44,16,4,4,36,48),n(48,16,4,4,40,48),n(40,20,4,12,40,52),n(44,20,4,12,36,52),n(48,20,4,12,32,52),n(52,20,4,12,44,52),i.restore()}function VC(i,e){let t=!1;if(e.width!==e.height)if(e.width===2*e.height)t=!0;else throw new Error(`Bad skin size: ${e.width}x${e.height}`);let n=i.getContext("2d",{willReadFrequently:!0});if(t){let r=e.width;i.width=r,i.height=r,n.clearRect(0,0,r,r),n.drawImage(e,0,0,r,r/2),j5e(n,r),eZ(n,i.width,!1)}else i.width=e.width,i.height=e.height,n.clearRect(0,0,e.width,e.height),n.drawImage(e,0,0,i.width,i.height),eZ(n,i.width,!0)}function $5e(i){if(i.width===2*i.height)return i.width/64;if(i.width*17===i.height*22)return i.width/22;if(i.width*11===i.height*23)return i.width/46;throw new Error(`Bad cape size: ${i.width}x${i.height}`)}function qC(i,e){let t=$5e(e);i.width=64*t,i.height=32*t;let n=i.getContext("2d",{willReadFrequently:!0});n.clearRect(0,0,i.width,i.height),n.drawImage(e,0,0,e.width,e.height)}function X5e(i,e,t,n,r){let a=i.getImageData(e,t,n,r);for(let s=0;s<n;s++)for(let o=0;o<r;o++){let c=(s+o*n)*4;if(!(a.data[c+0]===0&&a.data[c+1]===0&&a.data[c+2]===0&&a.data[c+3]===255))return!1}return!0}function Y5e(i,e,t,n,r){let a=i.getImageData(e,t,n,r);for(let s=0;s<n;s++)for(let o=0;o<r;o++){let c=(s+o*n)*4;if(!(a.data[c+0]===255&&a.data[c+1]===255&&a.data[c+2]===255&&a.data[c+3]===255))return!1}return!0}function HC(i){let e=YS(i.width),t=i.getContext("2d",{willReadFrequently:!0}),n=l((o,c,u,h)=>DC(t,o*e,c*e,u*e,h*e),"checkTransparency"),r=l((o,c,u,h)=>X5e(t,o*e,c*e,u*e,h*e),"checkBlack"),a=l((o,c,u,h)=>Y5e(t,o*e,c*e,u*e,h*e),"checkWhite");return n(50,16,2,4)||n(54,20,2,12)||n(42,48,2,4)||n(46,52,2,12)||r(50,16,2,4)&&r(54,20,2,12)&&r(42,48,2,4)&&r(46,52,2,12)||a(50,16,2,4)&&a(54,20,2,12)&&a(42,48,2,4)&&a(46,52,2,12)?"slim":"default"}function GC(i,e){if(e.width!==e.height&&e.width!==2*e.height)throw new Error(`Bad skin size: ${e.width}x${e.height}`);let t=YS(e.width),n=14*t,r=7*t;i.width=n,i.height=r;let a=i.getContext("2d",{willReadFrequently:!0});a.clearRect(0,0,n,r),a.drawImage(e,24*t,0,n,r,0,0,n,r)}var tZ=Gt(()=>{ne();ae();re();l(DC,"hasTransparency");l(YS,"computeSkinScale");l(eZ,"fixOpaqueSkin");l(j5e,"convertSkinTo1_8");l(VC,"loadSkinToCanvas");l($5e,"computeCapeScale");l(qC,"loadCapeToCanvas");l(X5e,"isAreaBlack");l(Y5e,"isAreaWhite");l(HC,"inferModelType");l(GC,"loadEarsToCanvasFromSkin")});async function ZS(i){let e=document.createElement("img");return new Promise((t,n)=>{e.onload=()=>t(e),e.onerror=n,e.crossOrigin="anonymous",typeof i=="string"?e.src=i:(i.crossOrigin!==void 0&&(e.crossOrigin=i.crossOrigin),i.referrerPolicy!==void 0&&(e.referrerPolicy=i.referrerPolicy),e.src=i.src)})}var iZ=Gt(()=>{ne();ae();re();l(ZS,"loadImage")});var WC=Gt(()=>{ne();ae();re();QY();tZ();iZ()});var nZ,jC,rZ,JS,aZ=Gt(()=>{ne();ae();re();ns();nZ={type:"change"},jC={type:"start"},rZ={type:"end"},JS=class extends va{static{l(this,"OrbitControls")}constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Ne,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Ec.ROTATE,MIDDLE:Ec.DOLLY,RIGHT:Ec.PAN},this.touches={ONE:Mc.ROTATE,TWO:Mc.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(P){P.addEventListener("keydown",Ce),this._domElementKeyEvents=P},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Ce),this._domElementKeyEvents=null},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(nZ),n.update(),a=r.NONE},this.update=function(){let P=new Ne,se=new Dn().setFromUnitVectors(e.up,new Ne(0,1,0)),de=se.clone().invert(),O=new Ne,be=new Dn,Ue=new Ne,We=2*Math.PI;return l(function(){let Re=n.object.position;P.copy(Re).sub(n.target),P.applyQuaternion(se),o.setFromVector3(P),n.autoRotate&&a===r.NONE&&A(I()),n.enableDamping?(o.theta+=c.theta*n.dampingFactor,o.phi+=c.phi*n.dampingFactor):(o.theta+=c.theta,o.phi+=c.phi);let te=n.minAzimuthAngle,et=n.maxAzimuthAngle;return isFinite(te)&&isFinite(et)&&(te<-Math.PI?te+=We:te>Math.PI&&(te-=We),et<-Math.PI?et+=We:et>Math.PI&&(et-=We),te<=et?o.theta=Math.max(te,Math.min(et,o.theta)):o.theta=o.theta>(te+et)/2?Math.max(te,o.theta):Math.min(et,o.theta)),o.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=u,o.radius=Math.max(n.minDistance,Math.min(n.maxDistance,o.radius)),n.enableDamping===!0?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),P.setFromSpherical(o),P.applyQuaternion(de),Re.copy(n.target).add(P),n.object.lookAt(n.target),n.enableDamping===!0?(c.theta*=1-n.dampingFactor,c.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(c.set(0,0,0),h.set(0,0,0)),u=1,f||O.distanceToSquared(n.object.position)>s||8*(1-be.dot(n.object.quaternion))>s||Ue.distanceToSquared(n.target)>0?(n.dispatchEvent(nZ),O.copy(n.object.position),be.copy(n.object.quaternion),Ue.copy(n.target),f=!1,!0):!1},"update")}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",z),n.domElement.removeEventListener("pointerdown",Q),n.domElement.removeEventListener("pointercancel",J),n.domElement.removeEventListener("wheel",Ie),n.domElement.removeEventListener("pointermove",K),n.domElement.removeEventListener("pointerup",J),n._domElementKeyEvents!==null&&(n._domElementKeyEvents.removeEventListener("keydown",Ce),n._domElementKeyEvents=null)};let n=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},a=r.NONE,s=1e-6,o=new Qd,c=new Qd,u=1,h=new Ne,f=!1,p=new ot,d=new ot,m=new ot,y=new ot,g=new ot,b=new ot,x=new ot,w=new ot,E=new ot,M=[],C={};function I(){return 2*Math.PI/60/60*n.autoRotateSpeed}l(I,"getAutoRotationAngle");function F(){return Math.pow(.95,n.zoomSpeed)}l(F,"getZoomScale");function A(P){c.theta-=P}l(A,"rotateLeft");function T(P){c.phi-=P}l(T,"rotateUp");let j=function(){let P=new Ne;return l(function(de,O){P.setFromMatrixColumn(O,0),P.multiplyScalar(-de),h.add(P)},"panLeft")}(),R=function(){let P=new Ne;return l(function(de,O){n.screenSpacePanning===!0?P.setFromMatrixColumn(O,1):(P.setFromMatrixColumn(O,0),P.crossVectors(n.object.up,P)),P.multiplyScalar(de),h.add(P)},"panUp")}(),U=function(){let P=new Ne;return l(function(de,O){let be=n.domElement;if(n.object.isPerspectiveCamera){let Ue=n.object.position;P.copy(Ue).sub(n.target);let We=P.length();We*=Math.tan(n.object.fov/2*Math.PI/180),j(2*de*We/be.clientHeight,n.object.matrix),R(2*O*We/be.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(j(de*(n.object.right-n.object.left)/n.object.zoom/be.clientWidth,n.object.matrix),R(O*(n.object.top-n.object.bottom)/n.object.zoom/be.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)},"pan")}();function q(P){n.object.isPerspectiveCamera?u/=P:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*P)),n.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}l(q,"dollyOut");function X(P){n.object.isPerspectiveCamera?u*=P:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/P)),n.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}l(X,"dollyIn");function fe(P){p.set(P.clientX,P.clientY)}l(fe,"handleMouseDownRotate");function H(P){x.set(P.clientX,P.clientY)}l(H,"handleMouseDownDolly");function Y(P){y.set(P.clientX,P.clientY)}l(Y,"handleMouseDownPan");function $(P){d.set(P.clientX,P.clientY),m.subVectors(d,p).multiplyScalar(n.rotateSpeed);let se=n.domElement;A(2*Math.PI*m.x/se.clientHeight),T(2*Math.PI*m.y/se.clientHeight),p.copy(d),n.update()}l($,"handleMouseMoveRotate");function Z(P){w.set(P.clientX,P.clientY),E.subVectors(w,x),E.y>0?q(F()):E.y<0&&X(F()),x.copy(w),n.update()}l(Z,"handleMouseMoveDolly");function ie(P){g.set(P.clientX,P.clientY),b.subVectors(g,y).multiplyScalar(n.panSpeed),U(b.x,b.y),y.copy(g),n.update()}l(ie,"handleMouseMovePan");function ue(P){P.deltaY<0?X(F()):P.deltaY>0&&q(F()),n.update()}l(ue,"handleMouseWheel");function Me(P){let se=!1;switch(P.code){case n.keys.UP:P.ctrlKey||P.metaKey||P.shiftKey?T(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):U(0,n.keyPanSpeed),se=!0;break;case n.keys.BOTTOM:P.ctrlKey||P.metaKey||P.shiftKey?T(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):U(0,-n.keyPanSpeed),se=!0;break;case n.keys.LEFT:P.ctrlKey||P.metaKey||P.shiftKey?A(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):U(n.keyPanSpeed,0),se=!0;break;case n.keys.RIGHT:P.ctrlKey||P.metaKey||P.shiftKey?A(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):U(-n.keyPanSpeed,0),se=!0;break}se&&(P.preventDefault(),n.update())}l(Me,"handleKeyDown");function Fe(){if(M.length===1)p.set(M[0].pageX,M[0].pageY);else{let P=.5*(M[0].pageX+M[1].pageX),se=.5*(M[0].pageY+M[1].pageY);p.set(P,se)}}l(Fe,"handleTouchStartRotate");function De(){if(M.length===1)y.set(M[0].pageX,M[0].pageY);else{let P=.5*(M[0].pageX+M[1].pageX),se=.5*(M[0].pageY+M[1].pageY);y.set(P,se)}}l(De,"handleTouchStartPan");function Ge(){let P=M[0].pageX-M[1].pageX,se=M[0].pageY-M[1].pageY,de=Math.sqrt(P*P+se*se);x.set(0,de)}l(Ge,"handleTouchStartDolly");function ve(){n.enableZoom&&Ge(),n.enablePan&&De()}l(ve,"handleTouchStartDollyPan");function we(){n.enableZoom&&Ge(),n.enableRotate&&Fe()}l(we,"handleTouchStartDollyRotate");function He(P){if(M.length==1)d.set(P.pageX,P.pageY);else{let de=L(P),O=.5*(P.pageX+de.x),be=.5*(P.pageY+de.y);d.set(O,be)}m.subVectors(d,p).multiplyScalar(n.rotateSpeed);let se=n.domElement;A(2*Math.PI*m.x/se.clientHeight),T(2*Math.PI*m.y/se.clientHeight),p.copy(d)}l(He,"handleTouchMoveRotate");function Ke(P){if(M.length===1)g.set(P.pageX,P.pageY);else{let se=L(P),de=.5*(P.pageX+se.x),O=.5*(P.pageY+se.y);g.set(de,O)}b.subVectors(g,y).multiplyScalar(n.panSpeed),U(b.x,b.y),y.copy(g)}l(Ke,"handleTouchMovePan");function Ze(P){let se=L(P),de=P.pageX-se.x,O=P.pageY-se.y,be=Math.sqrt(de*de+O*O);w.set(0,be),E.set(0,Math.pow(w.y/x.y,n.zoomSpeed)),q(E.y),x.copy(w)}l(Ze,"handleTouchMoveDolly");function S(P){n.enableZoom&&Ze(P),n.enablePan&&Ke(P)}l(S,"handleTouchMoveDollyPan");function G(P){n.enableZoom&&Ze(P),n.enableRotate&&He(P)}l(G,"handleTouchMoveDollyRotate");function Q(P){n.enabled!==!1&&(M.length===0&&(n.domElement.setPointerCapture(P.pointerId),n.domElement.addEventListener("pointermove",K),n.domElement.addEventListener("pointerup",J)),B(P),P.pointerType==="touch"?Xe(P):me(P))}l(Q,"onPointerDown");function K(P){n.enabled!==!1&&(P.pointerType==="touch"?nt(P):Se(P))}l(K,"onPointerMove");function J(P){Ae(P),M.length===0&&(n.domElement.releasePointerCapture(P.pointerId),n.domElement.removeEventListener("pointermove",K),n.domElement.removeEventListener("pointerup",J)),n.dispatchEvent(rZ),a=r.NONE}l(J,"onPointerUp");function me(P){let se;switch(P.button){case 0:se=n.mouseButtons.LEFT;break;case 1:se=n.mouseButtons.MIDDLE;break;case 2:se=n.mouseButtons.RIGHT;break;default:se=-1}switch(se){case Ec.DOLLY:if(n.enableZoom===!1)return;H(P),a=r.DOLLY;break;case Ec.ROTATE:if(P.ctrlKey||P.metaKey||P.shiftKey){if(n.enablePan===!1)return;Y(P),a=r.PAN}else{if(n.enableRotate===!1)return;fe(P),a=r.ROTATE}break;case Ec.PAN:if(P.ctrlKey||P.metaKey||P.shiftKey){if(n.enableRotate===!1)return;fe(P),a=r.ROTATE}else{if(n.enablePan===!1)return;Y(P),a=r.PAN}break;default:a=r.NONE}a!==r.NONE&&n.dispatchEvent(jC)}l(me,"onMouseDown");function Se(P){switch(a){case r.ROTATE:if(n.enableRotate===!1)return;$(P);break;case r.DOLLY:if(n.enableZoom===!1)return;Z(P);break;case r.PAN:if(n.enablePan===!1)return;ie(P);break}}l(Se,"onMouseMove");function Ie(P){n.enabled===!1||n.enableZoom===!1||a!==r.NONE||(P.preventDefault(),n.dispatchEvent(jC),ue(P),n.dispatchEvent(rZ))}l(Ie,"onMouseWheel");function Ce(P){n.enabled===!1||n.enablePan===!1||Me(P)}l(Ce,"onKeyDown");function Xe(P){switch(W(P),M.length){case 1:switch(n.touches.ONE){case Mc.ROTATE:if(n.enableRotate===!1)return;Fe(),a=r.TOUCH_ROTATE;break;case Mc.PAN:if(n.enablePan===!1)return;De(),a=r.TOUCH_PAN;break;default:a=r.NONE}break;case 2:switch(n.touches.TWO){case Mc.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;ve(),a=r.TOUCH_DOLLY_PAN;break;case Mc.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;we(),a=r.TOUCH_DOLLY_ROTATE;break;default:a=r.NONE}break;default:a=r.NONE}a!==r.NONE&&n.dispatchEvent(jC)}l(Xe,"onTouchStart");function nt(P){switch(W(P),a){case r.TOUCH_ROTATE:if(n.enableRotate===!1)return;He(P),n.update();break;case r.TOUCH_PAN:if(n.enablePan===!1)return;Ke(P),n.update();break;case r.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;S(P),n.update();break;case r.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;G(P),n.update();break;default:a=r.NONE}}l(nt,"onTouchMove");function z(P){n.enabled!==!1&&P.preventDefault()}l(z,"onContextMenu");function B(P){M.push(P)}l(B,"addPointer");function Ae(P){delete C[P.pointerId];for(let se=0;se<M.length;se++)if(M[se].pointerId==P.pointerId){M.splice(se,1);return}}l(Ae,"removePointer");function W(P){let se=C[P.pointerId];se===void 0&&(se=new ot,C[P.pointerId]=se),se.set(P.pageX,P.pageY)}l(W,"trackPointer");function L(P){let se=P.pointerId===M[0].pointerId?M[1]:M[0];return C[se.pointerId]}l(L,"getSecondPointerPosition"),n.domElement.addEventListener("contextmenu",z),n.domElement.addEventListener("pointerdown",Q),n.domElement.addEventListener("pointercancel",J),n.domElement.addEventListener("wheel",Ie,{passive:!1}),this.update()}}});var KS,$C=Gt(()=>{ne();ae();re();XS();KS=class{static{l(this,"PlayerAnimation")}constructor(){Object.defineProperty(this,"speed",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"progress",{enumerable:!0,configurable:!0,writable:!0,value:0})}update(e,t){if(this.paused)return;let n=t*this.speed;this.animate(e,n),this.progress+=n}}});var jg,QS=Gt(()=>{ne();ae();re();ns();jg=class extends Gd{static{l(this,"NameTagObject")}constructor(e="",t={}){let n=new rh({transparent:!0,alphaTest:1e-5});super(n),Object.defineProperty(this,"painted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"font",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backgroundStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textMaterial",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.textMaterial=n,this.text=e,this.font=t.font===void 0?"48px Minecraft":t.font,this.margin=t.margin===void 0?[5,10,5,10]:t.margin,this.textStyle=t.textStyle===void 0?"white":t.textStyle,this.backgroundStyle=t.backgroundStyle===void 0?"rgba(0,0,0,.25)":t.backgroundStyle,this.height=t.height===void 0?4:t.height,(t.repaintAfterLoaded===void 0?!0:t.repaintAfterLoaded)&&!document.fonts.check(this.font,this.text)?(this.paint(),this.painted=this.loadAndPaint()):(this.paint(),this.painted=Promise.resolve())}async loadAndPaint(){await document.fonts.load(this.font,this.text),this.paint()}paint(){let e=document.createElement("canvas"),t=e.getContext("2d");t.font=this.font;let n=t.measureText(this.text);e.width=this.margin[3]+n.actualBoundingBoxLeft+n.actualBoundingBoxRight+this.margin[1],e.height=this.margin[0]+n.actualBoundingBoxAscent+n.actualBoundingBoxDescent+this.margin[2],t=e.getContext("2d"),t.font=this.font,t.fillStyle=this.backgroundStyle,t.fillRect(0,0,e.width,e.height),t.fillStyle=this.textStyle,t.fillText(this.text,this.margin[3]+n.actualBoundingBoxLeft,this.margin[0]+n.actualBoundingBoxAscent);let r=new B_(e);r.magFilter=Di,r.minFilter=Di,this.textMaterial.map=r,this.textMaterial.needsUpdate=!0,this.scale.x=e.width/e.height*this.height,this.scale.y=this.height}}});var sZ=Gt(()=>{ne();ae();re();WC();$C();XS();QS()});var XC=Gt(()=>{ne();ae();re();XS();sZ();$C();QS()});var eE,oZ=Gt(()=>{eE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAdVBMVEUAAAD///+3g2sAzMyzeV4KvLyqclkAr68ApKSbY0mUYD4ElZWPXj6QWT8FiIiBUzkAf38Denp2SzNVVVV3QjVSPYlqQDBKSkpGOqUAaGhBNZs/Pz86MYk3Nzc/KhVJJRAoKCg0JRIzJBFCHQorHg0mGgokGAjoejraAAAAAXRSTlMAQObYZgAAAtFJREFUeNrtlm132jAMhelKFWuOHdr1hYYkZcbz//+Ju5LjsXRwEujHcSNsOefc50gmEK+KYgyIEJtRq0sVw4AQwBN0DQBmudyTyl0OgDvgcz0g5iZcbuFyQAggxGFoXAO5+nKA7AFUN/m6GAB3BCM29QfU1MuN4kwyDhAIWASZgmZxye7HlEJAwC9XEhxikPvDot6jDLz+tib+qeshBC0D1FmAVpxiZFqviYjVldvQRuYB+vhxorsX4pc7Suz0VkgKCku+/5AYInp9JWIoaf0pCSTOAlJMjuvmu6s/np8PSJqaHW4KIC4BNA5+FuPh44Dv32HBTh7HX9DCX2UH9f1+X9b3xMDSfTeq3K+qyjARnQTs933/B8AO4pMAAvxsBbOABwDmKzjfgpEWPlfQtl273W47TG2L2UKVIWYyVc4NRlgrZJg2kCyOgO4I2ELWe1tVlgij5pDa1Q/A+/sG6REwGtsC8I+P3sAiA3IlWAm1G6sALE4DEI9QMUluxIXPZtQ7JPMEIG0IoYPE5I0C/AiwAmFmJ5cKi2kFCLgVJGV7YxQwtqAFERETY4CboCkAKrOHrJSNbSi5LJkyQgGII6CdAiw8Xso2xkquACMAlTYyqaBTo2CQQdZbhNEiNEMCv2diBUBTwNtbN+pNBZcyYLQiccPvCYBCmAD6HVw/xLqTdJe/DNTjYZMEHSHZZgBnAP8N6PudGHc9hBEA7Wnbep/3BSyMTPDmLVDE6qb/Ug9ZlYEqJKubbvqk2ZetvJOIiCW/5sChAMdEX6jgoSLoKxUYx4taKOeFti0v3Q1UXu2ieUBxdgBB+jpXgo7LAJ0A2iPAZjNiaQUFgKycB4rG/4OiI/DcecGJWC6Vm68AZkgrkJxhzUeDrMtagASgdqUwLd9ESABOASqdFjxE5UlABmnvap8BnDsvFL/YZwCnzwsK4ALgGcCJ8wLnTUCQTP/8Hn4DsAh5tPm8HxQAAAAASUVORK5CYII="});var wf,lZ=Gt(()=>{ne();ae();re();XC();wf=class extends KS{static{l(this,"WalkingGeneralSwing")}switchAnimationCallback;isRunning=!1;isMoving=!0;_startArmSwing;swingArm(){this._startArmSwing=this.progress}animate(e){let t,n=l(()=>{if(!this.isMoving){t=0;return}this.isRunning?t=this.progress*10+Math.PI*.5:t=this.progress*8},"updateT");n();let r=!1;if((this.isRunning?Math.cos(t):Math.sin(t))<.01&&this.switchAnimationCallback&&(r=!0,this.progress=0,n()),this.isRunning?(e.skin.leftLeg.rotation.x=Math.cos(t+Math.PI)*1.3,e.skin.rightLeg.rotation.x=Math.cos(t)*1.3):(e.skin.leftLeg.rotation.x=Math.sin(t)*.5,e.skin.rightLeg.rotation.x=Math.sin(t+Math.PI)*.5),this._startArmSwing){let a=(this.progress-this._startArmSwing)*18+Math.PI*.5;e.skin.rightArm.rotation.x=Math.cos(a)*1.5;let s=Math.PI*.1;e.skin.rightArm.rotation.z=Math.cos(t+Math.PI)*.3-s,a>Math.PI+Math.PI*.5&&(this._startArmSwing=null,e.skin.rightArm.rotation.z=0)}if(this.isRunning){e.skin.leftArm.rotation.x=Math.cos(t)*1.5,this._startArmSwing||(e.skin.rightArm.rotation.x=Math.cos(t+Math.PI)*1.5);let a=Math.PI*.1;e.skin.leftArm.rotation.z=Math.cos(t)*.1+a,this._startArmSwing||(e.skin.rightArm.rotation.z=Math.cos(t+Math.PI)*.1-a)}else{e.skin.leftArm.rotation.x=Math.sin(t+Math.PI)*.5,this._startArmSwing||(e.skin.rightArm.rotation.x=Math.sin(t)*.5);let a=Math.PI*.02;e.skin.leftArm.rotation.z=Math.cos(t)*.03+a,this._startArmSwing||(e.skin.rightArm.rotation.z=Math.cos(t+Math.PI)*.03-a)}if(this.isRunning&&(e.rotation.z=Math.cos(t+Math.PI)*.01),this.isRunning){let a=Math.PI*.3;e.cape.rotation.x=Math.sin(t*2)*.1+a}else{let a=Math.PI*.06;e.cape.rotation.x=Math.sin(t/1.5)*.06+a}r&&(this.switchAnimationCallback(),this.switchAnimationCallback=null)}}});var cZ=qe((tGe,J5e)=>{J5e.exports={armor_stand:{identifier:"minecraft:armor_stand",min_engine_version:"1.8.0",materials:{default:"armor_stand"},textures:{default:"textures/entity/armorstand/wood"},animations:{default_pose:{loop:!0,bones:{body:{rotation:["-this","-this","-this"]},head:{rotation:["-this","-this","-this"]},leftarm:{rotation:["-this - 10","-this","-this - 10"]},leftleg:{rotation:["-this - 1","-this","-this - 1"]},rightarm:{rotation:["-this - 15","-this","-this + 10"]},rightitem:{rotation:["-this","-this","-this"]},rightleg:{rotation:["-this + 1","-this","-this + 1"]}}},no_pose:{loop:!0,bones:{body:{rotation:["-this","-this","-this"]},head:{rotation:["-this","-this","-this"]},leftarm:{rotation:["-this","-this","-this"]},leftleg:{rotation:["-this","-this","-this"]},rightarm:{rotation:["-this","-this","-this"]},rightitem:{rotation:["-this","-this","-this"]},rightleg:{rotation:["-this","-this","-this"]}}},solemn_pose:{loop:!0,bones:{body:{rotation:["-this","-this","-this + 2"]},head:{rotation:["-this + 15","-this","-this"]},leftarm:{rotation:["-this - 30","-this + 15","-this + 15"]},leftleg:{rotation:["-this - 1","-this","-this - 1"]},rightarm:{rotation:["-this - 60","-this - 20","-this - 10"]},rightitem:{rotation:["-this","-this","-this"]},rightleg:{rotation:["-this + 1","-this","-this + 1"]}}},athena_pose:{loop:!0,bones:{body:{rotation:["-this","-this","-this + 2"]},head:{rotation:["-this - 5","-this","-this"]},leftarm:{rotation:["-this + 10","-this","-this - 5"]},leftleg:{rotation:["-this - 3","-this - 3","-this - 3"]},rightarm:{rotation:["-this - 60","-this + 20","-this - 10"]},rightitem:{rotation:["-this","-this","-this"]},rightleg:{rotation:["-this + 3","-this + 3","-this + 3"]}}},brandish_pose:{loop:!0,bones:{body:{rotation:["-this","-this","-this - 2"]},head:{rotation:["-this - 15","-this","-this"]},leftarm:{rotation:["-this + 20","-this","-this - 10"]},leftleg:{rotation:["-this + 5","-this - 3","-this - 3"]},rightarm:{rotation:["-this - 110","-this + 50","-this"]},rightitem:{rotation:["-this","-this","-this"]},rightleg:{rotation:["-this - 5","-this + 3","-this + 3"]}}},honor_pose:{loop:!0,bones:{body:{rotation:["-this","-this","-this"]},head:{rotation:["-this - 15","-this","-this"]},leftarm:{rotation:["-this - 110","-this + 35","-this"]},leftleg:{rotation:["-this + 5","-this - 3","-this - 3"]},rightarm:{rotation:["-this - 110","-this - 35","-this"]},rightitem:{rotation:["-this","-this","-this"]},rightleg:{rotation:["-this - 5","-this + 3","-this + 3"]}}},entertain_pose:{loop:!0,bones:{body:{rotation:["-this","-this","-this"]},head:{rotation:["-this - 15","-this","-this"]},leftarm:{rotation:["-this - 110","-this - 35","-this"]},leftleg:{rotation:["-this + 5","-this - 3","-this - 3"]},rightarm:{rotation:["-this - 110","-this + 35","-this"]},rightitem:{rotation:["-this","-this","-this"]},rightleg:{rotation:["-this - 5","-this + 3","-this + 3"]}}},salute_pose:{loop:!0,bones:{body:{rotation:["-this","-this","-this"]},head:{rotation:["-this","-this","-this"]},leftarm:{rotation:["-this + 10","-this","-this - 5"]},leftleg:{rotation:["-this - 1","-this","-this - 1"]},rightarm:{rotation:["-this - 70","-this - 40","-this"]},rightitem:{rotation:["-this","-this","-this"]},rightleg:{rotation:["-this + 1","-this","-this + 1"]}}},riposte_pose:{loop:!0,bones:{body:{rotation:["-this","-this","-this"]},head:{rotation:["-this + 16","-this + 20","-this"]},leftarm:{rotation:["-this + 4","-this + 8","-this + 237"]},leftleg:{rotation:["-this - 14","-this - 18","-this - 16"]},rightarm:{rotation:["-this + 246","-this","-this + 89"]},rightitem:{rotation:["-this","-this + 180","-this"]},rightleg:{rotation:["-this + 8","-this + 20","-this + 4"]}}},zombie_pose:{loop:!0,bones:{body:{rotation:["-this","-this","-this"]},head:{rotation:["-this - 10","-this","-this - 5"]},leftarm:{rotation:["-this - 105","-this","-this"]},leftleg:{rotation:["-this + 7","-this","-this"]},rightarm:{rotation:["-this - 100","-this","-this"]},rightitem:{rotation:["-this","-this","-this"]},rightleg:{rotation:["-this - 46","-this","-this"]}}},cancan_a_pose:{loop:!0,bones:{body:{rotation:["-this","-this + 22","-this"]},head:{rotation:["-this - 5","-this + 18","-this"]},leftarm:{rotation:["-this + 8","-this","-this - 114"]},leftleg:{rotation:["-this - 111","-this + 55","-this"]},rightarm:{rotation:["-this","-this + 84","-this + 111"]},rightitem:{rotation:["-this","-this","-this"]},rightleg:{rotation:["-this","-this + 23","-this - 13"]}}},cancan_b_pose:{loop:!0,bones:{body:{rotation:["-this","-this - 18","-this"]},head:{rotation:["-this - 10","-this - 20","-this"]},leftarm:{rotation:["-this","-this","-this - 112"]},leftleg:{rotation:["-this","-this","-this + 13"]},rightarm:{rotation:["-this + 8","-this + 90","-this + 111"]},rightitem:{rotation:["-this","-this","-this"]},rightleg:{rotation:["-this - 119","-this - 42","-this"]}}},hero_pose:{loop:!0,bones:{body:{rotation:["-this","-this + 8","-this"]},head:{rotation:["-this - 4","-this + 67","-this"]},leftarm:{rotation:["-this + 16","-this + 32","-this - 8"]},leftleg:{rotation:["-this","-this - 75","-this - 8"]},rightarm:{rotation:["-this - 99","-this + 63","-this"]},rightitem:{rotation:["-this","-this","-this"]},rightleg:{rotation:["-this + 4","-this + 63","-this + 8"]}}},wiggle:{loop:!0,bones:{baseplate:{rotation:[0,"math.sin((variable.armor_stand.hurt_time - query.frame_alpha) * 120) * 3",0]}}}},scripts:{initialize:["variable.armor_stand.pose_index = 0;","variable.armor_stand.hurt_time = 0;"],animate:["controller.pose","controller.wiggling"]},geometry:{default:{bones:[{name:"baseplate",cubes:[{origin:[-6,0,-6],size:[12,1,12],uv:[0,32]}]},{name:"waist",parent:"baseplate",pivot:[0,12,0]},{name:"body",parent:"waist",pivot:[0,24,0],cubes:[{origin:[-6,21,-1.5],size:[12,3,3],uv:[0,26]},{origin:[-3,14,-1],size:[2,7,2],uv:[16,0]},{origin:[1,14,-1],size:[2,7,2],uv:[48,16]},{origin:[-4,12,-1],size:[8,2,2],uv:[0,48]}]},{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-1,24,-1],size:[2,7,2],uv:[0,0]}]},{name:"hat",parent:"head",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[32,0]}]},{name:"leftarm",parent:"body",mirror:!0,pivot:[5,22,0],cubes:[{origin:[5,12,-1],size:[2,12,2],uv:[32,16]}]},{name:"leftitem",parent:"leftarm",pivot:[6,15,1]},{name:"leftleg",parent:"body",mirror:!0,pivot:[1.9,12,0],cubes:[{origin:[.9,1,-1],size:[2,11,2],uv:[40,16]}]},{name:"rightarm",parent:"body",pivot:[-5,22,0],cubes:[{origin:[-7,12,-1],size:[2,12,2],uv:[24,0]}]},{name:"rightitem",parent:"rightarm",pivot:[-6,15,1]},{name:"rightleg",parent:"body",pivot:[-1.9,12,0],cubes:[{origin:[-2.9,1,-1],size:[2,11,2],uv:[8,0]}]}],visible_bounds_width:1.5,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:64}},render_controllers:["controller.render.armor_stand"],enable_attachables:!0,animation_controllers:{"controller.pose":{initial_state:"default",states:{athena:{animations:["athena_pose"],blend_transition:.1,blend_via_shortest_path:!0,transitions:[{default:"variable.armor_stand.pose_index == 0"},{none:"variable.armor_stand.pose_index == 1"},{solemn:"variable.armor_stand.pose_index == 2"},{brandish:"variable.armor_stand.pose_index == 4"},{honor:"variable.armor_stand.pose_index == 5"},{entertain:"variable.armor_stand.pose_index == 6"},{salute:"variable.armor_stand.pose_index == 7"},{riposte:"variable.armor_stand.pose_index == 8"},{zombie:"variable.armor_stand.pose_index == 9"},{cancan_a:"variable.armor_stand.pose_index == 10"},{cancan_b:"variable.armor_stand.pose_index == 11"},{hero:"variable.armor_stand.pose_index == 12"}]},brandish:{animations:["brandish_pose"],blend_transition:.1,blend_via_shortest_path:!0,transitions:[{default:"variable.armor_stand.pose_index == 0"},{none:"variable.armor_stand.pose_index == 1"},{solemn:"variable.armor_stand.pose_index == 2"},{athena:"variable.armor_stand.pose_index == 3"},{honor:"variable.armor_stand.pose_index == 5"},{entertain:"variable.armor_stand.pose_index == 6"},{salute:"variable.armor_stand.pose_index == 7"},{riposte:"variable.armor_stand.pose_index == 8"},{zombie:"variable.armor_stand.pose_index == 9"},{cancan_a:"variable.armor_stand.pose_index == 10"},{cancan_b:"variable.armor_stand.pose_index == 11"},{hero:"variable.armor_stand.pose_index == 12"}]},cancan_a:{animations:["cancan_a_pose"],blend_transition:.1,blend_via_shortest_path:!0,transitions:[{default:"variable.armor_stand.pose_index == 0"},{none:"variable.armor_stand.pose_index == 1"},{solemn:"variable.armor_stand.pose_index == 2"},{athena:"variable.armor_stand.pose_index == 3"},{brandish:"variable.armor_stand.pose_index == 4"},{honor:"variable.armor_stand.pose_index == 5"},{entertain:"variable.armor_stand.pose_index == 6"},{salute:"variable.armor_stand.pose_index == 7"},{riposte:"variable.armor_stand.pose_index == 8"},{zombie:"variable.armor_stand.pose_index == 9"},{cancan_b:"variable.armor_stand.pose_index == 11"},{hero:"variable.armor_stand.pose_index == 12"}]},cancan_b:{animations:["cancan_b_pose"],blend_transition:.1,blend_via_shortest_path:!0,transitions:[{default:"variable.armor_stand.pose_index == 0"},{none:"variable.armor_stand.pose_index == 1"},{solemn:"variable.armor_stand.pose_index == 2"},{athena:"variable.armor_stand.pose_index == 3"},{brandish:"variable.armor_stand.pose_index == 4"},{honor:"variable.armor_stand.pose_index == 5"},{entertain:"variable.armor_stand.pose_index == 6"},{salute:"variable.armor_stand.pose_index == 7"},{riposte:"variable.armor_stand.pose_index == 8"},{zombie:"variable.armor_stand.pose_index == 9"},{cancan_a:"variable.armor_stand.pose_index == 10"},{hero:"variable.armor_stand.pose_index == 12"}]},default:{animations:["default_pose"],blend_transition:.1,blend_via_shortest_path:!0,transitions:[{none:"variable.armor_stand.pose_index == 1"},{solemn:"variable.armor_stand.pose_index == 2"},{athena:"variable.armor_stand.pose_index == 3"},{brandish:"variable.armor_stand.pose_index == 4"},{honor:"variable.armor_stand.pose_index == 5"},{entertain:"variable.armor_stand.pose_index == 6"},{salute:"variable.armor_stand.pose_index == 7"},{riposte:"variable.armor_stand.pose_index == 8"},{zombie:"variable.armor_stand.pose_index == 9"},{cancan_a:"variable.armor_stand.pose_index == 10"},{cancan_b:"variable.armor_stand.pose_index == 11"},{hero:"variable.armor_stand.pose_index == 12"}]},entertain:{animations:["entertain_pose"],blend_transition:.1,blend_via_shortest_path:!0,transitions:[{default:"variable.armor_stand.pose_index == 0"},{none:"variable.armor_stand.pose_index == 1"},{solemn:"variable.armor_stand.pose_index == 2"},{athena:"variable.armor_stand.pose_index == 3"},{brandish:"variable.armor_stand.pose_index == 4"},{honor:"variable.armor_stand.pose_index == 5"},{salute:"variable.armor_stand.pose_index == 7"},{riposte:"variable.armor_stand.pose_index == 8"},{zombie:"variable.armor_stand.pose_index == 9"},{cancan_a:"variable.armor_stand.pose_index == 10"},{cancan_b:"variable.armor_stand.pose_index == 11"},{hero:"variable.armor_stand.pose_index == 12"}]},hero:{animations:["hero_pose"],blend_transition:.1,blend_via_shortest_path:!0,transitions:[{default:"variable.armor_stand.pose_index == 0"},{none:"variable.armor_stand.pose_index == 1"},{solemn:"variable.armor_stand.pose_index == 2"},{athena:"variable.armor_stand.pose_index == 3"},{brandish:"variable.armor_stand.pose_index == 4"},{honor:"variable.armor_stand.pose_index == 5"},{entertain:"variable.armor_stand.pose_index == 6"},{salute:"variable.armor_stand.pose_index == 7"},{riposte:"variable.armor_stand.pose_index == 8"},{zombie:"variable.armor_stand.pose_index == 9"},{cancan_a:"variable.armor_stand.pose_index == 10"},{cancan_b:"variable.armor_stand.pose_index == 11"}]},honor:{animations:["honor_pose"],blend_transition:.1,blend_via_shortest_path:!0,transitions:[{default:"variable.armor_stand.pose_index == 0"},{none:"variable.armor_stand.pose_index == 1"},{solemn:"variable.armor_stand.pose_index == 2"},{athena:"variable.armor_stand.pose_index == 3"},{brandish:"variable.armor_stand.pose_index == 4"},{entertain:"variable.armor_stand.pose_index == 6"},{salute:"variable.armor_stand.pose_index == 7"},{riposte:"variable.armor_stand.pose_index == 8"},{zombie:"variable.armor_stand.pose_index == 9"},{cancan_a:"variable.armor_stand.pose_index == 10"},{cancan_b:"variable.armor_stand.pose_index == 11"},{hero:"variable.armor_stand.pose_index == 12"}]},none:{animations:["no_pose"],blend_transition:.1,blend_via_shortest_path:!0,transitions:[{default:"variable.armor_stand.pose_index == 0"},{solemn:"variable.armor_stand.pose_index == 2"},{athena:"variable.armor_stand.pose_index == 3"},{brandish:"variable.armor_stand.pose_index == 4"},{honor:"variable.armor_stand.pose_index == 5"},{entertain:"variable.armor_stand.pose_index == 6"},{salute:"variable.armor_stand.pose_index == 7"},{riposte:"variable.armor_stand.pose_index == 8"},{zombie:"variable.armor_stand.pose_index == 9"},{cancan_a:"variable.armor_stand.pose_index == 10"},{cancan_b:"variable.armor_stand.pose_index == 11"},{hero:"variable.armor_stand.pose_index == 12"}]},riposte:{animations:["riposte_pose"],blend_transition:.1,blend_via_shortest_path:!0,transitions:[{default:"variable.armor_stand.pose_index == 0"},{none:"variable.armor_stand.pose_index == 1"},{solemn:"variable.armor_stand.pose_index == 2"},{athena:"variable.armor_stand.pose_index == 3"},{brandish:"variable.armor_stand.pose_index == 4"},{honor:"variable.armor_stand.pose_index == 5"},{entertain:"variable.armor_stand.pose_index == 6"},{salute:"variable.armor_stand.pose_index == 7"},{zombie:"variable.armor_stand.pose_index == 9"},{cancan_a:"variable.armor_stand.pose_index == 10"},{cancan_b:"variable.armor_stand.pose_index == 11"},{hero:"variable.armor_stand.pose_index == 12"}]},salute:{animations:["salute_pose"],blend_transition:.1,blend_via_shortest_path:!0,transitions:[{default:"variable.armor_stand.pose_index == 0"},{none:"variable.armor_stand.pose_index == 1"},{solemn:"variable.armor_stand.pose_index == 2"},{athena:"variable.armor_stand.pose_index == 3"},{brandish:"variable.armor_stand.pose_index == 4"},{honor:"variable.armor_stand.pose_index == 5"},{entertain:"variable.armor_stand.pose_index == 6"},{riposte:"variable.armor_stand.pose_index == 8"},{zombie:"variable.armor_stand.pose_index == 9"},{cancan_a:"variable.armor_stand.pose_index == 10"},{cancan_b:"variable.armor_stand.pose_index == 11"},{hero:"variable.armor_stand.pose_index == 12"}]},solemn:{animations:["solemn_pose"],blend_transition:.1,blend_via_shortest_path:!0,transitions:[{default:"variable.armor_stand.pose_index == 0"},{none:"variable.armor_stand.pose_index == 1"},{athena:"variable.armor_stand.pose_index == 3"},{brandish:"variable.armor_stand.pose_index == 4"},{honor:"variable.armor_stand.pose_index == 5"},{entertain:"variable.armor_stand.pose_index == 6"},{salute:"variable.armor_stand.pose_index == 7"},{riposte:"variable.armor_stand.pose_index == 8"},{zombie:"variable.armor_stand.pose_index == 9"},{cancan_a:"variable.armor_stand.pose_index == 10"},{cancan_b:"variable.armor_stand.pose_index == 11"},{hero:"variable.armor_stand.pose_index == 12"}]},zombie:{animations:["zombie_pose"],blend_transition:.1,blend_via_shortest_path:!0,transitions:[{default:"variable.armor_stand.pose_index == 0"},{none:"variable.armor_stand.pose_index == 1"},{solemn:"variable.armor_stand.pose_index == 2"},{athena:"variable.armor_stand.pose_index == 3"},{brandish:"variable.armor_stand.pose_index == 4"},{honor:"variable.armor_stand.pose_index == 5"},{entertain:"variable.armor_stand.pose_index == 6"},{salute:"variable.armor_stand.pose_index == 7"},{riposte:"variable.armor_stand.pose_index == 8"},{cancan_a:"variable.armor_stand.pose_index == 10"},{cancan_b:"variable.armor_stand.pose_index == 11"},{hero:"variable.armor_stand.pose_index == 12"}]}}},"controller.wiggling":{initial_state:"default",states:{default:{transitions:[{wiggling:"(variable.armor_stand.hurt_time - query.frame_alpha) > 0"}]},wiggling:{animations:["wiggle"],transitions:[{default:"(variable.armor_stand.hurt_time - query.frame_alpha) <= 0"}]}}}}},arrow:{identifier:"minecraft:arrow",materials:{default:"arrow"},textures:{default:"textures/entity/arrow"},geometry:{default:{bones:[{name:"body",pivot:[0,1,0],cubes:[{origin:[0,-2.5,-3],rotation:[0,0,45],size:[0,5,16],uv:{east:{uv:[0,0]}}},{origin:[0,-2.5,-3],rotation:[0,0,-45],size:[0,5,16],uv:{east:{uv:[0,0]}}},{origin:[-2.5,-2.5,12],rotation:[0,0,45],size:[5,5,0],uv:{south:{uv:[0,5]}}}]}],texturewidth:32,textureheight:32}},animations:{move:{loop:!0,bones:{body:{rotation:["variable.shake_power - query.target_x_rotation","-query.target_y_rotation",0],scale:[.7,.7,.9]}}}},scripts:{pre_animation:["variable.shake = query.shake_time - query.frame_alpha;","variable.shake_power = variable.shake > 0.0 ? -Math.sin(variable.shake * 200.0) * variable.shake : 0.0;"],animate:["move"]},render_controllers:["controller.render.arrow"]},bat:{identifier:"minecraft:bat",materials:{default:"bat"},textures:{default:"textures/entity/bat"},geometry:{default:{visible_bounds_width:1,visible_bounds_height:1,visible_bounds_offset:[0,.5,0],bones:[{name:"head",pivot:[0,24,0],cubes:[{origin:[-3,21,-3],size:[6,6,6],uv:[0,0]}]},{name:"rightEar",pivot:[0,24,0],cubes:[{origin:[-4,26,-2],size:[3,4,1],uv:[24,0]}],parent:"head"},{name:"leftEar",mirror:!0,pivot:[0,24,0],cubes:[{origin:[1,26,-2],size:[3,4,1],uv:[24,0]}],parent:"head"},{name:"body",pivot:[0,24,0],cubes:[{origin:[-3,8,-3],size:[6,12,6],uv:[0,16]},{origin:[-5,-8,0],size:[10,16,1],uv:[0,34]}]},{name:"rightWing",pivot:[0,24,0],cubes:[{origin:[-12,7,1.5],size:[10,16,1],uv:[42,0]}],parent:"body"},{name:"rightWingTip",pivot:[-12,23,1.5],cubes:[{origin:[-20,10,1.5],size:[8,12,1],uv:[24,16]}],parent:"rightWing"},{name:"leftWing",mirror:!0,pivot:[0,24,0],cubes:[{origin:[2,7,1.5],size:[10,16,1],uv:[42,0]}],parent:"body"},{name:"leftWingTip",mirror:!0,pivot:[12,23,1.5],cubes:[{origin:[12,10,1.5],size:[8,12,1],uv:[24,16]}],parent:"leftWing"}]}},scripts:{scale:"0.35"},animations:{resting:{loop:!0,bones:{body:{position:[0,-.035,0],rotation:[180,0,0]},head:{position:[0,-.035,0],rotation:["query.target_x_rotation","180.0f - query.target_y_rotation",180]},leftwing:{position:[3,0,3],rotation:[-9,72,0]},leftwingtip:{rotation:[0,99,0]},rightwing:{position:[-3,0,3],rotation:[-9,-72,0]},rightwingtip:{rotation:[0,-99,0]}}},flying:{loop:!0,bones:{body:{position:[0,"math.cos(query.life_time * 343.774) * 1.6",0],rotation:["45.0 - math.cos(query.life_time * 1489.6) * 8.59",0,0]},head:{position:["-this","math.cos(query.life_time * 343.774) * 1.6 - this","-this"],rotation:["query.target_x_rotation","query.target_y_rotation",0]},leftwing:{position:["-this","-this","-this"],rotation:[0,"math.cos(query.life_time * 1489.6) * -45.0",0]},leftwingtip:{rotation:[0,"math.cos(query.life_time * 1489.6) * -22.0",0]},rightwing:{position:["-this","-this","-this"],rotation:[0,"math.cos(query.life_time * 1489.6) * 45.0",0]},rightwingtip:{rotation:[0,"math.cos(query.life_time * 1489.6) * 22.0",0]}}}},animation_controllers:{move:{initial_state:"flying",states:{flying:{animations:["flying"],transitions:[{resting:"query.is_resting"}]},resting:{animations:["resting"],transitions:[{flying:"!query.is_resting"}]}}}},render_controllers:["controller.render.bat"],spawn_egg:{texture:"spawn_egg",texture_index:18}},bee:{identifier:"minecraft:bee",materials:{default:"bee"},textures:{default:"textures/entity/bee/bee",angry:"textures/entity/bee/bee_angry",nectar:"textures/entity/bee/bee_nectar",angry_nectar:"textures/entity/bee/bee_angry_nectar"},geometry:{default:{texturewidth:64,textureheight:64,visible_bounds_width:1.5,visible_bounds_height:1.5,visible_bounds_offset:[0,.25,0],bones:[{name:"body",pivot:[.5,5,0],cubes:[{origin:[-3,2,-5],size:[7,7,10],uv:[0,0]},{origin:[2,7,-8],size:[1,2,3],uv:[2,0]},{origin:[-2,7,-8],size:[1,2,3],uv:[2,3]}],locators:{lead:[0,4,-1]}},{name:"stinger",parent:"body",pivot:[.5,6,1],cubes:[{origin:[.5,5,5],size:[0,1,2],uv:[26,7]}]},{name:"rightwing_bone",parent:"body",pivot:[-1,9,-3],rotation:[15,-15,0],cubes:[{origin:[-10,9,-3],size:[9,0,6],uv:[0,18]}]},{name:"leftwing_bone",parent:"body",pivot:[2,9,-3],rotation:[15,15,0],cubes:[{origin:[2,9,-3],size:[9,0,6],uv:[9,24]}]},{name:"leg_front",parent:"body",pivot:[2,2,-2],cubes:[{origin:[-3,0,-2],size:[7,2,0],uv:[26,1]}]},{name:"leg_mid",parent:"body",pivot:[2,2,0],cubes:[{origin:[-3,0,0],size:[7,2,0],uv:[26,3]}]},{name:"leg_back",parent:"body",pivot:[2,2,2],cubes:[{origin:[-3,0,2],size:[7,2,0],uv:[26,5]}]}]}},animations:{flying:{loop:!0,animation_length:2.55,bones:{body:{rotation:{"0.0":[0,0,0],"1.30":[5,0,0],"2.55":[0,0,0]}},leftwing_bone:{rotation:{"0.0":[0,0,35],"0.05":[0,0,0],"0.10":[0,0,-35],"0.15":[0,0,0],"0.2":[0,0,35],"0.25":[0,0,0],"0.30":[0,0,-35],"0.35":[0,0,0],"0.40":[0,0,35],"0.45":[0,0,0],"0.50":[0,0,-35],"0.55":[0,0,0],"0.60":[0,0,35],"0.65":[0,0,0],"0.70":[0,0,-35],"0.75":[0,0,0],"0.80":[0,0,35],"0.85":[0,0,0],"0.90":[0,0,-35],"0.95":[0,0,0],"1.0":[0,0,35],"1.05":[0,0,0],"1.10":[0,0,-35],"1.15":[0,0,0],"1.20":[0,0,35],"1.25":[0,0,0],"1.30":[0,0,-35],"1.35":[0,0,0],"1.40":[0,0,35],"1.45":[0,0,0],"1.50":[0,0,-35],"1.55":[0,0,0],"1.60":[0,0,35],"1.65":[0,0,0],"1.70":[0,0,-35],"1.75":[0,0,0],"1.80":[0,0,35],"1.85":[0,0,0],"1.90":[0,0,-35],"1.95":[0,0,0],"2.0":[0,0,35],"2.05":[0,0,0],"2.10":[0,0,-35],"2.15":[0,0,0],"2.20":[0,0,35],"2.25":[0,0,0],"2.30":[0,0,-35],"2.35":[0,0,0],"2.40":[0,0,35],"2.45":[0,0,0],"2.50":[0,0,-35],"2.55":[0,0,0]}},leg_front:{rotation:{"0.0":[15,0,0],"1.20":[25,0,0],"2.55":[15,0,0]}},leg_mid:{rotation:{"0.0":[15,0,0],"1.30":[35,0,0],"2.55":[15,0,0]}},leg_back:{rotation:{"0.0":[30,0,0],"1.60":[45,0,0],"2.55":[30,0,0]}},rightwing_bone:{rotation:{"0.0":[0,0,-35],"0.05":[0,0,0],"0.10":[0,0,35],"0.15":[0,0,0],"0.2":[0,0,-35],"0.25":[0,0,0],"0.30":[0,0,35],"0.35":[0,0,0],"0.40":[0,0,-35],"0.45":[0,0,0],"0.50":[0,0,35],"0.55":[0,0,0],"0.60":[0,0,-35],"0.65":[0,0,0],"0.70":[0,0,35],"0.75":[0,0,0],"0.80":[0,0,-35],"0.85":[0,0,0],"0.90":[0,0,35],"0.95":[0,0,0],"1.0":[0,0,-35],"1.05":[0,0,0],"1.10":[0,0,35],"1.15":[0,0,0],"1.20":[0,0,-35],"1.25":[0,0,0],"1.30":[0,0,35],"1.35":[0,0,0],"1.40":[0,0,-35],"1.45":[0,0,0],"1.50":[0,0,35],"1.55":[0,0,0],"1.60":[0,0,-35],"1.65":[0,0,0],"1.70":[0,0,35],"1.75":[0,0,0],"1.80":[0,0,-35],"1.85":[0,0,0],"1.90":[0,0,35],"1.95":[0,0,0],"2.0":[0,0,-35],"2.05":[0,0,0],"2.10":[0,0,35],"2.15":[0,0,0],"2.20":[0,0,-35],"2.25":[0,0,0],"2.30":[0,0,35],"2.35":[0,0,0],"2.40":[0,0,-35],"2.45":[0,0,0],"2.50":[0,0,35],"2.55":[0,0,0]}}}},bee_sting:{loop:!0,bones:{body:{rotation:["-175 * math.sin(variable.attack_time * 180)",0,0]}}},bee_no_stinger:{loop:!0,bones:{stinger:{scale:0}}},bee_fly_bobbing:{loop:!0,bones:{body:{position:[0,"math.cos(query.life_time * 343.774) * 1.6",0],rotation:[0,"20 * math.cos(query.life_time * 343.774 / 2)",0]}}}},particle_effects:{nectar_dripping:"minecraft:nectar_drip_particle"},scripts:{animate:["bee_root_controller",{bee_no_stinger:"query.mark_variant == 1"}]},render_controllers:["controller.render.bee"],spawn_egg:{texture:"egg_bee",texture_index:0},animation_controllers:{drip:{initial_state:"default",states:{default:{transitions:[{dripping:"query.is_powered"}]},dripping:{particle_effects:[{effect:"nectar_dripping"}],transitions:[{default:"!query.is_powered"}]}}},controller_bee_sting:{initial_state:"default",states:{default:{animations:["bee_sting"]}}},bee_root_controller:{initial_state:"default",states:{default:{animations:["flying","drip","bee_fly_bobbing","controller_bee_sting"]}}}}},blaze:{identifier:"minecraft:blaze",min_engine_version:"1.8.0",materials:{body:"blaze_body",head:"blaze_head"},textures:{default:"textures/entity/blaze"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:2,visible_bounds_offset:[0,1,0],texturewidth:64,textureheight:32,bones:[{name:"upperBodyParts0",pivot:[0,24,0],cubes:[{origin:[0,16,0],size:[2,8,2],uv:[0,16]}]},{name:"upperBodyParts1",pivot:[0,24,0],cubes:[{origin:[0,16,0],size:[2,8,2],uv:[0,16]}]},{name:"upperBodyParts2",pivot:[0,24,0],cubes:[{origin:[0,16,0],size:[2,8,2],uv:[0,16]}]},{name:"upperBodyParts3",pivot:[0,24,0],cubes:[{origin:[0,16,0],size:[2,8,2],uv:[0,16]}]},{name:"upperBodyParts4",pivot:[0,24,0],cubes:[{origin:[0,16,0],size:[2,8,2],uv:[0,16]}]},{name:"upperBodyParts5",pivot:[0,24,0],cubes:[{origin:[0,16,0],size:[2,8,2],uv:[0,16]}]},{name:"upperBodyParts6",pivot:[0,24,0],cubes:[{origin:[0,16,0],size:[2,8,2],uv:[0,16]}]},{name:"upperBodyParts7",pivot:[0,24,0],cubes:[{origin:[0,16,0],size:[2,8,2],uv:[0,16]}]},{name:"upperBodyParts8",pivot:[0,24,0],cubes:[{origin:[0,16,0],size:[2,8,2],uv:[0,16]}]},{name:"upperBodyParts9",pivot:[0,24,0],cubes:[{origin:[0,16,0],size:[2,8,2],uv:[0,16]}]},{name:"upperBodyParts10",pivot:[0,24,0],cubes:[{origin:[0,16,0],size:[2,8,2],uv:[0,16]}]},{name:"upperBodyParts11",pivot:[0,24,0],cubes:[{origin:[0,16,0],size:[2,8,2],uv:[0,16]}]},{name:"head",pivot:[0,24,0],cubes:[{origin:[-4,20,-4],size:[8,8,8],uv:[0,0]}]}]}},animations:{look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},move:{loop:!0,bones:{upperbodyparts0:{position:["math.cos(query.life_time * -360.0        ) * 9.0","2.0 + math.cos((0 * 2 + query.life_time * 20.0) * 14.32)","math.sin(query.life_time * -360.0        ) * 9.0"]},upperbodyparts1:{position:["math.cos(query.life_time * -360.0 +  90.0) * 9.0","2.0 + math.cos((1 * 2 + query.life_time * 20.0) * 14.32)","math.sin(query.life_time * -360.0 +  90.0) * 9.0"]},upperbodyparts10:{position:["math.cos(query.life_time * -180.0 + 207.0) * 5.0","-11.0 + math.cos((10 * 1.5 + query.life_time * 20.0) * 14.32)","math.sin(query.life_time * -180.0 + 207.0) * 5.0"]},upperbodyparts11:{position:["math.cos(query.life_time * -180.0 + 297.0) * 5.0","-11.0 + math.cos((11 * 1.5 + query.life_time * 20.0) * 14.32)","math.sin(query.life_time * -180.0 + 297.0) * 5.0"]},upperbodyparts2:{position:["math.cos(query.life_time * -360.0 + 180.0) * 9.0","2.0 + math.cos((2 * 2 + query.life_time * 20.0) * 14.32)","math.sin(query.life_time * -360.0 + 180.0) * 9.0"]},upperbodyparts3:{position:["math.cos(query.life_time * -360.0 + 270.0) * 9.0","2.0 + math.cos((3 * 2 + query.life_time * 20.0) * 14.32)","math.sin(query.life_time * -360.0 + 270.0) * 9.0"]},upperbodyparts4:{position:["math.cos(query.life_time * 108.0 +  45.0) * 7.0","-2.0 + math.cos((4 * 2 + query.life_time * 20.0) * 14.32)","math.sin(query.life_time * 108.0 +  45.0) * 7.0"]},upperbodyparts5:{position:["math.cos(query.life_time * 108.0 + 135.0) * 7.0","-2.0 + math.cos((5 * 2 + query.life_time * 20.0) * 14.32)","math.sin(query.life_time * 108.0 + 135.0) * 7.0"]},upperbodyparts6:{position:["math.cos(query.life_time * 108.0 + 225.0) * 7.0","-2.0 + math.cos((6 * 2 + query.life_time * 20.0) * 14.32)","math.sin(query.life_time * 108.0 + 225.0) * 7.0"]},upperbodyparts7:{position:["math.cos(query.life_time * 108.0 + 315.0) * 7.0","-2.0 + math.cos((7 * 2 + query.life_time * 20.0) * 14.32)","math.sin(query.life_time * 108.0 + 315.0) * 7.0"]},upperbodyparts8:{position:["math.cos(query.life_time * -180.0 +  27.0) * 5.0","-11.0 + math.cos((8 * 1.5 + query.life_time * 20.0) * 14.32)","math.sin(query.life_time * -180.0 +  27.0) * 5.0"]},upperbodyparts9:{position:["math.cos(query.life_time * -180.0 + 117.0) * 5.0","-11.0 + math.cos((9 * 1.5 + query.life_time * 20.0) * 14.32)","math.sin(query.life_time * -180.0 + 117.0) * 5.0"]}}}},particle_effects:{charged_flames:"minecraft:mobflame_emitter"},animation_controllers:{move:{initial_state:"default",states:{default:{animations:["move","look_at_target"]}}},flame:{initial_state:"default",states:{default:{transitions:[{flaming:"query.is_charged"}]},flaming:{particle_effects:[{effect:"charged_flames"}],transitions:[{default:"!query.is_charged"}]}}}},render_controllers:["controller.render.blaze"],spawn_egg:{texture:"spawn_egg",texture_index:21}},boat:{identifier:"minecraft:boat",textures:{default:"textures/entity/boat/acacia",acacia:"textures/entity/boat/acacia",birch:"textures/entity/boat/birch",darkoak:"textures/entity/boat/dark_oak",jungle:"textures/entity/boat/jungle",oak:"textures/entity/boat/oak",spruce:"textures/entity/boat/spruce"},geometry:{default:{texturewidth:128,textureheight:64,bones:[{name:"bottom",pivot:[0,18,0],rotation:[90,0,0],mirror:!0,cubes:[{origin:[-14,10,0],size:[28,16,3],uv:[0,0]}]},{name:"front",pivot:[15,24,0],rotation:[0,90,0],mirror:!0,cubes:[{origin:[7,21,-1],size:[16,6,2],uv:[0,27]}]},{name:"back",pivot:[-15,24,0],rotation:[0,-90,0],mirror:!0,cubes:[{origin:[-24,21,-1],size:[18,6,2],uv:[0,19]}]},{name:"right",pivot:[0,24,-9],rotation:[0,-180,0],mirror:!0,cubes:[{origin:[-14,21,-10],size:[28,6,2],uv:[0,35]}]},{name:"left",pivot:[0,24,9],mirror:!0,cubes:[{origin:[-14,21,8],size:[28,6,2],uv:[0,43]}]}]}}},cat:{identifier:"minecraft:cat",materials:{default:"cat"},textures:{white:"textures/entity/cat/white",black:"textures/entity/cat/tuxedo",red:"textures/entity/cat/red",siamese:"textures/entity/cat/siamese",british:"textures/entity/cat/british_shorthair",calico:"textures/entity/cat/calico",persian:"textures/entity/cat/persian",ragdoll:"textures/entity/cat/ragdoll",tabby:"textures/entity/cat/tabby",jellie:"textures/entity/cat/jellie",all_black:"textures/entity/cat/all_black",white_tame:"textures/entity/cat/white",black_tame:"textures/entity/cat/tuxedo_tame",red_tame:"textures/entity/cat/red",siamese_tame:"textures/entity/cat/siamese",british_tame:"textures/entity/cat/british_shorthair",calico_tame:"textures/entity/cat/calico",persian_tame:"textures/entity/cat/persian",ragdoll_tame:"textures/entity/cat/ragdoll",tabby_tame:"textures/entity/cat/tabby",all_black_tame:"textures/entity/cat/all_black",jellie_tame:"textures/entity/cat/jellie"},geometry:{default:{visible_bounds_width:2.5,visible_bounds_height:1,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:32,bones:[{pivot:[0,9,-9],locators:{lead:[0,9,-9]},cubes:[{origin:[-2.5,7,-12],size:[5,4,5],uv:[0,0]},{origin:[-1.5,7.01562,-13],size:[3,2,2],uv:[0,24]},{origin:[-2,11,-9],size:[1,1,2],uv:[0,10]},{origin:[1,11,-9],size:[1,1,2],uv:[6,10]}],name:"head",parent:"body"},{pivot:[0,7,1],bind_pose_rotation:[90,0,0],cubes:[{origin:[-2,-1,-2],size:[4,16,6],uv:[20,0]}],name:"body"},{pivot:[0,9,8],bind_pose_rotation:[90,0,0],cubes:[{origin:[-.5,1,8],size:[1,8,1],uv:[0,15]}],name:"tail1",parent:"body"},{pivot:[0,9,16],bind_pose_rotation:[90,0,0],cubes:[{origin:[-.5,1,16],size:[1,8,1],uv:[4,15],inflate:0,mirror:!1}],name:"tail2",parent:"tail1"},{pivot:[1.1,6,7],cubes:[{origin:[.1,0,6],size:[2,6,2],uv:[8,13],inflate:0,mirror:!1}],name:"backLegL",parent:"body"},{pivot:[-1.1,6,7],cubes:[{origin:[-2.1,0,6],size:[2,6,2],uv:[8,13],inflate:0,mirror:!1}],name:"backLegR",parent:"body"},{pivot:[1.2,10,-4],cubes:[{origin:[.2,.2,-5],size:[2,10,2],uv:[40,0],inflate:0,mirror:!1}],name:"frontLegL",parent:"body"},{pivot:[-1.2,10,-4],cubes:[{origin:[-2.2,.2,-5],size:[2,10,2],uv:[40,0],inflate:0,mirror:!1}],name:"frontLegR",parent:"body"}]}},animations:{sneak:{loop:!0,bones:{backlegl:{position:[0,1,0],rotation:["math.cos(query.modified_distance_moved * 38.17) * 57.3 * query.modified_move_speed",0,0]},backlegr:{position:[0,1,0],rotation:["math.cos(query.modified_distance_moved * 38.17 + 180.0) * 57.3 * query.modified_move_speed",0,0]},body:{position:[0,-1,0]},frontlegl:{position:[0,1,0],rotation:["math.cos(query.modified_distance_moved * 38.17 + 180.0) * 57.3 * query.modified_move_speed",0,0]},frontlegr:{position:[0,1,0],rotation:["math.cos(query.modified_distance_moved * 38.17) * 57.3 * query.modified_move_speed",0,0]},head:{position:[0,-1,0]},tail1:{position:[0,1,0]},tail2:{rotation:["62.0 + math.cos(query.modified_distance_moved * 57.3) * 27.0 * query.modified_move_speed",0,0]}}},walk:{loop:!0,bones:{backlegl:{rotation:["math.cos(query.modified_distance_moved * 38.17) * 57.3 * query.modified_move_speed",0,0]},backlegr:{rotation:["math.cos(query.modified_distance_moved * 38.17 + 180.0) * 57.3 * query.modified_move_speed",0,0]},frontlegl:{rotation:["math.cos(query.modified_distance_moved * 38.17 + 180.0) * 57.3 * query.modified_move_speed",0,0]},frontlegr:{rotation:["math.cos(query.modified_distance_moved * 38.17) * 57.3 * query.modified_move_speed",0,0]},tail1:{rotation:[-51.57,0,0]},tail2:{rotation:["62.0 + math.cos(query.modified_distance_moved * 57.3) * 45.0 * query.modified_move_speed",0,0]}}},sprint:{loop:!0,bones:{backlegl:{rotation:["math.cos(query.modified_distance_moved * 38.17) * 57.3 * query.modified_move_speed",0,0]},backlegr:{rotation:["math.cos(query.modified_distance_moved * 38.17 + 17.19) * 57.3 * query.modified_move_speed",0,0]},frontlegl:{rotation:["math.cos(query.modified_distance_moved * 38.17 + 197.19) * 57.3 * query.modified_move_speed",0,0]},frontlegr:{rotation:["math.cos(query.modified_distance_moved * 38.17 + 180.0) * 57.3 * query.modified_move_speed",0,0]},tail1:{rotation:[0,0,0]},tail2:{rotation:["62.0 + math.cos(query.modified_distance_moved * 57.3) * 18.0 * query.modified_move_speed",0,0]}}},sit:{loop:!0,bones:{backlegl:{position:[0,0,1],rotation:[-45,0,0]},backlegr:{position:[0,0,1],rotation:[-45,0,0]},body:{position:[0,-1,0],rotation:[-45,0,0]},frontlegl:{position:[0,-4.5,-1],rotation:[42.15,0,0]},frontlegr:{position:[0,-4.5,-1],rotation:[42.15,0,0]},tail1:{position:[0,-3,1],rotation:[45,0,0]},tail2:{position:[0,0,0],rotation:[45,0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},baby_transform:{loop:!0,bones:{head:{scale:1.5}}},lie_down:{loop:!0,bones:{backlegl:{position:[0,-.7,0],rotation:[-22.92,0,0]},backlegr:{position:[.1,-1.2,0],rotation:[28.65,0,-28.65]},body:{position:[0,"variable.liedownamount * -4.5 + variable.lieonplayer * (4.5 + query.is_baby * 6)",0],rotation:[0,0,"math.lerprotate(0.0, 90.0, variable.liedownamount)"]},frontlegl:{position:[0,-1,-1.5],rotation:[-72.81,0,0]},frontlegr:{position:[.2,-.9,0],rotation:[-30,0,-14.46]},head:{position:[-.1,0,-.5],rotation:[-10,"math.lerprotate(this, 75.81, variable.liedownamount)",0]},tail1:{position:[0,0,0],rotation:["math.lerprotate(this, -33.84, variable.liedownamounttail)",0,0]},tail2:{position:[0,0,0],rotation:["math.lerprotate(this, -68.92, variable.liedownamounttail)",0,0]}}}},animation_controllers:{look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target"]}}},move:{initial_state:"lie_down",states:{lie_down:{animations:["lie_down"],transitions:[{sneaking:"variable.state == 0"},{sprinting:"variable.state == 1"},{sitting:"variable.state == 2"},{walking:"variable.state == 3"}]},sitting:{animations:["sit"],transitions:[{sneaking:"variable.state == 0"},{sprinting:"variable.state == 1"},{walking:"variable.state == 3"},{lie_down:"variable.state == 4"}]},sneaking:{animations:["sneak"],transitions:[{sprinting:"variable.state == 1"},{sitting:"variable.state == 2"},{walking:"variable.state == 3"},{lie_down:"variable.state == 4"}]},sprinting:{animations:["sprint"],transitions:[{sneaking:"variable.state == 0"},{sitting:"variable.state == 2"},{walking:"variable.state == 3"},{lie_down:"variable.state == 4"}]},walking:{animations:["walk"],transitions:[{sneaking:"variable.state == 0"},{sprinting:"variable.state == 1"},{sitting:"variable.state == 2"},{lie_down:"variable.state == 4"}]}}},baby:{initial_state:"baby",states:{baby:{animations:[{baby_transform:"query.is_baby"}]}}}},render_controllers:["controller.render.cat"],spawn_egg:{texture:"spawn_egg",texture_index:53}},cave_spider:{identifier:"minecraft:cave_spider",min_engine_version:"1.8.0",materials:{default:"spider",invisible:"spider_invisible"},textures:{default:"textures/entity/spider/cave_spider"},geometry:{default:{visible_bounds_width:2,visible_bounds_height:1,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:32,bones:[{name:"head",pivot:[0,9,-3],cubes:[{origin:[-4,5,-11],size:[8,8,8],uv:[32,4]}],parent:"body0"},{name:"body0",pivot:[0,9,0],cubes:[{origin:[-3,6,-3],size:[6,6,6],uv:[0,0]}]},{name:"body1",pivot:[0,9,9],cubes:[{origin:[-5,5,3],size:[10,8,12],uv:[0,12]}],parent:"body0"},{name:"leg0",pivot:[-4,9,2],cubes:[{origin:[-19,8,1],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg1",pivot:[4,9,2],cubes:[{origin:[3,8,1],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg2",pivot:[-4,9,1],cubes:[{origin:[-19,8,0],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg3",pivot:[4,9,1],cubes:[{origin:[3,8,0],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg4",pivot:[-4,9,0],cubes:[{origin:[-19,8,-1],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg5",pivot:[4,9,0],cubes:[{origin:[3,8,-1],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg6",pivot:[-4,9,-1],cubes:[{origin:[-19,8,-2],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg7",pivot:[4,9,-1],cubes:[{origin:[3,8,-2],size:[16,2,2],uv:[18,0]}],parent:"body0"}]}},scripts:{scale:"0.7"},animations:{default_leg_pose:{loop:!0,bones:{leg0:{rotation:[0,"45.0 - this","-45.0 - this"]},leg1:{rotation:[0,"-45.0 - this","45.0 - this"]},leg2:{rotation:[0,"22.5 - this","-33.3 - this"]},leg3:{rotation:[0,"-22.5 - this","33.3 - this"]},leg4:{rotation:[0,"-22.5 - this","-33.3 - this"]},leg5:{rotation:[0,"22.5 - this","33.3 - this"]},leg6:{rotation:[0,"-45.0 - this","-45.0 - this"]},leg7:{rotation:[0,"45.0 - this","45.0 - this"]}}},look_at_target:{loop:!0,bones:{head:{rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},walk:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:[0,"-math.abs(math.cos(query.anim_time * 76.34 + 90 * 0) * 22.92)","math.abs(math.sin(query.anim_time * 38.17 + 90 * 0) * 22.92)"]},leg1:{rotation:[0,"math.abs(math.cos(query.anim_time * 76.34 + 90 * 0) * 22.92)","-math.abs(math.sin(query.anim_time * 38.17 + 90 * 0) * 22.92)"]},leg2:{rotation:[0,"-math.abs(math.cos(query.anim_time * 76.34 + 90 * 1) * 22.92)","math.abs(math.sin(query.anim_time * 38.17 + 90 * 1) * 22.92)"]},leg3:{rotation:[0,"math.abs(math.cos(query.anim_time * 76.34 + 90 * 1) * 22.92)","-math.abs(math.sin(query.anim_time * 38.17 + 90 * 1) * 22.92)"]},leg4:{rotation:[0,"-math.abs(math.cos(query.anim_time * 76.34 + 90 * 2) * 22.92)","math.abs(math.sin(query.anim_time * 38.17 + 90 * 2) * 22.92)"]},leg5:{rotation:[0,"math.abs(math.cos(query.anim_time * 76.34 + 90 * 2) * 22.92)","-math.abs(math.sin(query.anim_time * 38.17 + 90 * 2) * 22.92)"]},leg6:{rotation:[0,"-math.abs(math.cos(query.anim_time * 76.34 + 90 * 3) * 22.92)","math.abs(math.sin(query.anim_time * 38.17 + 90 * 3) * 22.92)"]},leg7:{rotation:[0,"math.abs(math.cos(query.anim_time * 76.34 + 90 * 3) * 22.92)","-math.abs(math.sin(query.anim_time * 38.17 + 90 * 3) * 22.92)"]}}}},animation_controllers:{move:{initial_state:"default",states:{default:{animations:["default_leg_pose",{walk:"query.modified_move_speed"},"look_at_target"]}}}},render_controllers:["controller.render.spider"],spawn_egg:{texture:"spawn_egg",texture_index:22}},chest_minecart:{identifier:"minecraft:chest_minecart",min_engine_version:"1.8.0",materials:{default:"minecart"},textures:{default:"textures/entity/minecart"},geometry:{default:{bones:[{name:"bottom",pivot:[0,6,0],cubes:[{origin:[-10,-6.5,-1],size:[20,16,2],rotation:[90,0,0],uv:[0,10]}]},{name:"back",pivot:[0,0,0],cubes:[{origin:[-17,2.5,-1],size:[16,8,2],rotation:[0,270,0],uv:[0,0]}],parent:"bottom"},{name:"front",pivot:[0,0,0],cubes:[{origin:[1,2.5,-1],size:[16,8,2],rotation:[0,90,0],uv:[0,0]}],parent:"bottom"},{name:"right",pivot:[0,0,0],cubes:[{origin:[-8,2.5,-8],size:[16,8,2],rotation:[0,180,0],uv:[0,0]}],parent:"bottom"},{name:"left",pivot:[0,0,0],cubes:[{origin:[-8,2.5,6],size:[16,8,2],uv:[0,0]}],parent:"bottom"}],texturewidth:64,textureheight:32}},scripts:{pre_animation:["variable.hurt = query.hurt_time - query.frame_alpha;"],animate:["move"]},animations:{move:{loop:!0,bones:{bottom:{position:["variable.rail_offset.x / query.model_scale","variable.rail_offset.y / query.model_scale","variable.rail_offset.z / query.model_scale"],rotation:["variable.hurt > 0 ? -Math.sin(variable.hurt * 360 / (Math.pi * 2)) * variable.hurt * (((20 * 2 - query.structural_integrity) - query.frame_alpha) < 0 ? 0: (20 * 2 - query.structural_integrity) - query.frame_alpha) / 10 * query.hurt_direction : 0",0,"-variable.rail_rotation.z"]}}}},render_controllers:["controller.render.minecart"]},chicken:{identifier:"minecraft:chicken",min_engine_version:"1.12.0",materials:{default:"chicken",legs:"chicken_legs"},textures:{default:"textures/entity/chicken"},geometry:{default:{bones:[{name:"body",pivot:[0,8,0],cubes:[{origin:[-3,4,-3],rotation:[90,0,0],size:[6,8,6],uv:[0,9]}]},{name:"head",pivot:[0,9,-4],cubes:[{origin:[-2,9,-6],size:[4,6,3],uv:[0,0]}],locators:{lead:[0,9,-4]}},{name:"comb",parent:"head",pivot:[0,9,-4],cubes:[{origin:[-1,9,-7],size:[2,2,2],uv:[14,4]}]},{name:"beak",parent:"head",pivot:[0,9,-4],cubes:[{origin:[-2,11,-8],size:[4,2,2],uv:[14,0]}]},{name:"leg0",pivot:[-2,5,1],cubes:[{origin:[-3,0,-2],size:[3,5,3],uv:[26,0]}]},{name:"leg1",pivot:[1,5,1],cubes:[{origin:[0,0,-2],size:[3,5,3],uv:[26,0]}]},{name:"wing0",pivot:[-3,11,0],cubes:[{origin:[-4,7,-3],size:[1,4,6],uv:[24,13]}]},{name:"wing1",pivot:[3,11,0],cubes:[{origin:[3,7,-3],size:[1,4,6],uv:[24,13]}]}],visible_bounds_width:1.5,visible_bounds_height:1.5,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:32}},animations:{move:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]},leg1:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]}}},general:{loop:!0,bones:{body:{rotation:["-this",0,0]},wing0:{rotation:[0,0,"variable.wing_flap - this"]},wing1:{rotation:[0,0,"-variable.wing_flap - this"]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},baby_transform:{loop:!0,bones:{head:{scale:2}}}},scripts:{animate:["general",{move:"query.modified_move_speed"},"look_at_target",{baby_transform:"query.is_baby"}]},render_controllers:["controller.render.chicken"],spawn_egg:{texture:"spawn_egg",texture_index:0}},cod:{identifier:"minecraft:cod",materials:{default:"cod"},textures:{default:"textures/entity/fish/cod"},geometry:{default:{visible_bounds_width:.5,visible_bounds_height:.5,texturewidth:32,textureheight:32,bones:[{name:"body",cubes:[{origin:[-1,0,1],size:[2,4,7],uv:[0,0]},{origin:[0,4,0],size:[0,1,6],uv:[20,-6]},{origin:[0,-1,3],size:[0,1,2],uv:[22,-1]}]},{name:"head",parent:"body",pivot:[0,2,0],cubes:[{origin:[-.9992,1.0008,-3],size:[2,3,1],uv:[0,0]},{origin:[-1,0,-2],size:[2,4,3],uv:[11,0]}]},{name:"leftFin",parent:"body",pivot:[1,1,0],rotation:[0,0,35],cubes:[{origin:[1,0,0],size:[2,1,2],uv:[24,4]}]},{name:"rightFin",parent:"body",pivot:[-1,1,0],rotation:[0,0,-35],cubes:[{origin:[-3,0,0],size:[2,1,2],uv:[24,1]}]},{name:"tailfin",parent:"body",pivot:[0,0,8],cubes:[{origin:[0,0,8],size:[0,4,6],uv:[20,1]}]},{name:"waist",parent:"body",cubes:[]}]}},scripts:{pre_animation:["variable.ZRot = !query.is_in_water ? Math.cos((query.time_stamp + query.frame_alpha) * 14.32) * 90 : 0.0;","variable.AnimationAmountBlend = Math.lerp(variable.AnimationAmountPrev, variable.AnimationAmount, query.frame_alpha);"]},animations:{flop:{loop:!0,bones:{body:{rotation:[0,"math.cos(variable.animationamountblend * 45.0) * 2.0","variable.zrot"]},head:{rotation:[0,"math.cos(variable.animationamountblend * 45.0) * 4.0",0]},tailfin:{rotation:[0,"math.cos(variable.animationamountblend * 45.0) * -25.75",0]}}},swim:{loop:!0,bones:{body:{rotation:[0,"math.cos(variable.animationamountblend * 30.0) * 2.0",0]},head:{rotation:[0,"math.cos(variable.animationamountblend * 30.0) * 4.0",0]},tailfin:{rotation:[0,"math.cos(variable.animationamountblend * 30.0) * -25.75",0]}}}},animation_controllers:{general:{initial_state:"flopping",states:{flopping:{animations:["flop"],transitions:[{swimming:"query.is_in_water || query.is_levitating"}]},swimming:{animations:["swim"],transitions:[{flopping:"!query.is_in_water && !query.is_levitating"}]}}}},render_controllers:["controller.render.cod"],spawn_egg:{texture:"spawn_egg",texture_index:45}},command_block_minecart:{identifier:"minecraft:command_block_minecart",min_engine_version:"1.8.0",materials:{default:"minecart"},textures:{default:"textures/entity/minecart"},geometry:{default:{bones:[{name:"bottom",pivot:[0,6,0],cubes:[{origin:[-10,-6.5,-1],size:[20,16,2],rotation:[90,0,0],uv:[0,10]}]},{name:"back",pivot:[0,0,0],cubes:[{origin:[-17,2.5,-1],size:[16,8,2],rotation:[0,270,0],uv:[0,0]}],parent:"bottom"},{name:"front",pivot:[0,0,0],cubes:[{origin:[1,2.5,-1],size:[16,8,2],rotation:[0,90,0],uv:[0,0]}],parent:"bottom"},{name:"right",pivot:[0,0,0],cubes:[{origin:[-8,2.5,-8],size:[16,8,2],rotation:[0,180,0],uv:[0,0]}],parent:"bottom"},{name:"left",pivot:[0,0,0],cubes:[{origin:[-8,2.5,6],size:[16,8,2],uv:[0,0]}],parent:"bottom"}],texturewidth:64,textureheight:32}},scripts:{pre_animation:["variable.hurt = query.hurt_time - query.frame_alpha;"],animate:["move"]},animations:{move:{loop:!0,bones:{bottom:{position:["variable.rail_offset.x / query.model_scale","variable.rail_offset.y / query.model_scale","variable.rail_offset.z / query.model_scale"],rotation:["variable.hurt > 0 ? -Math.sin(variable.hurt * 360 / (Math.pi * 2)) * variable.hurt * (((20 * 2 - query.structural_integrity) - query.frame_alpha) < 0 ? 0: (20 * 2 - query.structural_integrity) - query.frame_alpha) / 10 * query.hurt_direction : 0",0,"-variable.rail_rotation.z"]}}}},render_controllers:["controller.render.minecart"]},cow:{identifier:"minecraft:cow",min_engine_version:"1.8.0",materials:{default:"cow"},textures:{default:"textures/entity/cow/cow"},geometry:{default:{visible_bounds_width:2,visible_bounds_height:1.75,visible_bounds_offset:[0,.75,0],texturewidth:64,textureheight:32,bones:[{name:"body",pivot:[0,19,2],bind_pose_rotation:[90,0,0],cubes:[{origin:[-6,11,-5],size:[12,18,10],uv:[18,4]},{origin:[-2,11,-6],size:[4,6,1],uv:[52,0]}]},{name:"head",parent:"body",pivot:[0,20,-8],locators:{lead:[0,20,-8]},cubes:[{origin:[-4,16,-14],size:[8,8,6],uv:[0,0]},{origin:[-5,22,-12],size:[1,3,1],uv:[22,0]},{origin:[4,22,-12],size:[1,3,1],uv:[22,0]}]},{name:"leg0",parent:"body",pivot:[-4,12,7],cubes:[{origin:[-6,0,5],size:[4,12,4],uv:[0,16]}]},{name:"leg1",parent:"body",mirror:!0,pivot:[4,12,7],cubes:[{origin:[2,0,5],size:[4,12,4],uv:[0,16]}]},{name:"leg2",parent:"body",pivot:[-4,12,-6],cubes:[{origin:[-6,0,-7],size:[4,12,4],uv:[0,16]}]},{name:"leg3",parent:"body",mirror:!0,pivot:[4,12,-6],cubes:[{origin:[2,0,-7],size:[4,12,4],uv:[0,16]}]}]}},animations:{setup:{loop:!0,bones:{body:{rotation:["-this",0,0]}}},walk:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]},leg1:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg2:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg3:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},baby_transform:{loop:!0,bones:{head:{position:[0,4,4],scale:2}}}},scripts:{animate:["setup",{walk:"query.modified_move_speed"},"look_at_target",{baby_transform:"query.is_baby"}]},render_controllers:["controller.render.cow"],spawn_egg:{texture:"spawn_egg",texture_index:1}},creeper:{identifier:"minecraft:creeper",min_engine_version:"1.8.0",materials:{default:"creeper",charged:"charged_creeper"},textures:{default:"textures/entity/creeper/creeper",charged:"textures/entity/creeper/creeper_armor"},geometry:{default:{visible_bounds_width:1,visible_bounds_height:2,visible_bounds_offset:[0,.75,0],texturewidth:64,textureheight:32,bones:[{name:"body",cubes:[{origin:[-4,6,-2],size:[8,12,4],uv:[16,16]}]},{name:"head",parent:"body",pivot:[0,18,0],cubes:[{origin:[-4,18,-4],size:[8,8,8],uv:[0,0]}]},{name:"leg0",parent:"body",pivot:[-2,6,4],cubes:[{origin:[-4,0,2],size:[4,6,4],uv:[0,16]}]},{name:"leg1",parent:"body",pivot:[2,6,4],cubes:[{origin:[0,0,2],size:[4,6,4],uv:[0,16]}]},{name:"leg2",parent:"body",pivot:[-2,6,-4],cubes:[{origin:[-4,0,-6],size:[4,6,4],uv:[0,16]}]},{name:"leg3",parent:"body",pivot:[2,6,-4],cubes:[{origin:[0,0,-6],size:[4,6,4],uv:[0,16]}]}]},charged:{visible_bounds_width:1,visible_bounds_height:2,visible_bounds_offset:[0,.75,0],texturewidth:64,textureheight:32,bones:[{name:"body",cubes:[{origin:[-4,6,-2],size:[8,12,4],uv:[16,16]}],inflate:2},{name:"head",parent:"body",pivot:[0,18,0],cubes:[{origin:[-4,18,-4],size:[8,8,8],uv:[0,0]}],inflate:2},{name:"leg0",parent:"body",pivot:[-2,6,4],cubes:[{origin:[-4,0,2],size:[4,6,4],uv:[0,16]}],inflate:2},{name:"leg1",parent:"body",pivot:[2,6,4],cubes:[{origin:[0,0,2],size:[4,6,4],uv:[0,16]}],inflate:2},{name:"leg2",parent:"body",pivot:[-2,6,-4],cubes:[{origin:[-4,0,-6],size:[4,6,4],uv:[0,16]}],inflate:2},{name:"leg3",parent:"body",pivot:[2,6,-4],cubes:[{origin:[0,0,-6],size:[4,6,4],uv:[0,16]}],inflate:2}]}},spawn_egg:{texture:"spawn_egg",texture_index:6},scripts:{pre_animation:["variable.wobble = Math.sin(query.swell_amount * 5730) * query.swell_amount * 0.01 + 1.0;","variable.swelling_scale1 = (Math.pow(Math.clamp(query.swell_amount, 0.0, 1.0), 4.0) * 0.4 + 1.0) * variable.wobble;","variable.swelling_scale2 = (Math.pow(Math.clamp(query.swell_amount, 0.0, 1.0), 4.0) * 0.1 + 1.0) / variable.wobble;","variable.leg_rot = Math.cos(query.modified_distance_moved * 38.17326) * 80.22 * query.modified_move_speed;","variable.flash = Math.mod(Math.Round(query.swell_amount * 10.0), 2.0);"]},animations:{creeper_head:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},creeper_legs:{loop:!0,bones:{leg0:{rotation:["variable.leg_rot - this",0,0]},leg1:{rotation:["-variable.leg_rot - this",0,0]},leg2:{rotation:["-variable.leg_rot - this",0,0]},leg3:{rotation:["variable.leg_rot - this",0,0]}}},creeper_swelling:{loop:!0,bones:{body:{scale:["variable.swelling_scale1","variable.swelling_scale2","variable.swelling_scale1"]},head:{scale:["variable.swelling_scale1","variable.swelling_scale2","variable.swelling_scale1"]},leg0:{scale:["variable.swelling_scale1","variable.swelling_scale2","variable.swelling_scale1"]},leg1:{scale:["variable.swelling_scale1","variable.swelling_scale2","variable.swelling_scale1"]},leg2:{scale:["variable.swelling_scale1","variable.swelling_scale2","variable.swelling_scale1"]},leg3:{scale:["variable.swelling_scale1","variable.swelling_scale2","variable.swelling_scale1"]}}}},animation_controllers:{creeper_head:{initial_state:"default",states:{default:{animations:["creeper_head"]}}},creeper_legs:{initial_state:"default",states:{default:{animations:["creeper_legs"]}}},creeper_swelling:{initial_state:"default",states:{default:{animations:["creeper_swelling"]}}}},render_controllers:["controller.render.creeper","controller.render.creeper_armor"]},dolphin:{identifier:"minecraft:dolphin",materials:{default:"dolphin"},textures:{default:"textures/entity/dolphin"},geometry:{default:{bones:[{pivot:[0,0,-3],locators:{lead:[0,0,0]},cubes:[{origin:[-4,0,-9],size:[8,7,6],uv:[0,0],inflate:0,mirror:!1}],name:"head",parent:"body"},{pivot:[0,0,-3],cubes:[{origin:[-4,0,-3],size:[8,7,13],uv:[0,13],inflate:0,mirror:!1}],name:"body"},{pivot:[0,2.5,11],cubes:[{origin:[-2,0,10],size:[4,5,11],uv:[0,33],inflate:0,mirror:!1}],name:"tail",parent:"body"},{pivot:[0,2.5,20],cubes:[{origin:[-5,2,19],size:[10,1,6],uv:[0,49],inflate:0,mirror:!1}],name:"tail_fin",parent:"tail"},{pivot:[0,7,2],rotation:[-30,0,0],cubes:[{origin:[-.5,6.25,1],size:[1,5,4],uv:[29,0],inflate:0,mirror:!1}],name:"back_fin",parent:"body"},{pivot:[3,1,-1],rotation:[0,-25,20],cubes:[{origin:[3,1,-2.5],size:[8,1,4],uv:[40,0],inflate:0,mirror:!1}],name:"left_fin",parent:"body"},{pivot:[-3,1,-1],rotation:[0,25,-20],cubes:[{origin:[-11,1,-2.5],size:[8,1,4],uv:[40,6],inflate:0,mirror:!1}],name:"right_fin",parent:"body"},{pivot:[0,0,-13],cubes:[{origin:[-1,0,-13],size:[2,2,4],uv:[0,13],inflate:0,mirror:!1}],name:"nose",parent:"head"}],texturewidth:64,textureheight:64}},animations:{move:{loop:!0,bones:{body:{rotation:["query.target_x_rotation - 2.865 + (-2.865 * math.cos(query.life_time * 343.8))","query.target_y_rotation",0]},left_fin:{rotation:[0,0,"17.19 * math.cos(query.life_time * 229.2) + 22.92"]},right_fin:{rotation:[0,0,"-17.19 * math.cos(query.life_time * 229.2) - 22.92"]},tail:{rotation:["-5.73 * math.cos(query.life_time * 343.8)",0,0]},tail_fin:{rotation:["-11.46 * math.cos(query.life_time * 343.8)",0,0]}}}},animation_controllers:{general:{initial_state:"default",states:{default:{animations:["move"]}}}},render_controllers:["controller.render.dolphin"],spawn_egg:{texture:"spawn_egg",texture_index:49}},donkey:{identifier:"minecraft:donkey",textures:{base_brown:"textures/entity/horse/horse_brown",base_white:"textures/entity/horse/horse_white",base_chestnut:"textures/entity/horse/horse_chestnut",base_creamy:"textures/entity/horse/horse_creamy",base_black:"textures/entity/horse/horse_black",base_gray:"textures/entity/horse/horse_gray",base_darkbrown:"textures/entity/horse/horse_darkbrown",markings_none:"textures/entity/horse/horse_markings_none",markings_white:"textures/entity/horse/horse_markings_white",markings_whitefield:"textures/entity/horse/horse_markings_whitefield",markings_whitedots:"textures/entity/horse/horse_markings_whitedots",markings_blackdots:"textures/entity/horse/horse_markings_blackdots",mule:"textures/entity/horse/mule",donkey:"textures/entity/horse/donkey",skeleton:"textures/entity/horse/horse_skeleton",zombie:"textures/entity/horse/horse_zombie",armor_none:"textures/entity/horse/armor/horse_armor_none",armor_leather:"textures/entity/horse/armor/horse_armor_leather",armor_iron:"textures/entity/horse/armor/horse_armor_iron",armor_gold:"textures/entity/horse/armor/horse_armor_gold",armor_diamond:"textures/entity/horse/armor/horse_armor_diamond"},geometry:{default:{visible_bounds_width:2,visible_bounds_height:3,visible_bounds_offset:[0,1,0],texturewidth:128,textureheight:128,bones:[{name:"Body",pivot:[0,13,9],rotation:[0,0,0],cubes:[{origin:[-5,11,-10],size:[10,10,24],uv:[0,34]}]},{name:"TailA",pivot:[0,21,14],rotation:[-65,0,0],cubes:[{origin:[-1,20,14],size:[2,2,3],uv:[44,0]}]},{name:"TailB",pivot:[0,21,14],rotation:[-65,0,0],cubes:[{origin:[-1.5,19,17],size:[3,4,7],uv:[38,7]}]},{name:"TailC",pivot:[0,21,14],rotation:[-80.34,0,0],cubes:[{origin:[-1.5,21.5,23],size:[3,4,7],uv:[24,3]}]},{name:"Leg1A",pivot:[4,15,11],rotation:[0,0,0],cubes:[{origin:[1.5,8,8.5],size:[4,9,5],uv:[78,29]}]},{name:"Leg1B",pivot:[4,8,11],rotation:[0,0,0],cubes:[{origin:[2,3,9.5],size:[3,5,3],uv:[78,43]}]},{name:"Leg1C",pivot:[4,8,11],rotation:[0,0,0],cubes:[{origin:[1.5,-.1,9],size:[4,3,4],uv:[78,51]}]},{name:"Leg2A",pivot:[-4,15,11],rotation:[0,0,0],cubes:[{origin:[-5.5,8,8.5],size:[4,9,5],uv:[96,29]}]},{name:"Leg2B",pivot:[-4,8,11],rotation:[0,0,0],cubes:[{origin:[-5,3,9.5],size:[3,5,3],uv:[96,43]}]},{name:"Leg2C",pivot:[-4,8,11],rotation:[0,0,0],cubes:[{origin:[-5.5,-.1,9],size:[4,3,4],uv:[96,51]}]},{name:"Leg3A",pivot:[4,15,-8],rotation:[0,0,0],cubes:[{origin:[2.1,8,-10.1],size:[3,8,4],uv:[44,29]}]},{name:"Leg3B",pivot:[4,8,-8],rotation:[0,0,0],cubes:[{origin:[2.1,3,-9.6],size:[3,5,3],uv:[44,41]}]},{name:"Leg3C",pivot:[4,8,-8],rotation:[0,0,0],cubes:[{origin:[1.6,-.1,-10.1],size:[4,3,4],uv:[44,51]}]},{name:"Leg4A",pivot:[-4,15,-8],rotation:[0,0,0],cubes:[{origin:[-5.1,8,-10.1],size:[3,8,4],uv:[60,29]}]},{name:"Leg4B",pivot:[-4,8,-8],rotation:[0,0,0],cubes:[{origin:[-5.1,3,-9.6],size:[3,5,3],uv:[60,41]}]},{name:"Leg4C",pivot:[-4,8,-8],rotation:[0,0,0],cubes:[{origin:[-5.6,-.1,-10.1],size:[4,3,4],uv:[60,51]}]},{name:"Head",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,25,-11.5],size:[5,5,7],uv:[0,0]}]},{name:"UMouth",pivot:[0,20.05,-10],rotation:[30,0,0],cubes:[{origin:[-2,27.05,-17],size:[4,3,6],uv:[24,18]}]},{name:"LMouth",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2,25,-16.5],size:[4,2,5],uv:[24,27]}]},{name:"Ear1",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[.45,29,-6],size:[2,3,1],uv:[0,0]}]},{name:"Ear2",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.45,29,-6],size:[2,3,1],uv:[0,0]}]},{name:"MuleEarL",pivot:[0,20,-10],rotation:[30,0,15],cubes:[{origin:[-2,29,-6],size:[2,7,1],uv:[0,12]}]},{name:"MuleEarR",pivot:[0,20,-10],rotation:[30,0,-15],cubes:[{origin:[0,29,-6],size:[2,7,1],uv:[0,12]}]},{name:"Neck",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.05,15.8,-12],size:[4,14,8],uv:[0,12]}]},{name:"Bag1",pivot:[-7.5,21,10],rotation:[0,90,0],cubes:[{origin:[-10.5,13,10],size:[8,8,3],uv:[0,34]}]},{name:"Bag2",pivot:[4.5,21,10],rotation:[0,90,0],cubes:[{origin:[1.5,13,10],size:[8,8,3],uv:[0,47]}]},{name:"Saddle",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-5,21,-1],size:[10,1,8],uv:[80,0]}]},{name:"SaddleB",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-1.5,22,-1],size:[3,1,2],uv:[106,9]}]},{name:"SaddleC",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-4,22,5],size:[8,1,2],uv:[80,9]}]},{name:"SaddleL2",pivot:[5,21,2],rotation:[0,0,0],cubes:[{origin:[4.5,13,1],size:[1,2,2],uv:[74,0]}]},{name:"SaddleL",pivot:[5,21,2],rotation:[0,0,0],cubes:[{origin:[4.5,15,1.5],size:[1,6,1],uv:[70,0]}]},{name:"SaddleR2",pivot:[-5,21,2],rotation:[0,0,0],cubes:[{origin:[-5.5,13,1],size:[1,2,2],uv:[74,4]}]},{name:"SaddleR",pivot:[-5,21,2],rotation:[0,0,0],cubes:[{origin:[-5.5,15,1.5],size:[1,6,1],uv:[80,0]}]},{name:"SaddleMouthL",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[1.5,26,-14],size:[1,2,2],uv:[74,13]}]},{name:"SaddleMouthR",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,26,-14],size:[1,2,2],uv:[74,13]}]},{name:"SaddleMouthLine",pivot:[0,20,-10],rotation:[0,0,0],cubes:[{origin:[2.6,23,-16],size:[0,3,16],uv:[44,10]}]},{name:"SaddleMouthLineR",pivot:[0,20,-10],rotation:[0,0,0],cubes:[{origin:[-2.6,23,-16],size:[0,3,16],uv:[44,5]}]},{name:"Mane",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-1,15.5,-5],size:[2,16,4],uv:[58,0]}]},{name:"HeadSaddle",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,25.1,-17],size:[5,5,12],uv:[80,12],inflate:.05}]}]}},spawn_egg:{texture:"spawn_egg",texture_index:30}},dragon_fireball:{identifier:"minecraft:dragon_fireball",materials:{default:"fireball"},textures:{default:"textures/entity/enderdragon/dragon_fireball"},geometry:{default:{bones:[{name:"body",pivot:[0,0,0],cubes:[{origin:[-8,-4,0],size:[16,16,0],uv:{south:{uv:[0,0]}}}]}],texturewidth:16,textureheight:16}},animations:{face_player:{loop:!0,bones:{body:{rotation:["query.camera_rotation(0)","query.camera_rotation(1)",0]}}}},scripts:{scale:"2.0",animate:["face_player"]},render_controllers:["controller.render.fireball"]},drowned:{identifier:"minecraft:drowned",min_engine_version:"1.16.0",materials:{default:"drowned"},textures:{default:"textures/entity/zombie/drowned"},geometry:{default:{bones:[{name:"body",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,16]}]},{name:"jacket",parent:"body",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,32],inflate:.5}]},{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[0,0],inflate:.5}]},{name:"hat",parent:"head",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[32,0],inflate:1}]},{name:"rightArm",parent:"body",pivot:[-5,22,0],cubes:[{origin:[-7,12,-2],size:[4,12,4],uv:[0,16]}]},{name:"leftArm",parent:"body",pivot:[5,22,0],cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[40,16],mirror:!0}]},{name:"rightSleeve",parent:"rightArm",pivot:[-5,22,0],cubes:[{origin:[-7,12,-2],size:[4,12,4],uv:[48,48],inflate:.5}]},{name:"leftSleeve",parent:"leftArm",pivot:[5,22,0],cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[40,32],inflate:.5,mirror:!0}]},{name:"rightLeg",parent:"body",pivot:[-1.9,12,0],cubes:[{origin:[-4.05,0,-2],size:[4,12,4],uv:[16,48]}]},{name:"leftLeg",parent:"body",pivot:[1.9,12,0],cubes:[{origin:[.05,0,-2],size:[4,12,4],uv:[32,48],mirror:!0}]},{name:"rightPants",parent:"rightLeg",pivot:[-1.9,12,0],cubes:[{origin:[-4.25,0,-2],size:[4,12,4],uv:[0,48],inflate:.25}]},{name:"leftPants",parent:"leftLeg",pivot:[1.9,12,0],cubes:[{origin:[.25,0,-2],size:[4,12,4],uv:[0,32],inflate:.25,mirror:!0}]},{name:"waist",parent:"body",pivot:[0,12,0]},{name:"rightItem",parent:"rightArm",pivot:[-6,15,1]},{name:"leftItem",parent:"leftArm",pivot:[6,15,1]}],visible_bounds_width:2.5,visible_bounds_height:2.5,visible_bounds_offset:[0,1.25,0],texturewidth:64,textureheight:64}},scripts:{pre_animation:["variable.tcos0 = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;"],animate:[{humanoid_big_head:"query.is_baby"},"look_at_target","move",{"riding.arms":"query.is_riding"},{"riding.legs":"query.is_riding"},"holding",{charging:"query.is_charging"},"attack_controller",{brandish_spear:"variable.is_brandishing_spear"},"bob",{damage_nearby_mobs:"variable.damage_nearby_mobs"},{use_item_progress:"( variable.use_item_interval_progress > 0.0 ) || ( variable.use_item_startup_progress > 0.0 )"},{swimming:"variable.swim_amount > 0.0"}]},animations:{humanoid_big_head:{loop:!0,bones:{head:{scale:1.4}}},look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},move:{loop:!0,bones:{leftarm:{rotation:["variable.tcos0",0,0]},leftleg:{rotation:["variable.tcos0 * -1.4",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]},rightarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leftleg:{rotation:["-72.0 - this","-18.0 - this","-this"]},rightleg:{rotation:["-72.0 - this","18.0 - this","-this"]}}},holding:{loop:!0,bones:{leftarm:{rotation:["variable.is_holding_left ? (-this * 0.5 - 18.0) : 0.0",0,0]},rightarm:{rotation:["variable.is_holding_right ? (-this * 0.5 - 18.0) : 0.0",0,0]}}},brandish_spear:{loop:!0,bones:{rightarm:{rotation:["this * -0.5 - 157.5 - 22.5 * variable.charge_amount","-this",0]}}},charging:{loop:!0,bones:{rightarm:{rotation:["22.5 * variable.charge_amount - this","-this",0]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"((math.cos(query.life_time * 103.2) * 2.865) + 2.865) *-1.0"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},damage_nearby_mobs:{loop:!0,bones:{leftarm:{rotation:["-45.0-this","-this","-this"]},leftleg:{rotation:["45.0-this","-this","-this"]},rightarm:{rotation:["45.0-this","-this","-this"]},rightleg:{rotation:["-45.0-this","-this","-this"]}}},use_item_progress:{loop:!0,bones:{rightarm:{rotation:["variable.use_item_startup_progress * -60.0 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -22.5 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -5.625 + variable.use_item_interval_progress * 11.25"]}}},zombie_attack_bare_hand:{loop:!0,bones:{leftarm:{rotation:["-90.0 - ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4) - (math.sin(query.life_time * 76.776372) * 2.865) - this","5.73 - ((math.sin(variable.attack_time * 180.0) * 57.3) * 0.6) - this","math.cos(query.life_time * 103.13244) * -2.865 - 2.865 - this"]},rightarm:{rotation:["90.0 * (variable.is_brandishing_spear - 1.0) - ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4) + (math.sin(query.life_time * 76.776372) * 2.865) - this","(math.sin(variable.attack_time * 180.0) * 57.3) * 0.6 - 5.73 - this","math.cos(query.life_time * 103.13244) * 2.865 + 2.865 - this"]}}},attack_rotations:{loop:!0,bones:{body:{rotation:[0,"math.sin(math.sqrt(variable.attack_time) * 360.0) * 11.46",0]},leftarm:{rotation:["-(math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) + math.sin(variable.attack_time * 180.0)) * 5.73",0,0]},rightarm:{rotation:["-(math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 34.38 + math.sin(variable.attack_time * 180.0) * 28.65) * (variable.is_brandishing_spear ? -2.5 : 1.0 )","variable.is_brandishing_spear ? 0.0 : math.sin(math.sqrt(variable.attack_time) * 360.0) * 22.92",0]}}},swimming:{loop:!0,bones:{body:{position:[0,"variable.swim_amount * -10.0 - this","variable.swim_amount * 9.0 - this"],rotation:["variable.swim_amount * (90.0 + query.target_x_rotation)",0,0]},leftarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) - (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, 14.325, variable.swim_amount) - (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},leftleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0 + 180.0) * 0.3, variable.swim_amount)",0,0]},rightarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) + (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, -14.325, variable.swim_amount) + (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},rightleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0) * 0.3, variable.swim_amount)",0,0]}}}},render_controllers:["controller.render.drowned"],enable_attachables:!0,spawn_egg:{texture:"spawn_egg",texture_index:48},animation_controllers:{look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},attack_controller:{initial_state:"default",states:{default:{animations:["zombie_attack_bare_hand"],transitions:[{one_hand_attack:"query.is_item_equipped('off_hand')"},{spear_attack:"variable.is_brandishing_spear && !query.is_item_equipped('off_hand')"}]},one_hand_attack:{animations:["attack_rotations"],transitions:[{default:"!query.is_item_equipped('off_hand')"},{spear_attack:"variable.is_brandishing_spear && !query.is_item_equipped('off_hand')"}]},spear_attack:{animations:["zombie_attack_bare_hand","attack_rotations"],transitions:[{default:"!query.is_item_equipped('off_hand') && !variable.is_brandishing_spear"},{one_hand_attack:"query.is_item_equipped('off_hand')"}]}}}}},egg:{identifier:"minecraft:egg",materials:{default:"egg"},textures:{default:"textures/items/egg"},geometry:{default:{bones:[{name:"body",pivot:[0,0,0],cubes:[{origin:[-8,-8,0],size:[16,16,0],uv:[0,0],rotation:[0,0,0]}]}],texturewidth:16,textureheight:16}},render_controllers:["controller.render.item_sprite"],animations:{flying:{loop:!0,bones:{body:{rotation:["query.camera_rotation(0)","query.camera_rotation(1)",0]}}}},scripts:{animate:["flying"]}},elder_guardian:{identifier:"minecraft:elder_guardian",min_engine_version:"1.8.0",materials:{default:"guardian",ghost:"guardian_ghost"},textures:{default:"textures/entity/guardian",elder:"textures/entity/guardian_elder",beam:"textures/entity/guardian_beam"},geometry:{default:{visible_bounds_width:3.5,visible_bounds_height:2,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:64,bones:[{name:"head",pivot:[0,0,0],mirror:!0,cubes:[{mirror:!1,origin:[-6,2,-8],size:[12,12,16],uv:[0,0]},{mirror:!1,origin:[-8,2,-6],size:[2,12,12],uv:[0,28]},{origin:[6,2,-6],size:[2,12,12],uv:[0,28]},{origin:[-6,14,-6],size:[12,2,12],uv:[16,40]},{origin:[-6,0,-6],size:[12,2,12],uv:[16,40]}]},{name:"eye",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,6,0],size:[2,2,1],uv:[8,0]}]},{name:"tailpart0",parent:"head",pivot:[0,24,0],cubes:[{origin:[-2,6,7],size:[4,4,8],uv:[40,0]}]},{name:"tailpart1",parent:"tailpart0",pivot:[0,24,0],cubes:[{origin:[0,7,0],size:[3,3,7],uv:[0,54]}]},{name:"tailpart2",parent:"tailpart1",pivot:[0,24,0],cubes:[{origin:[0,8,0],size:[2,2,6],uv:[41,32]},{origin:[1,4.5,3],size:[1,9,9],uv:[25,19]}]},{name:"spikepart0",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart1",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart2",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart3",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart4",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart5",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart6",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart7",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart8",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart9",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart10",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart11",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]}]},ghost:{visible_bounds_width:3.5,visible_bounds_height:2,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:64,bones:[{name:"head",pivot:[0,24,0],mirror:!0,cubes:[{mirror:!1,origin:[-6,2,-8],size:[12,12,16],uv:[0,0]},{mirror:!1,origin:[-8,2,-6],size:[2,12,12],uv:[0,28]},{origin:[6,2,-6],size:[2,12,12],uv:[0,28]},{origin:[-6,14,-6],size:[12,2,12],uv:[16,40]},{origin:[-6,0,-6],size:[12,2,12],uv:[16,40]}]},{name:"eye",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,7,0],size:[2,2,1],uv:[8,0]}]},{name:"tailpart0",parent:"head",pivot:[0,24,0],cubes:[{origin:[-2,6,7],size:[4,4,8],uv:[40,0]}]},{name:"tailpart1",parent:"tailpart0",pivot:[0,24,0],cubes:[{origin:[0,7,0],size:[3,3,7],uv:[0,54]}]},{name:"tailpart2",parent:"tailpart1",pivot:[0,24,0],cubes:[{origin:[0,8,0],size:[2,2,6],uv:[41,32]},{origin:[1,4.5,3],size:[1,9,9],uv:[25,19]}]},{name:"spikepart0",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart1",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart2",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart3",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart4",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart5",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart6",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart7",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart8",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart9",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart10",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart11",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]}]}},animations:{setup:{loop:!0,bones:{spikepart0:{rotation:["-45.0 - this","0.0 - this","0.0 - this"]},spikepart1:{rotation:["45.0 - this","0.0 - this","0.0 - this"]},spikepart10:{rotation:["0.0 - this","0.0 - this"," 135.0 - this"]},spikepart11:{rotation:["0.0 - this","0.0 - this"," -135.0 - this"]},spikepart2:{rotation:["0.0 - this","0.0 - this","45.0 - this"]},spikepart3:{rotation:["0.0 - this","0.0  - this","-45.0 - this"]},spikepart4:{rotation:["90.0 - this","45.0 - this"," 0.0 - this"]},spikepart5:{rotation:["90.0 - this","-45.0 - this"," 0.0 - this"]},spikepart6:{rotation:["90.0 - this","-135.0 - this","0.0 - this"]},spikepart7:{rotation:["90.0 - this","135.0 - this"," 0.0 - this"]},spikepart8:{rotation:["-135.0 - this","0.0 - this"," 0.0 - this"]},spikepart9:{rotation:["135.0 - this","0.0 - this"," 0.0 - this"]}}},spikes:{loop:!0,bones:{spikepart0:{position:["-this","24 + -8 * (1 + math.cos(query.life_time * 20 * 1.5) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","8 * (1 + math.cos(query.life_time * 20 * 1.5) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this"]},spikepart1:{position:["-this","24 + -8 * (1 + math.cos(query.life_time * 20 * 1.5 + 1) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 1) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this"]},spikepart10:{position:["8 * (1 + math.cos(query.life_time * 20 * 1.5 + 10) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this","-8 + 8 * (1 + math.cos(query.life_time * 20 * 1.5 + 10) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","-this"]},spikepart11:{position:["-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 11) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this","-8 + 8 * (1 + math.cos(query.life_time * 20 * 1.5 + 11) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","-this"]},spikepart2:{position:["8 * (1 + math.cos(query.life_time * 20 * 1.5 + 2) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this","24 + -8 * (1 + math.cos(query.life_time * 20 * 1.5 + 2) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","-this"]},spikepart3:{position:["-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 3) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this","24 + -8 * (1 + math.cos(query.life_time * 20 * 1.5 + 3) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this",0]},spikepart4:{position:["-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 4) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this","8 - this","-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 4) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this"]},spikepart5:{position:["8 * (1 + math.cos(query.life_time * 20 * 1.5 + 5) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this","8 - this","-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 5) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this"]},spikepart6:{position:["8 * (1 + math.cos(query.life_time * 20 * 1.5 + 6) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this","8 - this","8 * (1 + math.cos(query.life_time * 20 * 1.5 + 6) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this"]},spikepart7:{position:["-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 7) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this","8 - this","8 * (1 + math.cos(query.life_time * 20 * 1.5 + 7) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this"]},spikepart8:{position:["-this","-8  + 8 * (1 + math.cos(query.life_time * 20 * 1.5 + 8) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","8 * (1 + math.cos(query.life_time * 20 * 1.5 + 8) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this"]},spikepart9:{position:["-this","-8 + 8 * (1 + math.cos(query.life_time * 20 * 1.5 + 9) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 9) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this"]}}},swim:{loop:!0,bones:{tailpart0:{rotation:[0,"variable.tail_base_angle * 11.6 - this",0]},tailpart1:{position:["-1.5 - this","-0.5 - this","14.0 - this"],rotation:[0,"variable.tail_base_angle * 22.8 - this",0]},tailpart2:{position:["0.5 - this","-0.5 - this","6.0 - this"],rotation:[0,"variable.tail_base_angle * 34.4 - this",0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},move_eye:{loop:!0,bones:{eye:{position:["query.eye_target_x_rotation - this","24 + query.eye_target_y_rotation - this","-8.25 - this"]}}}},scripts:{pre_animation:["variable.spike_shake = Math.sin(query.life_time * 2000)/50;","variable.spike_animation_speed = query.life_time < 0.1 ? 0.0 : (!query.is_in_water ? (Math.round(Math.sin(query.life_time * 2000)) == 0.0 ? (Math.random(0.0, 1.0)) : (variable.spike_animation_speed)) : (query.is_moving ? (variable.spike_animation_speed - variable.spike_animation_speed * 0.06) : (variable.spike_animation_speed + (1.0 - variable.spike_animation_speed) * 0.06)));","variable.spike_extension = (1.0 - variable.spike_animation_speed) * 0.55;","variable.tail_animation_speed = query.life_time < 0.1 ? 0.0 : (!query.is_in_water ? 2.0 : query.is_moving ? (variable.tail_animation_speed < 0.5 ? 4.0 : variable.tail_animation_speed + (0.5 - variable.tail_animation_speed) * 0.1) : variable.tail_animation_speed + (0.125 - variable.tail_animation_speed) * 0.2);","variable.tail_swim = query.life_time < 0.1 ? 0.0 : (variable.tail_swim + variable.tail_animation_speed);","variable.tail_base_angle = Math.sin(variable.tail_swim*20.0);"],scale:"2.35",animate:["setup","spikes","swim","look_at_target","move_eye"]},render_controllers:["controller.render.guardian"],spawn_egg:{texture:"spawn_egg",texture_index:36}},ender_dragon:{identifier:"minecraft:ender_dragon",textures:{default:"textures/entity/enderdragon/dragon",exploding:"textures/entity/enderdragon/dragon_exploding",beam:"textures/entity/end_crystal/end_crystal_beam"},geometry:{default:{visible_bounds_width:14,visible_bounds_height:13,visible_bounds_offset:[0,2,0],texturewidth:256,textureheight:256,bones:[{name:"head",pivot:[0,24,0],cubes:[{origin:[-6,20,-24],size:[12,5,16],uv:[176,44]},{origin:[-8,16,-10],size:[16,16,16],uv:[112,30]},{mirror:!0,origin:[-5,32,-4],size:[2,4,6],uv:[0,0]},{mirror:!0,origin:[-5,25,-22],size:[2,2,4],uv:[112,0]},{origin:[3,32,-4],size:[2,4,6],uv:[0,0]},{origin:[3,25,-22],size:[2,2,4],uv:[112,0]}]},{name:"jaw",pivot:[0,20,-8],cubes:[{origin:[-6,16,-24],size:[12,4,16],uv:[176,65]}]},{name:"neck",pivot:[0,24,0],cubes:[{origin:[-5,19,-5],size:[10,10,10],uv:[192,104]},{origin:[-1,29,-3],size:[2,4,6],uv:[48,0]}]},{name:"body",pivot:[0,20,8],cubes:[{origin:[-12,-4,-8],size:[24,24,64],uv:[0,0]},{origin:[-1,20,-2],size:[2,6,12],uv:[220,53]},{origin:[-1,20,18],size:[2,6,12],uv:[220,53]},{origin:[-1,20,38],size:[2,6,12],uv:[220,53]}]},{name:"wing",pivot:[-12,19,2],cubes:[{origin:[-68,15,-2],size:[56,8,8],uv:[112,88]},{origin:[-68,19,4],size:[56,0,56],uv:[-56,88]}]},{name:"wingtip",pivot:[-56,24,0],cubes:[{origin:[-112,22,-2],size:[56,4,4],uv:[112,136]},{origin:[-112,24,2],size:[56,0,56],uv:[-56,144]}]},{name:"wing1",pivot:[12,19,2],cubes:[{origin:[-44,15,-2],size:[56,8,8],uv:[112,88]},{origin:[-44,19,4],size:[56,0,56],uv:[-56,88]}]},{name:"wingtip1",pivot:[-56,24,0],cubes:[{origin:[-112,22,-2],size:[56,4,4],uv:[112,136]},{origin:[-112,24,2],size:[56,0,56],uv:[-56,144]}]},{name:"rearleg",pivot:[-16,8,42],cubes:[{origin:[-24,-20,34],size:[16,32,16],uv:[0,0]}]},{name:"rearleg1",pivot:[16,8,42],cubes:[{origin:[8,-20,34],size:[16,32,16],uv:[0,0]}]},{name:"frontleg",pivot:[-12,4,2],cubes:[{origin:[-16,-16,-2],size:[8,24,8],uv:[112,104]}]},{name:"frontleg1",pivot:[12,4,2],cubes:[{origin:[8,-16,-2],size:[8,24,8],uv:[112,104]}]},{name:"rearlegtip",pivot:[0,-8,-4],cubes:[{origin:[-6,-38,-4],size:[12,32,12],uv:[196,0]}]},{name:"rearlegtip1",pivot:[0,-8,-4],cubes:[{origin:[-6,-38,-4],size:[12,32,12],uv:[196,0]}]},{name:"frontlegtip",pivot:[0,4,-1],cubes:[{origin:[-3,-19,-4],size:[6,24,6],uv:[226,138]}]},{name:"frontlegtip1",pivot:[0,4,-1],cubes:[{origin:[-3,-19,-4],size:[6,24,6],uv:[226,138]}]},{name:"rearfoot",pivot:[0,-7,4],cubes:[{origin:[-9,-13,-16],size:[18,6,24],uv:[112,0]}]},{name:"rearfoot1",pivot:[0,-7,4],cubes:[{origin:[-9,-13,-16],size:[18,6,24],uv:[112,0]}]},{name:"frontfoot",pivot:[0,1,0],cubes:[{origin:[-4,-3,-12],size:[8,4,16],uv:[144,104]}]},{name:"frontfoot1",pivot:[0,1,0],cubes:[{origin:[-4,-3,-12],size:[8,4,16],uv:[144,104]}]}]}}},eye_of_ender:{identifier:"minecraft:eye_of_ender_signal",materials:{default:"eye_of_ender_signal"},textures:{default:"textures/items/ender_eye"},geometry:{default:{bones:[{name:"body",pivot:[0,0,0],cubes:[{origin:[-8,-8,0],size:[16,16,0],uv:[0,0],rotation:[0,0,0]}]}],texturewidth:16,textureheight:16}},render_controllers:["controller.render.item_sprite"],animations:{flying:{loop:!0,bones:{body:{rotation:["query.camera_rotation(0)","query.camera_rotation(1)",0]}}}},scripts:{animate:["flying"]}},ender_pearl:{identifier:"minecraft:ender_pearl",materials:{default:"ender_pearl"},textures:{default:"textures/items/ender_pearl"},geometry:{default:{bones:[{name:"body",pivot:[0,0,0],cubes:[{origin:[-8,-8,0],size:[16,16,0],uv:[0,0],rotation:[0,0,0]}]}],texturewidth:16,textureheight:16}},render_controllers:["controller.render.item_sprite"],animations:{flying:{loop:!0,bones:{body:{rotation:["query.camera_rotation(0)","query.camera_rotation(1)",0]}}}},scripts:{animate:["flying"]}},enderman:{identifier:"minecraft:enderman",min_engine_version:"1.8.0",materials:{default:"enderman",invisible:"enderman_invisible"},textures:{default:"textures/entity/enderman/enderman"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:3,visible_bounds_offset:[0,1.5,0],texturewidth:64,textureheight:32,bones:[{name:"hat",parent:"head",reset:!0,pivot:[0,38,0],cubes:[{origin:[-4,37.5,-4],size:[8,8,8],uv:[0,16],inflate:-.5}],neverRender:!1},{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[0,0]}]},{name:"body",reset:!0,pivot:[0,38,0],cubes:[{origin:[-4,26,-2],size:[8,12,4],uv:[32,16]}]},{name:"rightArm",parent:"body",reset:!0,pivot:[-3,36,0],cubes:[{origin:[-4,8,-1],size:[2,30,2],uv:[56,0]}]},{name:"rightItem",pivot:[-6,15,1],neverRender:!0,parent:"rightArm"},{name:"leftArm",parent:"body",reset:!0,mirror:!0,pivot:[5,36,0],cubes:[{origin:[4,8,-1],size:[2,30,2],uv:[56,0]}]},{name:"rightLeg",parent:"body",reset:!0,pivot:[-2,26,0],cubes:[{origin:[-3,-4,-1],size:[2,30,2],uv:[56,0]}]},{name:"leftLeg",parent:"body",reset:!0,mirror:!0,pivot:[2,26,0],cubes:[{origin:[1,-4,-1],size:[2,30,2],uv:[56,0]}]}]}},scripts:{pre_animation:["variable.tcos0 = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 28.65;"]},animations:{look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},move:{loop:!0,bones:{leftarm:{rotation:["variable.tcos0",0,0]},leftleg:{rotation:["variable.tcos0 * -1.4",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},"attack.rotations":{loop:!0,bones:{body:{rotation:[0,"math.sin(math.sqrt(variable.attack_time) * 360) * 11.46 - this",0]},leftarm:{rotation:["math.sin(math.sqrt(variable.attack_time) * 360) * 11.46",0,0]},rightarm:{rotation:["math.sin(1.0 - math.pow(1.0 - variable.attack_time, 3.0) * 180.0) * (variable.is_brandishing_spear ? -1.0 : 1.0 )","variable.is_brandishing_spear ? 0.0 : (math.sin(math.sqrt(variable.attack_time) * 360) * 11.46) * 2.0",0]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"((math.cos(query.life_time * 103.2) * 2.865) + 2.865) *-1.0"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},base_pose:{loop:!0,bones:{body:{position:["-this","11.0 - this","-this"],rotation:["-this",0,0]},hat:{position:["-this","-this","-this"],rotation:["-this","-this","-this"]},head:{position:["-this","-this","-this"]},leftarm:{position:["4.0-this",0,"-this"]},leftleg:{position:[0,"-5.0 - this",0]},rightarm:{position:["-4.0-this",0,"-this"]},rightleg:{position:[0,"-5.0 - this",0]}}},arms_legs:{loop:!0,bones:{leftarm:{rotation:["math.clamp(this, -22.92, 22.92) - this",0,0]},leftleg:{rotation:["math.clamp(this, -22.92, 22.92) - this",0,0]},rightarm:{rotation:["math.clamp(this, -22.92, 22.92) - this",0,0]},rightleg:{rotation:["math.clamp(this, -22.92, 22.92) - this",0,0]}}},carrying:{loop:!0,bones:{leftarm:{rotation:["-28.65 - this",0,"-2.87 - this"]},rightarm:{rotation:["-28.65 - this",0,"2.87 - this"]}}},scary_face:{loop:!0,bones:{hat:{position:[0,"-5.0 - this",0]},head:{position:[0,"5.0 - this",0]}}}},animation_controllers:{look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},move:{initial_state:"default",states:{default:{animations:["move"]}}},attack:{initial_state:"default",states:{attacking:{animations:["attack.rotations"],transitions:[{default:"variable.attack_time < 0.0"}]},default:{transitions:[{attacking:"variable.attack_time >= 0.0"}]}}},bob:{initial_state:"default",states:{default:{animations:["bob"]}}},base_pose:{initial_state:"default",states:{default:{animations:["base_pose","arms_legs"]}}},carrying:{initial_state:"default",states:{carry:{animations:["carrying"],transitions:[{default:"!query.is_carrying_block"}]},default:{transitions:[{carry:"query.is_carrying_block"}]}}},scary_face:{initial_state:"default",states:{default:{transitions:[{scary:"query.is_angry"}]},scary:{animations:["scary_face"],transitions:[{default:"!query.is_angry"}]}}}},render_controllers:["controller.render.enderman"],spawn_egg:{texture:"spawn_egg",texture_index:7}},endermite:{identifier:"minecraft:endermite",materials:{default:"endermite"},textures:{default:"textures/entity/endermite"},geometry:{default:{texturewidth:64,textureheight:32,bones:[{name:"section_0",parent:"section_2",pivot:[0,0,0],cubes:[{origin:[-2,0,-4.4],size:[4,3,2],uv:[0,0]}]},{name:"section_1",parent:"section_2",pivot:[0,0,0],cubes:[{origin:[-3,0,-2.4],size:[6,4,5],uv:[0,5]}]},{name:"section_2",pivot:[0,0,2.5],cubes:[{origin:[-1.5,0,2.5],size:[3,3,1],uv:[0,14]}]},{name:"section_3",parent:"section_2",pivot:[0,0,0],cubes:[{origin:[-.5,0,3.5],size:[1,2,1],uv:[0,18]}]}]}},animations:{move:{loop:!0,bones:{section_0:{position:["(math.cos(-query.life_time * 928.26) * 1.26) - this",0,0],rotation:[0,"(math.cos(query.life_time * 928.26) * 26.9) - this",0]},section_1:{position:["(math.sin(query.life_time * 928.26) * 0.63) - this",0,0],rotation:[0,"(math.cos(query.life_time * 928.26) * 16) - this",0]},section_2:{position:[0,0,0],rotation:[0,"(math.cos(query.life_time * 928.26) * 9.17) - this",0]},section_3:{position:["(math.cos(query.life_time * 928.26) * 0.8) - this",0,0]}}}},animation_controllers:{move:{initial_state:"default",states:{default:{animations:["move"]}}}},render_controllers:["controller.render.endermite"],spawn_egg:{texture:"spawn_egg",texture_index:25}},evoker_fangs:{identifier:"minecraft:evocation_fang",materials:{default:"fang"},textures:{default:"textures/entity/illager/evoker_fangs"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:3,visible_bounds_offset:[0,1.5,0],texturewidth:64,textureheight:32,bones:[{name:"upper_jaw",parent:"base",pivot:[0,11,0],cubes:[{origin:[-1.5,0,-4],size:[4,14,8],uv:[40,0],inflate:.01}]},{name:"lower_jaw",parent:"base",pivot:[0,11,0],bind_pose_rotation:[0,180,0],cubes:[{origin:[-1.5,0,-4],size:[4,14,8],uv:[40,0]}]},{name:"base",pivot:[0,0,0],bind_pose_rotation:[0,90,0],cubes:[{origin:[-5,0,-5],size:[10,12,10],uv:[0,0]}]}]}},scripts:{pre_animation:["variable.remaining_life = (query.life_span - 2.0) - (query.life_time*20.0);","variable.animation_progress = query.life_span == 0.0 ? 0.0 : (variable.remaining_life < 1.0 ? 1.0 : 1.0 - Math.min(1.0, variable.remaining_life / 20.0));","variable.bite_amount = (1 - Math.Pow(Math.Clamp(variable.animation_progress*2.0, 0, 1.0), 3.0)) * 0.35 * 180;","variable.y_offset = (variable.animation_progress + Math.sin(variable.animation_progress*2.7*80.0)) * 0.6 * 12.0;"],animate:["bite"],scale:"variable.animation_progress > 0.9 ? (1.0 - variable.animation_progress) / 0.1 : 1.0"},animations:{bite:{loop:!0,bones:{base:{position:[0,"-12.0 + variable.y_offset",0]},lower_jaw:{rotation:[0,0,"180.0 + variable.bite_amount"]},upper_jaw:{rotation:[0,0,"180.0 - variable.bite_amount"]}}}},render_controllers:["controller.render.evocation_fang"]},evoker:{identifier:"minecraft:evocation_illager",min_engine_version:"1.8.0",materials:{default:"evoker"},textures:{default:"textures/entity/illager/evoker"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:2.5,visible_bounds_offset:[0,1.25,0],texturewidth:64,textureheight:64,bones:[{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,10,8],uv:[0,0]}]},{name:"nose",parent:"head",pivot:[0,26,0],cubes:[{origin:[-1,23,-6],size:[2,4,2],uv:[24,0]}]},{name:"body",pivot:[0,24,0],cubes:[{origin:[-4,12,-3],size:[8,12,6],uv:[16,20]},{origin:[-4,6,-3],size:[8,18,6],uv:[0,38],inflate:.5}]},{name:"arms",parent:"body",pivot:[0,22,0],cubes:[{origin:[-8,16,-2],size:[4,8,4],uv:[44,22]},{origin:[4,16,-2],size:[4,8,4],uv:[44,22]},{origin:[-4,16,-2],size:[8,4,4],uv:[40,38]}]},{name:"leg0",parent:"body",pivot:[-2,12,0],cubes:[{origin:[-4,0,-2],size:[4,12,4],uv:[0,22]}]},{name:"leg1",parent:"body",pivot:[2,12,0],mirror:!0,cubes:[{origin:[0,0,-2],size:[4,12,4],uv:[0,22]}]},{name:"rightArm",parent:"body",pivot:[-5,22,0],locators:{right_hand:[-6,12,0]},cubes:[{origin:[-8,12,-2],size:[4,12,4],uv:[40,46]}]},{name:"rightItem",pivot:[-5.5,16,.5],neverRender:!0,parent:"rightArm"},{name:"leftArm",parent:"body",pivot:[5,22,0],locators:{left_hand:[6,12,0]},mirror:!0,cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[40,46]}]}]}},scripts:{scale:"0.9375",animate:["controller_general","controller_move"]},animations:{general:{loop:!0,bones:{arms:{position:[0,"-3.0 - this","-1.0 - this"],rotation:["-42.97 - this","- this","- this"],scale:1},leftarm:{scale:0},rightarm:{scale:0}}},casting:{loop:!0,bones:{arms:{scale:0},leftarm:{rotation:["math.cos(query.life_time * 763.4) * 14.3239 - this","-this","-135.0 - this"],scale:1},rightarm:{rotation:["math.cos(query.life_time * 763.4) * 14.3239 - this","-this","135.0 - this"],scale:1}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},move:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["(math.cos(query.anim_time * 38.17) * 40.0) - this","-this",0]},leg1:{rotation:["(math.cos(query.anim_time * 38.17 + 180) * 40.0) - this","-this",0]}}},celebrating:{loop:!0,bones:{leftarm:{rotation:["(math.cos(query.life_time * 800.0) * 2.865)",180,-135]},rightarm:{rotation:["(math.cos(query.life_time * 800.0) * 2.865)",180,153]}}}},particle_effects:{spell:"minecraft:evoker_spell"},render_controllers:["controller.render.evoker"],spawn_egg:{texture:"spawn_egg",texture_index:40},animation_controllers:{controller_general:{initial_state:"default",states:{casting:{animations:["look_at_target","casting"],particle_effects:[{effect:"spell",locator:"left_hand"},{effect:"spell",locator:"right_hand"}],transitions:[{default:"!query.is_casting"}]},celebrating:{animations:["celebrating"],blend_transition:.2,blend_via_shortest_path:!0,transitions:[{default:"!query.is_celebrating"}]},default:{animations:["look_at_target","general"],blend_transition:.2,blend_via_shortest_path:!0,transitions:[{casting:"query.is_casting"},{celebrating:"query.is_celebrating"}]}}},controller_move:{initial_state:"default",states:{default:{animations:[{move:"query.modified_move_speed"}]}}}}},experience_bottle:{identifier:"minecraft:xp_bottle",materials:{default:"xp_bottle"},textures:{default:"textures/items/experience_bottle",enchanted:"textures/misc/enchanted_item_glint"},geometry:{default:{bones:[{name:"body",pivot:[0,0,0],cubes:[{origin:[-8,-8,0],size:[16,16,0],uv:[0,0],rotation:[0,0,0]}]}],texturewidth:16,textureheight:16}},render_controllers:["controller.render.experience_bottle"],animations:{flying:{loop:!0,bones:{body:{rotation:["query.camera_rotation(0)","query.camera_rotation(1)",0]}}}},scripts:{animate:["flying"]}},experience_orb:{identifier:"minecraft:xp_orb",materials:{default:"experience_orb"},textures:{default:"textures/entity/experience_orb"},geometry:{default:{bones:[{name:"body",pivot:[8,8,0],cubes:[{origin:[0,0,0],size:[16,16,0],uv:{south:{uv:[0,0]}}}]}],texturewidth:64,textureheight:64}},animations:{face_player:{loop:!0,bones:{body:{rotation:["query.camera_rotation(0)","query.camera_rotation(1)",0]}}}},scripts:{scale:"0.3",pre_animation:["variable.u = Math.mod(query.texture_frame_index, 4) * 16.0 / 64.0;","variable.v = math.round(query.texture_frame_index / 4) * 16.0 / 64.0;"],animate:["face_player"]},render_controllers:["controller.render.experience_orb"]},fireball:{identifier:"minecraft:fireball",materials:{default:"fireball"},textures:{default:"textures/items/fire_charge"},geometry:{default:{bones:[{name:"body",pivot:[0,0,0],cubes:[{origin:[-8,-4,0],size:[16,16,0],uv:{south:{uv:[0,0]}}}]}],texturewidth:16,textureheight:16}},animations:{face_player:{loop:!0,bones:{body:{rotation:["query.camera_rotation(0)","query.camera_rotation(1)",0]}}}},scripts:{scale:"2.0",animate:["face_player"]},render_controllers:["controller.render.fireball"]},firework_rocket:{identifier:"minecraft:fireworks_rocket",materials:{default:"fireworks_rocket"},textures:{default:"textures/entity/fireworks"},geometry:{default:{bones:[{name:"body",pivot:[0,0,0],cubes:[{origin:[-8,-8,0],rotation:[0,90,0],size:[16,16,0],uv:{north:{uv:[0,0]}}},{origin:[-8,-8,0],rotation:[90,90,0],size:[16,16,0],uv:{north:{uv:[0,0]}}}]}],texturewidth:32,textureheight:32}},animations:{move:{loop:!0,bones:{body:{position:[0,-3.5,0],rotation:["-query.target_x_rotation","-query.target_y_rotation",0],scale:.6}}}},scripts:{animate:["move"]},render_controllers:["controller.render.fireworks_rocket"]},fishing_bobber:{identifier:"minecraft:fishing_hook",materials:{default:"fishing_hook"},textures:{default:"textures/entity/fishing_hook"},geometry:{default:{bones:[{name:"body",pivot:[0,0,0],cubes:[{origin:[-1.5,-1.5,-1.5],size:[3,3,3],rotation:[0,0,180],uv:{up:{uv:[0,0]},down:{uv:[3,0]},south:{uv:[9,0],uv_size:[-3,3]},north:{uv:[9,0]},east:{uv:[12,0]},west:{uv:[15,0]}}},{origin:[0,-4.5,-.5],size:[0,3,3],uv:{east:{uv:[18,0]}}},{origin:[0,1.5,-1.5],size:[0,3,3],uv:{east:{uv:[21,0]}}},{origin:[-1.5,1.5,0],size:[3,3,0],uv:{north:{uv:[21,0]}}}]}],texturewidth:24,textureheight:3}},render_controllers:["controller.render.fishing_hook"]},fox:{identifier:"minecraft:fox",materials:{default:"fox"},textures:{red:"textures/entity/fox/fox",arctic:"textures/entity/fox/snow_fox"},geometry:{default:{texturewidth:64,textureheight:32,bones:[{name:"world",pivot:[0,0,0],bind_pose_rotation:[0,0,0],cubes:[]},{name:"root",parent:"world",pivot:[0,0,0],bind_pose_rotation:[0,0,0],cubes:[]},{name:"head",parent:"body",pivot:[0,8,-3],locators:{held_item:[-2,5,-10],lead:[0,4,-4]},bind_pose_rotation:[0,0,0],cubes:[{origin:[-4,4,-9],size:[8,6,6],uv:[0,0]},{origin:[-4,10,-8],size:[2,2,1],uv:[0,0]},{origin:[2,10,-8],size:[2,2,1],uv:[22,0]},{origin:[-2,4,-12],size:[4,2,3],uv:[0,24]}]},{name:"head_sleeping",parent:"head",pivot:[0,8,-3],bind_pose_rotation:[0,0,0],cubes:[{origin:[-4,4,-9],size:[8,6,6],uv:[0,12]},{origin:[-4,10,-8],size:[2,2,1],uv:[0,0]},{origin:[2,10,-8],size:[2,2,1],uv:[22,0]},{origin:[-2,4,-12],size:[4,2,3],uv:[0,24]}]},{name:"body",parent:"root",pivot:[0,8,0],bind_pose_rotation:[90,0,0],cubes:[{origin:[-3,0,-3],size:[6,11,6],uv:[30,15]}]},{name:"leg0",parent:"body",pivot:[-3,6,6],bind_pose_rotation:[0,0,0],cubes:[{origin:[-3.005,0,5],size:[2,6,2],uv:[14,24]}]},{name:"leg1",parent:"body",pivot:[1,6,6],bind_pose_rotation:[0,0,0],cubes:[{origin:[1.005,0,5],size:[2,6,2],uv:[22,24]}]},{name:"leg2",parent:"body",pivot:[-3,6,-1],bind_pose_rotation:[0,0,0],cubes:[{origin:[-3.005,0,-2],size:[2,6,2],uv:[14,24]}]},{name:"leg3",parent:"body",pivot:[1,6,-1],bind_pose_rotation:[0,0,0],cubes:[{origin:[1.005,0,-2],size:[2,6,2],uv:[22,24]}]},{name:"tail",parent:"body",pivot:[0,8,7],bind_pose_rotation:[80,0,0],cubes:[{origin:[-2,-2,4.75],size:[4,9,5],uv:[28,0]}]}]}},animations:{walk:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]},leg1:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg2:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg3:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},baby_transform:{loop:!0,bones:{head:{position:[0,"query.is_baby ? 4.0 : 0.0","query.is_baby ? 4.0 : 0.0"],scale:"query.is_baby ? 1.3 : 1.0"}}},crouch:{loop:!0,bones:{body:{position:[0,-1.8,0],rotation:[0,0,0]},head:{position:[0,-.8,0],rotation:[0,0,0]},leg0:{position:[0,1.6,0],rotation:[0,0,0]},leg1:{position:[0,1.6,0],rotation:[0,0,0]},leg2:{position:[0,1.6,0],rotation:[0,0,0]},leg3:{position:[0,1.6,0],rotation:[0,0,0]}}},sleep:{loop:!0,bones:{body:{position:[0,-4.8,0],rotation:[0,0,-90]},head:{position:[1.8,-.4,-2],rotation:[0,-115,"math.cos(query.anim_time * 160.0) + 90 -this"]},tail:{position:[0,0,1.5],rotation:[-125,0,0]}}},setup:{loop:!0,bones:{body:{rotation:["-this",0,0]}}},sit:{loop:!0,bones:{body:{position:[0,1,0],rotation:[-60,0,0]},head:{position:[0,3,-3],rotation:[60,0,0]},leg0:{position:[0,4,2.5],rotation:[-15,0,0]},leg1:{position:[0,4,2.5],rotation:[-15,0,0]},leg2:{position:[0,.75,3.5],rotation:[40,0,0]},leg3:{position:[0,.75,3.5],rotation:[40,0,0]},tail:{position:[0,-.075,-.15],rotation:[60,0,0]}}},wiggle:{loop:!0,bones:{body:{position:[0,-1.8,0],rotation:[0,"math.cos(query.life_time * 20.0 * 53.7) * 5.0 -this",0]},head:{position:[0,-.8,0],rotation:["math.clamp(-5.0 * (query.anim_time / 2.0), -5.0, 0)",0,"math.clamp(25.0 * (query.anim_time / 2.0), 0, 25.0)"]},leg0:{position:[0,1.6,0],rotation:[0,0,0]},leg1:{position:[0,1.6,0],rotation:[0,0,0]},leg2:{position:[0,1.6,0],rotation:[0,0,0]},leg3:{position:[0,1.6,0],rotation:[0,0,0]},tail:{rotation:[0,"math.cos(query.life_time * 20.0 * 53.7) * 10.0 -this",0]}}},stuck:{loop:!0,bones:{body:{position:[0,-.3,0],rotation:[60,0,0]}}},pounce:{loop:!0,bones:{body:{position:[0,0,0],rotation:["query.vertical_speed * -7.0",0,0]},head:{position:[0,0,0],rotation:["query.vertical_speed * -7.0",0,0]}}}},scripts:{animate:["setup",{baby_transform:"query.is_baby"},"move"]},render_controllers:["controller.render.fox"],spawn_egg:{texture:"spawn_egg",texture_index:55},animation_controllers:{move:{initial_state:"default",states:{crouch:{animations:["look_at_target","crouch",{walk:"query.modified_move_speed"}],blend_transition:.4,transitions:[{default:"!query.is_stalking && !query.is_interested"},{wiggle:"query.is_interested"}]},default:{animations:["look_at_target",{walk:"query.modified_move_speed"}],blend_transition:.1,transitions:[{crouch:"query.is_stalking"},{sleep:"query.is_sleeping"},{stuck:"query.is_stunned"},{sit:"query.is_sitting"}]},pounce:{animations:["look_at_target","pounce",{walk:"query.modified_move_speed"}],transitions:[{default:"query.is_on_ground"}]},sit:{animations:["sit"],blend_transition:.2,transitions:[{default:"!query.is_sitting"}]},sleep:{animations:["sleep"],blend_transition:.2,transitions:[{default:"!query.is_sleeping"}]},stuck:{animations:["stuck",{walk:"math.cos(query.life_time * 20.0 * 53.7)"}],blend_transition:.2,transitions:[{default:"!query.is_stunned"}]},wiggle:{animations:["look_at_target","wiggle",{walk:"query.modified_move_speed"}],blend_transition:.2,transitions:[{default:"query.is_on_ground && !query.is_interested && !query.is_stalking"},{crouch:"query.is_on_ground && !query.is_interested && query.is_stalking"},{pounce:"!query.is_on_ground"}]}}}}},ghast:{identifier:"minecraft:ghast",materials:{default:"ghast"},textures:{default:"textures/entity/ghast/ghast",shooting:"textures/entity/ghast/ghast_shooting"},geometry:{default:{visible_bounds_width:6,visible_bounds_height:9,visible_bounds_offset:[0,4.5,0],texturewidth:64,textureheight:32,bones:[{name:"tentacles_0",parent:"body",pivot:[-3.8,1,-5],cubes:[{origin:[-4.8,-8,-6],size:[2,9,2],uv:[0,0]}]},{name:"tentacles_1",parent:"body",pivot:[1.3,1,-5],cubes:[{origin:[.3,-10,-6],size:[2,11,2],uv:[0,0]}]},{name:"tentacles_2",parent:"body",pivot:[6.3,1,-5],cubes:[{origin:[5.3,-7,-6],size:[2,8,2],uv:[0,0]}]},{name:"tentacles_3",parent:"body",pivot:[-6.3,1,0],cubes:[{origin:[-7.3,-8,-1],size:[2,9,2],uv:[0,0]}]},{name:"tentacles_4",parent:"body",pivot:[-1.3,1,0],cubes:[{origin:[-2.3,-12,-1],size:[2,13,2],uv:[0,0]}]},{name:"tentacles_5",parent:"body",pivot:[3.8,1,0],cubes:[{origin:[2.8,-10,-1],size:[2,11,2],uv:[0,0]}]},{name:"tentacles_6",parent:"body",pivot:[-3.8,1,5],cubes:[{origin:[-4.8,-11,4],size:[2,12,2],uv:[0,0]}]},{name:"tentacles_7",parent:"body",pivot:[1.3,1,5],cubes:[{origin:[.3,-11,4],size:[2,12,2],uv:[0,0]}]},{name:"tentacles_8",parent:"body",pivot:[6.3,1,5],cubes:[{origin:[5.3,-12,4],size:[2,13,2],uv:[0,0]}]},{name:"body",pivot:[0,1.5,0],cubes:[{origin:[-8,0,-8],size:[16,16,16],uv:[0,0]}]}]}},spawn_egg:{texture:"spawn_egg",texture_index:19},animations:{move:{loop:!0,bones:{tentacles_0:{rotation:["math.sin(query.life_time * 360.0 + 0) * 11.5 + 23",0,0]},tentacles_1:{rotation:["math.sin(query.life_time * 360.0 + 57) * 11.5 + 23",0,0]},tentacles_2:{rotation:["math.sin(query.life_time * 360.0 + 115) * 11.5 + 23",0,0]},tentacles_3:{rotation:["math.sin(query.life_time * 360.0 + 172) * 11.5 + 23",0,0]},tentacles_4:{rotation:["math.sin(query.life_time * 360.0 + 229) * 11.5 + 23",0,0]},tentacles_5:{rotation:["math.sin(query.life_time * 360.0 + 286) * 11.5 + 23",0,0]},tentacles_6:{rotation:["math.sin(query.life_time * 360.0 + 344) * 11.5 + 23",0,0]},tentacles_7:{rotation:["math.sin(query.life_time * 360.0 + 402) * 11.5 + 23",0,0]},tentacles_8:{rotation:["math.sin(query.life_time * 360.0 + 458) * 11.5 + 23",0,0]}}},scale:{loop:!0,bones:{body:{scale:4.5}}}},animation_controllers:{move:{initial_state:"default",states:{default:{animations:["move"]}}},scale:{initial_state:"default",states:{default:{animations:["scale"]}}}},render_controllers:["controller.render.ghast"]},guardian:{identifier:"minecraft:guardian",min_engine_version:"1.8.0",materials:{default:"guardian",ghost:"guardian_ghost"},textures:{default:"textures/entity/guardian",elder:"textures/entity/guardian_elder",beam:"textures/entity/guardian_beam"},geometry:{default:{visible_bounds_width:3.5,visible_bounds_height:2,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:64,bones:[{name:"head",pivot:[0,0,0],mirror:!0,cubes:[{mirror:!1,origin:[-6,2,-8],size:[12,12,16],uv:[0,0]},{mirror:!1,origin:[-8,2,-6],size:[2,12,12],uv:[0,28]},{origin:[6,2,-6],size:[2,12,12],uv:[0,28]},{origin:[-6,14,-6],size:[12,2,12],uv:[16,40]},{origin:[-6,0,-6],size:[12,2,12],uv:[16,40]}]},{name:"eye",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,6,0],size:[2,2,1],uv:[8,0]}]},{name:"tailpart0",parent:"head",pivot:[0,24,0],cubes:[{origin:[-2,6,7],size:[4,4,8],uv:[40,0]}]},{name:"tailpart1",parent:"tailpart0",pivot:[0,24,0],cubes:[{origin:[0,7,0],size:[3,3,7],uv:[0,54]}]},{name:"tailpart2",parent:"tailpart1",pivot:[0,24,0],cubes:[{origin:[0,8,0],size:[2,2,6],uv:[41,32]},{origin:[1,4.5,3],size:[1,9,9],uv:[25,19]}]},{name:"spikepart0",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart1",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart2",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart3",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart4",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart5",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart6",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart7",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart8",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart9",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart10",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart11",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]}]},ghost:{visible_bounds_width:3.5,visible_bounds_height:2,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:64,bones:[{name:"head",pivot:[0,24,0],mirror:!0,cubes:[{mirror:!1,origin:[-6,2,-8],size:[12,12,16],uv:[0,0]},{mirror:!1,origin:[-8,2,-6],size:[2,12,12],uv:[0,28]},{origin:[6,2,-6],size:[2,12,12],uv:[0,28]},{origin:[-6,14,-6],size:[12,2,12],uv:[16,40]},{origin:[-6,0,-6],size:[12,2,12],uv:[16,40]}]},{name:"eye",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,7,0],size:[2,2,1],uv:[8,0]}]},{name:"tailpart0",parent:"head",pivot:[0,24,0],cubes:[{origin:[-2,6,7],size:[4,4,8],uv:[40,0]}]},{name:"tailpart1",parent:"tailpart0",pivot:[0,24,0],cubes:[{origin:[0,7,0],size:[3,3,7],uv:[0,54]}]},{name:"tailpart2",parent:"tailpart1",pivot:[0,24,0],cubes:[{origin:[0,8,0],size:[2,2,6],uv:[41,32]},{origin:[1,4.5,3],size:[1,9,9],uv:[25,19]}]},{name:"spikepart0",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart1",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart2",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart3",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart4",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart5",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart6",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart7",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart8",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart9",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart10",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]},{name:"spikepart11",parent:"head",pivot:[0,24,0],cubes:[{origin:[-1,19.5,-1],size:[2,9,2],uv:[0,0]}]}]}},animations:{setup:{loop:!0,bones:{spikepart0:{rotation:["-45.0 - this","0.0 - this","0.0 - this"]},spikepart1:{rotation:["45.0 - this","0.0 - this","0.0 - this"]},spikepart10:{rotation:["0.0 - this","0.0 - this"," 135.0 - this"]},spikepart11:{rotation:["0.0 - this","0.0 - this"," -135.0 - this"]},spikepart2:{rotation:["0.0 - this","0.0 - this","45.0 - this"]},spikepart3:{rotation:["0.0 - this","0.0  - this","-45.0 - this"]},spikepart4:{rotation:["90.0 - this","45.0 - this"," 0.0 - this"]},spikepart5:{rotation:["90.0 - this","-45.0 - this"," 0.0 - this"]},spikepart6:{rotation:["90.0 - this","-135.0 - this","0.0 - this"]},spikepart7:{rotation:["90.0 - this","135.0 - this"," 0.0 - this"]},spikepart8:{rotation:["-135.0 - this","0.0 - this"," 0.0 - this"]},spikepart9:{rotation:["135.0 - this","0.0 - this"," 0.0 - this"]}}},spikes:{loop:!0,bones:{spikepart0:{position:["-this","24 + -8 * (1 + math.cos(query.life_time * 20 * 1.5) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","8 * (1 + math.cos(query.life_time * 20 * 1.5) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this"]},spikepart1:{position:["-this","24 + -8 * (1 + math.cos(query.life_time * 20 * 1.5 + 1) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 1) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this"]},spikepart10:{position:["8 * (1 + math.cos(query.life_time * 20 * 1.5 + 10) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this","-8 + 8 * (1 + math.cos(query.life_time * 20 * 1.5 + 10) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","-this"]},spikepart11:{position:["-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 11) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this","-8 + 8 * (1 + math.cos(query.life_time * 20 * 1.5 + 11) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","-this"]},spikepart2:{position:["8 * (1 + math.cos(query.life_time * 20 * 1.5 + 2) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this","24 + -8 * (1 + math.cos(query.life_time * 20 * 1.5 + 2) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","-this"]},spikepart3:{position:["-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 3) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this","24 + -8 * (1 + math.cos(query.life_time * 20 * 1.5 + 3) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this",0]},spikepart4:{position:["-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 4) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this","8 - this","-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 4) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this"]},spikepart5:{position:["8 * (1 + math.cos(query.life_time * 20 * 1.5 + 5) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this","8 - this","-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 5) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this"]},spikepart6:{position:["8 * (1 + math.cos(query.life_time * 20 * 1.5 + 6) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this","8 - this","8 * (1 + math.cos(query.life_time * 20 * 1.5 + 6) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this"]},spikepart7:{position:["-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 7) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this","8 - this","8 * (1 + math.cos(query.life_time * 20 * 1.5 + 7) * 0.01 - (variable.spike_extension - variable.spike_shake)) - this"]},spikepart8:{position:["-this","-8  + 8 * (1 + math.cos(query.life_time * 20 * 1.5 + 8) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","8 * (1 + math.cos(query.life_time * 20 * 1.5 + 8) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this"]},spikepart9:{position:["-this","-8 + 8 * (1 + math.cos(query.life_time * 20 * 1.5 + 9) * 0.01 + (variable.spike_extension + variable.spike_shake)) - this","-8 * (1 + math.cos(query.life_time * 20 * 1.5 + 9) * 0.01 - (variable.spike_extension + variable.spike_shake)) - this"]}}},swim:{loop:!0,bones:{tailpart0:{rotation:[0,"variable.tail_base_angle * 11.6 - this",0]},tailpart1:{position:["-1.5 - this","-0.5 - this","14.0 - this"],rotation:[0,"variable.tail_base_angle * 22.8 - this",0]},tailpart2:{position:["0.5 - this","-0.5 - this","6.0 - this"],rotation:[0,"variable.tail_base_angle * 34.4 - this",0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},move_eye:{loop:!0,bones:{eye:{position:["query.eye_target_x_rotation - this","24 + query.eye_target_y_rotation - this","-8.25 - this"]}}}},scripts:{pre_animation:["variable.spike_shake = Math.sin(query.life_time * 2000)/50;","variable.spike_animation_speed = query.life_time < 0.1 ? 0.0 : (!query.is_in_water ? (Math.round(Math.sin(query.life_time * 2000)) == 0.0 ? (Math.random(0.0, 1.0)) : (variable.spike_animation_speed)) : (query.is_moving ? (variable.spike_animation_speed - variable.spike_animation_speed * 0.06) : (variable.spike_animation_speed + (1.0 - variable.spike_animation_speed) * 0.06)));","variable.spike_extension = (1.0 - variable.spike_animation_speed) * 0.55;","variable.tail_animation_speed = query.life_time < 0.1 ? 0.0 : (!query.is_in_water ? 2.0 : query.is_moving ? (variable.tail_animation_speed < 0.5 ? 4.0 : variable.tail_animation_speed + (0.5 - variable.tail_animation_speed) * 0.1) : variable.tail_animation_speed + (0.125 - variable.tail_animation_speed) * 0.2);","variable.tail_swim = query.life_time < 0.1 ? 0.0 : (variable.tail_swim + variable.tail_animation_speed);","variable.tail_base_angle = Math.sin(variable.tail_swim*20.0);"],animate:["setup","spikes","swim","look_at_target","move_eye"]},render_controllers:["controller.render.guardian"],spawn_egg:{texture:"spawn_egg",texture_index:26}},hoglin:{identifier:"minecraft:hoglin",materials:{default:"hoglin"},textures:{default:"textures/entity/hoglin/hoglin"},geometry:{default:{bones:[{name:"body",pivot:[0,19,-3],cubes:[{origin:[-8,11,-7],size:[16,14,26],inflate:.02,uv:[1,1]},{origin:[0,22,-10],size:[0,10,19],inflate:.02,uv:[90,33]}],locators:{lead:[0,20,-5]}},{name:"head",parent:"body",pivot:[0,22,-5],rotation:[50,0,0],cubes:[{origin:[-7,21,-24],size:[14,6,19],uv:[61,1]},{origin:[-8,22,-19],size:[2,11,2],uv:[1,13]},{origin:[6,22,-19],size:[2,11,2],uv:[1,13]}]},{name:"right_ear",parent:"head",pivot:[-7,27,-7],rotation:[0,0,-50],cubes:[{origin:[-13,26,-10],size:[6,1,4],uv:[1,1]}]},{name:"left_ear",parent:"head",pivot:[7,27,-7],rotation:[0,0,50],cubes:[{origin:[7,26,-10],size:[6,1,4],uv:[1,6]}]},{name:"leg_back_right",pivot:[6,8,17],cubes:[{origin:[-8,0,13],size:[5,11,5],uv:[21,45]}]},{name:"leg_back_left",pivot:[-6,8,17],cubes:[{origin:[3,0,13],size:[5,11,5],uv:[0,45]}]},{name:"leg_front_right",pivot:[-6,12,-3],cubes:[{origin:[-8,0,-6],size:[6,14,6],uv:[66,42]}]},{name:"leg_front_left",pivot:[6,12,-3],cubes:[{origin:[2,0,-6],size:[6,14,6],uv:[41,42]}]}],visible_bounds_width:4,visible_bounds_height:3,visible_bounds_offset:[0,1.5,0],texturewidth:128,textureheight:64}},spawn_egg:{base_color:"#C66E55",overlay_color:"#5f6464"},scripts:{pre_animation:["variable.tcos_right_side = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;","variable.tcos_left_side = -variable.tcos_right_side;","variable.attack_head_rot =  Math.sin(variable.attack_time * 180.0) * -37.3;"]},animations:{walk:{loop:!0,bones:{left_ear:{rotation:[0,0,"variable.tcos_left_side * 0.5"]},right_ear:{rotation:[0,0,"variable.tcos_right_side * 0.5"]},leg_back_right:{rotation:["variable.tcos_right_side",0,0]},leg_back_left:{rotation:["variable.tcos_left_side",0,0]},leg_front_right:{rotation:["-variable.tcos_right_side",0,0]},leg_front_left:{rotation:["-variable.tcos_left_side",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:[0,"query.target_y_rotation - this",0]}}},attack:{loop:!0,bones:{head:{rotation:["variable.attack_head_rot",0,0]}}},hoglin_baby_scaling:{loop:!0,bones:{head:{position:[0,10,4],scale:1.4}}}},animation_controllers:{look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target"]}}},walk:{initial_state:"walking",states:{walking:{animations:["walk"]}}},attack:{initial_state:"default",states:{attack:{animations:["attack"],transitions:[{default:"!variable.has_target || variable.attack_time < 0.0"}]},default:{transitions:[{attack:"variable.has_target && variable.attack_time >= 0.0"}]}}},hoglin_baby_scaling:{initial_state:"default",states:{baby:{animations:["hoglin_baby_scaling"],transitions:[{default:"!query.is_baby"}]},default:{transitions:[{baby:"query.is_baby"}]}}}},render_controllers:["controller.render.hoglin"]},hopper_minecart:{identifier:"minecraft:hopper_minecart",min_engine_version:"1.8.0",materials:{default:"minecart"},textures:{default:"textures/entity/minecart"},geometry:{default:{bones:[{name:"bottom",pivot:[0,6,0],cubes:[{origin:[-10,-6.5,-1],size:[20,16,2],rotation:[90,0,0],uv:[0,10]}]},{name:"back",pivot:[0,0,0],cubes:[{origin:[-17,2.5,-1],size:[16,8,2],rotation:[0,270,0],uv:[0,0]}],parent:"bottom"},{name:"front",pivot:[0,0,0],cubes:[{origin:[1,2.5,-1],size:[16,8,2],rotation:[0,90,0],uv:[0,0]}],parent:"bottom"},{name:"right",pivot:[0,0,0],cubes:[{origin:[-8,2.5,-8],size:[16,8,2],rotation:[0,180,0],uv:[0,0]}],parent:"bottom"},{name:"left",pivot:[0,0,0],cubes:[{origin:[-8,2.5,6],size:[16,8,2],uv:[0,0]}],parent:"bottom"}],texturewidth:64,textureheight:32}},scripts:{pre_animation:["variable.hurt = query.hurt_time - query.frame_alpha;"],animate:["move"]},animations:{move:{loop:!0,bones:{bottom:{position:["variable.rail_offset.x / query.model_scale","variable.rail_offset.y / query.model_scale","variable.rail_offset.z / query.model_scale"],rotation:["variable.hurt > 0 ? -Math.sin(variable.hurt * 360 / (Math.pi * 2)) * variable.hurt * (((20 * 2 - query.structural_integrity) - query.frame_alpha) < 0 ? 0: (20 * 2 - query.structural_integrity) - query.frame_alpha) / 10 * query.hurt_direction : 0",0,"-variable.rail_rotation.z"]}}}},render_controllers:["controller.render.minecart"]},horse:{identifier:"minecraft:horse",textures:{base_brown:"textures/entity/horse/horse_brown",base_white:"textures/entity/horse/horse_white",base_chestnut:"textures/entity/horse/horse_chestnut",base_creamy:"textures/entity/horse/horse_creamy",base_black:"textures/entity/horse/horse_black",base_gray:"textures/entity/horse/horse_gray",base_darkbrown:"textures/entity/horse/horse_darkbrown",markings_none:"textures/entity/horse/horse_markings_none",markings_white:"textures/entity/horse/horse_markings_white",markings_whitefield:"textures/entity/horse/horse_markings_whitefield",markings_whitedots:"textures/entity/horse/horse_markings_whitedots",markings_blackdots:"textures/entity/horse/horse_markings_blackdots",mule:"textures/entity/horse/mule",donkey:"textures/entity/horse/donkey",skeleton:"textures/entity/horse/horse_skeleton",zombie:"textures/entity/horse/horse_zombie",armor_none:"textures/entity/horse/armor/horse_armor_none",armor_leather:"textures/entity/horse/armor/horse_armor_leather",armor_iron:"textures/entity/horse/armor/horse_armor_iron",armor_gold:"textures/entity/horse/armor/horse_armor_gold",armor_diamond:"textures/entity/horse/armor/horse_armor_diamond"},geometry:{default:{visible_bounds_width:2,visible_bounds_height:3,visible_bounds_offset:[0,1,0],texturewidth:128,textureheight:128,bones:[{name:"Body",pivot:[0,13,9],rotation:[0,0,0],cubes:[{origin:[-5,11,-10],size:[10,10,24],uv:[0,34]}]},{name:"TailA",pivot:[0,21,14],rotation:[-65,0,0],cubes:[{origin:[-1,20,14],size:[2,2,3],uv:[44,0]}]},{name:"TailB",pivot:[0,21,14],rotation:[-65,0,0],cubes:[{origin:[-1.5,19,17],size:[3,4,7],uv:[38,7]}]},{name:"TailC",pivot:[0,21,14],rotation:[-80.34,0,0],cubes:[{origin:[-1.5,21.5,23],size:[3,4,7],uv:[24,3]}]},{name:"Leg1A",pivot:[4,15,11],rotation:[0,0,0],cubes:[{origin:[1.5,8,8.5],size:[4,9,5],uv:[78,29]}]},{name:"Leg1B",pivot:[4,8,11],rotation:[0,0,0],cubes:[{origin:[2,3,9.5],size:[3,5,3],uv:[78,43]}]},{name:"Leg1C",pivot:[4,8,11],rotation:[0,0,0],cubes:[{origin:[1.5,-.1,9],size:[4,3,4],uv:[78,51]}]},{name:"Leg2A",pivot:[-4,15,11],rotation:[0,0,0],cubes:[{origin:[-5.5,8,8.5],size:[4,9,5],uv:[96,29]}]},{name:"Leg2B",pivot:[-4,8,11],rotation:[0,0,0],cubes:[{origin:[-5,3,9.5],size:[3,5,3],uv:[96,43]}]},{name:"Leg2C",pivot:[-4,8,11],rotation:[0,0,0],cubes:[{origin:[-5.5,-.1,9],size:[4,3,4],uv:[96,51]}]},{name:"Leg3A",pivot:[4,15,-8],rotation:[0,0,0],cubes:[{origin:[2.1,8,-10.1],size:[3,8,4],uv:[44,29]}]},{name:"Leg3B",pivot:[4,8,-8],rotation:[0,0,0],cubes:[{origin:[2.1,3,-9.6],size:[3,5,3],uv:[44,41]}]},{name:"Leg3C",pivot:[4,8,-8],rotation:[0,0,0],cubes:[{origin:[1.6,-.1,-10.1],size:[4,3,4],uv:[44,51]}]},{name:"Leg4A",pivot:[-4,15,-8],rotation:[0,0,0],cubes:[{origin:[-5.1,8,-10.1],size:[3,8,4],uv:[60,29]}]},{name:"Leg4B",pivot:[-4,8,-8],rotation:[0,0,0],cubes:[{origin:[-5.1,3,-9.6],size:[3,5,3],uv:[60,41]}]},{name:"Leg4C",pivot:[-4,8,-8],rotation:[0,0,0],cubes:[{origin:[-5.6,-.1,-10.1],size:[4,3,4],uv:[60,51]}]},{name:"Head",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,25,-11.5],size:[5,5,7],uv:[0,0]}]},{name:"UMouth",pivot:[0,20.05,-10],rotation:[30,0,0],cubes:[{origin:[-2,27.05,-17],size:[4,3,6],uv:[24,18]}]},{name:"LMouth",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2,25,-16.5],size:[4,2,5],uv:[24,27]}]},{name:"Ear1",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[.45,29,-6],size:[2,3,1],uv:[0,0]}]},{name:"Ear2",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.45,29,-6],size:[2,3,1],uv:[0,0]}]},{name:"MuleEarL",pivot:[0,20,-10],rotation:[30,0,15],cubes:[{origin:[-2,29,-6],size:[2,7,1],uv:[0,12]}]},{name:"MuleEarR",pivot:[0,20,-10],rotation:[30,0,-15],cubes:[{origin:[0,29,-6],size:[2,7,1],uv:[0,12]}]},{name:"Neck",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.05,15.8,-12],size:[4,14,8],uv:[0,12]}]},{name:"Bag1",pivot:[-7.5,21,10],rotation:[0,90,0],cubes:[{origin:[-10.5,13,10],size:[8,8,3],uv:[0,34]}]},{name:"Bag2",pivot:[4.5,21,10],rotation:[0,90,0],cubes:[{origin:[1.5,13,10],size:[8,8,3],uv:[0,47]}]},{name:"Saddle",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-5,21,-1],size:[10,1,8],uv:[80,0]}]},{name:"SaddleB",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-1.5,22,-1],size:[3,1,2],uv:[106,9]}]},{name:"SaddleC",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-4,22,5],size:[8,1,2],uv:[80,9]}]},{name:"SaddleL2",pivot:[5,21,2],rotation:[0,0,0],cubes:[{origin:[4.5,13,1],size:[1,2,2],uv:[74,0]}]},{name:"SaddleL",pivot:[5,21,2],rotation:[0,0,0],cubes:[{origin:[4.5,15,1.5],size:[1,6,1],uv:[70,0]}]},{name:"SaddleR2",pivot:[-5,21,2],rotation:[0,0,0],cubes:[{origin:[-5.5,13,1],size:[1,2,2],uv:[74,4]}]},{name:"SaddleR",pivot:[-5,21,2],rotation:[0,0,0],cubes:[{origin:[-5.5,15,1.5],size:[1,6,1],uv:[80,0]}]},{name:"SaddleMouthL",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[1.5,26,-14],size:[1,2,2],uv:[74,13]}]},{name:"SaddleMouthR",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,26,-14],size:[1,2,2],uv:[74,13]}]},{name:"SaddleMouthLine",pivot:[0,20,-10],rotation:[0,0,0],cubes:[{origin:[2.6,23,-16],size:[0,3,16],uv:[44,10]}]},{name:"SaddleMouthLineR",pivot:[0,20,-10],rotation:[0,0,0],cubes:[{origin:[-2.6,23,-16],size:[0,3,16],uv:[44,5]}]},{name:"Mane",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-1,15.5,-5],size:[2,16,4],uv:[58,0]}]},{name:"HeadSaddle",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,25.1,-17],size:[5,5,12],uv:[80,12],inflate:.05}]}]}},spawn_egg:{texture:"spawn_egg",texture_index:23}},husk:{identifier:"minecraft:husk",min_engine_version:"1.8.0",materials:{default:"husk"},textures:{default:"textures/entity/zombie/husk"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:2.5,visible_bounds_offset:[0,1.25,0],texturewidth:64,textureheight:32,bones:[{name:"body",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,16]}],parent:"waist"},{name:"waist",neverRender:!0,pivot:[0,12,0]},{name:"head",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[0,0]}],parent:"body"},{name:"hat",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[32,0],inflate:.5}],neverRender:!0,parent:"head"},{name:"rightArm",pivot:[-5,22,0],cubes:[{origin:[-8,12,-2],size:[4,12,4],uv:[40,16]}],parent:"body"},{name:"rightItem",pivot:[-6,15,1],neverRender:!0,parent:"rightArm"},{name:"leftArm",pivot:[5,22,0],cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[40,16]}],mirror:!0,parent:"body"},{name:"rightLeg",pivot:[-1.9,12,0],cubes:[{origin:[-3.9,0,-2],size:[4,12,4],uv:[0,16]}],parent:"body"},{name:"leftLeg",pivot:[1.9,12,0],cubes:[{origin:[-.1,0,-2],size:[4,12,4],uv:[0,16]}],mirror:!0,parent:"body"}]}},scripts:{pre_animation:["variable.tcos0 = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;"]},animations:{humanoid_big_head:{loop:!0,bones:{head:{scale:1.4}}},look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},move:{loop:!0,bones:{leftarm:{rotation:["variable.tcos0",0,0]},leftleg:{rotation:["variable.tcos0 * -1.4",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]},rightarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leftleg:{rotation:["-72.0 - this","-18.0 - this","-this"]},rightleg:{rotation:["-72.0 - this","18.0 - this","-this"]}}},holding:{loop:!0,bones:{leftarm:{rotation:["variable.is_holding_left ? (-this * 0.5 - 18.0) : 0.0",0,0]},rightarm:{rotation:["variable.is_holding_right ? (-this * 0.5 - 18.0) : 0.0",0,0]}}},brandish_spear:{loop:!0,bones:{rightarm:{rotation:["this * -0.5 - 157.5 - 22.5 * variable.charge_amount","-this",0]}}},charging:{loop:!0,bones:{rightarm:{rotation:["22.5 * variable.charge_amount - this","-this",0]}}},"attack.rotations":{loop:!0,bones:{body:{rotation:[0,"math.sin(math.sqrt(variable.attack_time) * 360) * 11.46 - this",0]},leftarm:{rotation:["math.sin(math.sqrt(variable.attack_time) * 360) * 11.46",0,0]},rightarm:{rotation:["math.sin(1.0 - math.pow(1.0 - variable.attack_time, 3.0) * 180.0) * (variable.is_brandishing_spear ? -1.0 : 1.0 )","variable.is_brandishing_spear ? 0.0 : (math.sin(math.sqrt(variable.attack_time) * 360) * 11.46) * 2.0",0]}}},sneaking:{loop:!0,bones:{body:{rotation:["0.5 - this",0,0]},head:{position:[0,1,0]},leftarm:{rotation:[72,0,0]},leftleg:{position:[0,-3,4]},rightarm:{rotation:[72,0,0]},rightleg:{position:[0,-3,4]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"((math.cos(query.life_time * 103.2) * 2.865) + 2.865) *-1.0"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},damage_nearby_mobs:{loop:!0,bones:{leftarm:{rotation:["-45.0-this","-this","-this"]},leftleg:{rotation:["45.0-this","-this","-this"]},rightarm:{rotation:["45.0-this","-this","-this"]},rightleg:{rotation:["-45.0-this","-this","-this"]}}},bow_and_arrow:{loop:!0,bones:{leftarm:{rotation:["query.target_x_rotation - 90.0 - math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation + 28.65","-(math.cos(query.life_time * 103.2) * 2.865) - 2.865"]},rightarm:{rotation:["query.target_x_rotation - 90.0 + math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation - 5.73","(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},use_item_progress:{loop:!0,bones:{rightarm:{rotation:["variable.use_item_startup_progress * -60.0 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -22.5 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -5.625 + variable.use_item_interval_progress * 11.25"]}}},zombie_attack_bare_hand:{loop:!0,bones:{leftarm:{rotation:["-90.0 - ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4) - (math.sin(query.life_time * 76.776372) * 2.865) - this","5.73 - ((math.sin(variable.attack_time * 180.0) * 57.3) * 0.6) - this","math.cos(query.life_time * 103.13244) * -2.865 - 2.865 - this"]},rightarm:{rotation:["90.0 * (variable.is_brandishing_spear - 1.0) - ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4) + (math.sin(query.life_time * 76.776372) * 2.865) - this","(math.sin(variable.attack_time * 180.0) * 57.3) * 0.6 - 5.73 - this","math.cos(query.life_time * 103.13244) * 2.865 + 2.865 - this"]}}},swimming:{loop:!0,bones:{body:{position:[0,"variable.swim_amount * -10.0 - this","variable.swim_amount * 9.0 - this"],rotation:["variable.swim_amount * (90.0 + query.target_x_rotation)",0,0]},leftarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) - (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, 14.325, variable.swim_amount) - (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},leftleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0 + 180.0) * 0.3, variable.swim_amount)",0,0]},rightarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) + (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, -14.325, variable.swim_amount) + (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},rightleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0) * 0.3, variable.swim_amount)",0,0]}}}},animation_controllers:{humanoid_baby_big_head:{initial_state:"default",states:{baby:{animations:["humanoid_big_head"],transitions:[{default:"!query.is_baby"}]},default:{transitions:[{baby:"query.is_baby"}]}}},look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},move:{initial_state:"default",states:{default:{animations:["move"]}}},riding:{initial_state:"default",states:{default:{transitions:[{riding:"query.is_riding"}]},riding:{animations:["riding.arms","riding.legs"],transitions:[{default:"!query.is_riding"}]}}},holding:{initial_state:"default",states:{default:{animations:["holding"]}}},brandish_spear:{initial_state:"default",states:{brandish_spear:{animations:["brandish_spear"],transitions:[{default:"!variable.is_brandishing_spear"}]},default:{transitions:[{brandish_spear:"variable.is_brandishing_spear"}]}}},charging:{initial_state:"default",states:{charging:{animations:["charging"],transitions:[{default:"!query.is_charging"}]},default:{transitions:[{charging:"query.is_charging"}]}}},attack:{initial_state:"default",states:{attacking:{animations:["attack.rotations"],transitions:[{default:"variable.attack_time < 0.0"}]},default:{transitions:[{attacking:"variable.attack_time >= 0.0"}]}}},sneaking:{initial_state:"default",states:{default:{transitions:[{sneaking:"query.is_sneaking"}]},sneaking:{animations:["sneaking"],transitions:[{default:"!query.is_sneaking"}]}}},bob:{initial_state:"default",states:{default:{animations:["bob"]}}},damage_nearby_mobs:{initial_state:"default",states:{damage_nearby_mobs:{animations:["damage_nearby_mobs"],transitions:[{default:"!variable.damage_nearby_mobs"}]},default:{transitions:[{damage_nearby_mobs:"variable.damage_nearby_mobs"}]}}},bow_and_arrow:{initial_state:"default",states:{bow_and_arrow:{animations:["bow_and_arrow"],transitions:[{default:"!query.has_target"}]},default:{transitions:[{bow_and_arrow:"query.has_target"}]}}},use_item_progress:{initial_state:"default",states:{default:{transitions:[{use_item_progress:"( variable.use_item_interval_progress > 0.0 ) || ( variable.use_item_startup_progress > 0.0 )"}]},use_item_progress:{animations:["use_item_progress"],transitions:[{default:"( variable.use_item_interval_progress <= 0.0 ) && ( variable.use_item_startup_progress <= 0.0 )"}]}}},zombie_attack_bare_hand:{initial_state:"default",states:{default:{transitions:[{is_bare_hand:"variable.is_holding_left != 1.0"}]},is_bare_hand:{animations:["zombie_attack_bare_hand"],transitions:[{default:"variable.is_holding_left == 1.0"}]}}},swimming:{initial_state:"default",states:{default:{transitions:[{is_swimming:"variable.swim_amount > 0.0"}]},is_swimming:{animations:["swimming"],transitions:[{default:"variable.swim_amount <= 0.0"}]}}}},render_controllers:["controller.render.husk"],enable_attachables:!0,spawn_egg:{texture:"spawn_egg",texture_index:28}},iron_golem:{identifier:"minecraft:iron_golem",materials:{default:"iron_golem"},textures:{default:"textures/entity/iron_golem/iron_golem"},geometry:{default:{visible_bounds_width:3,visible_bounds_height:3,visible_bounds_offset:[0,1.5,0],texturewidth:128,textureheight:128,bones:[{name:"body",pivot:[0,31,0],cubes:[{origin:[-9,21,-6],size:[18,12,11],uv:[0,40]},{origin:[-4.5,16,-3],size:[9,5,6],uv:[0,70],inflate:.5}]},{name:"head",parent:"body",pivot:[0,31,-2],locators:{lead:[0,31,-2]},cubes:[{origin:[-4,33,-7.5],size:[8,10,8],uv:[0,0]},{origin:[-1,32,-9.5],size:[2,4,2],uv:[24,0]}]},{name:"arm0",parent:"body",pivot:[0,31,0],cubes:[{origin:[-13,3.5,-3],size:[4,30,6],uv:[60,21]}]},{name:"arm1",parent:"body",pivot:[0,31,0],cubes:[{origin:[9,3.5,-3],size:[4,30,6],uv:[60,58]}]},{name:"leg0",parent:"body",pivot:[-4,13,0],cubes:[{origin:[-7.5,0,-3],size:[6,16,5],uv:[37,0]}]},{name:"leg1",parent:"body",mirror:!0,pivot:[5,13,0],cubes:[{origin:[1.5,0,-3],size:[6,16,5],uv:[60,0]}]}]}},animations:{walk:{loop:!0,bones:{body:{rotation:[0,0,"variable.modified_tcos0 / 1.5"]},head:{rotation:[0,0,"variable.modified_tcos0 / 1.5"]},leg0:{rotation:["variable.modified_tcos0 * 6.0",0,0]},leg1:{rotation:["-variable.modified_tcos0 * 6.0",0,0]}}},move:{loop:!0,bones:{arm0:{rotation:["-variable.modified_tcos0 * 2.0",0,0]},arm1:{rotation:["variable.modified_tcos0 * 2.0",0,0]}}},walk_to_target:{loop:!0,bones:{body:{rotation:[0,0,"2.0 * (math.abs(math.mod(query.modified_distance_moved + 6, 13.0) - 6.5) - 3.25)"]},head:{rotation:[0,0,"2.0 * (math.abs(math.mod(query.modified_distance_moved + 6, 13.0) - 6.5) - 3.25)"]},leg0:{rotation:["(math.cos(query.modified_distance_moved * 38.17) * 40.0)",0,0]},leg1:{rotation:["(math.cos(query.modified_distance_moved * 38.17 + 180) * 40.0)",0,0]}}},move_to_target:{loop:!0,bones:{arm0:{rotation:["((math.abs(math.mod(query.modified_distance_moved, 13) - 6.5) - 3.25) / 2.25) * 30.0",0,0]},arm1:{rotation:["((math.abs(math.mod(query.modified_distance_moved, 13) - 6.5) - 3.25) / 2.25) * -30.0",0,0]}}},attack:{loop:!0,bones:{arm0:{rotation:["-114 + ((1.5 * math.abs(math.mod(variable.attack_animation_tick - query.frame_alpha, 10) - 5) - 2.5) / 5) * 57.3",0,0]},arm1:{rotation:["-114 + ((1.5 * math.abs(math.mod(variable.attack_animation_tick - query.frame_alpha, 10) - 5) - 2.5) / 5) * 57.3",0,0]}}},flower:{loop:!0,bones:{arm0:{rotation:["-45.8 + ((0.25 * math.abs(math.mod(variable.offer_flower_tick, 70) - 35) - 17.5) / 35)",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}}},scripts:{pre_animation:["variable.modified_tcos0 = Math.clamp(((Math.cos(query.modified_distance_moved * 13.5) * Math.min(query.modified_move_speed, 0.6) / variable.gliding_speed_value) * 25.0), -12.5, 12.5);"],animate:["look_at_target","move_controller","arm_controller"]},render_controllers:["controller.render.iron_golem"],animation_controllers:{move_controller:{initial_state:"default",states:{default:{animations:[{walk:"query.modified_move_speed"}],transitions:[{has_target:"query.has_target"}]},has_target:{animations:[{walk_to_target:"query.modified_move_speed"}],transitions:[{default:"!query.has_target"}]}}},arm_controller:{initial_state:"default",states:{attack:{animations:["attack"],transitions:[{default:"!query.has_target && variable.attack_animation_tick <= 0.0"},{has_target:"query.has_target && variable.attack_animation_tick <= 0.0"}]},default:{animations:["move"],transitions:[{attack:"variable.attack_animation_tick > 0.0"},{flower:"variable.offer_flower_tick"},{has_target:"query.has_target"}]},flower:{animations:["flower"],transitions:[{attack:"variable.attack_animation_tick > 0.0"},{default:"variable.offer_flower_tick <= 0.0"},{has_target:"query.has_target"}]},has_target:{animations:["move_to_target"],transitions:[{attack:"variable.attack_animation_tick > 0.0"},{default:"!query.has_target"},{flower:"variable.offer_flower_tick"}]}}}}},leash_knot:{identifier:"minecraft:leash_knot",materials:{default:"leash_knot"},textures:{default:"textures/entity/lead_knot"},geometry:{default:{bones:[{name:"knot",cubes:[{origin:[-3,2,-3],size:[6,8,6]}]}],texturewidth:32,textureheight:32}},render_controllers:["controller.render.leash_knot"]},llama:{identifier:"minecraft:llama",min_engine_version:"1.8.0",materials:{default:"llama"},textures:{creamy:"textures/entity/llama/creamy",white:"textures/entity/llama/white",brown:"textures/entity/llama/brown",gray:"textures/entity/llama/gray",decor_none:"textures/entity/llama/decor/decor_none",decor_white:"textures/entity/llama/decor/white",decor_orange:"textures/entity/llama/decor/orange",decor_magenta:"textures/entity/llama/decor/magenta",decor_light_blue:"textures/entity/llama/decor/light_blue",decor_yellow:"textures/entity/llama/decor/yellow",decor_lime:"textures/entity/llama/decor/lime",decor_pink:"textures/entity/llama/decor/pink",decor_gray:"textures/entity/llama/decor/gray",decor_silver:"textures/entity/llama/decor/light_gray",decor_cyan:"textures/entity/llama/decor/cyan",decor_purple:"textures/entity/llama/decor/purple",decor_blue:"textures/entity/llama/decor/blue",decor_brown:"textures/entity/llama/decor/brown",decor_green:"textures/entity/llama/decor/green",decor_red:"textures/entity/llama/decor/red",decor_black:"textures/entity/llama/decor/black",decor_wandering_trader:"textures/entity/llama/decor/trader_llama"},geometry:{default:{visible_bounds_width:2,visible_bounds_height:2.5,visible_bounds_offset:[0,1,0],texturewidth:128,textureheight:64,bones:[{name:"head",parent:"body",pivot:[0,17,-6],locators:{lead:[0,18,-11]},cubes:[{origin:[-2,27,-16],size:[4,4,9],uv:[0,0]},{origin:[-4,15,-12],size:[8,18,6],uv:[0,14]},{origin:[-4,33,-10],size:[3,3,2],uv:[17,0]},{origin:[1,33,-10],size:[3,3,2],uv:[17,0]}]},{name:"chest1",parent:"body",pivot:[-8.5,21,3],rotation:[0,90,0],cubes:[{origin:[-11.5,13,3],size:[8,8,3],uv:[45,28]}]},{name:"chest2",parent:"body",pivot:[5.5,21,3],rotation:[0,90,0],cubes:[{origin:[2.5,13,3],size:[8,8,3],uv:[45,41]}]},{name:"body",pivot:[0,19,2],bind_pose_rotation:[90,0,0],cubes:[{origin:[-6,11,-5],size:[12,18,10],uv:[29,0]}]},{name:"leg0",parent:"body",pivot:[-3.5,14,6],cubes:[{origin:[-5.5,0,4],size:[4,14,4],uv:[29,29]}]},{name:"leg1",parent:"body",pivot:[3.5,14,6],cubes:[{origin:[1.5,0,4],size:[4,14,4],uv:[29,29]}]},{name:"leg2",parent:"body",pivot:[-3.5,14,-5],cubes:[{origin:[-5.5,0,-7],size:[4,14,4],uv:[29,29]}]},{name:"leg3",parent:"body",pivot:[3.5,14,-5],cubes:[{origin:[1.5,0,-7],size:[4,14,4],uv:[29,29]}]}]}},animations:{setup:{loop:!0,bones:{body:{rotation:["-this",0,0]}}},walk:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]},leg1:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg2:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg3:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},baby_transform:{loop:!0,bones:{body:{position:[0,-5.5,-5],scale:[1.2,1,1]},head:{position:[0,2,0],scale:[1.3,1.2,1.2]},leg0:{position:[0,-1,0],scale:[.91,.56,.91]},leg1:{position:[0,-1,0],scale:[.91,.56,.91]},leg2:{position:[0,-1,0],scale:[.91,.56,.91]},leg3:{position:[0,-1,0],scale:[.91,.56,.91]}}}},animation_controllers:{move:{initial_state:"default",states:{default:{animations:["setup",{walk:"query.modified_move_speed"},"look_at_target"]}}},baby:{initial_state:"baby",states:{baby:{animations:[{baby_transform:"query.is_baby"}]}}}},render_controllers:["controller.render.llama"],spawn_egg:{texture:"spawn_egg",texture_index:38}},llama_spit:{identifier:"minecraft:llama_spit",materials:{default:"llama_spit"},textures:{default:"textures/entity/llama/spit"},geometry:{default:{visible_bounds_width:1,visible_bounds_height:1,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:64,bones:[{name:"body",pivot:[0,24,0],cubes:[{origin:[-4,22,0],size:[2,2,2],uv:[0,0]},{origin:[0,26,0],size:[2,2,2],uv:[0,0]},{origin:[0,22,-4],size:[2,2,2],uv:[0,0]},{origin:[0,22,0],size:[2,2,2],uv:[0,0]},{origin:[2,22,0],size:[2,2,2],uv:[0,0]},{origin:[0,20,0],size:[2,2,2],uv:[0,0]},{origin:[0,22,2],size:[2,2,2],uv:[0,0]}]}]}},animations:{setup:{loop:!0,bones:{body:{position:[0,-15,0],rotation:[0,"query.target_y_rotation - 90.0 - this","query.target_x_rotation - this"]}}}},scripts:{animate:["setup"]},render_controllers:["controller.render.llama_spit"]},magma_cube:{identifier:"minecraft:magma_cube",materials:{default:"magma_cube"},textures:{default:"textures/entity/slime/magmacube"},geometry:{default:{visible_bounds_width:2.5,visible_bounds_height:5,visible_bounds_offset:[0,2.5,0],texturewidth:64,textureheight:32,bones:[{name:"bodyCube_0",parent:"insideCube",pivot:[0,24,0],cubes:[{origin:[-4,7,-4],size:[8,1,8],uv:[0,0]}]},{name:"bodyCube_1",parent:"insideCube",pivot:[0,24,0],cubes:[{origin:[-4,6,-4],size:[8,1,8],uv:[0,1]}]},{name:"bodyCube_2",parent:"insideCube",pivot:[0,24,0],cubes:[{origin:[-4,5,-4],size:[8,1,8],uv:[24,10]}]},{name:"bodyCube_3",parent:"insideCube",pivot:[0,24,0],cubes:[{origin:[-4,4,-4],size:[8,1,8],uv:[24,19]}]},{name:"bodyCube_4",parent:"insideCube",pivot:[0,24,0],cubes:[{origin:[-4,3,-4],size:[8,1,8],uv:[0,4]}]},{name:"bodyCube_5",parent:"insideCube",pivot:[0,24,0],cubes:[{origin:[-4,2,-4],size:[8,1,8],uv:[0,5]}]},{name:"bodyCube_6",parent:"insideCube",pivot:[0,24,0],cubes:[{origin:[-4,1,-4],size:[8,1,8],uv:[0,6]}]},{name:"bodyCube_7",parent:"insideCube",pivot:[0,24,0],cubes:[{origin:[-4,0,-4],size:[8,1,8],uv:[0,7]}]},{name:"insideCube",pivot:[0,0,0],cubes:[{origin:[-2,2,-2],size:[4,4,4],uv:[0,16]}]}]}},scripts:{pre_animation:["variable.slime_squish_factor = (query.previous_squish_value + (query.current_squish_value - query.previous_squish_value) * query.frame_alpha);","variable.bounce = 1 / ((variable.slime_squish_factor / (query.variant * 0.5 + 1)) + 1);","variable.horizontal_scale_amount = variable.bounce * query.variant;","variable.vertical_scale_amount = (1 / variable.bounce) * query.variant;"],scaleX:"variable.horizontal_scale_amount",scaleY:"variable.vertical_scale_amount",scaleZ:"variable.horizontal_scale_amount"},animations:{move:{loop:!0,bones:{bodycube_0:{position:[0,"3.0 * (variable.slime_squish_factor < 0.0 ? 0.0 : variable.slime_squish_factor) * 1.7",0]},bodycube_1:{position:[0,"2.0 * (variable.slime_squish_factor < 0.0 ? 0.0 : variable.slime_squish_factor) * 1.7",0]},bodycube_2:{position:[0,"1.0 * (variable.slime_squish_factor < 0.0 ? 0.0 : variable.slime_squish_factor) * 1.7",0]},bodycube_4:{position:[0,"-1.0 * (variable.slime_squish_factor < 0.0 ? 0.0 : variable.slime_squish_factor) * 1.7",0]},bodycube_5:{position:[0,"-2.0 * (variable.slime_squish_factor < 0.0 ? 0.0 : variable.slime_squish_factor) * 1.7",0]},bodycube_6:{position:[0,"-3.0 * (variable.slime_squish_factor < 0.0 ? 0.0 : variable.slime_squish_factor) * 1.7",0]},bodycube_7:{position:[0,"-4.0 * (variable.slime_squish_factor < 0.0 ? 0.0 : variable.slime_squish_factor) * 1.7",0]}}}},animation_controllers:{general:{initial_state:"default",states:{default:{animations:["move"]}}}},render_controllers:["controller.render.magma_cube"],spawn_egg:{texture:"spawn_egg",texture_index:20}},minecart:{identifier:"minecraft:minecart",min_engine_version:"1.8.0",materials:{default:"minecart"},textures:{default:"textures/entity/minecart"},geometry:{default:{bones:[{name:"bottom",pivot:[0,6,0],cubes:[{origin:[-10,-6.5,-1],size:[20,16,2],rotation:[90,0,0],uv:[0,10]}]},{name:"back",pivot:[0,0,0],cubes:[{origin:[-17,2.5,-1],size:[16,8,2],rotation:[0,270,0],uv:[0,0]}],parent:"bottom"},{name:"front",pivot:[0,0,0],cubes:[{origin:[1,2.5,-1],size:[16,8,2],rotation:[0,90,0],uv:[0,0]}],parent:"bottom"},{name:"right",pivot:[0,0,0],cubes:[{origin:[-8,2.5,-8],size:[16,8,2],rotation:[0,180,0],uv:[0,0]}],parent:"bottom"},{name:"left",pivot:[0,0,0],cubes:[{origin:[-8,2.5,6],size:[16,8,2],uv:[0,0]}],parent:"bottom"}],texturewidth:64,textureheight:32}},scripts:{pre_animation:["variable.hurt = query.hurt_time - query.frame_alpha;"],animate:["move"]},animations:{move:{loop:!0,bones:{bottom:{position:["variable.rail_offset.x / query.model_scale","variable.rail_offset.y / query.model_scale","variable.rail_offset.z / query.model_scale"],rotation:["variable.hurt > 0 ? -Math.sin(variable.hurt * 360 / (Math.pi * 2)) * variable.hurt * (((20 * 2 - query.structural_integrity) - query.frame_alpha) < 0 ? 0: (20 * 2 - query.structural_integrity) - query.frame_alpha) / 10 * query.hurt_direction : 0",0,"-variable.rail_rotation.z"]}}}},render_controllers:["controller.render.minecart"]},mooshroom:{identifier:"minecraft:mooshroom",min_engine_version:"1.8.0",materials:{default:"mooshroom"},textures:{default:"textures/entity/cow/red_mooshroom",brown:"textures/entity/cow/brown_mooshroom"},geometry:{default:{visible_bounds_width:2,visible_bounds_height:2,visible_bounds_offset:[0,1,0],texturewidth:64,textureheight:32,bones:[{name:"body",pivot:[0,19,2],bind_pose_rotation:[90,0,0],cubes:[{origin:[-6,11,-5],size:[12,18,10],uv:[18,4]},{origin:[-2,11,-6],size:[4,6,1],uv:[52,0]}]},{name:"head",pivot:[0,20,-8],locators:{lead:[0,20,-8]},cubes:[{origin:[-4,16,-14],size:[8,8,6],uv:[0,0]},{origin:[-5,22,-12],size:[1,3,1],uv:[22,0]},{origin:[4,22,-12],size:[1,3,1],uv:[22,0]}]},{name:"leg0",parent:"body",pivot:[-4,12,7],cubes:[{origin:[-6,0,5],size:[4,12,4],uv:[0,16]}]},{name:"leg1",parent:"body",mirror:!0,pivot:[4,12,7],cubes:[{origin:[2,0,5],size:[4,12,4],uv:[0,16]}]},{name:"leg2",parent:"body",pivot:[-4,12,-6],cubes:[{origin:[-6,0,-7],size:[4,12,4],uv:[0,16]}]},{name:"leg3",parent:"body",mirror:!0,pivot:[4,12,-6],cubes:[{origin:[2,0,-7],size:[4,12,4],uv:[0,16]}]}]}},animations:{setup:{loop:!0,bones:{body:{rotation:["-this",0,0]}}},walk:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]},leg1:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg2:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg3:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},baby_transform:{loop:!0,bones:{head:{position:[0,"query.is_baby ? 4.0 : 0.0","query.is_baby ? 4.0 : 0.0"],scale:"query.is_baby ? 2.0 : 1.0"}}}},animation_controllers:{setup:{initial_state:"default",states:{default:{animations:["setup"]}}},move:{initial_state:"default",states:{default:{animations:[{walk:"query.modified_move_speed"},"look_at_target"]}}},baby:{initial_state:"default",states:{default:{animations:["baby_transform"]}}}},render_controllers:["controller.render.mooshroom"],spawn_egg:{texture:"spawn_egg",texture_index:5}},mule:{identifier:"minecraft:mule",textures:{base_brown:"textures/entity/horse/horse_brown",base_white:"textures/entity/horse/horse_white",base_chestnut:"textures/entity/horse/horse_chestnut",base_creamy:"textures/entity/horse/horse_creamy",base_black:"textures/entity/horse/horse_black",base_gray:"textures/entity/horse/horse_gray",base_darkbrown:"textures/entity/horse/horse_darkbrown",markings_none:"textures/entity/horse/horse_markings_none",markings_white:"textures/entity/horse/horse_markings_white",markings_whitefield:"textures/entity/horse/horse_markings_whitefield",markings_whitedots:"textures/entity/horse/horse_markings_whitedots",markings_blackdots:"textures/entity/horse/horse_markings_blackdots",mule:"textures/entity/horse/mule",donkey:"textures/entity/horse/donkey",skeleton:"textures/entity/horse/horse_skeleton",zombie:"textures/entity/horse/horse_zombie",armor_none:"textures/entity/horse/armor/horse_armor_none",armor_leather:"textures/entity/horse/armor/horse_armor_leather",armor_iron:"textures/entity/horse/armor/horse_armor_iron",armor_gold:"textures/entity/horse/armor/horse_armor_gold",armor_diamond:"textures/entity/horse/armor/horse_armor_diamond"},geometry:{default:{visible_bounds_width:2,visible_bounds_height:3,visible_bounds_offset:[0,1,0],texturewidth:128,textureheight:128,bones:[{name:"Body",pivot:[0,13,9],rotation:[0,0,0],cubes:[{origin:[-5,11,-10],size:[10,10,24],uv:[0,34]}]},{name:"TailA",pivot:[0,21,14],rotation:[-65,0,0],cubes:[{origin:[-1,20,14],size:[2,2,3],uv:[44,0]}]},{name:"TailB",pivot:[0,21,14],rotation:[-65,0,0],cubes:[{origin:[-1.5,19,17],size:[3,4,7],uv:[38,7]}]},{name:"TailC",pivot:[0,21,14],rotation:[-80.34,0,0],cubes:[{origin:[-1.5,21.5,23],size:[3,4,7],uv:[24,3]}]},{name:"Leg1A",pivot:[4,15,11],rotation:[0,0,0],cubes:[{origin:[1.5,8,8.5],size:[4,9,5],uv:[78,29]}]},{name:"Leg1B",pivot:[4,8,11],rotation:[0,0,0],cubes:[{origin:[2,3,9.5],size:[3,5,3],uv:[78,43]}]},{name:"Leg1C",pivot:[4,8,11],rotation:[0,0,0],cubes:[{origin:[1.5,-.1,9],size:[4,3,4],uv:[78,51]}]},{name:"Leg2A",pivot:[-4,15,11],rotation:[0,0,0],cubes:[{origin:[-5.5,8,8.5],size:[4,9,5],uv:[96,29]}]},{name:"Leg2B",pivot:[-4,8,11],rotation:[0,0,0],cubes:[{origin:[-5,3,9.5],size:[3,5,3],uv:[96,43]}]},{name:"Leg2C",pivot:[-4,8,11],rotation:[0,0,0],cubes:[{origin:[-5.5,-.1,9],size:[4,3,4],uv:[96,51]}]},{name:"Leg3A",pivot:[4,15,-8],rotation:[0,0,0],cubes:[{origin:[2.1,8,-10.1],size:[3,8,4],uv:[44,29]}]},{name:"Leg3B",pivot:[4,8,-8],rotation:[0,0,0],cubes:[{origin:[2.1,3,-9.6],size:[3,5,3],uv:[44,41]}]},{name:"Leg3C",pivot:[4,8,-8],rotation:[0,0,0],cubes:[{origin:[1.6,-.1,-10.1],size:[4,3,4],uv:[44,51]}]},{name:"Leg4A",pivot:[-4,15,-8],rotation:[0,0,0],cubes:[{origin:[-5.1,8,-10.1],size:[3,8,4],uv:[60,29]}]},{name:"Leg4B",pivot:[-4,8,-8],rotation:[0,0,0],cubes:[{origin:[-5.1,3,-9.6],size:[3,5,3],uv:[60,41]}]},{name:"Leg4C",pivot:[-4,8,-8],rotation:[0,0,0],cubes:[{origin:[-5.6,-.1,-10.1],size:[4,3,4],uv:[60,51]}]},{name:"Head",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,25,-11.5],size:[5,5,7],uv:[0,0]}]},{name:"UMouth",pivot:[0,20.05,-10],rotation:[30,0,0],cubes:[{origin:[-2,27.05,-17],size:[4,3,6],uv:[24,18]}]},{name:"LMouth",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2,25,-16.5],size:[4,2,5],uv:[24,27]}]},{name:"Ear1",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[.45,29,-6],size:[2,3,1],uv:[0,0]}]},{name:"Ear2",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.45,29,-6],size:[2,3,1],uv:[0,0]}]},{name:"MuleEarL",pivot:[0,20,-10],rotation:[30,0,15],cubes:[{origin:[-2,29,-6],size:[2,7,1],uv:[0,12]}]},{name:"MuleEarR",pivot:[0,20,-10],rotation:[30,0,-15],cubes:[{origin:[0,29,-6],size:[2,7,1],uv:[0,12]}]},{name:"Neck",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.05,15.8,-12],size:[4,14,8],uv:[0,12]}]},{name:"Bag1",pivot:[-7.5,21,10],rotation:[0,90,0],cubes:[{origin:[-10.5,13,10],size:[8,8,3],uv:[0,34]}]},{name:"Bag2",pivot:[4.5,21,10],rotation:[0,90,0],cubes:[{origin:[1.5,13,10],size:[8,8,3],uv:[0,47]}]},{name:"Saddle",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-5,21,-1],size:[10,1,8],uv:[80,0]}]},{name:"SaddleB",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-1.5,22,-1],size:[3,1,2],uv:[106,9]}]},{name:"SaddleC",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-4,22,5],size:[8,1,2],uv:[80,9]}]},{name:"SaddleL2",pivot:[5,21,2],rotation:[0,0,0],cubes:[{origin:[4.5,13,1],size:[1,2,2],uv:[74,0]}]},{name:"SaddleL",pivot:[5,21,2],rotation:[0,0,0],cubes:[{origin:[4.5,15,1.5],size:[1,6,1],uv:[70,0]}]},{name:"SaddleR2",pivot:[-5,21,2],rotation:[0,0,0],cubes:[{origin:[-5.5,13,1],size:[1,2,2],uv:[74,4]}]},{name:"SaddleR",pivot:[-5,21,2],rotation:[0,0,0],cubes:[{origin:[-5.5,15,1.5],size:[1,6,1],uv:[80,0]}]},{name:"SaddleMouthL",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[1.5,26,-14],size:[1,2,2],uv:[74,13]}]},{name:"SaddleMouthR",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,26,-14],size:[1,2,2],uv:[74,13]}]},{name:"SaddleMouthLine",pivot:[0,20,-10],rotation:[0,0,0],cubes:[{origin:[2.6,23,-16],size:[0,3,16],uv:[44,10]}]},{name:"SaddleMouthLineR",pivot:[0,20,-10],rotation:[0,0,0],cubes:[{origin:[-2.6,23,-16],size:[0,3,16],uv:[44,5]}]},{name:"Mane",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-1,15.5,-5],size:[2,16,4],uv:[58,0]}]},{name:"HeadSaddle",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,25.1,-17],size:[5,5,12],uv:[80,12],inflate:.05}]}]}},spawn_egg:{texture:"spawn_egg",texture_index:31}},ocelot:{identifier:"minecraft:ocelot",min_engine_version:"1.8.0",materials:{default:"ocelot"},textures:{black:"textures/entity/cat/black",red:"textures/entity/cat/red",siamese:"textures/entity/cat/siamese",wild:"textures/entity/cat/ocelot"},geometry:{default:{visible_bounds_width:2.5,visible_bounds_height:1,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:32,bones:[{pivot:[0,9,-9],locators:{lead:[0,9,-9]},cubes:[{origin:[-2.5,7,-12],size:[5,4,5],uv:[0,0]},{origin:[-1.5,7.01562,-13],size:[3,2,2],uv:[0,24]},{origin:[-2,11,-9],size:[1,1,2],uv:[0,10]},{origin:[1,11,-9],size:[1,1,2],uv:[6,10]}],name:"head",parent:"body"},{pivot:[0,7,1],bind_pose_rotation:[90,0,0],cubes:[{origin:[-2,-1,-2],size:[4,16,6],uv:[20,0]}],name:"body"},{pivot:[0,9,8],bind_pose_rotation:[90,0,0],cubes:[{origin:[-.5,1,8],size:[1,8,1],uv:[0,15]}],name:"tail1",parent:"body"},{pivot:[0,9,16],bind_pose_rotation:[90,0,0],cubes:[{origin:[-.5,1,16],size:[1,8,1],uv:[4,15]}],name:"tail2",parent:"tail1"},{pivot:[1.1,6,7],cubes:[{origin:[.1,0,6],size:[2,6,2],uv:[8,13]}],name:"backLegL",parent:"body"},{pivot:[-1.1,6,7],cubes:[{origin:[-2.1,0,6],size:[2,6,2],uv:[8,13]}],name:"backLegR",parent:"body"},{pivot:[1.2,10,-4],cubes:[{origin:[.2,.2,-5],size:[2,10,2],uv:[40,0]}],name:"frontLegL",parent:"body"},{pivot:[-1.2,10,-4],cubes:[{origin:[-2.2,.2,-5],size:[2,10,2],uv:[40,0]}],name:"frontLegR",parent:"body"}]}},animations:{sneak:{loop:!0,bones:{backlegl:{position:[0,"1.0 - this",0],rotation:["math.cos(query.modified_distance_moved * 38.17) * 57.3 * query.modified_move_speed - this",0,0]},backlegr:{position:[0,"1.0 - this",0],rotation:["math.cos(query.modified_distance_moved * 38.17 + 180.0) * 57.3 * query.modified_move_speed - this",0,0]},body:{position:[0,-1,0]},frontlegl:{position:[0,"1.0 - this",0],rotation:["math.cos(query.modified_distance_moved * 38.17 + 180.0) * 57.3 * query.modified_move_speed - this",0,0]},frontlegr:{position:[0,"1.0 - this",0],rotation:["math.cos(query.modified_distance_moved * 38.17) * 57.3 * query.modified_move_speed - this",0,0]},head:{position:[0,-1,0]},tail1:{position:[0,"1.0 - this",0]},tail2:{rotation:["62.0 + math.cos(query.modified_distance_moved * 57.3) * 27.0 * query.modified_move_speed - this",0,0]}}},walk:{loop:!0,bones:{backlegl:{rotation:["math.cos(query.modified_distance_moved * 38.17) * 57.3 * query.modified_move_speed - this",0,0]},backlegr:{rotation:["math.cos(query.modified_distance_moved * 38.17 + 180.0) * 57.3 * query.modified_move_speed - this",0,0]},frontlegl:{rotation:["math.cos(query.modified_distance_moved * 38.17 + 180.0) * 57.3 * query.modified_move_speed - this",0,0]},frontlegr:{rotation:["math.cos(query.modified_distance_moved * 38.17) * 57.3 * query.modified_move_speed - this",0,0]},tail1:{rotation:["-51.57 - this",0,0]},tail2:{rotation:["62.0 + math.cos(query.modified_distance_moved * 57.3) * 45.0 * query.modified_move_speed - this",0,0]}}},sprint:{loop:!0,bones:{backlegl:{rotation:["math.cos(query.modified_distance_moved * 38.17) * 57.3 * query.modified_move_speed - this",0,0]},backlegr:{rotation:["math.cos(query.modified_distance_moved * 38.17 + 17.19) * 57.3 * query.modified_move_speed - this",0,0]},frontlegl:{rotation:["math.cos(query.modified_distance_moved * 38.17 + 197.19) * 57.3 * query.modified_move_speed - this",0,0]},frontlegr:{rotation:["math.cos(query.modified_distance_moved * 38.17 + 180.0) * 57.3 * query.modified_move_speed - this",0,0]},tail1:{rotation:["-this",0,0]},tail2:{rotation:["62.0 + math.cos(query.modified_distance_moved * 57.3) * 18.0 * query.modified_move_speed - this",0,0]}}},sit:{loop:!0,bones:{backlegl:{position:[0,"-2.0 - this","6.0 - this"],rotation:[-45,0,0]},backlegr:{position:[0,"-2.0 - this","6.0 - this"],rotation:["-45 - this",0,0]},body:{rotation:["-45 - this",0,0]},frontlegl:{position:[0,"-1.5 - this","-7.0 - this"],rotation:["42.15 - this",0,0]},frontlegr:{position:[0,"-1.5 - this","-7.0 - this"],rotation:["42.15 - this",0,0]},head:{position:[0,-2,0]},tail1:{position:[0,0,0],rotation:["45 - this",0,0]},tail2:{position:[0,0,0],rotation:["45 - this",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},baby_transform:{loop:!0,bones:{head:{scale:1.5}}}},animation_controllers:{move:{initial_state:"sitting",states:{sitting:{animations:["sit"],transitions:[{sneaking:"variable.state == 0"},{sprinting:"variable.state == 1"},{walking:"variable.state == 3"}]},sneaking:{animations:["sneak"],transitions:[{sprinting:"variable.state == 1"},{sitting:"variable.state == 2"},{walking:"variable.state == 3"}]},sprinting:{animations:["sprint"],transitions:[{sneaking:"variable.state == 0"},{sitting:"variable.state == 2"},{walking:"variable.state == 3"}]},walking:{animations:["walk"],transitions:[{sneaking:"variable.state == 0"},{sprinting:"variable.state == 1"},{sitting:"variable.state == 2"}]}}},baby:{initial_state:"baby",states:{baby:{animations:[{baby_transform:"query.is_baby"}]}}},look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target"]}}}},render_controllers:["controller.render.ocelot"],spawn_egg:{texture:"spawn_egg",texture_index:16}},panda:{identifier:"minecraft:panda",materials:{default:"panda"},textures:{default:"textures/entity/panda/panda",lazy:"textures/entity/panda/lazy_panda",worried:"textures/entity/panda/worried_panda",playful:"textures/entity/panda/playful_panda",brown:"textures/entity/panda/brown_panda",weak:"textures/entity/panda/weak_panda",aggressive:"textures/entity/panda/aggressive_panda"},geometry:{default:{texturewidth:64,textureheight:64,bones:[{name:"head",parent:"body",pivot:[0,12.5,-17],locators:{lead:[0,14,-16]},cubes:[{origin:[-6.5,7.5,-21],size:[13,10,9],uv:[0,6]},{origin:[-3.5,7.5,-23],size:[7,5,2],uv:[45,16]},{origin:[-8.5,16.5,-18],size:[5,4,1],uv:[52,25]},{origin:[3.5,16.5,-18],size:[5,4,1],uv:[52,25]}]},{name:"body",pivot:[0,14,0],bind_pose_rotation:[90,0,0],cubes:[{origin:[-9.5,1,-6.5],size:[19,26,13],uv:[0,25]}]},{name:"leg0",parent:"body",pivot:[-5.5,9,9],cubes:[{origin:[-8.5,0,6],size:[6,9,6],uv:[40,0]}]},{name:"leg1",parent:"body",pivot:[5.5,9,9],cubes:[{origin:[2.5,0,6],size:[6,9,6],uv:[40,0]}]},{name:"leg2",parent:"body",pivot:[-5.5,9,-9],cubes:[{origin:[-8.5,0,-12],size:[6,9,6],uv:[40,0]}]},{name:"leg3",parent:"body",pivot:[5.5,9,-9],cubes:[{origin:[2.5,0,-12],size:[6,9,6],uv:[40,0]}]}]}},animations:{unhappy:{loop:!0,bones:{head:{rotation:[0,"(math.sin(query.life_time * 327.6) * 20) - this","(math.sin(query.life_time * 327.6) * 20) - this"]},leg2:{rotation:["(math.sin(query.life_time * 343.8) * -43) - this",0,0]},leg3:{rotation:["(math.sin(query.life_time * 343.8) * 43) - this",0,0]}}},sneezing:{loop:!0,bones:{head:{rotation:["(query.sneeze_counter < 15) ? (-45 * (query.sneeze_counter / 14)) : (-45 + (9 * (query.sneeze_counter - 15)) - this)",0,0]}}},walk:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]},leg1:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg2:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg3:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},baby_transform:{loop:!0,bones:{body:{position:[0,1.77,0],scale:[1.15,1.15,1]},head:{position:[0,-.18,.15],scale:1.8}}},sitting:{loop:!0,bones:{body:{position:[0,"-2.15 -10 -this",0],rotation:["(query.is_scared * math.cos(query.life_time * 71.62) * 16.2) + (query.sit_amount * -90) - this",0,0]},head:{rotation:["query.is_eating ? (90.0 + 11.5 * math.sin(query.life_time * 750)) : (query.sit_amount * (100 - this)) - this",0,0]},leg0:{rotation:[0,0,"32.7 - this"]},leg1:{rotation:[0,0,"-32.7 - this"]},leg2:{rotation:["(query.is_eating ? (-23 - (16.5 * math.sin(query.life_time * 750))) : 0) - this",0,-15]},leg3:{rotation:["(query.is_eating ? (-23 - (16.5 * math.sin(query.life_time * 750))) : 0) - this",0,15]}}},rolling:{loop:!0,bones:{body:{rotation:["(query.roll_counter / 32) * 360",0,0]},head:{rotation:["(this * -118) + query.roll_counter - this",0,0]},leg0:{rotation:["math.sin(query.life_time * 60 * (query.is_baby ? 0.95 : 0.5) * 57.3) * 8.6 - this",0,0]},leg1:{rotation:["math.sin(query.life_time * 60 * (query.is_baby ? 0.95 : 0.5) * 57.3) * -8.6 - this",0,0]},leg2:{rotation:["math.sin(query.life_time * 60 * (query.is_baby ? 0.95 : 0.5) * 57.3) * -8.6 - this",0,0]},leg3:{rotation:["math.sin(query.life_time * 60 * (query.is_baby ? 0.95 : 0.5) * 57.3) * 8.6 - this",0,0]}}},lying:{loop:!0,bones:{body:{position:[0,"(query.is_baby ? -8.8 : -7.67) * query.lie_amount -10 - this",0],rotation:["query.lie_amount * -180 - this",0,0]},head:{rotation:["(query.lie_amount * 90) - this",0,0]},leg0:{rotation:["math.sin(query.life_time * 206.28) * -17.2 - this",0,0]},leg1:{rotation:["math.sin(query.life_time * 263.58) * 17.2 - this",0,0]},leg2:{rotation:["math.sin(query.life_time * 172) * 17.2 - this",0,0]},leg3:{rotation:["math.sin(query.life_time * 229.2) * -17.2 - this",0,0]}}}},animation_controllers:{move:{initial_state:"default",states:{default:{animations:[{walk:"query.modified_move_speed"},"look_at_target"],transitions:[{rolling:"query.roll_counter > 0"},{sitting:"query.sit_amount > 0"},{lying:"query.lie_amount > 0"}]},lying:{animations:["lying"],transitions:[{default:"query.lie_amount <= 0"},{rolling:"query.roll_counter > 0"},{sitting:"query.sit_amount > 0"}]},rolling:{animations:["rolling"],transitions:[{default:"query.roll_counter <= 0"},{sitting:"query.sit_amount > 0"},{lying:"query.lie_amount > 0"}]},sitting:{animations:["sitting"],transitions:[{default:"query.sit_amount <= 0"},{rolling:"query.roll_counter > 0"},{lying:"query.lie_amount > 0"}]}}},unhappy:{initial_state:"baby",states:{baby:{animations:[{unhappy:"query.unhappy_counter"}]}}},sneezing:{initial_state:"baby",states:{baby:{animations:[{sneezing:"query.sneeze_counter"}]}}},baby:{initial_state:"baby",states:{baby:{animations:[{baby_transform:"query.is_baby"}]}}}},render_controllers:["controller.render.panda"],spawn_egg:{texture:"spawn_egg",texture_index:54}},parrot:{identifier:"minecraft:parrot",materials:{default:"parrot"},textures:{blue:"textures/entity/parrot/parrot_blue",green:"textures/entity/parrot/parrot_green",red_blue:"textures/entity/parrot/parrot_red_blue",yellow_blue:"textures/entity/parrot/parrot_yellow_blue",grey:"textures/entity/parrot/parrot_grey"},geometry:{default:{visible_bounds_width:1,visible_bounds_height:1,visible_bounds_offset:[0,.5,0],texturewidth:32,textureheight:32,bones:[{name:"head",parent:"body",pivot:[0,8.3,-2.8],locators:{lead:[0,6,-4]},cubes:[{origin:[-1,6.8,-3.8],size:[2,3,2],uv:[2,2]}]},{name:"head2",parent:"head",pivot:[0,26,-1],cubes:[{origin:[-1,9.8,-5.8],size:[2,1,4],uv:[10,0]}]},{name:"beak1",parent:"head",pivot:[0,24.5,-1.5],cubes:[{origin:[-.5,7.8,-4.7],size:[1,2,1],uv:[11,7]}]},{name:"beak2",parent:"head",pivot:[0,25.8,-2.5],cubes:[{origin:[-.5,8.1,-5.7],size:[1,1.7,1],uv:[16,7]}]},{name:"body",pivot:[0,7.5,-3],bind_pose_rotation:[28.287,0,0],cubes:[{origin:[-1.5,1.5,-4.5],size:[3,6,3],uv:[2,8]}]},{name:"tail",parent:"body",pivot:[0,2.9,1.2],cubes:[{origin:[-1.5,-.1,.2],size:[3,4,1],uv:[22,1]}]},{name:"wing0",parent:"body",pivot:[1.5,7.1,-2.8],cubes:[{origin:[1,2.1,-4.3],size:[1,5,3],uv:[19,8]}]},{name:"wing1",parent:"body",pivot:[-1.5,7.1,-2.8],cubes:[{origin:[-2,2.1,-4.3],size:[1,5,3],uv:[19,8]}]},{name:"feather",parent:"head",pivot:[0,10.1,.2],bind_pose_rotation:[-12.685,0,0],cubes:[{origin:[0,9.1,-4.9],size:[0,5,4],uv:[2,18]}]},{name:"leg0",parent:"body",pivot:[1.5,1,-.5],cubes:[{origin:[.5,-.5,-1.5],size:[1,2,1],uv:[14,18]}]},{name:"leg1",parent:"body",pivot:[-.5,1,-.5],cubes:[{origin:[-1.5,-.5,-1.5],size:[1,2,1],uv:[14,18]}]}]}},scripts:{pre_animation:["variable.state = query.is_dancing ? 3 : (query.is_sitting ? 2 : (!query.is_on_ground && !query.is_jumping && !query.is_riding ? 0 : 1));","variable.dance.x = Math.cos(query.life_time * 57.3 * 20.0);","variable.dance.y = -Math.sin(query.life_time * 57.3 * 20.0);","variable.wing_flap = ((math.sin(query.wing_flap_position * 57.3) + 1) * query.wing_flap_speed);"]},animations:{moving:{loop:!0,bones:{body:{position:[0,"variable.wing_flap * 0.3",0]},tail:{rotation:["60.0 + math.cos(query.anim_time * 38.17) * 17.0 - this",0,0]},wing0:{rotation:[0,0,"-5.0 - variable.wing_flap * 57.3"]},wing1:{rotation:[0,0,"5.0 + variable.wing_flap * 57.3"]}}},base:{loop:!0,bones:{body:{position:["-this",0,0],rotation:["-this",0,0]},feather:{rotation:["-this",0,0]},head:{position:["-this",0,0],rotation:[0,0,"-this"]},leg0:{position:[0,"-6.0-this",-.5],rotation:["-16.713-this",0,"-this"]},leg1:{position:[0,"-6.0-this",-.5],rotation:["-16.713-this",0,"-this"]},tail:{position:["-this",0,0]},wing0:{position:["1.5-this",0,0],rotation:["-40.0-this","-180.0-this",0]},wing1:{position:["-1.5-this",0,0],rotation:["-40.0-this","-180.0-this",0]}}},dance:{loop:!0,bones:{body:{position:["variable.dance.x-this","variable.dance.y",0]},head:{rotation:["-this","-this","variable.dance.y*23.0 - this"]},leg0:{position:["-variable.dance.x","-variable.dance.y",0],rotation:[0,0,"-20.0 - this"]},leg1:{position:["-variable.dance.x","-variable.dance.y",0],rotation:[0,0,"20.0 - this"]},tail:{rotation:["60.0 - this",0,0]},wing0:{rotation:[0,0,"-5.0 - variable.wing_flap"]},wing1:{rotation:[0,0,"5.0 + variable.wing_flap"]}}},sitting:{loop:!0,bones:{body:{position:[0,-1.9,0]},leg0:{rotation:[90,0,0]},leg1:{rotation:[90,0,0]},tail:{rotation:["90.0 - this",0,0]},wing0:{rotation:[0,0,"-5.0-this"]},wing1:{rotation:[0,0,"5.0-this"]}}},flying:{loop:!0,bones:{leg0:{rotation:["math.cos(query.anim_time * 38.17) * 80.0 * query.modified_move_speed",0,0]},leg1:{rotation:["math.cos(query.anim_time * 38.17) * -80.0 * query.modified_move_speed",0,0]}}},standing:{loop:!0,bones:{leg0:{rotation:[20,0,0]},leg1:{rotation:[20,0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}}},animation_controllers:{setup:{initial_state:"default",states:{default:{animations:["look_at_target","base"]}}},move:{initial_state:"dancing",states:{dancing:{animations:["dance"],transitions:[{flying:"variable.state == 0"},{standing:"variable.state == 1"},{sitting:"variable.state == 2"}]},flying:{animations:["moving","flying"],transitions:[{standing:"variable.state == 1"},{sitting:"variable.state == 2"},{dancing:"variable.state == 3"}]},sitting:{animations:["sitting"],transitions:[{flying:"variable.state == 0"},{standing:"variable.state == 1"},{dancing:"variable.state == 3"}]},standing:{animations:["moving","standing"],transitions:[{flying:"variable.state == 0"},{sitting:"variable.state == 2"},{dancing:"variable.state == 3"}]}}}},render_controllers:["controller.render.parrot"],spawn_egg:{texture:"spawn_egg",texture_index:43}},phantom:{identifier:"minecraft:phantom",materials:{default:"phantom",invisible:"phantom_invisible"},textures:{default:"textures/entity/phantom"},geometry:{default:{texturewidth:64,textureheight:64,bones:[{name:"body",pivot:[0,24,0],bind_pose_rotation:[0,0,0],cubes:[{origin:[-3,23,-8],size:[5,3,9],uv:[0,8]}]},{name:"wing0",pivot:[2,26,-8],bind_pose_rotation:[0,0,5.7],cubes:[{origin:[2,24,-8],size:[6,2,9],uv:[23,12]}],parent:"body"},{name:"wingtip0",pivot:[8,26,-8],bind_pose_rotation:[0,0,5.7],locators:{left_wing:[21,26,0]},cubes:[{origin:[8,25,-8],size:[13,1,9],uv:[16,24]}],parent:"wing0"},{name:"wing1",pivot:[-3,26,-8],bind_pose_rotation:[0,0,-5.7],mirror:!0,cubes:[{origin:[-9,24,-8],size:[6,2,9],uv:[23,12]}],parent:"body"},{name:"wingtip1",pivot:[-9,24,-8],bind_pose_rotation:[0,0,-5.7],locators:{right_wing:[-22,24,0]},mirror:!0,cubes:[{origin:[-22,25,-8],size:[13,1,9],uv:[16,24]}],parent:"wing1"},{name:"head",pivot:[0,23,-7],bind_pose_rotation:[11.5,0,0],cubes:[{origin:[-4,22,-12],size:[7,3,5],uv:[0,0]}],parent:"body"},{name:"tail",pivot:[0,26,1],bind_pose_rotation:[0,0,0],cubes:[{origin:[-2,24,1],size:[3,2,6],uv:[3,20]}],parent:"body"},{name:"tailtip",pivot:[0,25.5,7],bind_pose_rotation:[0,0,0],cubes:[{origin:[-1,24.5,7],size:[1,1,6],uv:[4,29]}],parent:"tail"}]}},scripts:{initialize:["variable.runtimeid = 0;","variable.tailrotx = -5.0;","variable.wingrotz = 0.0;"],animate:["phantom_base_pose_controller","move"]},animations:{phantom_base_pose:{loop:!0,bones:{body:{position:[0,-20,0],rotation:["-query.target_x_rotation",0,0]}}},move:{loop:!0,start_delay:"math.random(0, 2.417)",animation_length:2.417,bones:{tail:{rotation:["-5.0 * Math.cos(297.9380535 * query.anim_time) - 5.0",0,0]},tailtip:{rotation:["-5.0 * Math.cos(297.9380535 * query.anim_time) - 5.0",0,0]},wing0:{rotation:[0,0,"16.0 * Math.cos(148.9690267 * query.anim_time)"]},wing1:{rotation:[0,0,"-16.0 * Math.cos(148.9690267 * query.anim_time)"]},wingtip0:{rotation:[0,0,"16.0 * Math.cos(148.9690267 * query.anim_time)"]},wingtip1:{rotation:[0,0,"-16.0 * Math.cos(148.9690267 * query.anim_time)"]}},sound_effects:{"1.4":{effect:"flap"}}}},particle_effects:{wing_dust:"minecraft:phantom_trail_particle"},sound_effects:{flap:"mob.phantom.flap"},render_controllers:["controller.render.phantom"],spawn_egg:{texture:"spawn_egg",texture_index:51},animation_controllers:{phantom_base_pose_controller:{initial_state:"default",states:{default:{animations:["phantom_base_pose"],particle_effects:[{effect:"wing_dust",locator:"left_wing"},{effect:"wing_dust",locator:"right_wing"}]}}}}},pig:{identifier:"minecraft:pig",min_engine_version:"1.8.0",materials:{default:"pig"},textures:{default:"textures/entity/pig/pig",saddled:"textures/entity/pig/pig_saddle"},geometry:{default:{visible_bounds_width:2,visible_bounds_height:1.5,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:32,bones:[{name:"body",pivot:[0,13,2],bind_pose_rotation:[90,0,0],cubes:[{origin:[-5,7,-5],size:[10,16,8],uv:[28,8]}]},{name:"head",parent:"body",pivot:[0,12,-6],locators:{lead:[0,14,-6]},cubes:[{origin:[-4,8,-14],size:[8,8,8],uv:[0,0]},{origin:[-2,9,-15],size:[4,3,1],uv:[16,16]}]},{name:"leg0",parent:"body",pivot:[-3,6,7],cubes:[{origin:[-5,0,5],size:[4,6,4],uv:[0,16]}]},{name:"leg1",parent:"body",mirror:!0,pivot:[3,6,7],cubes:[{origin:[1,0,5],size:[4,6,4],uv:[0,16]}]},{name:"leg2",parent:"body",pivot:[-3,6,-5],cubes:[{origin:[-5,0,-7],size:[4,6,4],uv:[0,16]}]},{name:"leg3",parent:"body",mirror:!0,pivot:[3,6,-5],cubes:[{origin:[1,0,-7],size:[4,6,4],uv:[0,16]}]}]}},animations:{setup:{loop:!0,bones:{body:{rotation:["-this",0,0]}}},walk:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]},leg1:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg2:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg3:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},baby_transform:{loop:!0,bones:{head:{position:[0,4,4],scale:2}}}},scripts:{animate:["setup",{walk:"query.modified_move_speed"},"look_at_target",{baby_transform:"query.is_baby"}]},render_controllers:["controller.render.pig"],spawn_egg:{texture:"spawn_egg",texture_index:2}},piglin:{identifier:"minecraft:piglin",materials:{default:"piglin"},textures:{default:"textures/entity/piglin/piglin"},geometry:{default:{bones:[{name:"body",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,16]},{origin:[-4,12,-2],size:[8,12,4],uv:[16,32],inflate:.25}]},{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-5,24,-4],size:[10,8,8],uv:[0,0],inflate:-.02},{origin:[-2,24,-5],size:[4,4,1],uv:[31,1]},{origin:[2,24,-5],size:[1,2,1],uv:[2,4]},{origin:[-3,24,-5],size:[1,2,1],uv:[2,0]}],inflate:-.02},{name:"leftear",parent:"head",pivot:[5,30,0],rotation:[0,0,-30],cubes:[{origin:[4,25,-2],size:[1,5,4],uv:[51,6]}]},{name:"rightear",parent:"head",pivot:[-5,30,0],rotation:[0,0,30],cubes:[{origin:[-5,25,-2],size:[1,5,4],uv:[39,6]}]},{name:"hat",parent:"head",pivot:[0,24,0]},{name:"rightarm",parent:"body",pivot:[-5,22,0],cubes:[{origin:[-8,12,-2],size:[4,12,4],uv:[40,16]},{origin:[-8,12,-2],size:[4,12,4],uv:[40,32],inflate:.25}]},{name:"rightItem",parent:"rightarm",pivot:[-6,15,1]},{name:"leftarm",parent:"body",pivot:[5,22,0],cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[32,48]},{origin:[4,12,-2],size:[4,12,4],uv:[48,48],inflate:.25}]},{name:"leftItem",parent:"leftArm",pivot:[6,15,1]},{name:"rightleg",parent:"body",pivot:[-1.9,12,0],cubes:[{origin:[-4,0,-2],size:[4,12,4],uv:[0,16]},{origin:[-4,0,-2],size:[4,12,4],uv:[0,32],inflate:.25}]},{name:"leftleg",parent:"body",pivot:[1.9,12,0],cubes:[{origin:[0,0,-2],size:[4,12,4],uv:[16,48]},{origin:[0,0,-2],size:[4,12,4],uv:[0,48],inflate:.25}]}],visible_bounds_width:2,visible_bounds_height:2,visible_bounds_offset:[0,1,0],texturewidth:64,textureheight:64}},spawn_egg:{base_color:"#995f40",overlay_color:"#f9f3a4"},scripts:{pre_animation:["variable.tcos0 = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;","variable.attack = Math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3;","variable.attack2 = Math.sin(variable.attack_time * 180.0) * 57.3;","variable.z_bob = Math.cos(query.life_time * 103.13244) * 2.865 + 2.865;","variable.x_bob = Math.sin(query.life_time * 76.776372) * 2.865;"],animate:[{admire:"query.is_admiring"},{humanoid_big_head:"query.is_baby"},{celebrate_hunt:"query.is_celebrating"},{celebrate_hunt_special:"query.is_celebrating_special"},"move","bob","look_at_target_controller","piglin_attack_controller","riding_controller"]},animations:{move:{loop:!0,bones:{leftear:{rotation:[0,0,"variable.tcos0 * 0.5"]},rightear:{rotation:[0,0,"-variable.tcos0 * 0.5"]},leftarm:{rotation:["variable.tcos0",0,0]},leftleg:{rotation:["-variable.tcos0 * 1.4",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"((math.cos(query.life_time * 103.2) * 2.865) + 2.865) *-1.0"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},humanoid_big_head:{loop:!0,bones:{head:{scale:1.4}}},admire:{loop:!0,bones:{leftarm:{rotation:[320,25,0]},head:{rotation:[30,0,0]}}},celebrate_hunt:{loop:!0,bones:{leftear:{rotation:[0,0,"Math.sin(query.time_stamp * 30) * 10"]},rightear:{rotation:[0,0,"Math.cos(query.time_stamp * 30) * 10"]}}},celebrate_hunt_special:{loop:!0,bones:{leftear:{rotation:[0,0,"Math.sin(query.time_stamp * 30) * 10"]},rightear:{rotation:[0,0,"Math.cos(query.time_stamp * 30) * 10"]},head:{position:["Math.sin(query.time_stamp * 10)","Math.sin(query.time_stamp * 40)",0]},rightarm:{rotation:[0,0,"70 + Math.cos(query.time_stamp * 40) * 10"]},leftarm:{rotation:[0,0,"-70 - Math.cos(query.time_stamp * 40) * 10"]},body:{position:[0,"Math.sin(query.time_stamp * 40) * 0.35",0]}}},look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},crossbow_hold:{bones:{leftarm:{rotation:["-85.94 + query.target_x_rotation -this","34.38 + math.clamp(query.target_y_rotation, -45, 25) -this",0]},rightarm:{rotation:["-90.0 + 5.73 + query.target_x_rotation -this","-17.19 + math.clamp(query.target_y_rotation, -25, 45) -this",0]}},loop:!0},crossbow_charge:{bones:{leftarm:{rotation:["math.lerp(-90.0 + 34.38, -90.0, variable.crossbow_charge)  -this","math.lerp(22.92, 48.70, variable.crossbow_charge) -this",0]},rightarm:{rotation:["-90.0 + 34.38 -this","-45.84 -this",0]}},loop:!0},melee_attack:{bones:{leftarm:{rotation:["(math.cos(query.life_time * 20.0 * 10.89) * 28.65) + (math.sin(variable.attack_time * 180.0) * 68.76 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0)) * 22.92)",0,0]},rightarm:{rotation:["-100 + (variable.attack2 * 2.2 - variable.attack * 0.4) + variable.x_bob - this","variable.attack2 * 0.6 - 5.73 - this","variable.z_bob - this"]}},loop:!0},hand_attack:{bones:{leftarm:{rotation:["-(math.sin((1 - math.pow((1 - variable.attack_time), 4)) * 180) * 1.2 + math.sin(variable.attack_time * 180)) * 10.0",0,0]},rightarm:{rotation:["-(math.sin((1 - math.pow((1 - variable.attack_time), 4)) * 180) * 1.2 + math.sin(variable.attack_time * 180)) * 30.0","-(math.sin((1 - math.pow((1 - variable.attack_time), 4)) * 180) ? (-90.0 * math.sin((1 - math.pow((1 - variable.attack_time), 4)) * 180)) + 30.0 : 0.0)",0]}},loop:!0},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]},rightarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leftleg:{rotation:["-72.0 - this","-18.0 - this","-this"]},rightleg:{rotation:["-72.0 - this","18.0 - this","-this"]}}}},render_controllers:["controller.render.piglin"],enable_attachables:!0,animation_controllers:{look_at_target_controller:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},piglin_attack_controller:{initial_state:"default",states:{ranged_charge:{animations:["crossbow_charge"],transitions:[{default:"variable.attack_state == 0  ||  query.is_admiring"},{ranged_hold:"variable.attack_state == 1"}]},default:{transitions:[{ranged_hold:"query.variant == 0 && variable.attack_state == 1 && !query.is_admiring"},{ranged_charge:"query.variant == 0 && variable.attack_state == 2 && !query.is_admiring"},{hand_attack:"variable.has_target && query.variant == 1 && !query.is_item_equipped && variable.attack_time >= 0.0 && !query.is_admiring"},{melee_attack:"variable.has_target && query.variant == 1 && query.is_item_equipped && variable.attack_time >= 0.0 && !query.is_admiring"}]},ranged_hold:{animations:["crossbow_hold"],transitions:[{default:"variable.attack_state == 0  ||  query.is_admiring"},{ranged_charge:"variable.attack_state == 2"}]},melee_attack:{animations:["melee_attack"],transitions:[{default:"!query.is_item_equipped || !variable.has_target || variable.attack_time < 0.0 ||  query.is_admiring"}]},hand_attack:{animations:["hand_attack"],transitions:[{default:"query.is_item_equipped || !variable.has_target || variable.attack_time < 0.0 ||  query.is_admiring"}]}}},riding_controller:{initial_state:"default",states:{default:{transitions:[{riding:"query.is_riding"}]},riding:{animations:["riding.arms","riding.legs"],transitions:[{default:"!query.is_riding"}]}}}}},piglin_brute:{identifier:"minecraft:piglin_brute",materials:{default:"piglin_brute"},textures:{default:"textures/entity/piglin/piglin_brute"},geometry:{default:{bones:[{name:"body",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,16]},{origin:[-4,12,-2],size:[8,12,4],uv:[16,32],inflate:.25}]},{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-5,24,-4],size:[10,8,8],uv:[0,0],inflate:-.02},{origin:[-2,24,-5],size:[4,4,1],uv:[31,1]},{origin:[2,24,-5],size:[1,2,1],uv:[2,4]},{origin:[-3,24,-5],size:[1,2,1],uv:[2,0]}],inflate:-.02},{name:"leftear",parent:"head",pivot:[5,30,0],rotation:[0,0,-30],cubes:[{origin:[4,25,-2],size:[1,5,4],uv:[51,6]}]},{name:"rightear",parent:"head",pivot:[-5,30,0],rotation:[0,0,30],cubes:[{origin:[-5,25,-2],size:[1,5,4],uv:[39,6]}]},{name:"hat",parent:"head",pivot:[0,24,0]},{name:"rightarm",parent:"body",pivot:[-5,22,0],cubes:[{origin:[-8,12,-2],size:[4,12,4],uv:[40,16]},{origin:[-8,12,-2],size:[4,12,4],uv:[40,32],inflate:.25}]},{name:"rightItem",parent:"rightarm",pivot:[-6,15,1]},{name:"leftarm",parent:"body",pivot:[5,22,0],cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[32,48]},{origin:[4,12,-2],size:[4,12,4],uv:[48,48],inflate:.25}]},{name:"leftItem",parent:"leftArm",pivot:[6,15,1]},{name:"rightleg",parent:"body",pivot:[-1.9,12,0],cubes:[{origin:[-4,0,-2],size:[4,12,4],uv:[0,16]},{origin:[-4,0,-2],size:[4,12,4],uv:[0,32],inflate:.25}]},{name:"leftleg",parent:"body",pivot:[1.9,12,0],cubes:[{origin:[0,0,-2],size:[4,12,4],uv:[16,48]},{origin:[0,0,-2],size:[4,12,4],uv:[0,48],inflate:.25}]}],visible_bounds_width:2,visible_bounds_height:2,visible_bounds_offset:[0,1,0],texturewidth:64,textureheight:64}},spawn_egg:{base_color:"#592A10",overlay_color:"#F9F3A4"},scripts:{pre_animation:["variable.tcos0 = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;","variable.attack = Math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3;","variable.attack2 = Math.sin(variable.attack_time * 180.0) * 57.3;","variable.z_bob = Math.cos(query.life_time * 103.13244) * 2.865 + 2.865;","variable.x_bob = Math.sin(query.life_time * 76.776372) * 2.865;"],animate:[{humanoid_big_head:"query.is_baby"},"move","bob","look_at_target_controller","piglin_attack_controller","riding_controller"]},animations:{move:{loop:!0,bones:{leftear:{rotation:[0,0,"variable.tcos0 * 0.5"]},rightear:{rotation:[0,0,"-variable.tcos0 * 0.5"]},leftarm:{rotation:["variable.tcos0",0,0]},leftleg:{rotation:["-variable.tcos0 * 1.4",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"((math.cos(query.life_time * 103.2) * 2.865) + 2.865) *-1.0"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},humanoid_big_head:{loop:!0,bones:{head:{scale:1.4}}},look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},crossbow_hold:{bones:{leftarm:{rotation:["-85.94 + query.target_x_rotation -this","34.38 + math.clamp(query.target_y_rotation, -45, 25) -this",0]},rightarm:{rotation:["-90.0 + 5.73 + query.target_x_rotation -this","-17.19 + math.clamp(query.target_y_rotation, -25, 45) -this",0]}},loop:!0},crossbow_charge:{bones:{leftarm:{rotation:["math.lerp(-90.0 + 34.38, -90.0, variable.crossbow_charge)  -this","math.lerp(22.92, 48.70, variable.crossbow_charge) -this",0]},rightarm:{rotation:["-90.0 + 34.38 -this","-45.84 -this",0]}},loop:!0},melee_attack:{bones:{leftarm:{rotation:["(math.cos(query.life_time * 20.0 * 10.89) * 28.65) + (math.sin(variable.attack_time * 180.0) * 68.76 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0)) * 22.92)",0,0]},rightarm:{rotation:["-100 + (variable.attack2 * 2.2 - variable.attack * 0.4) + variable.x_bob - this","variable.attack2 * 0.6 - 5.73 - this","variable.z_bob - this"]}},loop:!0},hand_attack:{bones:{leftarm:{rotation:["-(math.sin((1 - math.pow((1 - variable.attack_time), 4)) * 180) * 1.2 + math.sin(variable.attack_time * 180)) * 10.0",0,0]},rightarm:{rotation:["-(math.sin((1 - math.pow((1 - variable.attack_time), 4)) * 180) * 1.2 + math.sin(variable.attack_time * 180)) * 30.0","-(math.sin((1 - math.pow((1 - variable.attack_time), 4)) * 180) ? (-90.0 * math.sin((1 - math.pow((1 - variable.attack_time), 4)) * 180)) + 30.0 : 0.0)",0]}},loop:!0},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]},rightarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leftleg:{rotation:["-72.0 - this","-18.0 - this","-this"]},rightleg:{rotation:["-72.0 - this","18.0 - this","-this"]}}}},render_controllers:["controller.render.piglin_brute"],enable_attachables:!0,animation_controllers:{look_at_target_controller:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},piglin_attack_controller:{initial_state:"default",states:{ranged_charge:{animations:["crossbow_charge"],transitions:[{default:"variable.attack_state == 0  ||  query.is_admiring"},{ranged_hold:"variable.attack_state == 1"}]},default:{transitions:[{ranged_hold:"query.variant == 0 && variable.attack_state == 1 && !query.is_admiring"},{ranged_charge:"query.variant == 0 && variable.attack_state == 2 && !query.is_admiring"},{hand_attack:"variable.has_target && query.variant == 1 && !query.is_item_equipped && variable.attack_time >= 0.0 && !query.is_admiring"},{melee_attack:"variable.has_target && query.variant == 1 && query.is_item_equipped && variable.attack_time >= 0.0 && !query.is_admiring"}]},ranged_hold:{animations:["crossbow_hold"],transitions:[{default:"variable.attack_state == 0  ||  query.is_admiring"},{ranged_charge:"variable.attack_state == 2"}]},melee_attack:{animations:["melee_attack"],transitions:[{default:"!query.is_item_equipped || !variable.has_target || variable.attack_time < 0.0 ||  query.is_admiring"}]},hand_attack:{animations:["hand_attack"],transitions:[{default:"query.is_item_equipped || !variable.has_target || variable.attack_time < 0.0 ||  query.is_admiring"}]}}},riding_controller:{initial_state:"default",states:{default:{transitions:[{riding:"query.is_riding"}]},riding:{animations:["riding.arms","riding.legs"],transitions:[{default:"!query.is_riding"}]}}}}},pillager:{identifier:"minecraft:pillager",materials:{default:"pillager"},textures:{default:"textures/entity/illager/pillager"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:2.5,visible_bounds_offset:[0,1.25,0],texturewidth:64,textureheight:64,bones:[{name:"head",pivot:[0,24,0],locators:{lead:[0,0,0]},cubes:[{origin:[-4,24,-4],size:[8,10,8],uv:[0,0]}],parent:"body"},{name:"nose",pivot:[0,26,0],cubes:[{origin:[-1,23,-6],size:[2,4,2],uv:[24,0]}],parent:"head"},{name:"body",parent:"waist",pivot:[0,0,0],cubes:[{origin:[-4,12,-3],size:[8,12,6],uv:[16,20]},{origin:[-4,6,-3],size:[8,18,6],uv:[0,38],inflate:.5}]},{name:"waist",neverRender:!0,pivot:[0,12,0]},{name:"leftLeg",parent:"body",pivot:[2,12,0],cubes:[{origin:[0,0,-2],size:[4,12,4],uv:[0,22]}]},{name:"rightLeg",parent:"body",pivot:[-2,12,0],mirror:!0,cubes:[{origin:[-4,0,-2],size:[4,12,4],uv:[0,22]}]},{name:"rightarm",parent:"body",pivot:[-5,22,0],cubes:[{origin:[-8,12,-2],size:[4,12,4],uv:[40,46]}]},{name:"rightItem",pivot:[-6,15,1],neverRender:!0,parent:"rightArm"},{name:"leftarm",parent:"body",pivot:[5,22,0],mirror:!0,cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[40,46]}]}]}},spawn_egg:{texture:"spawn_egg",texture_index:56},scripts:{pre_animation:["variable.tcos0 = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;"],animate:["pillager_root_controller"]},animations:{humanoid_base_pose:{loop:!0,bones:{waist:{rotation:[0,0,0]}}},look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},move:{loop:!0,bones:{leftarm:{rotation:["variable.tcos0",0,0]},leftleg:{rotation:["variable.tcos0 * -1.4",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]},rightarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leftleg:{rotation:["-72.0 - this","-18.0 - this","-this"]},rightleg:{rotation:["-72.0 - this","18.0 - this","-this"]}}},holding:{loop:!0,bones:{leftarm:{rotation:["variable.is_holding_left ? (-this * 0.5 - 18.0) : 0.0",0,0]},rightarm:{rotation:["variable.is_holding_right ? (-this * 0.5 - 18.0) : 0.0",0,0]}}},"attack.rotations":{loop:!0,bones:{body:{rotation:[0,"math.sin(math.sqrt(variable.attack_time) * 360) * 11.46 - this",0]},leftarm:{rotation:["math.sin(math.sqrt(variable.attack_time) * 360) * 11.46",0,0]},rightarm:{rotation:["math.sin(1.0 - math.pow(1.0 - variable.attack_time, 3.0) * 180.0) * (variable.is_brandishing_spear ? -1.0 : 1.0 )","variable.is_brandishing_spear ? 0.0 : (math.sin(math.sqrt(variable.attack_time) * 360) * 11.46) * 2.0",0]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"((math.cos(query.life_time * 103.2) * 2.865) + 2.865) *-1.0"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},crossbow_hold:{loop:!0,bones:{leftarm:{rotation:["-85.94 + query.target_x_rotation -this","34.38 + math.clamp(query.target_y_rotation, -45, 25) -this",0]},rightarm:{rotation:["-90.0 + 5.73 + query.target_x_rotation -this","-17.19 + math.clamp(query.target_y_rotation, -25, 45) -this",0]}}},crossbow_charge:{loop:!0,bones:{leftarm:{rotation:["math.lerp(-90.0 + 34.38, -90.0, variable.crossbow_charge)  -this","math.lerp(22.92, 48.70, variable.crossbow_charge) -this",0]},rightarm:{rotation:["-90.0 + 34.38 -this","-45.84 -this",0]}}},celebrating:{loop:!0,bones:{leftarm:{rotation:["(math.cos(query.life_time * 800.0) * 2.865)",180,-135]},rightarm:{rotation:["(math.cos(query.life_time * 800.0) * 2.865)",180,153]}}}},render_controllers:["controller.render.pillager"],enable_attachables:!0,animation_controllers:{controller_humanoid_base_pose:{initial_state:"default",states:{default:{animations:["humanoid_base_pose"]}}},controller_look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},controller_move:{initial_state:"default",states:{default:{animations:["move"]}}},controller_riding:{initial_state:"default",states:{default:{transitions:[{riding:"query.is_riding"}]},riding:{animations:["riding.arms","riding.legs"],transitions:[{default:"!query.is_riding"}]}}},controller_attack:{initial_state:"default",states:{attacking:{animations:["attack.rotations"],transitions:[{default:"variable.attack_time < 0.0"}]},default:{transitions:[{attacking:"variable.attack_time >= 0.0"}]}}},controller_bob:{initial_state:"default",states:{default:{animations:["bob"]}}},controller_pillager_attack:{initial_state:"default",states:{charge:{animations:["crossbow_charge"],transitions:[{default:"variable.attack_state == 0"},{hold:"variable.attack_state == 1"}]},default:{transitions:[{hold:"variable.attack_state == 1"},{charge:"variable.attack_state == 2"}]},hold:{animations:["crossbow_hold"],transitions:[{default:"variable.attack_state == 0"},{charge:"variable.attack_state == 2"}]}}},pillager_root_controller:{initial_state:"default",states:{default:{blend_transition:.2,blend_via_shortest_path:!0,animations:["controller_humanoid_base_pose","controller_look_at_target","controller_move","controller_riding","controller_attack","controller_bob","controller_pillager_attack"],transitions:[{celebrating:"query.is_celebrating"}]},celebrating:{animations:["celebrating",{"riding.legs":"query.is_riding"}],blend_transition:.2,blend_via_shortest_path:!0,transitions:[{default:"!query.is_celebrating"}]}}}}},player:{identifier:"minecraft:player",materials:{default:"entity_alphatest",cape:"entity_alphatest",animated:"player_animated"},textures:{default:"textures/entity/steve",cape:"textures/entity/cape_invisible"},geometry:{default:{visible_bounds_width:1,visible_bounds_height:2,visible_bounds_offset:[0,1,0],bones:[{name:"root",pivot:[0,0,0]},{name:"body",parent:"waist",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,16]}]},{name:"waist",parent:"root",pivot:[0,12,0]},{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[0,0]}]},{name:"cape",pivot:[0,24,3],parent:"body"},{name:"hat",parent:"head",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[32,0],inflate:.5}]},{name:"leftArm",parent:"body",pivot:[5,22,0],cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[32,48]}]},{name:"leftSleeve",parent:"leftArm",pivot:[5,22,0],cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[48,48],inflate:.25}]},{name:"leftItem",pivot:[6,15,1],parent:"leftArm"},{name:"rightArm",parent:"body",pivot:[-5,22,0],cubes:[{origin:[-8,12,-2],size:[4,12,4],uv:[40,16]}]},{name:"rightSleeve",parent:"rightArm",pivot:[-5,22,0],cubes:[{origin:[-8,12,-2],size:[4,12,4],uv:[40,32],inflate:.25}]},{name:"rightItem",pivot:[-6,15,1],locators:{lead_hold:[-6,15,1]},parent:"rightArm"},{name:"leftLeg",parent:"root",pivot:[1.9,12,0],cubes:[{origin:[-.1,0,-2],size:[4,12,4],uv:[16,48]}]},{name:"leftPants",parent:"leftLeg",pivot:[1.9,12,0],cubes:[{origin:[-.1,0,-2],size:[4,12,4],uv:[0,48],inflate:.25}]},{name:"rightLeg",parent:"root",pivot:[-1.9,12,0],cubes:[{origin:[-3.9,0,-2],size:[4,12,4],uv:[0,16]}]},{name:"rightPants",parent:"rightLeg",pivot:[-1.9,12,0],cubes:[{origin:[-3.9,0,-2],size:[4,12,4],uv:[0,32],inflate:.25}]},{name:"jacket",parent:"body",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,32],inflate:.25}]}]},cape:{texturewidth:64,textureheight:32,bones:[{name:"root",pivot:[0,0,0]},{name:"body",pivot:[0,24,0],parent:"waist"},{name:"waist",parent:"root",neverRender:!0,pivot:[0,12,0]},{name:"cape",parent:"body",pivot:[0,24,3],bind_pose_rotation:[0,180,0],rotation:[0,180,0],cubes:[{origin:[-5,8,3],size:[10,16,1],uv:[0,0]}]}]}},scripts:{scale:"0.9375",initialize:["variable.is_holding_right = 0.0;","variable.is_blinking = 0.0;","variable.last_blink_time = 0.0;","variable.hand_bob = 0.0;"],pre_animation:["variable.helmet_layer_visible = 1.0;","variable.leg_layer_visible = 1.0;","variable.boot_layer_visible = 1.0;","variable.chest_layer_visible = 1.0;","variable.attack_body_rot_y = Math.sin(360*Math.sqrt(variable.attack_time)) * 5.0;","variable.tcos0 = (math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;","variable.first_person_rotation_factor = math.sin((1 - variable.attack_time) * 180.0);","variable.hand_bob = query.life_time < 0.01 ? 0.0 : variable.hand_bob + ((query.is_on_ground && query.is_alive ? math.clamp(math.sqrt(math.pow(query.position_delta(0), 2.0) + math.pow(query.position_delta(2), 2.0)), 0.0, 0.1) : 0.0) - variable.hand_bob) * 0.02;","variable.map_angle = math.clamp(1 - variable.player_x_rotation / 45.1, 0.0, 1.0);","variable.item_use_normalized = query.main_hand_item_use_duration / query.main_hand_item_max_duration;"],animate:["root"]},animations:{humanoid_base_pose:{loop:!0,bones:{waist:{rotation:[0,0,0]}}},look_at_target_ui:{loop:!0,bones:{head:{rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},look_at_target_inverted:{loop:!0,bones:{head:{rotation:["-query.target_x_rotation","-query.target_y_rotation",0]}}},cape:{loop:!0,bones:{cape:{position:[0,"query.get_root_locator_offset('armor_offset.default_neck', 1)",0],rotation:["math.lerp(0.0, -126.0, query.cape_flap_amount) - 6.0",0,0]}}},"move.arms":{loop:!0,bones:{leftarm:{rotation:["variable.tcos0",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]}}},"move.legs":{loop:!0,bones:{leftleg:{rotation:["variable.tcos0 * -1.4",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},swimming:{animation_length:1.3,loop:!0,override_previous_animation:!0,bones:{leftarm:{rotation:{"0":[0,180,180],"0.7":[0,180,287.2],"1.1":[90,180,180],"1.3":[0,180,180]}},rightarm:{rotation:{"0":[0,180,-180],"0.7":[0,180,-287.2],"1.1":[90,180,-180],"1.3":[0,180,-180]}},root:{position:[0,"(math.sin(query.target_x_rotation) * 24.0 + 3.0) * variable.swim_amount","(math.cos(query.target_x_rotation) * 24.0 + 9.0) * variable.swim_amount"],rotation:["variable.swim_amount * (90 + query.target_x_rotation)",0,0]}}},"swimming.legs":{loop:!0,override_previous_animation:!0,bones:{leftleg:{rotation:["math.lerp(0.0, math.cos(query.life_time * 390.0 + 180.0) * 17.2, variable.swim_amount)",0,0]},rightleg:{rotation:["math.lerp(0.0, math.cos(query.life_time * 390.0) * 17.2, variable.swim_amount)",0,0]}}},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]},rightarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leftleg:{rotation:["-72.0 - this","-18.0 - this","-this"]},rightleg:{rotation:["-72.0 - this","18.0 - this","-this"]}}},holding:{loop:!0,bones:{leftarm:{rotation:["variable.is_holding_left ? (-this * 0.5 - 18.0) : 0.0",0,0]},rightarm:{rotation:["variable.is_holding_right ? (-this * 0.5 - 18.0) : 0.0",0,0]}}},brandish_spear:{loop:!0,bones:{rightarm:{rotation:["this * -0.5 - 157.5 - 22.5 * variable.charge_amount","-this",0]}}},charging:{loop:!0,bones:{rightarm:{rotation:["22.5 * variable.charge_amount - this","-this",0]}}},"attack.positions":{loop:!0,bones:{head:{rotation:[0,0,0]}}},"attack.rotations":{loop:!0,bones:{body:{rotation:[0,"variable.attack_body_rot_y",0]},leftarm:{rotation:["-(math.sin((1 - math.pow((1 - variable.attack_time), 4)) * 180) * 1.2 + math.sin(variable.attack_time * 180)) * 10.0",0,0]},rightarm:{rotation:["-(math.sin((1 - math.pow((1 - variable.attack_time), 4)) * 180) * 1.2 + math.sin(variable.attack_time * 180)) * 30.0","-(math.sin((1 - math.pow((1 - variable.attack_time), 4)) * 180) ? (-90.0 * math.sin((1 - math.pow((1 - variable.attack_time), 4)) * 180)) + 30.0 : 0.0)",0]}}},sneaking:{loop:!0,bones:{body:{position:[0,-2,0]},head:{position:[0,-1,0]},leftarm:{rotation:[-5.7,0,0]},leftleg:{rotation:[-28,0,0]},rightarm:{rotation:[-5.7,0,0]},rightleg:{rotation:[-28,0,0]},root:{position:[0,1.25,9],rotation:["28.0 - this",0,0]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"-((math.cos(query.life_time * 103.2) * 2.865) + 2.865)"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},damage_nearby_mobs:{loop:!0,bones:{leftarm:{rotation:["-45.0-this","-this","-this"]},leftleg:{rotation:["45.0-this","-this","-this"]},rightarm:{rotation:["45.0-this","-this","-this"]},rightleg:{rotation:["-45.0-this","-this","-this"]}}},fishing_rod:{loop:!0,bones:{rightarm:{rotation:[" -19.0 - this","-this","-this"]}}},use_item_progress:{loop:!0,bones:{rightarm:{rotation:["variable.use_item_startup_progress * -60.0 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -22.5 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -5.625 + variable.use_item_interval_progress * 11.25"]}}},skeleton_attack:{loop:!0,bones:{leftarm:{rotation:["-68.75 * math.sin(variable.attack_time * 180.0) + 22.92 * (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0))","5.73 - math.sin(variable.attack_time * 180.0) * 34.38 - this","-this"]},rightarm:{rotation:["-68.75 * math.sin(variable.attack_time * 180.0) + 22.92 * (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0))","-5.73 + math.sin(variable.attack_time * 180.0) * 34.38 - this","-this"]}}},sleeping:{loop:!0,override_previous_animation:!0,bones:{head:{rotation:["30.0 - this","-this","-this"]},root:{position:["24.0 * math.cos(query.body_y_rotation) * math.cos(query.sleep_rotation) - 24.0 * math.sin(query.body_y_rotation) * math.sin(query.sleep_rotation)",0,"24.0 * math.cos(query.body_y_rotation) * math.sin(query.sleep_rotation) + 24.0 * math.sin(query.body_y_rotation) * math.cos(query.sleep_rotation)"],rotation:[-90,"270.0 - query.sleep_rotation - query.body_y_rotation",0]}}},first_person_base_pose:{loop:!0,bones:{body:{rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},first_person_empty_hand:{loop:!0,bones:{rightarm:{position:[13.5,-10,12],rotation:["95.0 + variable.is_using_vr * 7.5","-45.0 + variable.is_using_vr * 7.5","115.0 + variable.is_using_vr * -2.5"]}}},first_person_swap_item:{loop:!0,bones:{leftarm:{position:[0,"query.get_equipped_item_name('off_hand') == 'map' ? 0.0 : -10.0 * (1.0 - variable.player_arm_height)",0]},rightarm:{position:[0,"-10.0 * (1.0 - variable.player_arm_height)",0]}}},first_person_attack_rotation:{loop:!0,bones:{rightarm:{position:["math.clamp(-15.5 * math.sin(variable.first_person_rotation_factor * variable.attack_time * 112.0), -7.0, 999.0) * math.sin(variable.first_person_rotation_factor * variable.attack_time * 112.0)","math.sin(variable.first_person_rotation_factor * (1.0 - variable.attack_time) * (1.0 - variable.attack_time) * 200.0) * 7.5 - variable.first_person_rotation_factor * variable.attack_time * 15.0 + variable.short_arm_offset_right","math.sin(variable.first_person_rotation_factor * variable.attack_time * 120.0) * 1.75"],rotation:["math.sin(variable.first_person_rotation_factor * (1.0 - variable.attack_time) * (1.0 - variable.attack_time) * 280.0) * -60.0","math.sin(variable.first_person_rotation_factor * (1.0 - variable.attack_time) * (1.0 - variable.attack_time) * 280.0) * 40.0","math.sin(variable.first_person_rotation_factor * (1.0 - variable.attack_time) * (1.0 - variable.attack_time) * 280.0) * 20.0"]}}},first_person_vr_attack_rotation:{loop:!0,bones:{rightarm:{position:["5.0 * math.sin(variable.first_person_rotation_factor * variable.attack_time * 112.0)","(math.sin(variable.first_person_rotation_factor * (1.0 - variable.attack_time) * (1.0 - variable.attack_time) * 200.0) - 0.8) * 8.75 + 5.0","math.sin(variable.first_person_rotation_factor * variable.attack_time * 120.0) * 15.0"],rotation:["30.7 * math.sin(variable.first_person_rotation_factor * variable.attack_time * -180.0 - 45.0) * 1.5",0,"21.8 * math.sin(variable.first_person_rotation_factor * variable.attack_time * 200.0 + 30.0) * 1.25"]}}},first_person_map_hold:{loop:!0,bones:{leftarm:{position:["-16.250 + variable.is_vertical_splitscreen * 7.0","-10.75 - variable.map_angle * 8.0 + variable.is_vertical_splitscreen * 0.6 - variable.short_arm_offset_left","9.0 - variable.map_angle * 8.0 + variable.short_arm_offset_left"],rotation:[40,-20,-155],scale:[1.15,1.15,1.15]},rightarm:{position:["12.50 + variable.is_vertical_splitscreen * 1.75","-7.5 - variable.map_angle * 8.0 + variable.is_vertical_splitscreen * 0.5 - variable.short_arm_offset_right","5.25 - variable.map_angle * 8.0 + variable.short_arm_offset_right"],rotation:[77.5,7.5,160]}}},first_person_map_hold_attack:{loop:!0,bones:{leftarm:{position:["math.sin(variable.first_person_rotation_factor * variable.attack_time * 112.0) * -10.75","math.sin(variable.first_person_rotation_factor * (1.0 - variable.attack_time) * (1.0 - variable.attack_time) * 200.0) * 3.75 - variable.first_person_rotation_factor * variable.attack_time * 1.25 + variable.short_arm_offset_left","math.sin(variable.first_person_rotation_factor * variable.attack_time * 120.0) * 5.75"],rotation:["variable.map_angle * 90.0","-15.0 * math.sin(variable.first_person_rotation_factor * (1.0 - variable.attack_time) * -100.0)",0]},rightarm:{position:["math.sin(variable.first_person_rotation_factor * variable.attack_time * 112.0) * -6.25","math.sin(variable.first_person_rotation_factor * (1.0 - variable.attack_time) * (1.0 - variable.attack_time) * 200.0) * 1.75 + variable.short_arm_offset_right","math.sin(variable.first_person_rotation_factor * variable.attack_time * 120.0) * 5.25"],rotation:["variable.map_angle * 90.0",0,0]}}},first_person_map_hold_off_hand:{loop:!0,bones:{leftarm:{position:["-14.50 + variable.is_horizontal_splitscreen * 2.0 + variable.is_vertical_splitscreen * 8.7","-8.250 + variable.short_arm_offset_left","11.50 + variable.is_horizontal_splitscreen * 0.5"],rotation:[195,182.5,2.5],scale:[.75,.75,.75]}}},first_person_map_hold_main_hand:{loop:!0,bones:{rightarm:{position:["14.50 - variable.is_vertical_splitscreen * 0.75","-8.25 + variable.short_arm_offset_right + math.sin(variable.first_person_rotation_factor * (1.0 - variable.attack_time) * (1.0 - variable.attack_time) * 200.0) * 2.75 - variable.first_person_rotation_factor * variable.attack_time * 3.0 - variable.is_horizontal_splitscreen","11.5 + math.sin(variable.first_person_rotation_factor * variable.attack_time * 120.0) * 3.5 + variable.is_horizontal_splitscreen * 3.5"],rotation:[195,182.5,-5],scale:[.75,.75,.75]}}},first_person_crossbow_equipped:{loop:!0,override_previous_animation:!0,bones:{leftarm:{position:["1.5 - variable.item_use_normalized * 3.5","-3.799999952316284 + variable.short_arm_offset_left","8.25 - (1 - variable.item_use_normalized)"],rotation:[165,-60,45],scale:[.4,.4,.4]}}},third_person_crossbow_equipped:{loop:!0,bones:{leftarm:{position:[0,0,.5],rotation:["-this - 65.0 - (1.0 - variable.item_use_normalized) * 5.0","-this + (1.0 - variable.item_use_normalized) * 30.0","-this + 20.0 + (1.0 - variable.item_use_normalized) * 10.0"]},rightarm:{rotation:["- 60.0 - this","- 45.0 - this","- 2.5 - this"]}}},third_person_bow_equipped:{loop:!0,bones:{leftarm:{rotation:["-90.0 + query.target_x_rotation - query.is_sneaking * 15.0 - this","27.5 + query.target_y_rotation",0]},rightarm:{rotation:["-90.0 + query.target_x_rotation - query.is_sneaking * 15.0 - this","-5.0 + query.target_y_rotation",0]},rightitem:{rotation:[0,-10,0]}}},crossbow_hold:{loop:!0,bones:{leftarm:{rotation:["query.is_swimming ? 0.0 : -93.0 + query.target_x_rotation - query.is_sneaking * 27.0 -this","query.is_swimming ? 0.0 : 42.0 + math.clamp(query.target_y_rotation, -45.0, 5.0) -this","query.is_sneaking * -15.0"]},rightarm:{rotation:["query.is_swimming ? 0.0 : -93.0 + query.target_x_rotation - query.is_sneaking * 27.0 -this","query.is_swimming ? 0.0 : math.clamp(query.target_y_rotation, -60.0, 45.0) -this",0]}}},shield_block_main_hand:{loop:!0,bones:{rightarm:{rotation:[-20,-30,-25]},rightitem:{position:[-1,-3,0],rotation:[0,-60,-45]}}},shield_block_off_hand:{loop:!0,bones:{leftarm:{rotation:[-20,20,20]},leftitem:{position:["1.0 + query.item_is_charged * 1.5","-3.0 + query.item_is_charged",0],rotation:["query.item_is_charged * 30.0","70.0 - query.item_is_charged * 60.0","65.0 - query.item_is_charged * 15.0"]}}}},render_controllers:[{"controller.render.player.first_person":"variable.is_first_person"},{"controller.render.player.third_person":"!variable.is_first_person && !variable.map_face_icon"},{"controller.render.player.map":"variable.map_face_icon"}],enable_attachables:!0,animation_controllers:{root:{initial_state:"first_person",states:{first_person:{animations:["first_person_swap_item",{first_person_attack_controller:"variable.attack_time > 0.0f && query.get_equipped_item_name != 'map'"},"first_person_base_pose",{first_person_empty_hand:"query.get_equipped_item_name(0, 1) != 'map'"},{first_person_map_controller:"(query.get_equipped_item_name(0, 1) == 'map' || query.get_equipped_item_name('off_hand') == 'map')"},{first_person_crossbow_equipped:"query.get_equipped_item_name == 'crossbow' && (variable.item_use_normalized > 0 && variable.item_use_normalized < 1.0)"}],transitions:[{paperdoll:"variable.is_paperdoll"},{map_player:"variable.map_face_icon"},{third_person:"!variable.is_first_person"}]},map_player:{transitions:[{paperdoll:"variable.is_paperdoll"},{first_person:"variable.is_first_person"},{third_person:"!variable.map_face_icon && !variable.is_first_person"}]},paperdoll:{animations:["humanoid_base_pose",{look_at_target_ui:"variable.should_look_at_target_ui"},"move.arms","move.legs","cape"],transitions:[{first_person:"!variable.is_paperdoll && variable.is_first_person"},{map_player:"variable.map_face_icon"},{third_person:"!variable.is_paperdoll && !variable.is_first_person"}]},third_person:{animations:["humanoid_base_pose",{look_at_target:"!query.is_sleeping && !query.is_emoting"},"move.arms","move.legs","cape",{"riding.arms":"query.is_riding"},{"riding.legs":"query.is_riding"},"holding",{brandish_spear:"variable.is_brandishing_spear"},{charging:"query.is_charging"},{sneaking:"query.is_sneaking && !query.is_sleeping"},"bob",{damage_nearby_mobs:"variable.damage_nearby_mobs"},{swimming:"variable.swim_amount > 0.0"},{"swimming.legs":"variable.swim_amount > 0.0"},{use_item_progress:"( variable.use_item_interval_progress > 0.0 ) || ( variable.use_item_startup_progress > 0.0 ) && !variable.is_brandishing_spear"},{fishing_rod:"query.get_equipped_item_name == 'fishing_rod'"},{sleeping:"query.is_sleeping && query.is_alive"},{"attack.positions":"variable.attack_time >= 0.0"},{"attack.rotations":"variable.attack_time >= 0.0"},{shield_block_main_hand:"query.blocking && query.get_equipped_item_name('off_hand') != 'shield' && query.get_equipped_item_name == 'shield'"},{shield_block_off_hand:"query.blocking && query.get_equipped_item_name('off_hand') == 'shield' && !(variable.item_use_normalized > 0 && variable.item_use_normalized < 1.0)"},{crossbow_controller:"query.get_equipped_item_name == 'crossbow'"},{third_person_bow_equipped:"query.get_equipped_item_name == 'bow' && (variable.item_use_normalized > 0 && variable.item_use_normalized < 1.0)"}],transitions:[{paperdoll:"variable.is_paperdoll"},{first_person:"variable.is_first_person"},{map_player:"variable.map_face_icon"}]}}},base_controller:"controller.animation.player.base",hudplayer:{initial_state:"default",states:{default:{animations:["humanoid_base_pose",{look_at_target:"!query.is_sleeping && !query.is_emoting"},"move.arms","move.legs","cape",{"riding.arms":"query.is_riding"},{"riding.legs":"query.is_riding"},"holding",{brandish_spear:"variable.is_brandishing_spear"},{charging:"query.is_charging"},{sneaking:"query.is_sneaking && !query.is_sleeping"},"bob",{damage_nearby_mobs:"variable.damage_nearby_mobs"},{swimming:"variable.swim_amount > 0.0"},{"swimming.legs":"variable.swim_amount > 0.0"},{use_item_progress:"( variable.use_item_interval_progress > 0.0 ) || ( variable.use_item_startup_progress > 0.0 ) && !variable.is_brandishing_spear"},{sleeping:"query.is_sleeping && query.is_alive"},{"attack.positions":"variable.attack_time >= 0.0"},{"attack.rotations":"variable.attack_time >= 0.0"},{shield_block_main_hand:"query.blocking && query.get_equipped_item_name('off_hand') != 'shield' && query.get_equipped_item_name == 'shield'"},{shield_block_off_hand:"query.blocking && query.get_equipped_item_name('off_hand') == 'shield' && !(variable.item_use_normalized > 0 && variable.item_use_normalized < 1.0)"},{crossbow_controller:"query.get_equipped_item_name == 'crossbow'"},{third_person_bow_equipped:"query.get_equipped_item_name == 'bow' && (variable.item_use_normalized > 0 && variable.item_use_normalized < 1.0)"}]}}},look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},first_person_attack_controller:{initial_state:"default",states:{default:{animations:["first_person_attack_rotation"],transitions:[{vr_attack:"variable.is_using_vr"}]},vr_attack:{animations:["first_person_vr_attack_rotation"],transitions:[{default:"!variable.is_using_vr"}]}}},first_person_map_controller:{initial_state:"default",states:{default:{transitions:[{one_hand:"query.get_equipped_item_name('off_hand') == 'map' || query.get_equipped_item_name('off_hand') == 'shield'"},{two_hand:"query.get_equipped_item_name('off_hand') != 'map' && query.get_equipped_item_name('off_hand') != 'shield'"}]},one_hand:{animations:[{first_person_map_hold_main_hand:"query.get_equipped_item_name(0, 1) == 'map'"},{first_person_map_hold_off_hand:"query.get_equipped_item_name('off_hand') == 'map' && (query.get_equipped_item_name == 'bow' ? !(variable.item_use_normalized > 0 && variable.item_use_normalized < 1.0) : 1.0)"}],transitions:[{default:"query.get_equipped_item_name(0, 1) != 'map' && query.get_equipped_item_name('off_hand') != 'map'"},{two_hand:"query.get_equipped_item_name('off_hand') != 'map' && query.get_equipped_item_name('off_hand') != 'shield'"}]},two_hand:{animations:["first_person_map_hold","first_person_map_hold_attack"],transitions:[{default:"query.get_equipped_item_name(0, 1) != 'map' && query.get_equipped_item_name('off_hand') != 'map'"},{one_hand:"query.get_equipped_item_name('off_hand') == 'map' || query.get_equipped_item_name('off_hand') == 'shield'"}]}}},crossbow_controller:{initial_state:"default",states:{charge:{animations:["third_person_crossbow_equipped"],transitions:[{default:"query.get_equipped_item_name != 'crossbow' || (query.item_remaining_use_duration <= 0.0 && !query.item_is_charged)"},{hold:"query.item_is_charged"}]},default:{transitions:[{hold:"query.item_is_charged"},{charge:"query.item_remaining_use_duration > 0.0"}]},hold:{animations:["crossbow_hold"],transitions:[{default:"query.get_equipped_item_name != 'crossbow' || (query.item_remaining_use_duration <= 0.0 && !query.item_is_charged)"},{charge:"query.item_remaining_use_duration > 0.0"}]}}},blink:{initial_state:"default",states:{default:{transitions:[{open:"variable.is_blinking = 0; variable.last_blink_time = query.life_time; return variable.last_blink_time != 0;"}]},open:{transitions:[{blink:"variable.is_blinking = 0; variable.return_from_blink = query.life_time + math.random(0, 0.2); return query.life_time > (variable.last_blink_time + math.random(3, 40));"}]},blink:{transitions:[{open:"variable.is_blinking = 1; variable.last_blink_time = query.life_time; return query.all_animations_finished && (query.life_time > variable.return_from_blink);"}]}}}}},polar_bear:{identifier:"minecraft:polar_bear",materials:{default:"polar_bear"},textures:{default:"textures/entity/bear/polarbear"},geometry:{default:{visible_bounds_width:3,visible_bounds_height:2,visible_bounds_offset:[0,.5,0],texturewidth:128,textureheight:64,bones:[{name:"head",parent:"body",pivot:[0,14,-16],locators:{lead:[0,14,-16]},mirror:!0,cubes:[{mirror:!1,origin:[-3.5,10,-19],size:[7,7,7],uv:[0,0]},{mirror:!1,origin:[-2.5,10,-22],size:[5,3,3],uv:[0,44]},{mirror:!1,origin:[-4.5,16,-17],size:[2,2,1],uv:[26,0]},{origin:[2.5,16,-17],size:[2,2,1],uv:[26,0]}]},{name:"body",pivot:[-2,15,12],bind_pose_rotation:[90,0,0],cubes:[{origin:[-7,14,5],size:[14,14,11],uv:[0,19]},{origin:[-6,28,5],size:[12,12,10],uv:[39,0]}]},{name:"leg0",parent:"body",pivot:[-4.5,10,6],cubes:[{origin:[-6.5,0,4],size:[4,10,8],uv:[50,22]}]},{name:"leg1",parent:"body",pivot:[4.5,10,6],cubes:[{origin:[2.5,0,4],size:[4,10,8],uv:[50,22]}]},{name:"leg2",parent:"body",pivot:[-3.5,10,-8],cubes:[{origin:[-5.5,0,-10],size:[4,10,6],uv:[50,40]}]},{name:"leg3",parent:"body",pivot:[3.5,10,-8],cubes:[{origin:[1.5,0,-10],size:[4,10,6],uv:[50,40]}]}]}},animations:{walk:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]},leg1:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg2:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg3:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]}}},move:{loop:!0,bones:{body:{position:[0,"-9 - 2 * query.standing_scale - this",0],rotation:["(-(query.standing_scale) * 63) - this",0,0]},leg0:{position:[0,"-1 * query.standing_scale","6 * query.standing_scale"],rotation:["query.standing_scale * 63",0,0]},leg1:{position:[0,"-1 * query.standing_scale","6 * query.standing_scale"],rotation:["query.standing_scale * 63",0,0]},leg2:{rotation:["(query.standing_scale > 1) ? (query.standing_scale * 81) - this : 0",0,0]},leg3:{rotation:["(query.standing_scale > 1) ? (query.standing_scale * 81) - this : 0",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},baby_transform:{loop:!0,bones:{head:{position:[0,-1,3],scale:1.25}}}},scripts:{scale:"1.2"},animation_controllers:{move:{initial_state:"default",states:{default:{animations:[{walk:"query.modified_move_speed"},"move","look_at_target"]}}},baby:{initial_state:"baby",states:{baby:{animations:[{baby_transform:"query.is_baby"}]}}}},render_controllers:["controller.render.polarbear"],spawn_egg:{texture:"spawn_egg",texture_index:37}},pufferfish:{identifier:"minecraft:pufferfish",min_engine_version:"1.8.0",materials:{default:"pufferfish"},textures:{default:"textures/entity/fish/pufferfish"},geometry:{default:{visible_bounds_width:.5,visible_bounds_height:.5,texturewidth:32,textureheight:32,bones:[{name:"body",cubes:[{origin:[-1.5,0,-1.5],size:[3,2,3],uv:[0,27]},{origin:[.5,2,-1.5],size:[1,1,1],uv:[24,6]},{origin:[-1.5,2,-1.5],size:[1,1,1],uv:[28,6]}],locators:{lead:[0,0,0]}},{name:"tailfin",parent:"body",cubes:[{origin:[-1.5,1,1.5],size:[3,0,3],uv:[-3,0]}]},{name:"leftFin",parent:"body",pivot:[6.5,5,.5],cubes:[{origin:[1.5,0,-1.5],size:[1,1,2],uv:[25,0],mirror:!0}]},{name:"rightFin",parent:"body",pivot:[-6.5,5,.5],cubes:[{origin:[-2.5,0,-1.5],size:[1,1,2],uv:[25,0]}]}]},mid:{visible_bounds_width:.5,visible_bounds_height:.5,texturewidth:32,textureheight:32,bones:[{name:"body",cubes:[{origin:[-2.5,1,-2.5],size:[5,5,5],uv:[12,22]}]},{name:"leftFin",parent:"body",pivot:[2.5,5,.5],cubes:[{origin:[2.5,4,-1.5],size:[2,1,2],uv:[24,3]}]},{name:"rightFin",parent:"body",pivot:[-2.5,5,.5],cubes:[{origin:[-4.5,4,-1.5],size:[2,1,2],uv:[24,0]}]},{name:"spines_top_front",parent:"body",bind_pose_rotation:[45,0,0],pivot:[0,6,-2.5],cubes:[{origin:[-2.5,6,-2.5],size:[5,1,0],uv:[19,17]}]},{name:"spines_top_back",parent:"body",bind_pose_rotation:[-45,0,0],pivot:[0,6,2.5],cubes:[{origin:[-2.5,6,2.5],size:[5,1,0],uv:[11,17]}]},{name:"spines_bottom_front",parent:"body",bind_pose_rotation:[-45,0,0],pivot:[0,1,-2.5],cubes:[{origin:[-2.5,0,-2.5],size:[5,1,0],uv:[18,20]}]},{name:"spines_bottom_back",parent:"body",bind_pose_rotation:[45,0,0],pivot:[0,1,2.5],rotation:[45,0,0],cubes:[{origin:[-2.5,0,2.5],size:[5,1,0],uv:[18,20]}]},{name:"spines_left_front",parent:"body",bind_pose_rotation:[0,45,0],pivot:[2.5,0,-2.5],rotation:[0,45,0],cubes:[{origin:[2.5,1,-2.5],size:[1,5,0],uv:[1,17]}]},{name:"spines_left_back",parent:"body",bind_pose_rotation:[0,-45,0],pivot:[2.5,0,2.5],rotation:[0,-45,0],cubes:[{origin:[2.5,1,2.5],size:[1,5,0],uv:[1,17]}]},{name:"spines_right_front",parent:"body",bind_pose_rotation:[0,-45,0],pivot:[-2.5,0,-2.5],rotation:[0,-45,0],cubes:[{origin:[-3.5,1,-2.5],size:[1,5,0],uv:[5,17]}]},{name:"spines_right_back",parent:"body",bind_pose_rotation:[0,45,0],pivot:[-2.5,0,2.5],rotation:[0,45,0],cubes:[{origin:[-3.5,1,2.5],size:[1,5,0],uv:[9,17]}]}]},large:{visible_bounds_width:.5,visible_bounds_height:.5,texturewidth:32,textureheight:32,bones:[{name:"body",cubes:[{origin:[-4,0,-4],size:[8,8,8],uv:[0,0]}]},{name:"leftFin",parent:"body",pivot:[4,7,1],cubes:[{origin:[4,6,-2.9904],size:[2,1,2],uv:[24,3]}]},{name:"rightFin",parent:"body",pivot:[-4,7,1],cubes:[{origin:[-5.9968,6,-2.992],size:[2,1,2],uv:[24,0]}]},{name:"spines_top_front",parent:"body",pivot:[-4,8,-4],bind_pose_rotation:[45,0,0],cubes:[{origin:[-4,8,-4],size:[8,1,1],uv:[14,16]}]},{name:"spines_top_mid",parent:"body",pivot:[0,8,0],cubes:[{origin:[-4,8,0],size:[8,1,1],uv:[14,16]}]},{name:"spines_top_back",parent:"body",pivot:[0,8,4],bind_pose_rotation:[-45,0,0],cubes:[{origin:[-4,8,4],size:[8,1,1],uv:[14,16]}]},{name:"spines_bottom_front",parent:"body",pivot:[0,0,-4],bind_pose_rotation:[-45,0,0],cubes:[{origin:[-4,-1,-4],size:[8,1,1],uv:[14,19]}]},{name:"spines_bottom_mid",parent:"body",pivot:[0,-1,0],cubes:[{origin:[-4,-1,0],size:[8,1,1],uv:[14,19]}]},{name:"spines_bottom_back",parent:"body",pivot:[0,0,4],bind_pose_rotation:[45,0,0],cubes:[{origin:[-4,-1,4],size:[8,1,1],uv:[14,19]}]},{name:"spines_left_front",parent:"body",pivot:[4,0,-4],bind_pose_rotation:[0,45,0],cubes:[{origin:[4,0,-4],size:[1,8,1],uv:[0,16]}]},{name:"spines_left_mid",parent:"body",pivot:[4,0,0],cubes:[{origin:[4,0,0],size:[1,8,1],uv:[4,16],mirror:!0}]},{name:"spines_left_back",parent:"body",pivot:[4,0,4],bind_pose_rotation:[0,-45,0],cubes:[{origin:[4,0,4],size:[1,8,1],uv:[8,16],mirror:!0}]},{name:"spines_right_front",parent:"body",pivot:[-4,0,-4],bind_pose_rotation:[0,-45,0],cubes:[{origin:[-5,0,-4],size:[1,8,1],uv:[4,16]}]},{name:"spines_right_mid",parent:"body",pivot:[-4,0,0],cubes:[{origin:[-5,0,0],size:[1,8,1],uv:[8,16]}]},{name:"spines_right_back",parent:"body",pivot:[-4,0,4],bind_pose_rotation:[0,45,0],cubes:[{origin:[-5,0,4],size:[1,8,1],uv:[8,16]}]}]}},scripts:{pre_animation:["variable.ZRot = !query.is_in_water ? Math.cos(query.time_stamp * 14.32) * 90 : 0.0;","variable.AnimationAmountBlend = Math.lerp(variable.AnimationAmountPrev, variable.AnimationAmount, query.frame_alpha);"],animate:["general"]},animations:{flop:{loop:!0,bones:{body:{rotation:[0,0,"variable.zrot"]},tailfin:{rotation:[0,"math.cos(variable.animationamountblend * 45.0) * -5.75",0]}}},swim:{loop:!0,bones:{tailfin:{rotation:[0,"math.cos(variable.animationamountblend * 30.0) * -5.75",0]}}}},render_controllers:[{"controller.render.pufferfish.small":"query.variant == 0"},{"controller.render.pufferfish.medium":"query.variant == 1"},{"controller.render.pufferfish.large":"query.variant == 2"}],spawn_egg:{texture:"spawn_egg",texture_index:46},animation_controllers:{general:{initial_state:"flopping",states:{flopping:{animations:["flop"],transitions:[{swimming:"query.is_in_water || query.is_levitating"}]},swimming:{animations:["swim"],transitions:[{flopping:"!query.is_in_water && !query.is_levitating"}]}}}}},rabbit:{identifier:"minecraft:rabbit",min_engine_version:"1.8.0",materials:{default:"rabbit"},textures:{brown:"textures/entity/rabbit/brown",white:"textures/entity/rabbit/white",black:"textures/entity/rabbit/black",white_splotched:"textures/entity/rabbit/white_splotched",gold:"textures/entity/rabbit/gold",salt:"textures/entity/rabbit/salt",toast:"textures/entity/rabbit/toast"},geometry:{default:{visible_bounds_width:1,visible_bounds_height:1,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:32,bones:[{name:"rearFootLeft",pivot:[3,6.5,3.7],mirror:!0,parent:"body",cubes:[{origin:[2,0,0],size:[2,1,7],uv:[8,24]}]},{name:"rearFootRight",pivot:[-3,6.5,3.7],mirror:!0,parent:"body",cubes:[{origin:[-4,0,0],size:[2,1,7],uv:[26,24]}]},{name:"haunchLeft",pivot:[3,6.5,3.7],bind_pose_rotation:[-20,0,0],mirror:!0,parent:"body",cubes:[{origin:[2,2.5,3.7],size:[2,4,5],uv:[16,15]}]},{name:"haunchRight",pivot:[-3,6.5,3.7],bind_pose_rotation:[-20,0,0],mirror:!0,parent:"body",cubes:[{origin:[-4,2.5,3.7],size:[2,4,5],uv:[30,15]}]},{name:"body",pivot:[0,5,8],bind_pose_rotation:[-20,0,0],mirror:!0,cubes:[{origin:[-3,2,-2],size:[6,5,10],uv:[0,0]}]},{name:"frontLegLeft",pivot:[3,7,-1],bind_pose_rotation:[-10,0,0],mirror:!0,parent:"body",cubes:[{origin:[2,0,-2],size:[2,7,2],uv:[8,15]}]},{name:"frontLegRight",pivot:[-3,7,-1],bind_pose_rotation:[-10,0,0],mirror:!0,parent:"body",cubes:[{origin:[-4,0,-2],size:[2,7,2],uv:[0,15]}]},{name:"head",pivot:[0,8,-1],locators:{lead:[0,8,-1]},mirror:!0,parent:"body",cubes:[{origin:[-2.5,8,-6],size:[5,4,5],uv:[32,0]}]},{name:"earRight",pivot:[0,8,-1],bind_pose_rotation:[0,-15,0],mirror:!0,parent:"body",cubes:[{origin:[-2.5,12,-2],size:[2,5,1],uv:[58,0]}]},{name:"earLeft",pivot:[0,8,-1],bind_pose_rotation:[0,15,0],mirror:!0,parent:"body",cubes:[{origin:[.5,12,-2],size:[2,5,1],uv:[52,0]}]},{name:"tail",pivot:[0,4,7],bind_pose_rotation:[-20,0,0],mirror:!0,parent:"body",cubes:[{origin:[-1.5,2.5,7],size:[3,3,2],uv:[52,6]}]},{name:"nose",pivot:[0,8,-1],mirror:!0,parent:"body",cubes:[{origin:[-.5,9.5,-6.5],size:[1,1,1],uv:[32,9]}]}]}},animations:{move:{loop:!0,bones:{earleft:{rotation:["query.target_x_rotation - this","query.target_y_rotation - this + 15.0",0]},earright:{rotation:["query.target_x_rotation - this","query.target_y_rotation - this - 15.0",0]},frontlegleft:{rotation:["variable.jump_rotation * -40.0 - 11.0 - this",0,0]},frontlegright:{rotation:["variable.jump_rotation * -40.0 - 11.0 - this",0,0]},haunchleft:{rotation:["variable.jump_rotation * 50.0 - 21.0 - this",0,0]},haunchright:{rotation:["variable.jump_rotation * 50.0 - 21.0 - this",0,0]},nose:{rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]},rearfootleft:{rotation:["variable.jump_rotation * 50.0 - this",0,0]},rearfootright:{rotation:["variable.jump_rotation * 50.0 - this",0,0]}}},baby_transform:{loop:!0,bones:{earleft:{position:[0,-1,1],scale:1.5},earright:{position:[0,-1,1],scale:1.5},head:{position:[0,-1,1],scale:1.5},nose:{position:[0,-1,1],scale:1.5}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}}},animation_controllers:{general:{initial_state:"default",states:{default:{animations:["move","look_at_target"]}}},baby:{initial_state:"baby",states:{baby:{animations:[{baby_transform:"query.is_baby"}]}}}},render_controllers:["controller.render.rabbit"],spawn_egg:{texture:"spawn_egg",texture_index:24}},ravager:{identifier:"minecraft:ravager",textures:{default:"textures/entity/illager/ravager"},materials:{default:"ravager"},geometry:{default:{bones:[{pivot:[0,19,2],rotation:[90,0,0],cubes:[{origin:[-7,10,-2],size:[14,16,20],uv:[0,55]},{origin:[-6,-3,-2],size:[12,13,18],uv:[0,91]}],name:"body"},{pivot:[0,15,-10],cubes:[{origin:[-8,13,-24],size:[16,3,16],uv:[0,36]}],name:"mouth",parent:"head"},{pivot:[0,20,-20],cubes:[{origin:[-5,21,-10],size:[10,10,18],uv:[68,73]}],name:"neck"},{locators:{stun:[0,32,-15]},pivot:[0,28,-10],cubes:[{origin:[-8,14,-24],size:[16,20,16],uv:[0,0]},{origin:[-2,12,-28],size:[4,8,4],uv:[0,0]}],name:"head",parent:"neck"},{pivot:[-12,30,22],cubes:[{origin:[-12,0,17],size:[8,37,8],uv:[96,0]}],name:"leg0"},{pivot:[4,30,22],cubes:[{origin:[4,0,17],size:[8,37,8],uv:[96,0]}],name:"leg1"},{pivot:[-4,26,-4],cubes:[{origin:[-12,0,-8],size:[8,37,8],uv:[64,0]}],name:"leg2"},{pivot:[-4,26,-4],cubes:[{origin:[4,0,-8],size:[8,37,8],uv:[64,0]}],name:"leg3"},{pivot:[-5,27,-19],rotation:[60,0,0],cubes:[{origin:[-10,27,-20],size:[2,14,4],uv:[74,55]},{origin:[8,27,-20],size:[2,14,4],uv:[74,55]}],name:"horns",parent:"head"}],texturewidth:128,textureheight:128,visible_bounds_width:4,visible_bounds_height:3.5,visible_bounds_offset:[0,1.25,0]}},render_controllers:["controller.render.ravager"],spawn_egg:{texture:"spawn_egg",texture_index:57},animations:{walk:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["math.cos(query.anim_time * 38.17) *  22.92",0,0]},leg1:{rotation:["math.cos(query.anim_time * 38.17) * -22.92",0,0]},leg2:{rotation:["math.cos(query.anim_time * 38.17) * -22.92",0,0]},leg3:{rotation:["math.cos(query.anim_time * 38.17) *  22.92",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},idle_mouth:{loop:!0,bones:{mouth:{rotation:[1.8,0,0]},neck:{position:[0,0,0]}}},stunned:{loop:!0,bones:{neck:{position:["math.sin(query.life_time * 180.0) * 2.8",-5,0],rotation:[15,0,0]}}},roaring:{loop:!0,bones:{mouth:{rotation:["math.sin(math.min(query.anim_time / variable.roar_length, 1.0) * 180) * 40.0",0,0]}}},biting:{loop:!0,bones:{mouth:{rotation:["math.sin(math.min(query.anim_time / (variable.bite_anim_duration / 2.0f), 1.0f) * 180.0f) * 40.0f",0,0]},neck:{position:[0,0,"-math.sin(math.min(query.anim_time / variable.bite_anim_duration, 1.0f) * 180.0f) * variable.bite_neck_length"]}}}},scripts:{pre_animation:["variable.roar_length = 1.0;","variable.bite_anim_duration = 0.75f;","variable.bite_neck_length = 10;"],animate:["move","head"]},particle_effects:{stun_particles:"minecraft:stunned_emitter"},animation_controllers:{move:{initial_state:"default",states:{default:{animations:[{walk:"query.modified_move_speed"},"look_at_target"],transitions:[{stunned:"query.is_stunned == 1"}]},stunned:{animations:["stunned"],particle_effects:[{effect:"stun_particles",locator:"stun"}],transitions:[{default:"query.is_stunned == 0"}]}}},head:{initial_state:"default",states:{biting:{animations:["biting"],transitions:[{default:"query.is_delayed_attacking == 0"}]},default:{animations:["idle_mouth"],transitions:[{roaring:"query.is_roaring == 1"},{biting:"query.is_delayed_attacking == 1"}]},roaring:{animations:["roaring"],transitions:[{default:"query.is_roaring == 0"}]}}}}},salmon:{identifier:"minecraft:salmon",materials:{default:"salmon"},textures:{default:"textures/entity/fish/salmon"},geometry:{default:{visible_bounds_width:.5,visible_bounds_height:.5,visible_bounds_offset:[0,.5,0],texturewidth:32,textureheight:32,bones:[{name:"body_front",pivot:[0,0,-4],cubes:[{origin:[-1.5,3.5,-4],size:[3,5,8],uv:[0,0]}]},{name:"body_back",parent:"body_front",pivot:[0,0,4],cubes:[{origin:[-1.5,3.5,4],size:[3,5,8],uv:[0,13]}]},{name:"dorsal_front",parent:"body_front",pivot:[0,5,2],cubes:[{origin:[0,8.5,2],size:[0,2,2],uv:[4,2]}]},{name:"dorsal_back",parent:"body_back",pivot:[0,5,4],cubes:[{origin:[0,8.5,4],size:[0,2,3],uv:[2,3]}]},{name:"tailfin",parent:"body_back",pivot:[0,0,12],cubes:[{origin:[0,3.5,12],size:[0,5,6],uv:[20,10]}]},{name:"head",parent:"body_front",pivot:[0,3,-4],locators:{lead:[0,3,-4]},cubes:[{origin:[-1,4.5,-7],size:[2,4,3],uv:[22,0]}]},{name:"leftFin",parent:"body_front",pivot:[1.5,1,-4],rotation:[0,0,35],cubes:[{origin:[-.50752,3.86703,-4],size:[2,0,2],uv:[2,0]}]},{name:"rightFin",parent:"body_front",pivot:[-1.5,1,-4],rotation:[0,0,-35],cubes:[{origin:[-1.49258,3.86703,-4],size:[2,0,2],uv:[-2,0]}]}]}},scripts:{pre_animation:["variable.ZRot = !query.is_in_water ? Math.cos((query.time_stamp + query.frame_alpha) * 14.32) * 90 : 0.0;","variable.AnimationAmountBlend = Math.lerp(variable.AnimationAmountPrev, variable.AnimationAmount, query.frame_alpha);"]},animations:{flop:{loop:!0,bones:{body_back:{rotation:[0,"math.cos(variable.animationamountblend * 45.0) * -21.75",0]},body_front:{rotation:[0,"math.cos(variable.animationamountblend * 45.0) * 4.0","variable.zrot"]},tailfin:{rotation:[0,"math.cos(variable.animationamountblend * 45.0) * -40.0",0]}}},swim:{loop:!0,bones:{body_back:{rotation:[0,"math.cos(variable.animationamountblend * 30.0) * -21.75",0]},body_front:{rotation:[0,"math.cos(variable.animationamountblend * 30.0) * 4.0",0]},tailfin:{rotation:[0,"math.cos(variable.animationamountblend * 30.0) * -40.0",0]}}}},animation_controllers:{general:{initial_state:"flopping",states:{flopping:{animations:["flop"],transitions:[{swimming:"query.is_in_water || query.is_levitating"}]},swimming:{animations:["swim"],transitions:[{flopping:"!query.is_in_water && !query.is_levitating"}]}}}},render_controllers:["controller.render.salmon"],spawn_egg:{texture:"spawn_egg",texture_index:47}},sheep:{identifier:"minecraft:sheep",min_engine_version:"1.8.0",materials:{default:"sheep"},textures:{default:"textures/entity/sheep/sheep_fur",sheared:"textures/entity/sheep/sheep"},geometry:{default:{visible_bounds_width:2,visible_bounds_height:1.75,visible_bounds_offset:[0,.5,0],bones:[{name:"head",pivot:[0,18,-8],cubes:[{origin:[-3,16,-12],size:[6,6,6],uv:[0,32],inflate:.6}]},{name:"body",pivot:[0,19,2],bind_pose_rotation:[90,0,0],cubes:[{origin:[-4,13,-5],size:[8,16,6],uv:[28,40],inflate:1.75}]},{name:"leg0",parent:"body",pivot:[-3,12,7],cubes:[{origin:[-5,6,5],size:[4,6,4],uv:[0,48],inflate:.5}]},{name:"leg1",parent:"body",pivot:[3,12,7],cubes:[{origin:[1,6,5],size:[4,6,4],uv:[0,48],inflate:.5}]},{name:"leg2",parent:"body",pivot:[-3,12,-5],cubes:[{origin:[-5,6,-7],size:[4,6,4],uv:[0,48],inflate:.5}]},{name:"leg3",parent:"body",pivot:[3,12,-5],cubes:[{origin:[1,6,-7],size:[4,6,4],uv:[0,48],inflate:.5}]}]},sheared:{visible_bounds_width:2,visible_bounds_height:1.75,visible_bounds_offset:[0,.5,0],bones:[{name:"body",pivot:[0,19,2],bind_pose_rotation:[90,0,0],cubes:[{origin:[-4,13,-5],size:[8,16,6],uv:[28,8]}]},{name:"head",pivot:[0,18,-8],locators:{lead:[0,18,-8]},cubes:[{origin:[-3,16,-14],size:[6,6,8],uv:[0,0]}]},{name:"leg0",parent:"body",pivot:[-3,12,7],cubes:[{origin:[-5,0,5],size:[4,12,4],uv:[0,16]}]},{name:"leg1",parent:"body",pivot:[3,12,7],cubes:[{origin:[1,0,5],size:[4,12,4],uv:[0,16]}]},{name:"leg2",parent:"body",pivot:[-3,12,-5],cubes:[{origin:[-5,0,-7],size:[4,12,4],uv:[0,16]}]},{name:"leg3",parent:"body",pivot:[3,12,-5],cubes:[{origin:[1,0,-7],size:[4,12,4],uv:[0,16]}]}]}},animations:{setup:{loop:!0,bones:{body:{rotation:["-this",0,0]},head:{position:[0,"-6.0 - this",0]}}},grazing:{animation_length:2,loop:!0,bones:{head:{position:{"0":[0,0,0],"2":[0,0,0],"0.2":[0,-9,0],"1.8":[0,-9,0]},rotation:{"0.2":{post:["180.0 * (0.2 + 0.07 * math.sin(query.key_frame_lerp_time * 1644.39))",0,0],pre:[36,0,0]},"1.8":{post:[36,0,0],pre:["180.0 * (0.2 + 0.07 * math.sin(query.key_frame_lerp_time * 1644.39))",0,0]}}}}},walk:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]},leg1:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg2:{rotation:["math.cos(query.anim_time * 38.17) * -80.0",0,0]},leg3:{rotation:["math.cos(query.anim_time * 38.17) *  80.0",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},baby_transform:{loop:!0,bones:{head:{position:[0,4,4],scale:2}}}},scripts:{animate:["setup","look_at_target","move",{baby_transform:"query.is_baby"}]},render_controllers:["controller.render.sheep"],spawn_egg:{texture:"spawn_egg",texture_index:3},animation_controllers:{move:{initial_state:"default",states:{default:{animations:[{walk:"query.modified_move_speed"}],transitions:[{grazing:"query.is_grazing"}]},grazing:{animations:["grazing"],transitions:[{default:"query.all_animations_finished"}]}}}}},shulker:{identifier:"minecraft:shulker",min_engine_version:"1.8.0",materials:{default:"shulker"},textures:{undyed:"textures/entity/shulker/shulker",white:"textures/entity/shulker/shulker_white",orange:"textures/entity/shulker/shulker_orange",magenta:"textures/entity/shulker/shulker_magenta",light_blue:"textures/entity/shulker/shulker_light_blue",yellow:"textures/entity/shulker/shulker_yellow",lime:"textures/entity/shulker/shulker_lime",pink:"textures/entity/shulker/shulker_pink",gray:"textures/entity/shulker/shulker_gray",silver:"textures/entity/shulker/shulker_light_gray",cyan:"textures/entity/shulker/shulker_cyan",purple:"textures/entity/shulker/shulker_purple",blue:"textures/entity/shulker/shulker_blue",brown:"textures/entity/shulker/shulker_brown",green:"textures/entity/shulker/shulker_green",red:"textures/entity/shulker/shulker_red",black:"textures/entity/shulker/shulker_black"},geometry:{default:{visible_bounds_width:3,visible_bounds_height:3,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:64,bones:[{name:"lid",parent:"base",pivot:[0,0,0],cubes:[{origin:[-8,4,-8],size:[16,12,16],uv:[0,0]}]},{name:"base",pivot:[0,0,0],cubes:[{origin:[-8,0,-8],size:[16,8,16],uv:[0,28]}]},{name:"head",parent:"base",pivot:[0,12,0],cubes:[{origin:[-3,6,-3],size:[6,6,6],uv:[0,52]}]}]}},spawn_egg:{texture:"spawn_egg",texture_index:34},scripts:{pre_animation:["variable.Shulker.LidPositionFactor = 180 * (0.5 + variable.Shulker.PeekAmount);","variable.Shulker.LidRotationFactor = -1 + Math.sin(180 * (0.5 + variable.Shulker.PeekAmount));","variable.Shulker.UpFacing = variable.Shulker.FacingDirection == 1;","variable.Shulker.NorthFacing = variable.Shulker.FacingDirection == 2;","variable.Shulker.SouthFacing = variable.Shulker.FacingDirection == 3;","variable.Shulker.WestFacing = variable.Shulker.FacingDirection == 4;","variable.Shulker.EastFacing = variable.Shulker.FacingDirection == 5;","variable.Shulker.XPreRotation = variable.Shulker.UpFacing * 180 + variable.Shulker.NorthFacing * 90 - variable.Shulker.SouthFacing * 90;","variable.Shulker.ZPreRotation = variable.Shulker.NorthFacing * 180 + variable.Shulker.WestFacing * 90 - variable.Shulker.EastFacing * 90;","variable.Shulker.XOffset = -variable.Shulker.WestFacing * 7.99 + variable.Shulker.EastFacing * 7.99;","variable.Shulker.YOffset = variable.Shulker.UpFacing * 16 + variable.Shulker.NorthFacing * 7.99 + variable.Shulker.SouthFacing * 7.99 + variable.Shulker.WestFacing * 7.99 + variable.Shulker.EastFacing * 7.99;","variable.Shulker.ZOffset = variable.Shulker.NorthFacing * 7.99 - variable.Shulker.SouthFacing * 7.99;"]},animations:{facing:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{base:{position:["variable.shulker.xoffset","variable.shulker.yoffset","variable.shulker.zoffset"],rotation:["variable.shulker.xprerotation",0,"variable.shulker.zprerotation"],scale:.98}}},move:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{head:{position:[0,"-variable.shulker.upfacing * 6 - (3 * (variable.shulker.northfacing + variable.shulker.southfacing + variable.shulker.westfacing + variable.shulker.eastfacing))",0]},lid:{position:[0,"7.2 - math.sin(variable.shulker.lidpositionfactor * 1.16) * 7.5 + (variable.shulker.lidpositionfactor > 180 ? math.sin(query.life_time * 114.6) * 0.7 + 1.5: 0.0)",0],rotation:[0,"variable.shulker.peekamount > 0.3 ? math.pow(variable.shulker.lidrotationfactor, 4) * 22.5 : 0.0",0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}}},animation_controllers:{facing:{initial_state:"default",states:{default:{animations:["facing"]}}},move:{initial_state:"default",states:{default:{animations:["move","look_at_target"]}}}},render_controllers:["controller.render.shulker"]},shulker_bullet:{identifier:"minecraft:shulker_bullet",materials:{default:"shulker_bullet"},textures:{default:"textures/entity/shulker/spark"},geometry:{default:{texturewidth:64,textureheight:32,bones:[{name:"body",pivot:[0,0,0],cubes:[{origin:[-4,-4,-1],size:[8,8,2],uv:[0,0]},{origin:[-1,-4,-4],size:[2,8,8],uv:[0,10]},{origin:[-4,-1,-4],size:[8,2,8],uv:[20,0]}]}]}},animations:{move:{loop:!0,bones:{body:{rotation:["math.cos(query.life_time * 120) * 180","math.sin(query.life_time * 120) * 180","math.sin(query.life_time * 170) * 360"]}}}},scripts:{animate:["move"]},render_controllers:["controller.render.shulker_bullet"]},silverfish:{identifier:"minecraft:silverfish",materials:{default:"silverfish",body_layer:"silverfish_layers"},textures:{default:"textures/entity/silverfish"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:1,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:32,bones:[{name:"bodyPart_0",parent:"bodyPart_2",pivot:[0,2,-3.5],cubes:[{origin:[-1.5,0,-4.5],size:[3,2,2],uv:[0,0]}]},{name:"bodyPart_1",parent:"bodyPart_2",pivot:[0,3,-1.5],cubes:[{origin:[-2,0,-2.5],size:[4,3,2],uv:[0,4]}]},{name:"bodyPart_2",pivot:[0,4,1],cubes:[{origin:[-3,0,-.5],size:[6,4,3],uv:[0,9]}]},{name:"bodyPart_3",parent:"bodyPart_2",pivot:[0,3,4],cubes:[{origin:[-1.5,0,2.5],size:[3,3,3],uv:[0,16]}]},{name:"bodyPart_4",parent:"bodyPart_2",pivot:[0,2,7],cubes:[{origin:[-1,0,5.5],size:[2,2,3],uv:[0,22]}]},{name:"bodyPart_5",parent:"bodyPart_2",pivot:[0,1,9.5],cubes:[{origin:[-1,0,8.5],size:[2,1,2],uv:[11,0]}]},{name:"bodyPart_6",parent:"bodyPart_2",pivot:[0,1,11.5],cubes:[{origin:[-.5,0,10.5],size:[1,1,2],uv:[13,4]}]},{name:"bodyLayer_0",parent:"bodyPart_2",pivot:[0,8,1],cubes:[{origin:[-5,0,-.5],size:[10,8,3],uv:[20,0]}]},{name:"bodyLayer_1",parent:"bodyPart_4",pivot:[0,4,7],cubes:[{origin:[-3,0,5.5],size:[6,4,3],uv:[20,11]}]},{name:"bodyLayer_2",parent:"bodyPart_1",pivot:[0,5,-1.5],cubes:[{origin:[-3,0,-3],size:[6,5,2],uv:[20,18]}]}]}},animations:{move:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{bodypart_0:{position:["math.sin(query.life_time * 1031.4) * 1.26",0,0],rotation:[0,"math.cos(query.life_time * 1031.4) * 27",0]},bodypart_1:{position:["math.sin(query.life_time * 1031.4 + 27) * 0.63",0,0],rotation:[0,"math.cos(query.life_time * 1031.4 + 27) * 18",0]},bodypart_2:{rotation:[0,"math.cos(query.life_time * 1031.4 + 54) * 9",0]},bodypart_3:{position:["math.sin(query.life_time * 1031.4 + 81) * 0.63",0,0],rotation:[0,"math.cos(query.life_time * 1031.4 + 81) * 18",0]},bodypart_4:{position:["math.sin(query.life_time * 1031.4 + 108) * 1.26",0,0],rotation:[0,"math.cos(query.life_time * 1031.4 + 108) * 27",0]},bodypart_5:{position:["math.sin(query.life_time * 1031.4 + 135) * 1.89",0,0],rotation:[0,"math.cos(query.life_time * 1031.4 + 135) * 36",0]},bodypart_6:{position:["math.sin(query.life_time * 1031.4 + 162) * 2.52",0,0],rotation:[0,"math.cos(query.life_time * 1031.4 + 162) * 45",0]}}}},animation_controllers:{move:{initial_state:"default",states:{default:{animations:["move"]}}}},render_controllers:["controller.render.silverfish"],spawn_egg:{texture:"spawn_egg",texture_index:8}},skeleton:{identifier:"minecraft:skeleton",min_engine_version:"1.8.0",materials:{default:"skeleton"},textures:{default:"textures/entity/skeleton/skeleton"},geometry:{default:{texturewidth:64,textureheight:32,visible_bounds_width:2,visible_bounds_height:2,visible_bounds_offset:[0,1,0],bones:[{name:"body",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,16]}],parent:"waist"},{name:"waist",pivot:[0,12,0]},{name:"head",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[0,0]}],parent:"body"},{name:"hat",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[32,0],inflate:.5}],neverRender:!0,parent:"head"},{name:"rightArm",pivot:[-5,22,0],cubes:[{origin:[-6,12,-1],size:[2,12,2],uv:[40,16]}],parent:"body"},{name:"rightItem",pivot:[-6,15,1],neverRender:!0,parent:"rightArm"},{name:"leftArm",pivot:[5,22,0],cubes:[{origin:[4,12,-1],size:[2,12,2],uv:[40,16]}],mirror:!0,parent:"body"},{name:"leftItem",pivot:[6,15,1],neverRender:!0,parent:"leftArm"},{name:"rightLeg",pivot:[-2,12,0],cubes:[{origin:[-3,0,-1],size:[2,12,2],uv:[0,16]}],parent:"body"},{name:"leftLeg",pivot:[2,12,0],cubes:[{origin:[1,0,-1],size:[2,12,2],uv:[0,16]}],mirror:!0,parent:"body"}]}},spawn_egg:{texture:"spawn_egg",texture_index:9},scripts:{pre_animation:["variable.tcos0 = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;"]},animations:{look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},move:{loop:!0,bones:{leftarm:{rotation:["variable.tcos0",0,0]},leftleg:{rotation:["variable.tcos0 * -1.4",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]},rightarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leftleg:{rotation:["-72.0 - this","-18.0 - this","-this"]},rightleg:{rotation:["-72.0 - this","18.0 - this","-this"]}}},holding:{loop:!0,bones:{leftarm:{rotation:["variable.is_holding_left ? (-this * 0.5 - 18.0) : 0.0",0,0]},rightarm:{rotation:["variable.is_holding_right ? (-this * 0.5 - 18.0) : 0.0",0,0]}}},brandish_spear:{loop:!0,bones:{rightarm:{rotation:["this * -0.5 - 157.5 - 22.5 * variable.charge_amount","-this",0]}}},charging:{loop:!0,bones:{rightarm:{rotation:["22.5 * variable.charge_amount - this","-this",0]}}},"attack.rotations":{loop:!0,bones:{body:{rotation:[0,"math.sin(math.sqrt(variable.attack_time) * 360) * 11.46 - this",0]},leftarm:{rotation:["math.sin(math.sqrt(variable.attack_time) * 360) * 11.46",0,0]},rightarm:{rotation:["math.sin(1.0 - math.pow(1.0 - variable.attack_time, 3.0) * 180.0) * (variable.is_brandishing_spear ? -1.0 : 1.0 )","variable.is_brandishing_spear ? 0.0 : (math.sin(math.sqrt(variable.attack_time) * 360) * 11.46) * 2.0",0]}}},sneaking:{loop:!0,bones:{body:{rotation:["0.5 - this",0,0]},head:{position:[0,1,0]},leftarm:{rotation:[72,0,0]},leftleg:{position:[0,-3,4]},rightarm:{rotation:[72,0,0]},rightleg:{position:[0,-3,4]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"((math.cos(query.life_time * 103.2) * 2.865) + 2.865) *-1.0"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},damage_nearby_mobs:{loop:!0,bones:{leftarm:{rotation:["-45.0-this","-this","-this"]},leftleg:{rotation:["45.0-this","-this","-this"]},rightarm:{rotation:["45.0-this","-this","-this"]},rightleg:{rotation:["-45.0-this","-this","-this"]}}},bow_and_arrow:{loop:!0,bones:{leftarm:{rotation:["query.target_x_rotation - 90.0 - math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation + 28.65","-(math.cos(query.life_time * 103.2) * 2.865) - 2.865"]},rightarm:{rotation:["query.target_x_rotation - 90.0 + math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation - 5.73","(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},swimming:{loop:!0,bones:{body:{position:[0,"variable.swim_amount * -10.0 - this","variable.swim_amount * 9.0 - this"],rotation:["variable.swim_amount * (90.0 + query.target_x_rotation)",0,0]},leftarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) - (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, 14.325, variable.swim_amount) - (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},leftleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0 + 180.0) * 0.3, variable.swim_amount)",0,0]},rightarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) + (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, -14.325, variable.swim_amount) + (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},rightleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0) * 0.3, variable.swim_amount)",0,0]}}},use_item_progress:{loop:!0,bones:{rightarm:{rotation:["variable.use_item_startup_progress * -60.0 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -22.5 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -5.625 + variable.use_item_interval_progress * 11.25"]}}},skeleton_attack:{loop:!0,bones:{leftarm:{rotation:["-68.75 * math.sin(variable.attack_time * 180.0) + 22.92 * (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0))","5.73 - math.sin(variable.attack_time * 180.0) * 34.38 - this","-this"]},rightarm:{rotation:["-68.75 * math.sin(variable.attack_time * 180.0) + 22.92 * (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0))","-5.73 + math.sin(variable.attack_time * 180.0) * 34.38 - this","-this"]}}}},animation_controllers:{look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},move:{initial_state:"default",states:{default:{animations:["move"]}}},riding:{initial_state:"default",states:{default:{transitions:[{riding:"query.is_riding"}]},riding:{animations:["riding.arms","riding.legs"],transitions:[{default:"!query.is_riding"}]}}},holding:{initial_state:"default",states:{default:{animations:["holding"]}}},brandish_spear:{initial_state:"default",states:{brandish_spear:{animations:["brandish_spear"],transitions:[{default:"!variable.is_brandishing_spear"}]},default:{transitions:[{brandish_spear:"variable.is_brandishing_spear"}]}}},charging:{initial_state:"default",states:{charging:{animations:["charging"],transitions:[{default:"!query.is_charging"}]},default:{transitions:[{charging:"query.is_charging"}]}}},attack:{initial_state:"default",states:{attacking:{animations:["attack.rotations"],transitions:[{default:"variable.attack_time < 0.0"}]},default:{transitions:[{attacking:"variable.attack_time >= 0.0"}]}}},sneaking:{initial_state:"default",states:{default:{transitions:[{sneaking:"query.is_sneaking"}]},sneaking:{animations:["sneaking"],transitions:[{default:"!query.is_sneaking"}]}}},bob:{initial_state:"default",states:{default:{animations:["bob"]}}},damage_nearby_mobs:{initial_state:"default",states:{damage_nearby_mobs:{animations:["damage_nearby_mobs"],transitions:[{default:"!variable.damage_nearby_mobs"}]},default:{transitions:[{damage_nearby_mobs:"variable.damage_nearby_mobs"}]}}},bow_and_arrow:{initial_state:"default",states:{bow_and_arrow:{animations:["bow_and_arrow"],transitions:[{default:"!query.has_target"}]},default:{transitions:[{bow_and_arrow:"query.has_target"}]}}},swimming:{initial_state:"default",states:{default:{transitions:[{is_swimming:"variable.swim_amount > 0.0"}]},is_swimming:{animations:["swimming"],transitions:[{default:"variable.swim_amount <= 0.0"}]}}},use_item_progress:{initial_state:"default",states:{default:{transitions:[{use_item_progress:"( variable.use_item_interval_progress > 0.0 ) || ( variable.use_item_startup_progress > 0.0 )"}]},use_item_progress:{animations:["use_item_progress"],transitions:[{default:"( variable.use_item_interval_progress <= 0.0 ) && ( variable.use_item_startup_progress <= 0.0 )"}]}}},skeleton_attack:{initial_state:"default",states:{default:{animations:["skeleton_attack"]}}}},render_controllers:["controller.render.skeleton"],enable_attachables:!0},skeleton_horse:{identifier:"minecraft:skeleton_horse",textures:{base_brown:"textures/entity/horse/horse_brown",base_white:"textures/entity/horse/horse_white",base_chestnut:"textures/entity/horse/horse_chestnut",base_creamy:"textures/entity/horse/horse_creamy",base_black:"textures/entity/horse/horse_black",base_gray:"textures/entity/horse/horse_gray",base_darkbrown:"textures/entity/horse/horse_darkbrown",markings_none:"textures/entity/horse/horse_markings_none",markings_white:"textures/entity/horse/horse_markings_white",markings_whitefield:"textures/entity/horse/horse_markings_whitefield",markings_whitedots:"textures/entity/horse/horse_markings_whitedots",markings_blackdots:"textures/entity/horse/horse_markings_blackdots",mule:"textures/entity/horse/mule",donkey:"textures/entity/horse/donkey",skeleton:"textures/entity/horse/horse_skeleton",zombie:"textures/entity/horse/horse_zombie",armor_none:"textures/entity/horse/armor/horse_armor_none",armor_leather:"textures/entity/horse/armor/horse_armor_leather",armor_iron:"textures/entity/horse/armor/horse_armor_iron",armor_gold:"textures/entity/horse/armor/horse_armor_gold",armor_diamond:"textures/entity/horse/armor/horse_armor_diamond"},geometry:{default:{visible_bounds_width:2,visible_bounds_height:3,visible_bounds_offset:[0,1,0],texturewidth:128,textureheight:128,bones:[{name:"Body",pivot:[0,13,9],rotation:[0,0,0],cubes:[{origin:[-5,11,-10],size:[10,10,24],uv:[0,34]}]},{name:"TailA",pivot:[0,21,14],rotation:[-65,0,0],cubes:[{origin:[-1,20,14],size:[2,2,3],uv:[44,0]}]},{name:"TailB",pivot:[0,21,14],rotation:[-65,0,0],cubes:[{origin:[-1.5,19,17],size:[3,4,7],uv:[38,7]}]},{name:"TailC",pivot:[0,21,14],rotation:[-80.34,0,0],cubes:[{origin:[-1.5,21.5,23],size:[3,4,7],uv:[24,3]}]},{name:"Leg1A",pivot:[4,15,11],rotation:[0,0,0],cubes:[{origin:[1.5,8,8.5],size:[4,9,5],uv:[78,29]}]},{name:"Leg1B",pivot:[4,8,11],rotation:[0,0,0],cubes:[{origin:[2,3,9.5],size:[3,5,3],uv:[78,43]}]},{name:"Leg1C",pivot:[4,8,11],rotation:[0,0,0],cubes:[{origin:[1.5,-.1,9],size:[4,3,4],uv:[78,51]}]},{name:"Leg2A",pivot:[-4,15,11],rotation:[0,0,0],cubes:[{origin:[-5.5,8,8.5],size:[4,9,5],uv:[96,29]}]},{name:"Leg2B",pivot:[-4,8,11],rotation:[0,0,0],cubes:[{origin:[-5,3,9.5],size:[3,5,3],uv:[96,43]}]},{name:"Leg2C",pivot:[-4,8,11],rotation:[0,0,0],cubes:[{origin:[-5.5,-.1,9],size:[4,3,4],uv:[96,51]}]},{name:"Leg3A",pivot:[4,15,-8],rotation:[0,0,0],cubes:[{origin:[2.1,8,-10.1],size:[3,8,4],uv:[44,29]}]},{name:"Leg3B",pivot:[4,8,-8],rotation:[0,0,0],cubes:[{origin:[2.1,3,-9.6],size:[3,5,3],uv:[44,41]}]},{name:"Leg3C",pivot:[4,8,-8],rotation:[0,0,0],cubes:[{origin:[1.6,-.1,-10.1],size:[4,3,4],uv:[44,51]}]},{name:"Leg4A",pivot:[-4,15,-8],rotation:[0,0,0],cubes:[{origin:[-5.1,8,-10.1],size:[3,8,4],uv:[60,29]}]},{name:"Leg4B",pivot:[-4,8,-8],rotation:[0,0,0],cubes:[{origin:[-5.1,3,-9.6],size:[3,5,3],uv:[60,41]}]},{name:"Leg4C",pivot:[-4,8,-8],rotation:[0,0,0],cubes:[{origin:[-5.6,-.1,-10.1],size:[4,3,4],uv:[60,51]}]},{name:"Head",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,25,-11.5],size:[5,5,7],uv:[0,0]}]},{name:"UMouth",pivot:[0,20.05,-10],rotation:[30,0,0],cubes:[{origin:[-2,27.05,-17],size:[4,3,6],uv:[24,18]}]},{name:"LMouth",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2,25,-16.5],size:[4,2,5],uv:[24,27]}]},{name:"Ear1",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[.45,29,-6],size:[2,3,1],uv:[0,0]}]},{name:"Ear2",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.45,29,-6],size:[2,3,1],uv:[0,0]}]},{name:"MuleEarL",pivot:[0,20,-10],rotation:[30,0,15],cubes:[{origin:[-2,29,-6],size:[2,7,1],uv:[0,12]}]},{name:"MuleEarR",pivot:[0,20,-10],rotation:[30,0,-15],cubes:[{origin:[0,29,-6],size:[2,7,1],uv:[0,12]}]},{name:"Neck",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.05,15.8,-12],size:[4,14,8],uv:[0,12]}]},{name:"Bag1",pivot:[-7.5,21,10],rotation:[0,90,0],cubes:[{origin:[-10.5,13,10],size:[8,8,3],uv:[0,34]}]},{name:"Bag2",pivot:[4.5,21,10],rotation:[0,90,0],cubes:[{origin:[1.5,13,10],size:[8,8,3],uv:[0,47]}]},{name:"Saddle",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-5,21,-1],size:[10,1,8],uv:[80,0]}]},{name:"SaddleB",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-1.5,22,-1],size:[3,1,2],uv:[106,9]}]},{name:"SaddleC",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-4,22,5],size:[8,1,2],uv:[80,9]}]},{name:"SaddleL2",pivot:[5,21,2],rotation:[0,0,0],cubes:[{origin:[4.5,13,1],size:[1,2,2],uv:[74,0]}]},{name:"SaddleL",pivot:[5,21,2],rotation:[0,0,0],cubes:[{origin:[4.5,15,1.5],size:[1,6,1],uv:[70,0]}]},{name:"SaddleR2",pivot:[-5,21,2],rotation:[0,0,0],cubes:[{origin:[-5.5,13,1],size:[1,2,2],uv:[74,4]}]},{name:"SaddleR",pivot:[-5,21,2],rotation:[0,0,0],cubes:[{origin:[-5.5,15,1.5],size:[1,6,1],uv:[80,0]}]},{name:"SaddleMouthL",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[1.5,26,-14],size:[1,2,2],uv:[74,13]}]},{name:"SaddleMouthR",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,26,-14],size:[1,2,2],uv:[74,13]}]},{name:"SaddleMouthLine",pivot:[0,20,-10],rotation:[0,0,0],cubes:[{origin:[2.6,23,-16],size:[0,3,16],uv:[44,10]}]},{name:"SaddleMouthLineR",pivot:[0,20,-10],rotation:[0,0,0],cubes:[{origin:[-2.6,23,-16],size:[0,3,16],uv:[44,5]}]},{name:"Mane",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-1,15.5,-5],size:[2,16,4],uv:[58,0]}]},{name:"HeadSaddle",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,25.1,-17],size:[5,5,12],uv:[80,12],inflate:.05}]}]}},spawn_egg:{texture:"spawn_egg",texture_index:32}},slime:{identifier:"minecraft:slime",materials:{default:"slime",outer:"slime_outer"},textures:{default:"textures/entity/slime/slime"},geometry:{default:{visible_bounds_width:5,visible_bounds_height:2,visible_bounds_offset:[0,1,0],texturewidth:64,textureheight:32,bones:[{name:"cube",pivot:[0,24,0],cubes:[{origin:[-3,1,-3],size:[6,6,6],uv:[0,16]}]},{name:"eye0",parent:"cube",pivot:[0,24,0],cubes:[{origin:[-3.3,4,-3.5],size:[2,2,2],uv:[32,0]}]},{name:"eye1",parent:"cube",pivot:[0,24,0],cubes:[{origin:[1.3,4,-3.5],size:[2,2,2],uv:[32,4]}]},{name:"mouth",parent:"cube",pivot:[0,24,0],cubes:[{origin:[0,2,-3.5],size:[1,1,1],uv:[32,8]}]}]},armor:{visible_bounds_width:1,visible_bounds_height:1,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:32,bones:[{name:"cube",pivot:[0,24,0],cubes:[{origin:[-4,0,-4],size:[8,8,8],uv:[0,0]}]},{name:"eye0",parent:"cube",pivot:[0,24,0],cubes:[{origin:[-3.3,4,-3.5],size:[2,2,2],uv:[32,0]}]},{name:"eye1",parent:"cube",pivot:[0,24,0],cubes:[{origin:[1.3,4,-3.5],size:[2,2,2],uv:[32,4]}]},{name:"mouth",parent:"cube",pivot:[0,24,0],cubes:[{origin:[0,2,-3.5],size:[1,1,1],uv:[32,8]}]}]}},scripts:{pre_animation:["variable.squish_factor = (query.previous_squish_value + (query.current_squish_value - query.previous_squish_value) * query.frame_alpha);","variable.bounce = 1 / ((variable.squish_factor / (query.variant * 0.5 + 1)) + 1);","variable.horizontal_scale_amount = variable.bounce * query.variant;","variable.vertical_scale_amount = (1 / variable.bounce) * query.variant;"],scaleX:"variable.horizontal_scale_amount",scaleY:"variable.vertical_scale_amount",scaleZ:"variable.horizontal_scale_amount"},render_controllers:["controller.render.slime","controller.render.slime_armor"],spawn_egg:{texture:"spawn_egg",texture_index:10}},small_fireball:{identifier:"minecraft:small_fireball",materials:{default:"fireball"},textures:{default:"textures/items/fire_charge"},geometry:{default:{bones:[{name:"body",pivot:[0,0,0],cubes:[{origin:[-8,-4,0],size:[16,16,0],uv:{south:{uv:[0,0]}}}]}],texturewidth:16,textureheight:16}},animations:{face_player:{loop:!0,bones:{body:{rotation:["query.camera_rotation(0)","query.camera_rotation(1)",0]}}}},scripts:{scale:"0.5",animate:["face_player"]},render_controllers:["controller.render.fireball"]},snow_golem:{identifier:"minecraft:snow_golem",min_engine_version:"1.8.0",materials:{default:"snow_golem",head:"snow_golem_pumpkin"},textures:{default:"textures/entity/snow_golem"},geometry:{default:{visible_bounds_width:1,visible_bounds_height:2,visible_bounds_offset:[0,1,0],bones:[{name:"head",parent:"piece1",pivot:[0,20,0],locators:{lead:[0,20,0]},cubes:[{origin:[-4,20,-4],size:[8,8,8],uv:[0,0],inflate:-.5}]},{name:"arm1",parent:"piece1",pivot:[0,18,0],bind_pose_rotation:[0,0,57.3],cubes:[{origin:[1,20,-1],size:[12,2,2],uv:[32,0],inflate:-.5}]},{name:"arm2",parent:"piece1",pivot:[0,18,0],bind_pose_rotation:[0,180,-57.3],cubes:[{origin:[1,20,-1],size:[12,2,2],uv:[32,0],inflate:-.5}]},{name:"piece1",parent:"piece2",pivot:[0,11,0],cubes:[{origin:[-5,11,-5],size:[10,10,10],uv:[0,16],inflate:-.5}]},{name:"piece2",pivot:[0,0,0],cubes:[{origin:[-6,0,-6],size:[12,12,12],uv:[0,36],inflate:-.5}]}]}},animations:{move:{loop:!0,bones:{piece1:{rotation:[0,"query.target_y_rotation * 0.25",0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}}},animation_controllers:{move:{initial_state:"default",states:{default:{animations:[{move:"query.modified_move_speed"},"look_at_target"]}}}},render_controllers:["controller.render.snowgolem"]},snowball:{identifier:"minecraft:snowball",materials:{default:"snowball"},textures:{default:"textures/items/snowball"},geometry:{default:{bones:[{name:"body",pivot:[0,0,0],cubes:[{origin:[-8,-8,0],size:[16,16,0],uv:[0,0],rotation:[0,0,0]}]}],texturewidth:16,textureheight:16}},render_controllers:["controller.render.item_sprite"],animations:{flying:{loop:!0,bones:{body:{rotation:["query.camera_rotation(0)","query.camera_rotation(1)",0]}}}},scripts:{animate:["flying"]}},spider:{identifier:"minecraft:spider",min_engine_version:"1.8.0",materials:{default:"spider",invisible:"spider_invisible"},textures:{default:"textures/entity/spider/spider"},geometry:{default:{visible_bounds_width:2,visible_bounds_height:1,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:32,bones:[{name:"head",pivot:[0,9,-3],cubes:[{origin:[-4,5,-11],size:[8,8,8],uv:[32,4]}],parent:"body0"},{name:"body0",pivot:[0,9,0],cubes:[{origin:[-3,6,-3],size:[6,6,6],uv:[0,0]}]},{name:"body1",pivot:[0,9,9],cubes:[{origin:[-5,5,3],size:[10,8,12],uv:[0,12]}],parent:"body0"},{name:"leg0",pivot:[-4,9,2],cubes:[{origin:[-19,8,1],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg1",pivot:[4,9,2],cubes:[{origin:[3,8,1],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg2",pivot:[-4,9,1],cubes:[{origin:[-19,8,0],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg3",pivot:[4,9,1],cubes:[{origin:[3,8,0],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg4",pivot:[-4,9,0],cubes:[{origin:[-19,8,-1],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg5",pivot:[4,9,0],cubes:[{origin:[3,8,-1],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg6",pivot:[-4,9,-1],cubes:[{origin:[-19,8,-2],size:[16,2,2],uv:[18,0]}],parent:"body0"},{name:"leg7",pivot:[4,9,-1],cubes:[{origin:[3,8,-2],size:[16,2,2],uv:[18,0]}],parent:"body0"}]}},animations:{default_leg_pose:{loop:!0,bones:{leg0:{rotation:[0,"45.0 - this","-45.0 - this"]},leg1:{rotation:[0,"-45.0 - this","45.0 - this"]},leg2:{rotation:[0,"22.5 - this","-33.3 - this"]},leg3:{rotation:[0,"-22.5 - this","33.3 - this"]},leg4:{rotation:[0,"-22.5 - this","-33.3 - this"]},leg5:{rotation:[0,"22.5 - this","33.3 - this"]},leg6:{rotation:[0,"-45.0 - this","-45.0 - this"]},leg7:{rotation:[0,"45.0 - this","45.0 - this"]}}},look_at_target:{loop:!0,bones:{head:{rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},walk:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:[0,"-math.abs(math.cos(query.anim_time * 76.34 + 90 * 0) * 22.92)","math.abs(math.sin(query.anim_time * 38.17 + 90 * 0) * 22.92)"]},leg1:{rotation:[0,"math.abs(math.cos(query.anim_time * 76.34 + 90 * 0) * 22.92)","-math.abs(math.sin(query.anim_time * 38.17 + 90 * 0) * 22.92)"]},leg2:{rotation:[0,"-math.abs(math.cos(query.anim_time * 76.34 + 90 * 1) * 22.92)","math.abs(math.sin(query.anim_time * 38.17 + 90 * 1) * 22.92)"]},leg3:{rotation:[0,"math.abs(math.cos(query.anim_time * 76.34 + 90 * 1) * 22.92)","-math.abs(math.sin(query.anim_time * 38.17 + 90 * 1) * 22.92)"]},leg4:{rotation:[0,"-math.abs(math.cos(query.anim_time * 76.34 + 90 * 2) * 22.92)","math.abs(math.sin(query.anim_time * 38.17 + 90 * 2) * 22.92)"]},leg5:{rotation:[0,"math.abs(math.cos(query.anim_time * 76.34 + 90 * 2) * 22.92)","-math.abs(math.sin(query.anim_time * 38.17 + 90 * 2) * 22.92)"]},leg6:{rotation:[0,"-math.abs(math.cos(query.anim_time * 76.34 + 90 * 3) * 22.92)","math.abs(math.sin(query.anim_time * 38.17 + 90 * 3) * 22.92)"]},leg7:{rotation:[0,"math.abs(math.cos(query.anim_time * 76.34 + 90 * 3) * 22.92)","-math.abs(math.sin(query.anim_time * 38.17 + 90 * 3) * 22.92)"]}}}},animation_controllers:{move:{initial_state:"default",states:{default:{animations:["default_leg_pose",{walk:"query.modified_move_speed"},"look_at_target"]}}}},render_controllers:["controller.render.spider"],spawn_egg:{texture:"spawn_egg",texture_index:11}},potion:{identifier:"minecraft:splash_potion",materials:{default:"splash_potion_enchanted"},textures:{moveSlowdown:"textures/items/potion_bottle_splash_moveSlowdown",moveSpeed:"textures/items/potion_bottle_splash_moveSpeed",digSlowdown:"textures/items/potion_bottle_splash_digSlowdown",digSpeed:"textures/items/potion_bottle_splash_digSpeed",damageBoost:"textures/items/potion_bottle_splash_damageBoost",heal:"textures/items/potion_bottle_splash_heal",harm:"textures/items/potion_bottle_splash_harm",jump:"textures/items/potion_bottle_splash_jump",confusion:"textures/items/potion_bottle_splash_confusion",regeneration:"textures/items/potion_bottle_splash_regeneration",resistance:"textures/items/potion_bottle_splash_resistance",fireResistance:"textures/items/potion_bottle_splash_fireResistance",waterBreathing:"textures/items/potion_bottle_splash_waterBreathing",invisibility:"textures/items/potion_bottle_splash_invisibility",blindness:"textures/items/potion_bottle_splash_blindness",nightVision:"textures/items/potion_bottle_splash_nightVision",hunger:"textures/items/potion_bottle_splash_hunger",weakness:"textures/items/potion_bottle_splash_weakness",poison:"textures/items/potion_bottle_splash_poison",wither:"textures/items/potion_bottle_splash_wither",healthBoost:"textures/items/potion_bottle_splash_healthBoost",absorption:"textures/items/potion_bottle_splash_absorption",saturation:"textures/items/potion_bottle_splash_saturation",levitation:"textures/items/potion_bottle_splash_levitation",turtleMaster:"textures/items/potion_bottle_splash_turtleMaster",slowFall:"textures/items/potion_bottle_splash_slowFall",default:"textures/items/potion_bottle_splash",enchanted:"textures/misc/enchanted_item_glint"},geometry:{default:{bones:[{name:"body",pivot:[0,0,0],cubes:[{origin:[-8,-8,0],size:[16,16,0],uv:[0,0],rotation:[0,0,0]}]}],texturewidth:16,textureheight:16}},render_controllers:["controller.render.splash_potion"],animations:{flying:{loop:!0,bones:{body:{rotation:["query.camera_rotation(0)","query.camera_rotation(1)",0]}}}},scripts:{animate:["flying"]}},squid:{identifier:"minecraft:squid",materials:{default:"squid"},textures:{default:"textures/entity/squid"},geometry:{default:{visible_bounds_width:3,visible_bounds_height:2,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:32,bones:[{name:"body",cubes:[{origin:[-6,-8,-6],size:[12,16,12],uv:[0,0]}]},{name:"tentacle1",parent:"body",pivot:[5,-7,0],cubes:[{origin:[4,-25,-1],size:[2,18,2],uv:[48,0]}],rotation:[0,90,0]},{name:"tentacle2",parent:"body",pivot:[3.5,-7,3.5],cubes:[{origin:[2.5,-25,2.5],size:[2,18,2],uv:[48,0]}],rotation:[0,45,0]},{name:"tentacle3",parent:"body",pivot:[0,-7,5],cubes:[{origin:[-1,-25,4],size:[2,18,2],uv:[48,0]}],rotation:[0,0,0]},{name:"tentacle4",parent:"body",pivot:[-3.5,-7,3.5],cubes:[{origin:[-4.5,-25,2.5],size:[2,18,2],uv:[48,0]}],rotation:[0,-45,0]},{name:"tentacle5",parent:"body",pivot:[-5,-7,0],cubes:[{origin:[-6,-25,-1],size:[2,18,2],uv:[48,0]}],rotation:[0,-90,0]},{name:"tentacle6",parent:"body",pivot:[-3.5,-7,-3.5],cubes:[{origin:[-4.5,-25,-4.5],size:[2,18,2],uv:[48,0]}],rotation:[0,-135,0]},{name:"tentacle7",parent:"body",pivot:[0,-7,-5],cubes:[{origin:[-1,-25,-6],size:[2,18,2],uv:[48,0]}],rotation:[0,-180,0]},{name:"tentacle8",parent:"body",pivot:[3.5,-7,-3.5],cubes:[{origin:[2.5,-25,-4.5],size:[2,18,2],uv:[48,0]}],rotation:[0,-225,0]}]}},animations:{move:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{body:{position:[0,"query.is_in_water ? 0.0 : (query.is_baby ? 3.2 : 6.4)",0]},tentacle1:{rotation:["variable.squid.tentacle_angle - this","90.0 - this",0]},tentacle2:{rotation:["variable.squid.tentacle_angle - this","45.0 - this",0]},tentacle3:{rotation:["variable.squid.tentacle_angle - this","0.0 - this",0]},tentacle4:{rotation:["variable.squid.tentacle_angle - this","-45.0 - this",0]},tentacle5:{rotation:["variable.squid.tentacle_angle - this","-90.0 - this",0]},tentacle6:{rotation:["variable.squid.tentacle_angle - this","-135.0 - this",0]},tentacle7:{rotation:["variable.squid.tentacle_angle - this","-180.0 - this",0]},tentacle8:{rotation:["variable.squid.tentacle_angle - this","-225.0 - this",0]}}},squid_rotate:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{body:{rotation:[{y:"180.0 - this"},{x:"query.body_x_rotation"},{y:"variable.squid.swim_rotation"}]}}}},scripts:{animate:["move","squid_rotate"]},render_controllers:["controller.render.squid"],spawn_egg:{texture:"spawn_egg",texture_index:15}},stray:{identifier:"minecraft:stray",min_engine_version:"1.8.0",materials:{default:"stray",overlay:"stray_clothes"},textures:{default:"textures/entity/skeleton/stray",overlay:"textures/entity/skeleton/stray_overlay"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:2,visible_bounds_offset:[0,1,0],texturewidth:64,textureheight:32,bones:[{name:"body",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,16]}],parent:"waist"},{name:"waist",pivot:[0,12,0]},{name:"head",pivot:[0,24,0],locators:{lead:[0,24,0]},cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[0,0]}],parent:"body"},{name:"hat",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[32,0],inflate:.5}],neverRender:!0,parent:"head"},{name:"rightArm",pivot:[-5,22,0],cubes:[{origin:[-6,12,-1],size:[2,12,2],uv:[40,16]}],parent:"body"},{name:"rightItem",pivot:[-6,15,1],neverRender:!0,parent:"rightArm"},{name:"leftArm",pivot:[5,22,0],cubes:[{origin:[4,12,-1],size:[2,12,2],uv:[40,16]}],mirror:!0,parent:"body"},{name:"leftItem",pivot:[6,15,1],neverRender:!0,parent:"leftArm"},{name:"rightLeg",pivot:[-2,12,0],cubes:[{origin:[-3,0,-1],size:[2,12,2],uv:[0,16]}],parent:"body"},{name:"leftLeg",pivot:[2,12,0],cubes:[{origin:[1,0,-1],size:[2,12,2],uv:[0,16]}],mirror:!0,parent:"body"}]},overlay:{visible_bounds_width:2,visible_bounds_height:2,visible_bounds_offset:[0,1,0],texturewidth:64,textureheight:32,bones:[{name:"body",parent:"waist",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,16]}],inflate:.25},{name:"waist",neverRender:!0,pivot:[0,12,0]},{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[0,0]}],inflate:.25},{name:"hat",parent:"head",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[32,0],inflate:.5}],neverRender:!0},{name:"rightArm",parent:"body",pivot:[-5,22,0],cubes:[{origin:[-8,12,-2],size:[4,12,4],uv:[40,16]}],inflate:.25},{name:"rightItem",parent:"rightArm",pivot:[-6,15,1],neverRender:!0},{name:"leftArm",parent:"body",pivot:[5,22,0],cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[40,16]}],mirror:!0,inflate:.25},{name:"rightLeg",parent:"body",pivot:[-1.9,12,0],cubes:[{origin:[-3.9,0,-2],size:[4,12,4],uv:[0,16]}],inflate:.25},{name:"leftLeg",parent:"body",pivot:[1.9,12,0],cubes:[{origin:[-.1,0,-2],size:[4,12,4],uv:[0,16]}],inflate:.25,mirror:!0}]}},spawn_egg:{texture:"spawn_egg",texture_index:27},scripts:{pre_animation:["variable.tcos0 = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;"]},animations:{look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},move:{loop:!0,bones:{leftarm:{rotation:["variable.tcos0",0,0]},leftleg:{rotation:["variable.tcos0 * -1.4",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]},rightarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leftleg:{rotation:["-72.0 - this","-18.0 - this","-this"]},rightleg:{rotation:["-72.0 - this","18.0 - this","-this"]}}},holding:{loop:!0,bones:{leftarm:{rotation:["variable.is_holding_left ? (-this * 0.5 - 18.0) : 0.0",0,0]},rightarm:{rotation:["variable.is_holding_right ? (-this * 0.5 - 18.0) : 0.0",0,0]}}},brandish_spear:{loop:!0,bones:{rightarm:{rotation:["this * -0.5 - 157.5 - 22.5 * variable.charge_amount","-this",0]}}},charging:{loop:!0,bones:{rightarm:{rotation:["22.5 * variable.charge_amount - this","-this",0]}}},"attack.rotations":{loop:!0,bones:{body:{rotation:[0,"math.sin(math.sqrt(variable.attack_time) * 360) * 11.46 - this",0]},leftarm:{rotation:["math.sin(math.sqrt(variable.attack_time) * 360) * 11.46",0,0]},rightarm:{rotation:["math.sin(1.0 - math.pow(1.0 - variable.attack_time, 3.0) * 180.0) * (variable.is_brandishing_spear ? -1.0 : 1.0 )","variable.is_brandishing_spear ? 0.0 : (math.sin(math.sqrt(variable.attack_time) * 360) * 11.46) * 2.0",0]}}},sneaking:{loop:!0,bones:{body:{rotation:["0.5 - this",0,0]},head:{position:[0,1,0]},leftarm:{rotation:[72,0,0]},leftleg:{position:[0,-3,4]},rightarm:{rotation:[72,0,0]},rightleg:{position:[0,-3,4]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"((math.cos(query.life_time * 103.2) * 2.865) + 2.865) *-1.0"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},damage_nearby_mobs:{loop:!0,bones:{leftarm:{rotation:["-45.0-this","-this","-this"]},leftleg:{rotation:["45.0-this","-this","-this"]},rightarm:{rotation:["45.0-this","-this","-this"]},rightleg:{rotation:["-45.0-this","-this","-this"]}}},bow_and_arrow:{loop:!0,bones:{leftarm:{rotation:["query.target_x_rotation - 90.0 - math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation + 28.65","-(math.cos(query.life_time * 103.2) * 2.865) - 2.865"]},rightarm:{rotation:["query.target_x_rotation - 90.0 + math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation - 5.73","(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},swimming:{loop:!0,bones:{body:{position:[0,"variable.swim_amount * -10.0 - this","variable.swim_amount * 9.0 - this"],rotation:["variable.swim_amount * (90.0 + query.target_x_rotation)",0,0]},leftarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) - (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, 14.325, variable.swim_amount) - (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},leftleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0 + 180.0) * 0.3, variable.swim_amount)",0,0]},rightarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) + (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, -14.325, variable.swim_amount) + (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},rightleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0) * 0.3, variable.swim_amount)",0,0]}}},use_item_progress:{loop:!0,bones:{rightarm:{rotation:["variable.use_item_startup_progress * -60.0 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -22.5 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -5.625 + variable.use_item_interval_progress * 11.25"]}}}},animation_controllers:{look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},move:{initial_state:"default",states:{default:{animations:["move"]}}},riding:{initial_state:"default",states:{default:{transitions:[{riding:"query.is_riding"}]},riding:{animations:["riding.arms","riding.legs"],transitions:[{default:"!query.is_riding"}]}}},holding:{initial_state:"default",states:{default:{animations:["holding"]}}},brandish_spear:{initial_state:"default",states:{brandish_spear:{animations:["brandish_spear"],transitions:[{default:"!variable.is_brandishing_spear"}]},default:{transitions:[{brandish_spear:"variable.is_brandishing_spear"}]}}},charging:{initial_state:"default",states:{charging:{animations:["charging"],transitions:[{default:"!query.is_charging"}]},default:{transitions:[{charging:"query.is_charging"}]}}},attack:{initial_state:"default",states:{attacking:{animations:["attack.rotations"],transitions:[{default:"variable.attack_time < 0.0"}]},default:{transitions:[{attacking:"variable.attack_time >= 0.0"}]}}},sneaking:{initial_state:"default",states:{default:{transitions:[{sneaking:"query.is_sneaking"}]},sneaking:{animations:["sneaking"],transitions:[{default:"!query.is_sneaking"}]}}},bob:{initial_state:"default",states:{default:{animations:["bob"]}}},damage_nearby_mobs:{initial_state:"default",states:{damage_nearby_mobs:{animations:["damage_nearby_mobs"],transitions:[{default:"!variable.damage_nearby_mobs"}]},default:{transitions:[{damage_nearby_mobs:"variable.damage_nearby_mobs"}]}}},bow_and_arrow:{initial_state:"default",states:{bow_and_arrow:{animations:["bow_and_arrow"],transitions:[{default:"!query.has_target"}]},default:{transitions:[{bow_and_arrow:"query.has_target"}]}}},swimming:{initial_state:"default",states:{default:{transitions:[{is_swimming:"variable.swim_amount > 0.0"}]},is_swimming:{animations:["swimming"],transitions:[{default:"variable.swim_amount <= 0.0"}]}}},use_item_progress:{initial_state:"default",states:{default:{transitions:[{use_item_progress:"( variable.use_item_interval_progress > 0.0 ) || ( variable.use_item_startup_progress > 0.0 )"}]},use_item_progress:{animations:["use_item_progress"],transitions:[{default:"( variable.use_item_interval_progress <= 0.0 ) && ( variable.use_item_startup_progress <= 0.0 )"}]}}}},render_controllers:["controller.render.stray_clothes","controller.render.stray"],enable_attachables:!0},strider:{identifier:"minecraft:strider",materials:{default:"strider"},textures:{default:"textures/entity/strider/strider",saddled:"textures/entity/strider/strider",suffocated:"textures/entity/strider/strider_cold",suffocated_saddled:"textures/entity/strider/strider_cold"},geometry:{default:{bones:[{name:"right_leg",pivot:[-4,16,0],cubes:[{origin:[-6,0,-2],size:[4,16,4],uv:[0,32]}]},{name:"left_leg",pivot:[4,16,0],cubes:[{origin:[2,0,-2],size:[4,16,4],uv:[0,55]}]},{name:"body",pivot:[0,16,0],cubes:[{origin:[-8,14,-8],size:[16,14,16],uv:[0,0]}],locators:{lead:[0,15,-1]}},{name:"bristle5",parent:"body",pivot:[8,19,0],cubes:[{origin:[8,19,-8],size:[12,0,16],pivot:[8,19,0],rotation:[0,0,70],uv:[16,65]}]},{name:"bristle4",parent:"body",pivot:[8,24,0],cubes:[{origin:[8,24,-8],size:[12,0,16],pivot:[8,24,0],rotation:[0,0,65],uv:[16,49]}]},{name:"bristle3",parent:"body",pivot:[8,28,0],cubes:[{origin:[8,28,-8],size:[12,0,16],pivot:[8,28,0],rotation:[0,0,50],uv:[16,33]}]},{name:"bristle2",parent:"body",pivot:[-8,28,0],cubes:[{origin:[-20,28,-8],size:[12,0,16],pivot:[-8,28,0],rotation:[0,0,-50],uv:[16,33],mirror:!0}]},{name:"bristle1",parent:"body",pivot:[-8,24,0],cubes:[{origin:[-20,24,-8],size:[12,0,16],pivot:[-8,24,0],rotation:[0,0,-65],uv:[16,49],mirror:!0}]},{name:"bristle0",parent:"body",pivot:[-8,19,0],cubes:[{origin:[-20,19,-8],size:[12,0,16],pivot:[-8,19,0],rotation:[0,0,-70],uv:[16,65],mirror:!0}]}],visible_bounds_width:3,visible_bounds_height:2,visible_bounds_offset:[0,1,0],texturewidth:64,textureheight:128}},spawn_egg:{base_color:"#9c3436",overlay_color:"#4d494d"},scripts:{pre_animation:["variable.animation_speed = Math.min(query.modified_move_speed, 0.25);","variable.speed = 85.9437;","variable.bristle_flow=Math.cos(query.modified_distance_moved * variable.speed + 180) * variable.animation_speed;","variable.bristle_range_mod=1;","variable.bristle_speed_mod=1;"],animate:["look_at_target","walk","bristle_flow"]},animations:{look_at_target:{loop:!0,bones:{body:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},walk:{loop:!0,bones:{right_leg:{rotation:["Math.sin(query.modified_distance_moved * variable.speed * 0.5 + 180) * 114.592 * variable.animation_speed",0,"10 * Math.cos(query.modified_distance_moved * variable.speed * 0.5f + 180) * variable.animation_speed"],position:[0,"-2 * Math.sin(query.modified_distance_moved * variable.speed * 0.5) * 2 * variable.animation_speed",0]},left_leg:{rotation:["Math.sin(query.modified_distance_moved * variable.speed * 0.5) * 114.592 * variable.animation_speed",0,"10 * Math.cos(query.modified_distance_moved * variable.speed * 0.5f) * variable.animation_speed"],position:[0,"-2 * Math.sin(query.modified_distance_moved * variable.speed * 0.5 + 180) * 2 * variable.animation_speed",0]},body:{rotation:[0,0,"5.72958 * Math.sin(query.modified_distance_moved * variable.speed) * 4 * variable.animation_speed"],position:[0,"-2 * Math.cos(query.modified_distance_moved * variable.speed) * 2 * variable.animation_speed",0]},bristle1:{rotation:[0,0,"variable.bristle_flow * 74.4845"]},bristle2:{rotation:[0,0,"variable.bristle_flow * 68.7549"]},bristle3:{rotation:[0,0,"variable.bristle_flow * 34.3775"]},bristle4:{rotation:[0,0,"variable.bristle_flow * 68.7549"]},bristle5:{rotation:[0,0,"variable.bristle_flow * 74.4845"]}}},bristle_flow:{loop:!0,bones:{bristle0:{rotation:[0,0,"2.864789 * variable.bristle_range_mod * Math.sin(query.life_time * 20 * variable.bristle_speed_mod * -22.9183)"]},bristle1:{rotation:[0,0,"5.72958 * variable.bristle_range_mod * Math.sin(query.life_time * 20 * variable.bristle_speed_mod * 11.4592)"]},bristle2:{rotation:[0,0,"5.72958 * variable.bristle_range_mod * Math.sin(query.life_time * 20 * variable.bristle_speed_mod * 22.9183)"]},bristle3:{rotation:[0,0,"5.72958 * variable.bristle_range_mod * Math.sin(query.life_time * 20 * variable.bristle_speed_mod * 22.9183)"]},bristle4:{rotation:[0,0,"5.72958 * variable.bristle_range_mod * Math.sin(query.life_time * 20 * variable.bristle_speed_mod * 11.4592)"]},bristle5:{rotation:[0,0,"2.864789 * variable.bristle_range_mod * Math.sin(query.life_time * 20 * variable.bristle_speed_mod * -22.9183)"]}}}},render_controllers:["controller.render.strider"]},trident:{identifier:"minecraft:thrown_trident",textures:{default:"textures/entity/trident",loyalty_rope:"textures/entity/lead_knot"},geometry:{default:{texturewidth:32,textureheight:32,bones:[{name:"pole",pivot:[0,24,0],cubes:[{origin:[-.5,-3,-.5],size:[1,31,1],inflate:.01,uv:[0,0]},{origin:[-1.5,22,-.5],size:[3,2,1],uv:[4,0]},{origin:[-2.5,23,-.5],size:[1,4,1],uv:[4,3]},{origin:[1.5,23,-.5],size:[1,4,1],uv:[4,3]}]}]}}},tnt_minecart:{identifier:"minecraft:tnt_minecart",min_engine_version:"1.8.0",materials:{default:"minecart"},textures:{default:"textures/entity/minecart"},geometry:{default:{bones:[{name:"bottom",pivot:[0,6,0],cubes:[{origin:[-10,-6.5,-1],size:[20,16,2],rotation:[90,0,0],uv:[0,10]}]},{name:"back",pivot:[0,0,0],cubes:[{origin:[-17,2.5,-1],size:[16,8,2],rotation:[0,270,0],uv:[0,0]}],parent:"bottom"},{name:"front",pivot:[0,0,0],cubes:[{origin:[1,2.5,-1],size:[16,8,2],rotation:[0,90,0],uv:[0,0]}],parent:"bottom"},{name:"right",pivot:[0,0,0],cubes:[{origin:[-8,2.5,-8],size:[16,8,2],rotation:[0,180,0],uv:[0,0]}],parent:"bottom"},{name:"left",pivot:[0,0,0],cubes:[{origin:[-8,2.5,6],size:[16,8,2],uv:[0,0]}],parent:"bottom"}],texturewidth:64,textureheight:32}},scripts:{pre_animation:["variable.hurt = query.hurt_time - query.frame_alpha;"],animate:["move"]},animations:{move:{loop:!0,bones:{bottom:{position:["variable.rail_offset.x / query.model_scale","variable.rail_offset.y / query.model_scale","variable.rail_offset.z / query.model_scale"],rotation:["variable.hurt > 0 ? -Math.sin(variable.hurt * 360 / (Math.pi * 2)) * variable.hurt * (((20 * 2 - query.structural_integrity) - query.frame_alpha) < 0 ? 0: (20 * 2 - query.structural_integrity) - query.frame_alpha) / 10 * query.hurt_direction : 0",0,"-variable.rail_rotation.z"]}}}},render_controllers:["controller.render.minecart"]},tropical_fish:{identifier:"minecraft:tropicalfish",materials:{default:"tropicalfish"},textures:{typeA:"textures/entity/fish/tropical_a",typeB:"textures/entity/fish/tropical_b",aPattern1:"textures/entity/fish/tropical_a_pattern_1",aPattern2:"textures/entity/fish/tropical_a_pattern_2",aPattern3:"textures/entity/fish/tropical_a_pattern_3",aPattern4:"textures/entity/fish/tropical_a_pattern_4",aPattern5:"textures/entity/fish/tropical_a_pattern_5",aPattern6:"textures/entity/fish/tropical_a_pattern_6",bPattern1:"textures/entity/fish/tropical_b_pattern_1",bPattern2:"textures/entity/fish/tropical_b_pattern_2",bPattern3:"textures/entity/fish/tropical_b_pattern_3",bPattern4:"textures/entity/fish/tropical_b_pattern_4",bPattern5:"textures/entity/fish/tropical_b_pattern_5",bPattern6:"textures/entity/fish/tropical_b_pattern_6"},scripts:{pre_animation:["variable.ZRot = !query.is_in_water ? Math.cos((query.time_stamp + query.frame_alpha) * 0.25) * 90 : 0.0;","variable.AnimationAmountBlend = Math.lerp(variable.AnimationAmountPrev, variable.AnimationAmount, query.frame_alpha);"]},geometry:{typeA:{visible_bounds_width:.5,visible_bounds_height:.5,bones:[{pivot:[-.5,0,0],cubes:[{origin:[-1,0,-3],size:[2,3,6],uv:[0,0]},{origin:[0,3,-2.9992],size:[0,4,6],uv:[10,-6]}],name:"body"},{pivot:[0,0,3],cubes:[{origin:[0,0,3],size:[0,3,4],uv:[24,-4]}],name:"tailfin",parent:"body"},{pivot:[.5,0,1],bind_pose_rotation:[0,-35,0],cubes:[{origin:[.336,0,-.10594],size:[2,2,0],uv:[2,12]}],name:"leftFin",parent:"body"},{pivot:[-.5,0,1],bind_pose_rotation:[0,35,0],cubes:[{origin:[-2.336,0,-.10594],size:[2,2,0],uv:[2,16]}],name:"rightFin",parent:"body"}],texturewidth:32,textureheight:32},typeB:{visible_bounds_width:.5,visible_bounds_height:.5,bones:[{pivot:[-.5,0,0],cubes:[{origin:[-1,0,-8e-4],size:[2,6,6],uv:[0,20]},{origin:[0,-5,-8e-4],size:[0,5,6],uv:[20,21]},{origin:[0,6,-8e-4],size:[0,5,6],uv:[20,10]}],name:"body"},{pivot:[0,0,6],cubes:[{origin:[0,8e-4,6],size:[0,6,5],uv:[21,16]}],name:"tailfin",parent:"body"},{pivot:[.5,0,1],bind_pose_rotation:[0,-35,0],cubes:[{origin:[2.05673,0,2.35152],size:[2,2,0],uv:[2,12]}],name:"leftFin",parent:"body"},{pivot:[-.5,0,1],bind_pose_rotation:[0,35,0],cubes:[{origin:[-4.05673,0,2.35152],size:[2,2,0],uv:[2,16]}],name:"rightFin",parent:"body"}],texturewidth:32,textureheight:32}},animations:{flop:{loop:!0,bones:{body:{rotation:[0,"math.cos(variable.animationamountblend * 45.0) * 2.0","variable.zrot"]},tailfin:{rotation:[0,"math.cos(variable.animationamountblend * 45.0) * -25.75",0]}}},swim:{loop:!0,bones:{tailfin:{rotation:[0,"math.cos(variable.animationamountblend * 30.0) * -25.75",0]}}}},animation_controllers:{general:{initial_state:"flopping",states:{flopping:{animations:["flop"],transitions:[{swimming:"query.is_in_water || query.is_levitating"}]},swimming:{animations:["swim"],transitions:[{flopping:"!query.is_in_water && !query.is_levitating"}]}}}},render_controllers:["controller.render.tropicalfish"],spawn_egg:{texture:"spawn_egg",texture_index:44}},turtle:{identifier:"minecraft:turtle",materials:{default:"turtle"},textures:{default:"textures/entity/turtle/big_sea_turtle"},geometry:{default:{texturewidth:128,textureheight:64,bones:[{name:"head",parent:"body",pivot:[0,5,-10],cubes:[{origin:[-3,1,-13],size:[6,5,6],uv:[2,0]}]},{name:"eggbelly",parent:"body",pivot:[0,13,-10],bind_pose_rotation:[90,0,0],cubes:[{origin:[-4.5,-8,-24],size:[9,18,1],uv:[69,33]}]},{name:"body",pivot:[0,13,-10],bind_pose_rotation:[90,0,0],cubes:[{origin:[-9.5,-10,-20],size:[19,20,6],uv:[6,37]},{origin:[-5.5,-8,-23],size:[11,18,3],uv:[30,1]}]},{name:"leg0",parent:"body",pivot:[-3.5,2,11],cubes:[{origin:[-5.5,1,11],size:[4,1,10],uv:[0,23]}]},{name:"leg1",parent:"body",pivot:[3.5,2,11],cubes:[{origin:[1.5,1,11],size:[4,1,10],uv:[0,12]}]},{name:"leg2",parent:"body",pivot:[-5,3,-4],cubes:[{origin:[-18,2,-6],size:[13,1,5],uv:[26,30]}]},{name:"leg3",parent:"body",pivot:[5,3,-4],cubes:[{origin:[5,2,-6],size:[13,1,5],uv:[26,24]}]}]}},scripts:{pre_animation:["variable.timeMultiplier = query.has_rider ? 0.39972 : 1.0;","variable.backLegMultiplier = query.has_rider ? 0.5 : 3.0;","variable.frontLegMultiplier = query.has_rider ? 2.0 : 8.0;","variable.legSpeedMultiplier = query.has_rider ? 2.0 : 5.0;"],scale:"1.2"},animations:{general:{loop:!0,bones:{body:{position:[0,"query.is_pregnant ? 1.0 : 0.0",0],rotation:["-this",0,0]},eggbelly:{position:[0,-.08,0],rotation:["-this",0,0],scale:"query.is_pregnant ? 1.0 : 0.0"}}},move:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["math.clamp(math.cos(query.anim_time * 22.92) * query.modified_move_speed * 28.65, -90.0, 90.0) - this","-this","-this"]},leg1:{rotation:["math.clamp(math.cos(query.anim_time * 22.92 + 180) * query.modified_move_speed * 28.65, -90.0, 90.0) - this","-this","-this"]},leg2:{rotation:["-this","-this","math.clamp(math.cos(query.anim_time * 22.92 + 180) * query.modified_move_speed * 28.65, -90.0, 90.0) - this"]},leg3:{rotation:["-this","-this","math.clamp(math.cos(query.anim_time * 22.92) * query.modified_move_speed * 28.65, -90.0, 90.0) - this"]}}},ground_move:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["-this","math.clamp(math.cos(query.anim_time * variable.timemultiplier * variable.legspeedmultiplier * 57.3 + 180) * variable.backlegmultiplier * query.modified_move_speed * 57.3, -90.0, 90.0) - this","-this"]},leg1:{rotation:["-this","math.clamp(math.cos(query.anim_time * variable.timemultiplier * variable.legspeedmultiplier * 57.3) * variable.backlegmultiplier * query.modified_move_speed * 57.3, -90.0, 90.0) - this","-this"]},leg2:{rotation:["-this","query.is_laying_egg ? math.cos(query.life_time * 1146.0 + 180) * 90.0 : math.clamp(math.cos(query.anim_time * variable.timemultiplier * variable.legspeedmultiplier * 57.3 + 180) * variable.frontlegmultiplier * query.modified_move_speed * 57.3, -90.0, 90.0) - this","-this"]},leg3:{rotation:["-this","query.is_laying_egg ? math.cos(query.life_time * 1146.0) * 90.0 : math.clamp(math.cos(query.anim_time * variable.timemultiplier * variable.legspeedmultiplier * 57.3) * variable.frontlegmultiplier * query.modified_move_speed * 57.3, -90.0, 90.0) - this","-this"]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}}},animation_controllers:{general:{initial_state:"default",states:{default:{animations:["general"]}}},move:{initial_state:"default",states:{default:{animations:["look_at_target"],transitions:[{swimming:"query.is_in_water && !query.is_on_ground"},{walking:"!query.is_in_water && query.is_on_ground"}]},swimming:{animations:["move","look_at_target"],transitions:[{walking:"!query.is_in_water && query.is_on_ground"}]},walking:{animations:["ground_move","look_at_target"],transitions:[{swimming:"query.is_in_water && !query.is_on_ground"}]}}}},render_controllers:["controller.render.turtle"],spawn_egg:{texture:"spawn_egg",texture_index:50}},vex:{identifier:"minecraft:vex",min_engine_version:"1.8.0",materials:{default:"vex"},textures:{default:"textures/entity/illager/vex",charging:"textures/entity/illager/vex_charging"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:1,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:64,bones:[{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[0,0]}]},{name:"body",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,16]}]},{name:"rightArm",parent:"body",pivot:[-5,22,0],cubes:[{origin:[-8,12,-2],size:[4,12,4],uv:[40,16]}]},{name:"rightItem",pivot:[-6,13,0],neverRender:!0,parent:"rightarm"},{name:"leftArm",parent:"body",pivot:[5,22,0],mirror:!0,cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[40,16]}]},{name:"leg0",parent:"body",pivot:[-1.9,12,0],cubes:[{origin:[-3.9,0,-2],size:[4,12,4],uv:[0,16]},{origin:[-2.9,3,-2],size:[6,10,4],uv:[32,0]}]},{name:"leftwing",parent:"body",pivot:[0,24,0],mirror:!0,cubes:[{origin:[0,12,0],size:[20,12,1],uv:[0,32]}]},{name:"rightwing",parent:"body",pivot:[0,24,0],cubes:[{origin:[-20,12,0],size:[20,12,1],uv:[0,32]}]}]}},scripts:{pre_animation:["variable.tcos0 = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;"],scale:"0.4"},animations:{look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},move:{loop:!0,bones:{leftarm:{rotation:["variable.tcos0",0,0]},leftleg:{rotation:["variable.tcos0 * -1.4",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]},rightarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leftleg:{rotation:["-72.0 - this","-18.0 - this","-this"]},rightleg:{rotation:["-72.0 - this","18.0 - this","-this"]}}},holding:{loop:!0,bones:{leftarm:{rotation:["variable.is_holding_left ? (-this * 0.5 - 18.0) : 0.0",0,0]},rightarm:{rotation:["variable.is_holding_right ? (-this * 0.5 - 18.0) : 0.0",0,0]}}},brandish_spear:{loop:!0,bones:{rightarm:{rotation:["this * -0.5 - 157.5 - 22.5 * variable.charge_amount","-this",0]}}},charging:{loop:!0,bones:{rightarm:{rotation:["22.5 * variable.charge_amount - this","-this",0]}}},"attack.rotations":{loop:!0,bones:{body:{rotation:[0,"math.sin(math.sqrt(variable.attack_time) * 360) * 11.46 - this",0]},leftarm:{rotation:["math.sin(math.sqrt(variable.attack_time) * 360) * 11.46",0,0]},rightarm:{rotation:["math.sin(1.0 - math.pow(1.0 - variable.attack_time, 3.0) * 180.0) * (variable.is_brandishing_spear ? -1.0 : 1.0 )","variable.is_brandishing_spear ? 0.0 : (math.sin(math.sqrt(variable.attack_time) * 360) * 11.46) * 2.0",0]}}},sneaking:{loop:!0,bones:{body:{rotation:["0.5 - this",0,0]},head:{position:[0,1,0]},leftarm:{rotation:[72,0,0]},leftleg:{position:[0,-3,4]},rightarm:{rotation:[72,0,0]},rightleg:{position:[0,-3,4]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"((math.cos(query.life_time * 103.2) * 2.865) + 2.865) *-1.0"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},damage_nearby_mobs:{loop:!0,bones:{leftarm:{rotation:["-45.0-this","-this","-this"]},leftleg:{rotation:["45.0-this","-this","-this"]},rightarm:{rotation:["45.0-this","-this","-this"]},rightleg:{rotation:["-45.0-this","-this","-this"]}}},bow_and_arrow:{loop:!0,bones:{leftarm:{rotation:["query.target_x_rotation - 90.0 - math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation + 28.65","-(math.cos(query.life_time * 103.2) * 2.865) - 2.865"]},rightarm:{rotation:["query.target_x_rotation - 90.0 + math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation - 5.73","(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},swimming:{animation_length:1.3,loop:!0,bones:{leftarm:{rotation:{"0.7":{post:["math.lerp(this, 11.25 * math.mod(query.modified_distance_moved, 26.0), variable.leftarmswim_amount)","math.lerp(this, 180.0, variable.leftarmswim_amount)","math.lerp(this, 72.77 + 13.4 * math.mod(query.modified_distance_moved, 26.0), variable.leftarmswim_amount)"],pre:["math.lerp(this, 0.0, variable.leftarmswim_amount)","math.lerp(this, 180.0, variable.leftarmswim_amount)","math.lerp(this, 180.0 - 0.01877 * (-65.0 * math.mod(query.modified_distance_moved, 26.0) + math.mod(query.modified_distance_moved, 26.0) * math.mod(query.modified_distance_moved, 26.0)), variable.leftarmswim_amount)"]},"1.1":["math.lerp(this, 11.25 * math.mod(query.modified_distance_moved, 26.0), variable.leftarmswim_amount)","math.lerp(this, 180.0, variable.leftarmswim_amount)","math.lerp(this, 72.77 + 13.4 * math.mod(query.modified_distance_moved, 26.0), variable.leftarmswim_amount)"],"1.3":{post:["math.lerp(this, 90.0 - (22.5 * math.mod(query.modified_distance_moved, 26.0)), variable.leftarmswim_amount)","math.lerp(this, 180.0, variable.leftarmswim_amount)","math.lerp(this, 180.0, variable.leftarmswim_amount)"],pre:["math.lerp(this, 11.25 * math.mod(query.modified_distance_moved, 26.0), variable.leftarmswim_amount)","math.lerp(this, 180.0, variable.leftarmswim_amount)","math.lerp(this, 72.77 + 13.4 * math.mod(query.modified_distance_moved, 26.0), variable.leftarmswim_amount)"]}}},leftleg:{rotation:["math.lerp(this, math.cos(query.modified_distance_moved * 19.5 + 180.0) * 17.2, variable.leftarmswim_amount) - this",0,0]},rightarm:{rotation:{"0.7":{post:["math.lerp(this, 11.25 * math.mod(query.modified_distance_moved, 26.0), variable.rightarmswim_amount)","math.lerp(this, 180.0, variable.rightarmswim_amount)","math.lerp(this, 72.77 + 13.4 * math.mod(query.modified_distance_moved, 26.0), variable.rightarmswim_amount)"],pre:["math.lerp(this, 0.0, variable.rightarmswim_amount)","math.lerp(this, 180.0, variable.rightarmswim_amount)","math.lerp(this, -0.1019 * (-65.0 * math.mod(query.modified_distance_moved, 26.0) + math.mod(query.modified_distance_moved, 26.0) * math.mod(query.modified_distance_moved, 26.0)), variable.rightarmswim_amount)"]},"1.1":["math.lerp(this, 11.25 * math.mod(query.modified_distance_moved, 26.0), variable.rightarmswim_amount)","math.lerp(this, 180.0, variable.rightarmswim_amount)","math.lerp(this, 72.77 + 13.4 * math.mod(query.modified_distance_moved, 26.0), variable.rightarmswim_amount)"],"1.3":{post:["math.lerp(this, 90.0 - (22.5 * math.mod(query.modified_distance_moved, 26.0)), variable.rightarmswim_amount)","math.lerp(this, 180.0, variable.rightarmswim_amount)","math.lerp(this, 180.0, variable.rightarmswim_amount)"],pre:["math.lerp(this, 11.25 * math.mod(query.modified_distance_moved, 26.0), variable.rightarmswim_amount)","math.lerp(this, 180.0, variable.rightarmswim_amount)","math.lerp(this, 72.77 + 13.4 * math.mod(query.modified_distance_moved, 26.0), variable.rightarmswim_amount)"]}}},rightleg:{rotation:["math.lerp(this, math.cos(query.modified_distance_moved * 19.5) * 17.2, variable.leftarmswim_amount) - this",0,0]}}},use_item_progress:{loop:!0,bones:{rightarm:{rotation:["variable.use_item_startup_progress * -60.0 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -22.5 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -5.625 + variable.use_item_interval_progress * 11.25"]}}},vex_move:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leftwing:{position:[0,"-1.0 - this","2.0 - this"],rotation:["27.0 - this","-(27.0 + math.cos(query.life_time * 916.8) * 9.0) - this","-27.0 - this"]},leg0:{rotation:["variable.tcos0 * 1.4 + 36.0",0,0]},rightarm:{rotation:["query.is_charging ? (216.0 - this) : 0.0",0,0]},rightwing:{position:[0,"-1.0 - this","2.0 - this"],rotation:["27.0 - this","27.0 + math.cos(query.life_time * 916.8) * 9.0 - this","27.0 - this"]}}}},animation_controllers:{look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},move:{initial_state:"default",states:{default:{animations:["move"]}}},riding:{initial_state:"default",states:{default:{transitions:[{riding:"query.is_riding"}]},riding:{animations:["riding.arms","riding.legs"],transitions:[{default:"!query.is_riding"}]}}},holding:{initial_state:"default",states:{default:{animations:["holding"]}}},brandish_spear:{initial_state:"default",states:{brandish_spear:{animations:["brandish_spear"],transitions:[{default:"!variable.is_brandishing_spear"}]},default:{transitions:[{brandish_spear:"variable.is_brandishing_spear"}]}}},charging:{initial_state:"default",states:{charging:{animations:["charging"],transitions:[{default:"!query.is_charging"}]},default:{transitions:[{charging:"query.is_charging"}]}}},attack:{initial_state:"default",states:{attacking:{animations:["attack.rotations"],transitions:[{default:"variable.attack_time < 0.0"}]},default:{transitions:[{attacking:"variable.attack_time >= 0.0"}]}}},sneaking:{initial_state:"default",states:{default:{transitions:[{sneaking:"query.is_sneaking"}]},sneaking:{animations:["sneaking"],transitions:[{default:"!query.is_sneaking"}]}}},bob:{initial_state:"default",states:{default:{animations:["bob"]}}},damage_nearby_mobs:{initial_state:"default",states:{damage_nearby_mobs:{animations:["damage_nearby_mobs"],transitions:[{default:"!variable.damage_nearby_mobs"}]},default:{transitions:[{damage_nearby_mobs:"variable.damage_nearby_mobs"}]}}},bow_and_arrow:{initial_state:"default",states:{bow_and_arrow:{animations:["bow_and_arrow"],transitions:[{default:"!query.has_target"}]},default:{transitions:[{bow_and_arrow:"query.has_target"}]}}},swimming:{initial_state:"default",states:{default:{transitions:[{swimming:"variable.swim_amount > 0.0"}]},swimming:{animations:["swimming"],transitions:[{default:"variable.swim_amount <= 0.0"}]}}},use_item_progress:{initial_state:"default",states:{default:{transitions:[{use_item_progress:"( variable.use_item_interval_progress > 0.0 ) || ( variable.use_item_startup_progress > 0.0 )"}]},use_item_progress:{animations:["use_item_progress"],transitions:[{default:"( variable.use_item_interval_progress <= 0.0 ) && ( variable.use_item_startup_progress <= 0.0 )"}]}}},vex_move:{initial_state:"default",states:{default:{animations:["vex_move"]}}}},render_controllers:["controller.render.vex"],spawn_egg:{texture:"spawn_egg",texture_index:41}},villager:{identifier:"minecraft:villager",min_engine_version:"1.8.0",materials:{default:"villager"},textures:{farmer:"textures/entity/villager/profession/farmer",librarian:"textures/entity/villager/profession/librarian",priest:"textures/entity/villager/profession/cleric",smith:"textures/entity/villager/profession/weaponsmith",butcher:"textures/entity/villager/profession/butcher"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:2.5,visible_bounds_offset:[0,1.25,0],bones:[{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,10,8],uv:[0,0]}]},{name:"nose",parent:"head",pivot:[0,26,0],cubes:[{origin:[-1,23,-6],size:[2,4,2],uv:[24,0]}]},{name:"body",cubes:[{origin:[-4,12,-3],size:[8,12,6],uv:[16,20]},{origin:[-4,6,-3],size:[8,18,6],uv:[0,38],inflate:.5}]},{name:"arms",parent:"body",pivot:[0,22,0],cubes:[{origin:[-4,16,-2],size:[8,4,4],uv:[40,38]},{origin:[-8,16,-2],size:[4,8,4],uv:[44,22]},{origin:[4,16,-2],size:[4,8,4],uv:[44,22]}]},{name:"leg0",parent:"body",pivot:[-2,12,0],cubes:[{origin:[-4,0,-2],size:[4,12,4],uv:[0,22]}]},{name:"leg1",parent:"body",pivot:[2,12,0],cubes:[{origin:[0,0,-2],size:[4,12,4],uv:[0,22]}]}]}},scripts:{scale:"0.9375"},animations:{general:{loop:!0,bones:{arms:{position:[0,-1,-1],rotation:["-42.97 - this",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},move:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["(math.cos(query.anim_time * 38.17) * 40.0) - this","-this",0]},leg1:{rotation:["(math.cos(query.anim_time * 38.17 + 180) * 40.0) - this","-this",0]}}},baby_transform:{loop:!0,bones:{head:{scale:1.5}}}},animation_controllers:{general:{initial_state:"default",states:{default:{animations:["general",{look_at_target:"!query.is_sleeping"}]}}},move:{initial_state:"default",states:{default:{animations:[{move:"query.modified_move_speed"}]}}},baby:{initial_state:"baby",states:{baby:{animations:[{baby_transform:"query.is_baby"}]}}}},render_controllers:["controller.render.villager"],spawn_egg:{texture:"spawn_egg",texture_index:14}},vindicator:{identifier:"minecraft:vindicator",min_engine_version:"1.8.0",materials:{default:"vindicator"},textures:{default:"textures/entity/illager/vindicator"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:2.5,visible_bounds_offset:[0,1.25,0],texturewidth:64,textureheight:64,bones:[{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,10,8],uv:[0,0]}]},{name:"nose",parent:"head",pivot:[0,26,0],cubes:[{origin:[-1,23,-6],size:[2,4,2],uv:[24,0]}]},{name:"body",pivot:[0,24,0],cubes:[{origin:[-4,12,-3],size:[8,12,6],uv:[16,20]},{origin:[-4,6,-3],size:[8,18,6],uv:[0,38],inflate:.5}]},{name:"arms",parent:"body",pivot:[0,22,0],cubes:[{origin:[-8,16,-2],size:[4,8,4],uv:[44,22]},{origin:[4,16,-2],size:[4,8,4],uv:[44,22]},{origin:[-4,16,-2],size:[8,4,4],uv:[40,38]}]},{name:"leg0",parent:"body",pivot:[-2,12,0],cubes:[{origin:[-4,0,-2],size:[4,12,4],uv:[0,22]}]},{name:"leg1",parent:"body",pivot:[2,12,0],mirror:!0,cubes:[{origin:[0,0,-2],size:[4,12,4],uv:[0,22]}]},{name:"rightArm",parent:"body",pivot:[-5,22,0],cubes:[{origin:[-8,12,-2],size:[4,12,4],uv:[40,46]}]},{name:"rightItem",pivot:[-5.5,16,.5],neverRender:!0,parent:"rightArm"},{name:"leftArm",parent:"body",pivot:[5,22,0],mirror:!0,cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[40,46]}]}]}},spawn_egg:{texture:"spawn_egg",texture_index:39},scripts:{scale:"0.9375",animate:["vindicator_base","vindicator_walk","controller_look_at_target","controller_vindicator_base","controller_riding"]},animations:{look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leg0:{rotation:["-72.0 - this","18.0 - this","-this"]},leg1:{rotation:["-72.0 - this","-18.0 - this","-this"]}}},vindicator_base:{loop:!0,bones:{arms:{position:[0,"-3.0 - this","-1.0 - this"],rotation:["-42.97 - this",0,0]},leftarm:{rotation:["math.cos(query.life_time * 20.0 * 3.84) * 2.87",-9,"-1 * (math.cos(query.life_time * 20.0 * 5.16) * 2.87 + 2.87)"]},rightarm:{rotation:["math.cos(query.life_time * 20.0 * 3.84) * 2.87",9,"math.cos(query.life_time * 20.0 * 5.16) * 2.87 + 2.87"]}}},vindicator_attack:{loop:!0,bones:{leftarm:{rotation:["query.is_riding ? 0.0 : ((math.cos(query.life_time * 20.0 * 10.89) * 28.65) + (math.sin(variable.attack_time * 180.0) * 68.76 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0)) * 22.92))",0,0]},rightarm:{rotation:["(-108 + math.cos(query.life_time * 20.0 * 3.84) * 2.87) + (math.sin(variable.attack_time * 180.0) * 126.05 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0)) * 22.92)",0,0]}}},vindicator_hand_attack:{loop:!0,bones:{leftarm:{rotation:["(-108 + math.cos(query.life_time * 20.0 * 3.84) * 2.87) + (math.sin(variable.attack_time * 180.0) * 126.05 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0)) * 22.92)",0,0]},rightarm:{rotation:["(-108 + math.cos(query.life_time * 20.0 * 3.84) * 2.87) + (math.sin(variable.attack_time * 180.0) * 126.05 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0)) * 22.92)",0,0]}}},vindicator_walk:{loop:!0,bones:{leg0:{rotation:["(math.cos(query.modified_distance_moved * 38.17) * 80.21) * query.modified_move_speed * 0.5",0,0]},leg1:{rotation:["(math.cos(query.modified_distance_moved * 38.17 + 180) * 80.21) * query.modified_move_speed * 0.5",0,0]}}},celebrating:{loop:!0,bones:{leftarm:{rotation:["(math.cos(query.life_time * 800.0) * 2.865)",180,-135]},rightarm:{rotation:["(math.cos(query.life_time * 800.0) * 2.865)",180,153]}}}},render_controllers:["controller.render.vindicator"],enable_attachables:!0,animation_controllers:{controller_look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},controller_vindicator_base:{initial_state:"default",states:{default:{blend_transition:.2,blend_via_shortest_path:!0,transitions:[{celebrating:"query.is_celebrating"},{hand_attack:"!query.is_item_equipped && variable.has_target && variable.attack_time >= 0.0"},{melee_attack:"query.is_item_equipped && variable.has_target && variable.attack_time >= 0.0"}]},hand_attack:{blend_transition:.2,blend_via_shortest_path:!0,animations:["vindicator_hand_attack"],transitions:[{default:"query.is_item_equipped || !variable.has_target || variable.attack_time < 0.0 || query.is_celebrating"}]},melee_attack:{blend_transition:.2,blend_via_shortest_path:!0,animations:["vindicator_attack"],transitions:[{default:"!query.is_item_equipped || !variable.has_target || variable.attack_time < 0.0 || query.is_celebrating"}]},celebrating:{animations:["celebrating"],blend_transition:.2,blend_via_shortest_path:!0,transitions:[{default:"!query.is_celebrating"}]}}},controller_riding:{initial_state:"default",states:{default:{transitions:[{riding:"query.is_riding"}]},riding:{animations:["riding.arms","riding.legs"],transitions:[{default:"!query.is_riding"}]}}}}},wandering_trader:{identifier:"minecraft:wandering_trader",materials:{default:"wandering_trader"},textures:{default:"textures/entity/wandering_trader"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:2.5,visible_bounds_offset:[0,1.25,0],bones:[{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,10,8],uv:[0,0]}]},{name:"helmet",parent:"head",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,10,8],uv:[32,0],inflate:.5}]},{name:"brim",parent:"head",pivot:[0,24,0],bind_pose_rotation:[-90,0,0],cubes:[{origin:[-8,16,-6],size:[16,16,1],uv:[30,47],inflate:.1}]},{name:"nose",parent:"head",pivot:[0,26,0],cubes:[{origin:[-1,23,-6],size:[2,4,2],uv:[24,0]}]},{name:"body",locators:{lead_hold:[0,40,0]},cubes:[{origin:[-4,12,-3],size:[8,12,6],uv:[16,20]},{origin:[-4,6,-3],size:[8,18,6],uv:[0,38],inflate:.5}]},{name:"arms",parent:"body",pivot:[0,22,0],cubes:[{origin:[-4,16,-2],size:[8,4,4],uv:[40,38]},{origin:[-8,16,-2],size:[4,8,4],uv:[44,22]},{origin:[4,16,-2],size:[4,8,4],uv:[44,22],mirror:!0}]},{name:"held_item",parent:"arms",pivot:[0,0,0]},{name:"leg0",parent:"body",pivot:[-2,12,0],cubes:[{origin:[-4,0,-2],size:[4,12,4],uv:[0,22]}]},{name:"leg1",parent:"body",pivot:[2,12,0],cubes:[{origin:[0,0,-2],size:[4,12,4],uv:[0,22],mirror:!0}]}]}},scripts:{scale:"0.9375"},animations:{general:{loop:!0,bones:{arms:{position:[0,-1,-1],rotation:["-42.97 - this",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},raise_arms:{loop:!0,bones:{arms:{rotation:["variable.raise_arms * -15.0",0,0]}}},move:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["(math.cos(query.anim_time * 38.17) * 40.0) - this","-this",0]},leg1:{rotation:["(math.cos(query.anim_time * 38.17 + 180) * 40.0) - this","-this",0]}}}},animation_controllers:{general:{initial_state:"default",states:{default:{animations:["general",{look_at_target:"!query.is_sleeping"}]}}},raise_arms:{initial_state:"default",states:{default:{transitions:[{raising:"variable.raise_arms > 0.0"}]},raising:{animations:["raise_arms"],transitions:[{default:"variable.raise_arms == 0.0"}]}}},move:{initial_state:"default",states:{default:{animations:[{move:"query.modified_move_speed"}]}}}},render_controllers:["controller.render.wandering_trader"],spawn_egg:{texture:"spawn_egg_wandering_trader"}},witch:{identifier:"minecraft:witch",min_engine_version:"1.8.0",materials:{default:"witch"},textures:{default:"textures/entity/witch"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:3,visible_bounds_offset:[0,1.5,0],texturewidth:64,textureheight:128,bones:[{name:"nose",parent:"head",cubes:[{origin:[0,25,-6.75],size:[1,1,1],uv:[0,0],inflate:-.25}]},{name:"hat",parent:"head",pivot:[-5,32.03125,-5],cubes:[{origin:[-5,32.05,-5],size:[10,2,10],uv:[0,64]}]},{name:"hat2",parent:"hat",pivot:[1.75,32,2],cubes:[{origin:[-3.25,33.5,-3],size:[7,4,7],uv:[0,76]}],rotation:[-3,0,1.5]},{name:"hat3",parent:"hat2",pivot:[1.75,35,2],cubes:[{origin:[-1.5,36.5,-1],size:[4,4,4],uv:[0,87]}],rotation:[-6,0,3]},{name:"hat4",parent:"hat3",pivot:[1.75,38,2],cubes:[{origin:[.25,40,1],size:[1,2,1],uv:[0,95],inflate:.25}],rotation:[-12,0,6]}]}},scripts:{scale:"0.9375"},animations:{villager_general:{loop:!0,bones:{arms:{position:[0,-1,-1],rotation:["-42.97 - this",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},move:{anim_time_update:"query.modified_distance_moved",loop:!0,bones:{leg0:{rotation:["(math.cos(query.anim_time * 38.17) * 40.0) - this","-this",0]},leg1:{rotation:["(math.cos(query.anim_time * 38.17 + 180) * 40.0) - this","-this",0]}}},general:{loop:!0,bones:{nose:{rotation:["(variable.isholdingitem ? -25.7831 : (math.sin(query.life_time * 57.296) * 4.5)) - this",0,"(math.cos(query.life_time * 57.296) * 2.5) - this"]}}}},animation_controllers:{general:{initial_state:"default",states:{default:{animations:["villager_general","look_at_target","general"]}}},move:{initial_state:"default",states:{default:{animations:[{move:"query.modified_move_speed"}]}}}},render_controllers:["controller.render.witch"],spawn_egg:{texture:"spawn_egg",texture_index:17}},wither:{identifier:"minecraft:wither",min_engine_version:"1.8.0",materials:{default:"wither_boss",armor:"wither_boss_armor"},textures:{default:"textures/entity/wither/wither",armor_white:"textures/entity/wither/wither_armor",armor_blue:"textures/entity/wither/wither_armor",invulnerable:"textures/entity/wither/wither_invulnerable"},geometry:{default:{visible_bounds_width:3,visible_bounds_height:4,visible_bounds_offset:[0,2,0],texturewidth:64,textureheight:64,bones:[{name:"upperBodyPart1",cubes:[{origin:[-10,17.1,-.5],size:[20,3,3],uv:[0,16]}]},{name:"upperBodyPart2",parent:"upperBodyPart1",pivot:[-2,17.1,-.5],cubes:[{origin:[-2,7.1,-.5],size:[3,10,3],uv:[0,22]},{origin:[-6,13.6,0],size:[11,2,2],uv:[24,22]},{origin:[-6,11.1,0],size:[11,2,2],uv:[24,22]},{origin:[-6,8.6,0],size:[11,2,2],uv:[24,22]}]},{name:"upperBodyPart3",parent:"upperBodyPart2",pivot:[0,24,0],cubes:[{origin:[0,18,0],size:[3,6,3],uv:[12,22]}]},{name:"head1",parent:"upperBodyPart1",pivot:[0,20,0],cubes:[{origin:[-4,20,-4],size:[8,8,8],uv:[0,0]}]},{name:"head2",parent:"upperBodyPart1",pivot:[-9,18,-1],cubes:[{origin:[-12,18,-4],size:[6,6,6],uv:[32,0]}]},{name:"head3",parent:"upperBodyPart1",pivot:[9,18,-1],cubes:[{origin:[6,18,-4],size:[6,6,6],uv:[32,0]}]}]},armor:{visible_bounds_width:3,visible_bounds_height:4,visible_bounds_offset:[0,2,0],texturewidth:64,textureheight:64,bones:[{name:"upperBodyPart1",cubes:[{origin:[-10,17.1,-.5],size:[20,3,3],uv:[0,16]}],inflate:2},{name:"upperBodyPart2",parent:"upperBodyPart1",pivot:[-2,17.1,-.5],cubes:[{origin:[-2,7.1,-.5],size:[3,10,3],uv:[0,22]},{origin:[-6,13.6,0],size:[11,2,2],uv:[24,22]},{origin:[-6,11.1,0],size:[11,2,2],uv:[24,22]},{origin:[-6,8.6,0],size:[11,2,2],uv:[24,22]}],inflate:2},{name:"upperBodyPart3",parent:"upperBodyPart2",pivot:[0,24,0],cubes:[{origin:[0,18,0],size:[3,6,3],uv:[12,22]}],inflate:2},{name:"head1",parent:"upperBodyPart1",pivot:[0,20,0],cubes:[{origin:[-4,20,-4],size:[8,8,8],uv:[0,0]}],inflate:2},{name:"head2",parent:"upperBodyPart1",pivot:[-9,18,-1],cubes:[{origin:[-12,18,-4],size:[6,6,6],uv:[32,0]}],inflate:2},{name:"head3",parent:"upperBodyPart1",pivot:[9,18,-1],cubes:[{origin:[6,18,-4],size:[6,6,6],uv:[32,0]}],inflate:2}]}},scripts:{pre_animation:["variable.base_scale = 2;","variable.swell_clamped = Math.clamp(query.swell_amount, 0.0, 1.0);","variable.wobble = 1.0 + Math.sin(query.swell_amount * 5730) * query.swell_amount * 0.01;","variable.swell_adjustment = Math.pow(variable.swell_clamped, 4);","variable.scale_xz = (1.0 + variable.swell_adjustment * 0.4) * variable.wobble;","variable.scale_y = (1.0 + variable.swell_adjustment * 0.1) / variable.wobble;","variable.body_base_rotation = Math.cos(query.life_time * 114.6);","variable.upper_body_rotation = (0.065 + 0.05 * variable.body_base_rotation) * 180 + query.target_x_rotation;","variable.is_invulnerable = query.invulnerable_ticks > 0.0;","variable.display_normal_skin = (query.invulnerable_ticks <= 0) || ((query.invulnerable_ticks <= 80) && (Math.mod(query.invulnerable_ticks / 5, 2) == 1));"],scalex:"variable.scale_xz * variable.base_scale",scaley:"variable.scale_y * variable.base_scale",scalez:"variable.scale_xz * variable.base_scale"},animations:{scale:{loop:!0,bones:{upperbodypart1:{rotation:["-this","-this","-this"]}}},move:{loop:!0,bones:{upperbodypart2:{rotation:["variable.upper_body_rotation - this","-this","-this"]},upperbodypart3:{position:[-2,-16.9,-.5],rotation:["((0.2 + 0.1 * variable.body_base_rotation) * 180) - this","-this","-this"]}}},look_at_target:{loop:!0,bones:{head1:{rotation:["query.head_x_rotation(0) - this","query.head_y_rotation(0) - this","-this"]},head2:{rotation:["query.head_x_rotation(1) - this","query.head_y_rotation(1) - this","-this"]},head3:{rotation:["query.head_x_rotation(2) - this","query.head_y_rotation(2) - this","-this"]}}}},animation_controllers:{move:{initial_state:"default",states:{default:{animations:["scale","move","look_at_target"]}}}},render_controllers:["controller.render.wither_boss","controller.render.wither_boss_armor_white","controller.render.wither_boss_armor_blue"]},wither_skeleton:{identifier:"minecraft:wither_skeleton",min_engine_version:"1.8.0",materials:{default:"skeleton"},textures:{default:"textures/entity/skeleton/wither_skeleton"},geometry:{default:{texturewidth:64,textureheight:32,visible_bounds_width:1.5,visible_bounds_height:3,visible_bounds_offset:[0,1.5,0],bones:[{name:"body",parent:"waist",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,16]}]},{name:"waist",pivot:[0,12,0]},{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[0,0]}]},{name:"hat",parent:"head",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[32,0],inflate:.5}],neverRender:!0},{name:"rightArm",parent:"body",pivot:[-5,22,0],cubes:[{origin:[-6,12,-1],size:[2,12,2],uv:[40,16]}]},{name:"rightItem",parent:"rightArm",pivot:[-5,15,1],neverRender:!0},{name:"leftArm",parent:"body",pivot:[5,22,0],cubes:[{origin:[4,12,-1],size:[2,12,2],uv:[40,16]}],mirror:!0},{name:"leftItem",parent:"leftArm",pivot:[6,15,1],neverRender:!0},{name:"rightLeg",parent:"body",pivot:[-2,12,0],cubes:[{origin:[-3,0,-1],size:[2,12,2],uv:[0,16]}]},{name:"leftLeg",parent:"body",pivot:[2,12,0],cubes:[{origin:[1,0,-1],size:[2,12,2],uv:[0,16]}],mirror:!0}]}},scripts:{pre_animation:["variable.tcos0 = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;"]},animations:{look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},move:{loop:!0,bones:{leftarm:{rotation:["variable.tcos0",0,0]},leftleg:{rotation:["variable.tcos0 * -1.4",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]},rightarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leftleg:{rotation:["-72.0 - this","-18.0 - this","-this"]},rightleg:{rotation:["-72.0 - this","18.0 - this","-this"]}}},holding:{loop:!0,bones:{leftarm:{rotation:["variable.is_holding_left ? (-this * 0.5 - 18.0) : 0.0",0,0]},rightarm:{rotation:["variable.is_holding_right ? (-this * 0.5 - 18.0) : 0.0",0,0]}}},brandish_spear:{loop:!0,bones:{rightarm:{rotation:["this * -0.5 - 157.5 - 22.5 * variable.charge_amount","-this",0]}}},charging:{loop:!0,bones:{rightarm:{rotation:["22.5 * variable.charge_amount - this","-this",0]}}},"attack.rotations":{loop:!0,bones:{body:{rotation:[0,"math.sin(math.sqrt(variable.attack_time) * 360) * 11.46 - this",0]},leftarm:{rotation:["math.sin(math.sqrt(variable.attack_time) * 360) * 11.46",0,0]},rightarm:{rotation:["math.sin(1.0 - math.pow(1.0 - variable.attack_time, 3.0) * 180.0) * (variable.is_brandishing_spear ? -1.0 : 1.0 )","variable.is_brandishing_spear ? 0.0 : (math.sin(math.sqrt(variable.attack_time) * 360) * 11.46) * 2.0",0]}}},sneaking:{loop:!0,bones:{body:{rotation:["0.5 - this",0,0]},head:{position:[0,1,0]},leftarm:{rotation:[72,0,0]},leftleg:{position:[0,-3,4]},rightarm:{rotation:[72,0,0]},rightleg:{position:[0,-3,4]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"((math.cos(query.life_time * 103.2) * 2.865) + 2.865) *-1.0"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},damage_nearby_mobs:{loop:!0,bones:{leftarm:{rotation:["-45.0-this","-this","-this"]},leftleg:{rotation:["45.0-this","-this","-this"]},rightarm:{rotation:["45.0-this","-this","-this"]},rightleg:{rotation:["-45.0-this","-this","-this"]}}},bow_and_arrow:{loop:!0,bones:{leftarm:{rotation:["query.target_x_rotation - 90.0 - math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation + 28.65","-(math.cos(query.life_time * 103.2) * 2.865) - 2.865"]},rightarm:{rotation:["query.target_x_rotation - 90.0 + math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation - 5.73","(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},use_item_progress:{loop:!0,bones:{rightarm:{rotation:["variable.use_item_startup_progress * -60.0 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -22.5 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -5.625 + variable.use_item_interval_progress * 11.25"]}}},wither_skeleton_attack:{loop:!0,bones:{leftarm:{rotation:["-90 - ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4) - (math.sin(query.life_time * 76.776372) * 2.865) - this","5.73 - ((math.sin(variable.attack_time * 180.0) * 57.3) * 0.6) - this","math.cos(query.life_time * 103.13244) * -2.865 - 2.865 - this"]},rightarm:{rotation:["-90 - ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4) + (math.sin(query.life_time * 76.776372) * 2.865) - this","(math.sin(variable.attack_time * 180.0) * 57.3) * 0.6 - 5.73 - this","math.cos(query.life_time * 103.13244) * 2.865 + 2.865 - this"]}}},swimming:{loop:!0,bones:{body:{position:[0,"variable.swim_amount * -10.0 - this","variable.swim_amount * 9.0 - this"],rotation:["variable.swim_amount * (90.0 + query.target_x_rotation)",0,0]},leftarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) - (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, 14.325, variable.swim_amount) - (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},leftleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0 + 180.0) * 0.3, variable.swim_amount)",0,0]},rightarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) + (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, -14.325, variable.swim_amount) + (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},rightleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0) * 0.3, variable.swim_amount)",0,0]}}}},animation_controllers:{look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},move:{initial_state:"default",states:{default:{animations:["move"]}}},riding:{initial_state:"default",states:{default:{transitions:[{riding:"query.is_riding"}]},riding:{animations:["riding.arms","riding.legs"],transitions:[{default:"!query.is_riding"}]}}},holding:{initial_state:"default",states:{default:{animations:["holding"]}}},brandish_spear:{initial_state:"default",states:{brandish_spear:{animations:["brandish_spear"],transitions:[{default:"!variable.is_brandishing_spear"}]},default:{transitions:[{brandish_spear:"variable.is_brandishing_spear"}]}}},charging:{initial_state:"default",states:{charging:{animations:["charging"],transitions:[{default:"!query.is_charging"}]},default:{transitions:[{charging:"query.is_charging"}]}}},attack:{initial_state:"default",states:{attacking:{animations:["attack.rotations"],transitions:[{default:"variable.attack_time < 0.0"}]},default:{transitions:[{attacking:"variable.attack_time >= 0.0"}]}}},sneaking:{initial_state:"default",states:{default:{transitions:[{sneaking:"query.is_sneaking"}]},sneaking:{animations:["sneaking"],transitions:[{default:"!query.is_sneaking"}]}}},damage_nearby_mobs:{initial_state:"default",states:{damage_nearby_mobs:{animations:["damage_nearby_mobs"],transitions:[{default:"!variable.damage_nearby_mobs"}]},default:{transitions:[{damage_nearby_mobs:"variable.damage_nearby_mobs"}]}}},bow_and_arrow:{initial_state:"default",states:{bow_and_arrow:{animations:["bow_and_arrow"],transitions:[{default:"!query.has_target"}]},default:{transitions:[{bow_and_arrow:"query.has_target"}]}}},use_item_progress:{initial_state:"default",states:{default:{transitions:[{use_item_progress:"( variable.use_item_interval_progress > 0.0 ) || ( variable.use_item_startup_progress > 0.0 )"}]},use_item_progress:{animations:["use_item_progress"],transitions:[{default:"( variable.use_item_interval_progress <= 0.0 ) && ( variable.use_item_startup_progress <= 0.0 )"}]}}},wither_skeleton_attack:{initial_state:"default",states:{chase_target:{animations:["wither_skeleton_attack"],transitions:[{default:"!variable.has_target"}]},default:{transitions:[{chase_target:"variable.has_target"}]}}},swimming:{initial_state:"default",states:{default:{transitions:[{is_swimming:"variable.swim_amount > 0.0"}]},is_swimming:{animations:["swimming"],transitions:[{default:"variable.swim_amount <= 0.0"}]}}}},render_controllers:["controller.render.wither_skeleton"],enable_attachables:!0,spawn_egg:{texture:"spawn_egg",texture_index:29}},wither_skull:{identifier:"minecraft:wither_skull",materials:{default:"wither_skull"},textures:{default:"textures/entity/wither/wither"},geometry:{default:{bones:[{name:"head",cubes:[{origin:[-4,0,-4],size:[8,8,8],uv:[0,35]}]}],visible_bounds_width:1,visible_bounds_height:1,texturewidth:64,textureheight:64}},animations:{move:{loop:!0,bones:{head:{rotation:[0,"-query.target_y_rotation",0]}}}},scripts:{animate:["move"]},render_controllers:["controller.render.wither_skull"]},wolf:{identifier:"minecraft:wolf",materials:{default:"wolf"},textures:{default:"textures/entity/wolf/wolf",angry:"textures/entity/wolf/wolf_angry",tame:"textures/entity/wolf/wolf_tame"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:1,visible_bounds_offset:[0,.5,0],texturewidth:64,textureheight:32,bones:[{name:"head",pivot:[-1,10.5,-7],locators:{lead:[-1,10.5,-7]},cubes:[{origin:[-4,7.5,-9],size:[6,6,4],uv:[0,0]},{origin:[-4,13.5,-7],size:[2,2,1],uv:[16,14]},{origin:[0,13.5,-7],size:[2,2,1],uv:[16,14]},{origin:[-2.5,7.515625,-12],size:[3,3,4],uv:[0,10]}]},{name:"body",pivot:[0,10,2],cubes:[{origin:[-4,3,-1],size:[6,9,6],uv:[18,14]}]},{name:"upperBody",pivot:[-1,10,2],cubes:[{origin:[-5,7,-1],size:[8,6,7],uv:[21,0]}]},{name:"leg0",pivot:[-2.5,8,7],cubes:[{origin:[-3.5,0,6],size:[2,8,2],uv:[0,18]}]},{name:"leg1",pivot:[.5,8,7],cubes:[{origin:[-.5,0,6],size:[2,8,2],uv:[0,18]}]},{name:"leg2",pivot:[-2.5,8,-4],cubes:[{origin:[-3.5,0,-5],size:[2,8,2],uv:[0,18]}]},{name:"leg3",pivot:[.5,8,-4],cubes:[{origin:[-.5,0,-5],size:[2,8,2],uv:[0,18]}]},{name:"tail",pivot:[-1,12,8],cubes:[{origin:[-2,4,7],size:[2,8,2],uv:[9,18]}]}]}},scripts:{pre_animation:["variable.body_shake_angle = 0.05 * query.frame_alpha + query.shake_angle;","variable.body_roll_progress = Math.clamp((variable.body_shake_angle - 0.16) / 1.8, 0, 1);","variable.body_rot_z = Math.sin(variable.body_roll_progress * 180) * Math.sin(variable.body_roll_progress * 1980) * 27;","variable.upper_body_roll_progress = Math.clamp((variable.body_shake_angle - 0.08) / 1.8, 0, 1);","variable.upper_body_rot_z = (Math.sin(variable.upper_body_roll_progress * 180) * Math.sin(variable.upper_body_roll_progress * 1980) * 27) - variable.body_rot_z;","variable.tail_roll_progress = Math.clamp((variable.body_shake_angle - 0.2) / 1.8, 0, 1);","variable.tail_rot_z = (Math.sin(variable.tail_roll_progress * 180) * Math.sin(variable.tail_roll_progress * 1980) * 27) - variable.body_rot_z;","variable.head_roll_progress = Math.clamp(variable.body_shake_angle / 1.8, 0, 1);","variable.head_rot_z = (Math.sin(variable.head_roll_progress * 180) * Math.sin(variable.head_roll_progress * 1980) * 27) - variable.body_rot_z;"]},animations:{wolf_setup:{loop:!0,bones:{body:{position:["-this","-14 - this","2.0 - this"],rotation:["90 - this",0,0]},leg0:{position:["-2.5 - this","-16 - this","7 - this"]},leg1:{position:["0.5 - this","-16 - this","7 - this"]},leg2:{position:["-2.5 - this","-16 - this","-4 - this"]},leg3:{position:["0.5 - this","-16 - this","-4 - this"]},tail:{position:["-1.0 - this","-12 - this","8.0 - this"]},upperbody:{position:["-1.0 - this","-14 - this","-3.0 - this"],rotation:["90 - this",0,0]}}},wolf_baby_scaling:{loop:!0,bones:{head:{position:[0,1,-2],scale:1.6}}},wolf_look_at:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation - this","query.target_y_rotation - this",0]}}},wolf_head_rot_z:{loop:!0,bones:{head:{rotation:[0,0,"(query.is_interested ? (query.head_roll_angle * 57.3) : 0) + (query.is_shaking_wetness ? variable.head_rot_z : 0) - this"]}}},wolf_tail_default:{loop:!0,bones:{tail:{rotation:["query.tail_angle * 57.3 - this",0,"variable.tail_rot_z - this"]}}},wolf_angry:{loop:!0,bones:{tail:{rotation:[0,"query.is_angry ? -this : (math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed * 80.22 - this)",0]}}},wolf_sitting:{loop:!0,bones:{body:{position:["-this","-18 - this","-this"],rotation:["45.0 - this",0,0]},leg0:{position:["-2.5 - this","-22 - this","2 - this"],rotation:["270 - this",0,0]},leg1:{position:["0.5 - this","-22 - this","2 - this"],rotation:["270 - this",0,0]},leg2:{position:["-2.49 - this","-17 - this","-4 - this"],rotation:["333 - this",0,0]},leg3:{position:["0.51 - this","-17 - this","-4 - this"],rotation:["333 - this",0,0]},tail:{position:["-1.0 - this","-19 - this","6.0 - this"]},upperbody:{position:["-1.0 - this","-16 - this","-3.0 - this"],rotation:["72 - this","-this",0]}}},wolf_shaking:{loop:!0,bones:{body:{rotation:[0,0,"variable.body_rot_z - this"]},upperbody:{rotation:[0,0,"variable.upper_body_rot_z - this"]}}},wolf_leg_default:{loop:!0,bones:{leg0:{rotation:["math.cos(query.modified_distance_moved * 38.17) * 80.22 * query.modified_move_speed - this",0,0]},leg1:{rotation:["math.cos(query.modified_distance_moved * 38.17 + 180) * 80.22 * query.modified_move_speed - this",0,0]},leg2:{rotation:["math.cos(query.modified_distance_moved * 38.17 + 180) * 80.22 * query.modified_move_speed - this",0,0]},leg3:{rotation:["math.cos(query.modified_distance_moved * 38.17) * 80.22 * query.modified_move_speed - this",0,0]}}}},animation_controllers:{wolf_setup:{initial_state:"default",states:{default:{animations:["wolf_setup"]}}},wolf_look_at:{initial_state:"default",states:{default:{animations:["wolf_look_at"]}}},wolf_baby_scaling:{initial_state:"default",states:{baby:{animations:["wolf_baby_scaling"],transitions:[{default:"!query.is_baby"}]},default:{transitions:[{baby:"query.is_baby"}]}}},wolf_head_rot_z:{initial_state:"default",states:{default:{transitions:[{rot:"query.is_interested || query.is_shaking_wetness"}]},rot:{animations:["wolf_head_rot_z"],transitions:[{default:"!query.is_interested && !query.is_shaking_wetness"}]}}},wolf_tail_default:{initial_state:"default",states:{default:{animations:["wolf_tail_default"]}}},wolf_angry:{initial_state:"default",states:{default:{animations:["wolf_angry"]}}},wolf_sitting:{initial_state:"default",states:{default:{animations:["wolf_leg_default"],transitions:[{sitting:"query.is_sitting"}]},sitting:{animations:["wolf_sitting"],transitions:[{default:"!query.is_sitting"}]}}},wolf_shaking:{initial_state:"default",states:{default:{transitions:[{shaking:"query.is_shaking_wetness"}]},shaking:{animations:["wolf_shaking"],transitions:[{default:"!query.is_shaking_wetness"}]}}}},render_controllers:["controller.render.wolf"],spawn_egg:{texture:"spawn_egg",texture_index:4}},zoglin:{identifier:"minecraft:zoglin",materials:{default:"zoglin"},textures:{default:"textures/entity/hoglin/zoglin"},geometry:{default:{bones:[{name:"body",pivot:[0,19,-3],cubes:[{origin:[-8,11,-7],size:[16,14,26],inflate:.02,uv:[1,1]},{origin:[0,22,-10],size:[0,10,19],inflate:.02,uv:[90,33]}],locators:{lead:[0,20,-5]}},{name:"head",parent:"body",pivot:[0,22,-5],rotation:[50,0,0],cubes:[{origin:[-7,21,-24],size:[14,6,19],uv:[61,1]},{origin:[-8,22,-19],size:[2,11,2],uv:[1,13]},{origin:[6,22,-19],size:[2,11,2],uv:[1,13]}]},{name:"right_ear",parent:"head",pivot:[-7,27,-7],rotation:[0,0,-50],cubes:[{origin:[-13,26,-10],size:[6,1,4],uv:[1,1]}]},{name:"left_ear",parent:"head",pivot:[7,27,-7],rotation:[0,0,50],cubes:[{origin:[7,26,-10],size:[6,1,4],uv:[1,6]}]},{name:"leg_back_right",pivot:[6,8,17],cubes:[{origin:[-8,0,13],size:[5,11,5],uv:[21,45]}]},{name:"leg_back_left",pivot:[-6,8,17],cubes:[{origin:[3,0,13],size:[5,11,5],uv:[0,45]}]},{name:"leg_front_right",pivot:[-6,12,-3],cubes:[{origin:[-8,0,-6],size:[6,14,6],uv:[66,42]}]},{name:"leg_front_left",pivot:[6,12,-3],cubes:[{origin:[2,0,-6],size:[6,14,6],uv:[41,42]}]}],visible_bounds_width:4,visible_bounds_height:3,visible_bounds_offset:[0,1.5,0],texturewidth:128,textureheight:64}},spawn_egg:{base_color:"#c66e55",overlay_color:"#e6e6e6"},scripts:{pre_animation:["variable.tcos_right_side = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;","variable.tcos_left_side = -variable.tcos_right_side;","variable.attack_head_rot =  Math.sin(variable.attack_time * 180.0) * -37.3;"],animate:["walk","look_at_target",{attack:"variable.has_target && variable.attack_time >= 0.0"},{hoglin_baby_scaling:"query.is_baby"}]},animations:{walk:{loop:!0,bones:{left_ear:{rotation:[0,0,"variable.tcos_left_side * 0.5"]},right_ear:{rotation:[0,0,"variable.tcos_right_side * 0.5"]},leg_back_right:{rotation:["variable.tcos_right_side",0,0]},leg_back_left:{rotation:["variable.tcos_left_side",0,0]},leg_front_right:{rotation:["-variable.tcos_right_side",0,0]},leg_front_left:{rotation:["-variable.tcos_left_side",0,0]}}},look_at_target:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:[0,"query.target_y_rotation - this",0]}}},attack:{loop:!0,bones:{head:{rotation:["variable.attack_head_rot",0,0]}}},hoglin_baby_scaling:{loop:!0,bones:{head:{position:[0,10,4],scale:1.4}}}},render_controllers:["controller.render.zoglin"]},zombie:{identifier:"minecraft:zombie",min_engine_version:"1.8.0",materials:{default:"zombie"},textures:{default:"textures/entity/zombie/zombie"},geometry:{default:{visible_bounds_width:2,visible_bounds_height:2,visible_bounds_offset:[0,1,0],texturewidth:64,textureheight:32,bones:[{name:"body",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,16]}],parent:"waist"},{name:"waist",neverRender:!0,pivot:[0,12,0]},{name:"head",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[0,0]}],parent:"body"},{name:"hat",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[32,0],inflate:.5}],neverRender:!0,parent:"head"},{name:"rightArm",pivot:[-5,22,0],cubes:[{origin:[-8,12,-2],size:[4,12,4],uv:[40,16]}],parent:"body"},{name:"rightItem",pivot:[-6,15,1],neverRender:!0,parent:"rightArm"},{name:"leftArm",pivot:[5,22,0],cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[40,16]}],mirror:!0,parent:"body"},{name:"rightLeg",pivot:[-1.9,12,0],cubes:[{origin:[-3.9,0,-2],size:[4,12,4],uv:[0,16]}],parent:"body"},{name:"leftLeg",pivot:[1.9,12,0],cubes:[{origin:[-.1,0,-2],size:[4,12,4],uv:[0,16]}],mirror:!0,parent:"body"}]}},spawn_egg:{texture:"spawn_egg",texture_index:12},scripts:{pre_animation:["variable.tcos0 = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;"]},animations:{humanoid_big_head:{loop:!0,bones:{head:{scale:1.4}}},look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},move:{loop:!0,bones:{leftarm:{rotation:["variable.tcos0",0,0]},leftleg:{rotation:["variable.tcos0 * -1.4",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]},rightarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leftleg:{rotation:["-72.0 - this","-18.0 - this","-this"]},rightleg:{rotation:["-72.0 - this","18.0 - this","-this"]}}},holding:{loop:!0,bones:{leftarm:{rotation:["variable.is_holding_left ? (-this * 0.5 - 18.0) : 0.0",0,0]},rightarm:{rotation:["variable.is_holding_right ? (-this * 0.5 - 18.0) : 0.0",0,0]}}},brandish_spear:{loop:!0,bones:{rightarm:{rotation:["this * -0.5 - 157.5 - 22.5 * variable.charge_amount","-this",0]}}},charging:{loop:!0,bones:{rightarm:{rotation:["22.5 * variable.charge_amount - this","-this",0]}}},"attack.rotations":{loop:!0,bones:{body:{rotation:[0,"math.sin(math.sqrt(variable.attack_time) * 360) * 11.46 - this",0]},leftarm:{rotation:["math.sin(math.sqrt(variable.attack_time) * 360) * 11.46",0,0]},rightarm:{rotation:["math.sin(1.0 - math.pow(1.0 - variable.attack_time, 3.0) * 180.0) * (variable.is_brandishing_spear ? -1.0 : 1.0 )","variable.is_brandishing_spear ? 0.0 : (math.sin(math.sqrt(variable.attack_time) * 360) * 11.46) * 2.0",0]}}},sneaking:{loop:!0,bones:{body:{rotation:["0.5 - this",0,0]},head:{position:[0,1,0]},leftarm:{rotation:[72,0,0]},leftleg:{position:[0,-3,4]},rightarm:{rotation:[72,0,0]},rightleg:{position:[0,-3,4]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"((math.cos(query.life_time * 103.2) * 2.865) + 2.865) *-1.0"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},damage_nearby_mobs:{loop:!0,bones:{leftarm:{rotation:["-45.0-this","-this","-this"]},leftleg:{rotation:["45.0-this","-this","-this"]},rightarm:{rotation:["45.0-this","-this","-this"]},rightleg:{rotation:["-45.0-this","-this","-this"]}}},bow_and_arrow:{loop:!0,bones:{leftarm:{rotation:["query.target_x_rotation - 90.0 - math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation + 28.65","-(math.cos(query.life_time * 103.2) * 2.865) - 2.865"]},rightarm:{rotation:["query.target_x_rotation - 90.0 + math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation - 5.73","(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},use_item_progress:{loop:!0,bones:{rightarm:{rotation:["variable.use_item_startup_progress * -60.0 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -22.5 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -5.625 + variable.use_item_interval_progress * 11.25"]}}},zombie_attack_bare_hand:{loop:!0,bones:{leftarm:{rotation:["-90.0 - ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4) - (math.sin(query.life_time * 76.776372) * 2.865) - this","5.73 - ((math.sin(variable.attack_time * 180.0) * 57.3) * 0.6) - this","math.cos(query.life_time * 103.13244) * -2.865 - 2.865 - this"]},rightarm:{rotation:["90.0 * (variable.is_brandishing_spear - 1.0) - ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4) + (math.sin(query.life_time * 76.776372) * 2.865) - this","(math.sin(variable.attack_time * 180.0) * 57.3) * 0.6 - 5.73 - this","math.cos(query.life_time * 103.13244) * 2.865 + 2.865 - this"]}}},swimming:{loop:!0,bones:{body:{position:[0,"variable.swim_amount * -10.0 - this","variable.swim_amount * 9.0 - this"],rotation:["variable.swim_amount * (90.0 + query.target_x_rotation)",0,0]},leftarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) - (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, 14.325, variable.swim_amount) - (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},leftleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0 + 180.0) * 0.3, variable.swim_amount)",0,0]},rightarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) + (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, -14.325, variable.swim_amount) + (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},rightleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0) * 0.3, variable.swim_amount)",0,0]}}}},animation_controllers:{humanoid_baby_big_head:{initial_state:"default",states:{baby:{animations:["humanoid_big_head"],transitions:[{default:"!query.is_baby"}]},default:{transitions:[{baby:"query.is_baby"}]}}},look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},move:{initial_state:"default",states:{default:{animations:["move"]}}},riding:{initial_state:"default",states:{default:{transitions:[{riding:"query.is_riding"}]},riding:{animations:["riding.arms","riding.legs"],transitions:[{default:"!query.is_riding"}]}}},holding:{initial_state:"default",states:{default:{animations:["holding"]}}},brandish_spear:{initial_state:"default",states:{brandish_spear:{animations:["brandish_spear"],transitions:[{default:"!variable.is_brandishing_spear"}]},default:{transitions:[{brandish_spear:"variable.is_brandishing_spear"}]}}},charging:{initial_state:"default",states:{charging:{animations:["charging"],transitions:[{default:"!query.is_charging"}]},default:{transitions:[{charging:"query.is_charging"}]}}},attack:{initial_state:"default",states:{attacking:{animations:["attack.rotations"],transitions:[{default:"variable.attack_time < 0.0"}]},default:{transitions:[{attacking:"variable.attack_time >= 0.0"}]}}},sneaking:{initial_state:"default",states:{default:{transitions:[{sneaking:"query.is_sneaking"}]},sneaking:{animations:["sneaking"],transitions:[{default:"!query.is_sneaking"}]}}},bob:{initial_state:"default",states:{default:{animations:["bob"]}}},damage_nearby_mobs:{initial_state:"default",states:{damage_nearby_mobs:{animations:["damage_nearby_mobs"],transitions:[{default:"!variable.damage_nearby_mobs"}]},default:{transitions:[{damage_nearby_mobs:"variable.damage_nearby_mobs"}]}}},bow_and_arrow:{initial_state:"default",states:{bow_and_arrow:{animations:["bow_and_arrow"],transitions:[{default:"!query.has_target"}]},default:{transitions:[{bow_and_arrow:"query.has_target"}]}}},use_item_progress:{initial_state:"default",states:{default:{transitions:[{use_item_progress:"( variable.use_item_interval_progress > 0.0 ) || ( variable.use_item_startup_progress > 0.0 )"}]},use_item_progress:{animations:["use_item_progress"],transitions:[{default:"( variable.use_item_interval_progress <= 0.0 ) && ( variable.use_item_startup_progress <= 0.0 )"}]}}},zombie_attack_bare_hand:{initial_state:"default",states:{default:{transitions:[{is_bare_hand:"variable.is_holding_left != 1.0"}]},is_bare_hand:{animations:["zombie_attack_bare_hand"],transitions:[{default:"variable.is_holding_left == 1.0"}]}}},swimming:{initial_state:"default",states:{default:{transitions:[{is_swimming:"variable.swim_amount > 0.0"}]},is_swimming:{animations:["swimming"],transitions:[{default:"variable.swim_amount <= 0.0"}]}}}},render_controllers:["controller.render.zombie"],enable_attachables:!0},zombie_horse:{identifier:"minecraft:zombie_horse",textures:{base_brown:"textures/entity/horse/horse_brown",base_white:"textures/entity/horse/horse_white",base_chestnut:"textures/entity/horse/horse_chestnut",base_creamy:"textures/entity/horse/horse_creamy",base_black:"textures/entity/horse/horse_black",base_gray:"textures/entity/horse/horse_gray",base_darkbrown:"textures/entity/horse/horse_darkbrown",markings_none:"textures/entity/horse/horse_markings_none",markings_white:"textures/entity/horse/horse_markings_white",markings_whitefield:"textures/entity/horse/horse_markings_whitefield",markings_whitedots:"textures/entity/horse/horse_markings_whitedots",markings_blackdots:"textures/entity/horse/horse_markings_blackdots",mule:"textures/entity/horse/mule",donkey:"textures/entity/horse/donkey",skeleton:"textures/entity/horse/horse_skeleton",zombie:"textures/entity/horse/horse_zombie",armor_none:"textures/entity/horse/armor/horse_armor_none",armor_leather:"textures/entity/horse/armor/horse_armor_leather",armor_iron:"textures/entity/horse/armor/horse_armor_iron",armor_gold:"textures/entity/horse/armor/horse_armor_gold",armor_diamond:"textures/entity/horse/armor/horse_armor_diamond"},geometry:{default:{visible_bounds_width:2,visible_bounds_height:3,visible_bounds_offset:[0,1,0],texturewidth:128,textureheight:128,bones:[{name:"Body",pivot:[0,13,9],rotation:[0,0,0],cubes:[{origin:[-5,11,-10],size:[10,10,24],uv:[0,34]}]},{name:"TailA",pivot:[0,21,14],rotation:[-65,0,0],cubes:[{origin:[-1,20,14],size:[2,2,3],uv:[44,0]}]},{name:"TailB",pivot:[0,21,14],rotation:[-65,0,0],cubes:[{origin:[-1.5,19,17],size:[3,4,7],uv:[38,7]}]},{name:"TailC",pivot:[0,21,14],rotation:[-80.34,0,0],cubes:[{origin:[-1.5,21.5,23],size:[3,4,7],uv:[24,3]}]},{name:"Leg1A",pivot:[4,15,11],rotation:[0,0,0],cubes:[{origin:[1.5,8,8.5],size:[4,9,5],uv:[78,29]}]},{name:"Leg1B",pivot:[4,8,11],rotation:[0,0,0],cubes:[{origin:[2,3,9.5],size:[3,5,3],uv:[78,43]}]},{name:"Leg1C",pivot:[4,8,11],rotation:[0,0,0],cubes:[{origin:[1.5,-.1,9],size:[4,3,4],uv:[78,51]}]},{name:"Leg2A",pivot:[-4,15,11],rotation:[0,0,0],cubes:[{origin:[-5.5,8,8.5],size:[4,9,5],uv:[96,29]}]},{name:"Leg2B",pivot:[-4,8,11],rotation:[0,0,0],cubes:[{origin:[-5,3,9.5],size:[3,5,3],uv:[96,43]}]},{name:"Leg2C",pivot:[-4,8,11],rotation:[0,0,0],cubes:[{origin:[-5.5,-.1,9],size:[4,3,4],uv:[96,51]}]},{name:"Leg3A",pivot:[4,15,-8],rotation:[0,0,0],cubes:[{origin:[2.1,8,-10.1],size:[3,8,4],uv:[44,29]}]},{name:"Leg3B",pivot:[4,8,-8],rotation:[0,0,0],cubes:[{origin:[2.1,3,-9.6],size:[3,5,3],uv:[44,41]}]},{name:"Leg3C",pivot:[4,8,-8],rotation:[0,0,0],cubes:[{origin:[1.6,-.1,-10.1],size:[4,3,4],uv:[44,51]}]},{name:"Leg4A",pivot:[-4,15,-8],rotation:[0,0,0],cubes:[{origin:[-5.1,8,-10.1],size:[3,8,4],uv:[60,29]}]},{name:"Leg4B",pivot:[-4,8,-8],rotation:[0,0,0],cubes:[{origin:[-5.1,3,-9.6],size:[3,5,3],uv:[60,41]}]},{name:"Leg4C",pivot:[-4,8,-8],rotation:[0,0,0],cubes:[{origin:[-5.6,-.1,-10.1],size:[4,3,4],uv:[60,51]}]},{name:"Head",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,25,-11.5],size:[5,5,7],uv:[0,0]}]},{name:"UMouth",pivot:[0,20.05,-10],rotation:[30,0,0],cubes:[{origin:[-2,27.05,-17],size:[4,3,6],uv:[24,18]}]},{name:"LMouth",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2,25,-16.5],size:[4,2,5],uv:[24,27]}]},{name:"Ear1",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[.45,29,-6],size:[2,3,1],uv:[0,0]}]},{name:"Ear2",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.45,29,-6],size:[2,3,1],uv:[0,0]}]},{name:"MuleEarL",pivot:[0,20,-10],rotation:[30,0,15],cubes:[{origin:[-2,29,-6],size:[2,7,1],uv:[0,12]}]},{name:"MuleEarR",pivot:[0,20,-10],rotation:[30,0,-15],cubes:[{origin:[0,29,-6],size:[2,7,1],uv:[0,12]}]},{name:"Neck",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.05,15.8,-12],size:[4,14,8],uv:[0,12]}]},{name:"Bag1",pivot:[-7.5,21,10],rotation:[0,90,0],cubes:[{origin:[-10.5,13,10],size:[8,8,3],uv:[0,34]}]},{name:"Bag2",pivot:[4.5,21,10],rotation:[0,90,0],cubes:[{origin:[1.5,13,10],size:[8,8,3],uv:[0,47]}]},{name:"Saddle",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-5,21,-1],size:[10,1,8],uv:[80,0]}]},{name:"SaddleB",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-1.5,22,-1],size:[3,1,2],uv:[106,9]}]},{name:"SaddleC",pivot:[0,22,2],rotation:[0,0,0],cubes:[{origin:[-4,22,5],size:[8,1,2],uv:[80,9]}]},{name:"SaddleL2",pivot:[5,21,2],rotation:[0,0,0],cubes:[{origin:[4.5,13,1],size:[1,2,2],uv:[74,0]}]},{name:"SaddleL",pivot:[5,21,2],rotation:[0,0,0],cubes:[{origin:[4.5,15,1.5],size:[1,6,1],uv:[70,0]}]},{name:"SaddleR2",pivot:[-5,21,2],rotation:[0,0,0],cubes:[{origin:[-5.5,13,1],size:[1,2,2],uv:[74,4]}]},{name:"SaddleR",pivot:[-5,21,2],rotation:[0,0,0],cubes:[{origin:[-5.5,15,1.5],size:[1,6,1],uv:[80,0]}]},{name:"SaddleMouthL",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[1.5,26,-14],size:[1,2,2],uv:[74,13]}]},{name:"SaddleMouthR",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,26,-14],size:[1,2,2],uv:[74,13]}]},{name:"SaddleMouthLine",pivot:[0,20,-10],rotation:[0,0,0],cubes:[{origin:[2.6,23,-16],size:[0,3,16],uv:[44,10]}]},{name:"SaddleMouthLineR",pivot:[0,20,-10],rotation:[0,0,0],cubes:[{origin:[-2.6,23,-16],size:[0,3,16],uv:[44,5]}]},{name:"Mane",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-1,15.5,-5],size:[2,16,4],uv:[58,0]}]},{name:"HeadSaddle",pivot:[0,20,-10],rotation:[30,0,0],cubes:[{origin:[-2.5,25.1,-17],size:[5,5,12],uv:[80,12],inflate:.05}]}]}},spawn_egg:{texture:"spawn_egg",texture_index:33}},zombified_piglin:{identifier:"minecraft:zombie_pigman",min_engine_version:"1.8.0",materials:{default:"zombie"},textures:{default:"textures/entity/piglin/zombified_piglin"},geometry:{default:{bones:[{name:"body",pivot:[0,24,0],cubes:[{origin:[-4,12,-2],size:[8,12,4],uv:[16,16]},{origin:[-4,12,-2],size:[8,12,4],uv:[16,32],inflate:.25}]},{name:"head",parent:"body",pivot:[0,24,0],cubes:[{origin:[-5,24,-4],size:[10,8,8],uv:[0,0],inflate:-.02},{origin:[-2,24,-5],size:[4,4,1],uv:[31,1]},{origin:[2,24,-5],size:[1,2,1],uv:[2,4]},{origin:[-3,24,-5],size:[1,2,1],uv:[2,0]}],inflate:-.02},{name:"leftear",parent:"head",pivot:[5,30,0],rotation:[0,0,-30],cubes:[{origin:[4,25,-2],size:[1,5,4],uv:[51,6]}]},{name:"rightear",parent:"head",pivot:[-5,30,0],rotation:[0,0,30],cubes:[{origin:[-5,25,-2],size:[1,5,4],uv:[39,6]}]},{name:"hat",parent:"head",pivot:[0,24,0]},{name:"rightarm",parent:"body",pivot:[-5,22,0],cubes:[{origin:[-8,12,-2],size:[4,12,4],uv:[40,16]},{origin:[-8,12,-2],size:[4,12,4],uv:[40,32],inflate:.25}]},{name:"rightItem",parent:"rightarm",pivot:[-6,15,1]},{name:"leftarm",parent:"body",pivot:[5,22,0],cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[32,48]},{origin:[4,12,-2],size:[4,12,4],uv:[48,48],inflate:.25}]},{name:"leftItem",parent:"leftArm",pivot:[6,15,1]},{name:"rightleg",parent:"body",pivot:[-1.9,12,0],cubes:[{origin:[-4,0,-2],size:[4,12,4],uv:[0,16]},{origin:[-4,0,-2],size:[4,12,4],uv:[0,32],inflate:.25}]},{name:"leftleg",parent:"body",pivot:[1.9,12,0],cubes:[{origin:[0,0,-2],size:[4,12,4],uv:[16,48]},{origin:[0,0,-2],size:[4,12,4],uv:[0,48],inflate:.25}]}],visible_bounds_width:2,visible_bounds_height:2,visible_bounds_offset:[0,1,0],texturewidth:64,textureheight:64}},spawn_egg:{texture:"spawn_egg",texture_index:13},scripts:{pre_animation:["variable.tcos0 = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;"]},animations:{humanoid_big_head:{loop:!0,bones:{head:{scale:1.4}}},humanoid_base_pose:{loop:!0,bones:{waist:{rotation:[0,0,0]}}},look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},move:{loop:!0,bones:{leftarm:{rotation:["variable.tcos0",0,0]},leftleg:{rotation:["variable.tcos0 * -1.4",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]},rightarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leftleg:{rotation:["-72.0 - this","-18.0 - this","-this"]},rightleg:{rotation:["-72.0 - this","18.0 - this","-this"]}}},holding:{loop:!0,bones:{leftarm:{rotation:["variable.is_holding_left ? (-this * 0.5 - 18.0) : 0.0",0,0]},rightarm:{rotation:["variable.is_holding_right ? (-this * 0.5 - 18.0) : 0.0",0,0]}}},brandish_spear:{loop:!0,bones:{rightarm:{rotation:["this * -0.5 - 157.5 - 22.5 * variable.charge_amount","-this",0]}}},charging:{loop:!0,bones:{rightarm:{rotation:["22.5 * variable.charge_amount - this","-this",0]}}},"attack.rotations":{loop:!0,bones:{body:{rotation:[0,"math.sin(math.sqrt(variable.attack_time) * 360) * 11.46 - this",0]},leftarm:{rotation:["math.sin(math.sqrt(variable.attack_time) * 360) * 11.46",0,0]},rightarm:{rotation:["math.sin(1.0 - math.pow(1.0 - variable.attack_time, 3.0) * 180.0) * (variable.is_brandishing_spear ? -1.0 : 1.0 )","variable.is_brandishing_spear ? 0.0 : (math.sin(math.sqrt(variable.attack_time) * 360) * 11.46) * 2.0",0]}}},sneaking:{loop:!0,bones:{body:{rotation:["0.5 - this",0,0]},head:{position:[0,1,0]},leftarm:{rotation:[72,0,0]},leftleg:{position:[0,-3,4]},rightarm:{rotation:[72,0,0]},rightleg:{position:[0,-3,4]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"((math.cos(query.life_time * 103.2) * 2.865) + 2.865) *-1.0"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},damage_nearby_mobs:{loop:!0,bones:{leftarm:{rotation:["-45.0-this","-this","-this"]},leftleg:{rotation:["45.0-this","-this","-this"]},rightarm:{rotation:["45.0-this","-this","-this"]},rightleg:{rotation:["-45.0-this","-this","-this"]}}},bow_and_arrow:{loop:!0,bones:{leftarm:{rotation:["query.target_x_rotation - 90.0 - math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation + 28.65","-(math.cos(query.life_time * 103.2) * 2.865) - 2.865"]},rightarm:{rotation:["query.target_x_rotation - 90.0 + math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation - 5.73","(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},swimming:{animation_length:1.3,loop:!0,bones:{leftarm:{rotation:{"0.7":{post:["math.lerp(this, 11.25 * math.mod(query.modified_distance_moved, 26.0), variable.leftarmswim_amount)","math.lerp(this, 180.0, variable.leftarmswim_amount)","math.lerp(this, 72.77 + 13.4 * math.mod(query.modified_distance_moved, 26.0), variable.leftarmswim_amount)"],pre:["math.lerp(this, 0.0, variable.leftarmswim_amount)","math.lerp(this, 180.0, variable.leftarmswim_amount)","math.lerp(this, 180.0 - 0.01877 * (-65.0 * math.mod(query.modified_distance_moved, 26.0) + math.mod(query.modified_distance_moved, 26.0) * math.mod(query.modified_distance_moved, 26.0)), variable.leftarmswim_amount)"]},"1.1":["math.lerp(this, 11.25 * math.mod(query.modified_distance_moved, 26.0), variable.leftarmswim_amount)","math.lerp(this, 180.0, variable.leftarmswim_amount)","math.lerp(this, 72.77 + 13.4 * math.mod(query.modified_distance_moved, 26.0), variable.leftarmswim_amount)"],"1.3":{post:["math.lerp(this, 90.0 - (22.5 * math.mod(query.modified_distance_moved, 26.0)), variable.leftarmswim_amount)","math.lerp(this, 180.0, variable.leftarmswim_amount)","math.lerp(this, 180.0, variable.leftarmswim_amount)"],pre:["math.lerp(this, 11.25 * math.mod(query.modified_distance_moved, 26.0), variable.leftarmswim_amount)","math.lerp(this, 180.0, variable.leftarmswim_amount)","math.lerp(this, 72.77 + 13.4 * math.mod(query.modified_distance_moved, 26.0), variable.leftarmswim_amount)"]}}},leftleg:{rotation:["math.lerp(this, math.cos(query.modified_distance_moved * 19.5 + 180.0) * 17.2, variable.leftarmswim_amount) - this",0,0]},rightarm:{rotation:{"0.7":{post:["math.lerp(this, 11.25 * math.mod(query.modified_distance_moved, 26.0), variable.rightarmswim_amount)","math.lerp(this, 180.0, variable.rightarmswim_amount)","math.lerp(this, 72.77 + 13.4 * math.mod(query.modified_distance_moved, 26.0), variable.rightarmswim_amount)"],pre:["math.lerp(this, 0.0, variable.rightarmswim_amount)","math.lerp(this, 180.0, variable.rightarmswim_amount)","math.lerp(this, -0.1019 * (-65.0 * math.mod(query.modified_distance_moved, 26.0) + math.mod(query.modified_distance_moved, 26.0) * math.mod(query.modified_distance_moved, 26.0)), variable.rightarmswim_amount)"]},"1.1":["math.lerp(this, 11.25 * math.mod(query.modified_distance_moved, 26.0), variable.rightarmswim_amount)","math.lerp(this, 180.0, variable.rightarmswim_amount)","math.lerp(this, 72.77 + 13.4 * math.mod(query.modified_distance_moved, 26.0), variable.rightarmswim_amount)"],"1.3":{post:["math.lerp(this, 90.0 - (22.5 * math.mod(query.modified_distance_moved, 26.0)), variable.rightarmswim_amount)","math.lerp(this, 180.0, variable.rightarmswim_amount)","math.lerp(this, 180.0, variable.rightarmswim_amount)"],pre:["math.lerp(this, 11.25 * math.mod(query.modified_distance_moved, 26.0), variable.rightarmswim_amount)","math.lerp(this, 180.0, variable.rightarmswim_amount)","math.lerp(this, 72.77 + 13.4 * math.mod(query.modified_distance_moved, 26.0), variable.rightarmswim_amount)"]}}},rightleg:{rotation:["math.lerp(this, math.cos(query.modified_distance_moved * 19.5) * 17.2, variable.leftarmswim_amount) - this",0,0]}}},use_item_progress:{loop:!0,bones:{rightarm:{rotation:["variable.use_item_startup_progress * -60.0 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -22.5 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -5.625 + variable.use_item_interval_progress * 11.25"]}}},zombie_attack_bare_hand:{loop:!0,bones:{leftarm:{rotation:["-90.0 - ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4) - (math.sin(query.life_time * 76.776372) * 2.865) - this","5.73 - ((math.sin(variable.attack_time * 180.0) * 57.3) * 0.6) - this","math.cos(query.life_time * 103.13244) * -2.865 - 2.865 - this"]},rightarm:{rotation:["90.0 * (variable.is_brandishing_spear - 1.0) - ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4) + (math.sin(query.life_time * 76.776372) * 2.865) - this","(math.sin(variable.attack_time * 180.0) * 57.3) * 0.6 - 5.73 - this","math.cos(query.life_time * 103.13244) * 2.865 + 2.865 - this"]}}}},animation_controllers:{humanoid_baby_big_head:{initial_state:"default",states:{baby:{animations:["humanoid_big_head"],transitions:[{default:"!query.is_baby"}]},default:{transitions:[{baby:"query.is_baby"}]}}},humanoid_base_pose:{initial_state:"default",states:{default:{animations:["humanoid_base_pose"]}}},look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},move:{initial_state:"default",states:{default:{animations:["move"]}}},riding:{initial_state:"default",states:{default:{transitions:[{riding:"query.is_riding"}]},riding:{animations:["riding.arms","riding.legs"],transitions:[{default:"!query.is_riding"}]}}},holding:{initial_state:"default",states:{default:{animations:["holding"]}}},brandish_spear:{initial_state:"default",states:{brandish_spear:{animations:["brandish_spear"],transitions:[{default:"!variable.is_brandishing_spear"}]},default:{transitions:[{brandish_spear:"variable.is_brandishing_spear"}]}}},charging:{initial_state:"default",states:{charging:{animations:["charging"],transitions:[{default:"!query.is_charging"}]},default:{transitions:[{charging:"query.is_charging"}]}}},attack:{initial_state:"default",states:{attacking:{animations:["attack.rotations"],transitions:[{default:"variable.attack_time < 0.0"}]},default:{transitions:[{attacking:"variable.attack_time >= 0.0"}]}}},sneaking:{initial_state:"default",states:{default:{transitions:[{sneaking:"query.is_sneaking"}]},sneaking:{animations:["sneaking"],transitions:[{default:"!query.is_sneaking"}]}}},bob:{initial_state:"default",states:{default:{animations:["bob"]}}},damage_nearby_mobs:{initial_state:"default",states:{damage_nearby_mobs:{animations:["damage_nearby_mobs"],transitions:[{default:"!variable.damage_nearby_mobs"}]},default:{transitions:[{damage_nearby_mobs:"variable.damage_nearby_mobs"}]}}},bow_and_arrow:{initial_state:"default",states:{bow_and_arrow:{animations:["bow_and_arrow"],transitions:[{default:"!query.has_target"}]},default:{transitions:[{bow_and_arrow:"query.has_target"}]}}},swimming:{initial_state:"default",states:{default:{transitions:[{swimming:"variable.swim_amount > 0.0"}]},swimming:{animations:["swimming"],transitions:[{default:"variable.swim_amount <= 0.0"}]}}},use_item_progress:{initial_state:"default",states:{default:{transitions:[{use_item_progress:"( variable.use_item_interval_progress > 0.0 ) || ( variable.use_item_startup_progress > 0.0 )"}]},use_item_progress:{animations:["use_item_progress"],transitions:[{default:"( variable.use_item_interval_progress <= 0.0 ) && ( variable.use_item_startup_progress <= 0.0 )"}]}}},zombie_attack_bare_hand:{initial_state:"default",states:{default:{transitions:[{is_bare_hand:"variable.is_holding_left != 1.0"}]},is_bare_hand:{animations:["zombie_attack_bare_hand"],transitions:[{default:"variable.is_holding_left == 1.0"}]}}}},render_controllers:["controller.render.zombie_pigman"],enable_attachables:!0},zombie_villager:{identifier:"minecraft:zombie_villager",min_engine_version:"1.8.0",materials:{default:"zombie_villager"},textures:{smith:"textures/entity/zombie_villager/profession/weaponsmith",butcher:"textures/entity/zombie_villager/profession/butcher",librarian:"textures/entity/zombie_villager/profession/librarian",priest:"textures/entity/zombie_villager/profession/cleric",farmer:"textures/entity/zombie_villager/profession/farmer"},geometry:{default:{visible_bounds_width:1.5,visible_bounds_height:2.5,visible_bounds_offset:[0,1.25,0],texturewidth:64,textureheight:64,bones:[{name:"hat",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[32,0],inflate:.5}],neverRender:!0},{name:"head",parent:"body",reset:!0,pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,10,8],uv:[0,0],inflate:.25},{origin:[-1,23,-6],size:[2,4,2],uv:[24,0],inflate:.25}]},{name:"hat",parent:"head",pivot:[0,24,0],cubes:[{origin:[-4,24,-4],size:[8,8,8],uv:[32,0],inflate:.5}],neverRender:!0},{name:"body",parent:"waist",reset:!0,pivot:[0,24,0],cubes:[{origin:[-4,12,-3],size:[8,12,6],uv:[16,20]},{origin:[-4,6,-3],size:[8,18,6],uv:[0,38],inflate:.5}]},{name:"waist",neverRender:!0,pivot:[0,12,0]},{name:"rightArm",parent:"body",reset:!0,pivot:[-5,22,0],cubes:[{origin:[-8,12,-2],size:[4,12,4],uv:[44,38]}]},{name:"rightItem",pivot:[-6,15,1],neverRender:!0,parent:"rightArm"},{name:"leftArm",parent:"body",reset:!0,mirror:!0,pivot:[5,22,0],cubes:[{origin:[4,12,-2],size:[4,12,4],uv:[44,38]}]},{name:"rightLeg",parent:"body",reset:!0,pivot:[-2,12,0],cubes:[{origin:[-4,0,-2],size:[4,12,4],uv:[0,22]}]},{name:"leftLeg",parent:"body",reset:!0,mirror:!0,pivot:[2,12,0],cubes:[{origin:[0,0,-2],size:[4,12,4],uv:[0,22]}]}]}},scripts:{pre_animation:["variable.tcos0 = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;"]},animations:{humanoid_big_head:{loop:!0,bones:{head:{scale:1.4}}},humanoid_base_pose:{loop:!0,bones:{waist:{rotation:[0,0,0]}}},look_at_target_default:{loop:!0,bones:{head:{relative_to:{rotation:"entity"},rotation:["query.target_x_rotation","query.target_y_rotation",0]}}},look_at_target_gliding:{loop:!0,bones:{head:{rotation:[-45,"query.target_y_rotation",0]}}},look_at_target_swimming:{loop:!0,bones:{head:{rotation:["math.lerp(query.target_x_rotation, -45.0, variable.swim_amount)","query.target_y_rotation",0]}}},move:{loop:!0,bones:{leftarm:{rotation:["variable.tcos0",0,0]},leftleg:{rotation:["variable.tcos0 * -1.4",0,0]},rightarm:{rotation:["-variable.tcos0",0,0]},rightleg:{rotation:["variable.tcos0 * 1.4",0,0]}}},"riding.arms":{loop:!0,bones:{leftarm:{rotation:[-36,0,0]},rightarm:{rotation:[-36,0,0]}}},"riding.legs":{loop:!0,bones:{leftleg:{rotation:["-72.0 - this","-18.0 - this","-this"]},rightleg:{rotation:["-72.0 - this","18.0 - this","-this"]}}},holding:{loop:!0,bones:{leftarm:{rotation:["variable.is_holding_left ? (-this * 0.5 - 18.0) : 0.0",0,0]},rightarm:{rotation:["variable.is_holding_right ? (-this * 0.5 - 18.0) : 0.0",0,0]}}},brandish_spear:{loop:!0,bones:{rightarm:{rotation:["this * -0.5 - 157.5 - 22.5 * variable.charge_amount","-this",0]}}},charging:{loop:!0,bones:{rightarm:{rotation:["22.5 * variable.charge_amount - this","-this",0]}}},"attack.rotations":{loop:!0,bones:{body:{rotation:[0,"math.sin(math.sqrt(variable.attack_time) * 360) * 11.46 - this",0]},leftarm:{rotation:["math.sin(math.sqrt(variable.attack_time) * 360) * 11.46",0,0]},rightarm:{rotation:["math.sin(1.0 - math.pow(1.0 - variable.attack_time, 3.0) * 180.0) * (variable.is_brandishing_spear ? -1.0 : 1.0 )","variable.is_brandishing_spear ? 0.0 : (math.sin(math.sqrt(variable.attack_time) * 360) * 11.46) * 2.0",0]}}},sneaking:{loop:!0,bones:{body:{rotation:["0.5 - this",0,0]},head:{position:[0,1,0]},leftarm:{rotation:[72,0,0]},leftleg:{position:[0,-3,4]},rightarm:{rotation:[72,0,0]},rightleg:{position:[0,-3,4]}}},bob:{loop:!0,bones:{leftarm:{rotation:[0,0,"((math.cos(query.life_time * 103.2) * 2.865) + 2.865) *-1.0"]},rightarm:{rotation:[0,0,"(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},damage_nearby_mobs:{loop:!0,bones:{leftarm:{rotation:["-45.0-this","-this","-this"]},leftleg:{rotation:["45.0-this","-this","-this"]},rightarm:{rotation:["45.0-this","-this","-this"]},rightleg:{rotation:["-45.0-this","-this","-this"]}}},bow_and_arrow:{loop:!0,bones:{leftarm:{rotation:["query.target_x_rotation - 90.0 - math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation + 28.65","-(math.cos(query.life_time * 103.2) * 2.865) - 2.865"]},rightarm:{rotation:["query.target_x_rotation - 90.0 + math.sin(query.life_time * 76.8) * 2.865 - this","query.target_y_rotation - 5.73","(math.cos(query.life_time * 103.2) * 2.865) + 2.865"]}}},use_item_progress:{loop:!0,bones:{rightarm:{rotation:["variable.use_item_startup_progress * -60.0 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -22.5 + variable.use_item_interval_progress * 11.25","variable.use_item_startup_progress * -5.625 + variable.use_item_interval_progress * 11.25"]}}},zombie_attack_bare_hand:{loop:!0,bones:{leftarm:{rotation:["-90.0 - ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4) - (math.sin(query.life_time * 76.776372) * 2.865) - this","5.73 - ((math.sin(variable.attack_time * 180.0) * 57.3) * 0.6) - this","math.cos(query.life_time * 103.13244) * -2.865 - 2.865 - this"]},rightarm:{rotation:["90.0 * (variable.is_brandishing_spear - 1.0) - ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4) + (math.sin(query.life_time * 76.776372) * 2.865) - this","(math.sin(variable.attack_time * 180.0) * 57.3) * 0.6 - 5.73 - this","math.cos(query.life_time * 103.13244) * 2.865 + 2.865 - this"]}}},swimming:{loop:!0,bones:{body:{position:[0,"variable.swim_amount * -10.0 - this","variable.swim_amount * 9.0 - this"],rotation:["variable.swim_amount * (90.0 + query.target_x_rotation)",0,0]},leftarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) - (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, 14.325, variable.swim_amount) - (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},leftleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0 + 180.0) * 0.3, variable.swim_amount)",0,0]},rightarm:{rotation:["math.lerp(this, -180.0, variable.swim_amount) - (variable.swim_amount * ((math.sin(variable.attack_time * 180.0) * 57.3) * 1.2 - (math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3) * 0.4)) + (variable.swim_amount * (math.sin(query.life_time * 76.776372) * 2.865)) - this","math.lerp(this, 14.325, variable.swim_amount) - this","math.lerp(this, -14.325, variable.swim_amount) + (variable.swim_amount * (math.cos(query.life_time * 103.13244) * 2.865 + 2.865)) - this"]},rightleg:{rotation:["math.lerp(this, math.cos(query.life_time * 390.0) * 0.3, variable.swim_amount)",0,0]}}}},animation_controllers:{humanoid_baby_big_head:{initial_state:"default",states:{baby:{animations:["humanoid_big_head"],transitions:[{default:"!query.is_baby"}]},default:{transitions:[{baby:"query.is_baby"}]}}},humanoid_base_pose:{initial_state:"default",states:{default:{animations:["humanoid_base_pose"]}}},look_at_target:{initial_state:"default",states:{default:{animations:["look_at_target_default"],transitions:[{gliding:"query.is_gliding"},{swimming:"query.is_swimming"}]},gliding:{animations:["look_at_target_gliding"],transitions:[{swimming:"query.is_swimming"},{default:"!query.is_gliding"}]},swimming:{animations:["look_at_target_swimming"],transitions:[{gliding:"query.is_gliding"},{default:"!query.is_swimming"}]}}},move:{initial_state:"default",states:{default:{animations:["move"]}}},riding:{initial_state:"default",states:{default:{transitions:[{riding:"query.is_riding"}]},riding:{animations:["riding.arms","riding.legs"],transitions:[{default:"!query.is_riding"}]}}},holding:{initial_state:"default",states:{default:{animations:["holding"]}}},brandish_spear:{initial_state:"default",states:{brandish_spear:{animations:["brandish_spear"],transitions:[{default:"!variable.is_brandishing_spear"}]},default:{transitions:[{brandish_spear:"variable.is_brandishing_spear"}]}}},charging:{initial_state:"default",states:{charging:{animations:["charging"],transitions:[{default:"!query.is_charging"}]},default:{transitions:[{charging:"query.is_charging"}]}}},attack:{initial_state:"default",states:{attacking:{animations:["attack.rotations"],transitions:[{default:"variable.attack_time < 0.0"}]},default:{transitions:[{attacking:"variable.attack_time >= 0.0"}]}}},sneaking:{initial_state:"default",states:{default:{transitions:[{sneaking:"query.is_sneaking"}]},sneaking:{animations:["sneaking"],transitions:[{default:"!query.is_sneaking"}]}}},bob:{initial_state:"default",states:{default:{animations:["bob"]}}},damage_nearby_mobs:{initial_state:"default",states:{damage_nearby_mobs:{animations:["damage_nearby_mobs"],transitions:[{default:"!variable.damage_nearby_mobs"}]},default:{transitions:[{damage_nearby_mobs:"variable.damage_nearby_mobs"}]}}},bow_and_arrow:{initial_state:"default",states:{bow_and_arrow:{animations:["bow_and_arrow"],transitions:[{default:"!query.has_target"}]},default:{transitions:[{bow_and_arrow:"query.has_target"}]}}},use_item_progress:{initial_state:"default",states:{default:{transitions:[{use_item_progress:"( variable.use_item_interval_progress > 0.0 ) || ( variable.use_item_startup_progress > 0.0 )"}]},use_item_progress:{animations:["use_item_progress"],transitions:[{default:"( variable.use_item_interval_progress <= 0.0 ) && ( variable.use_item_startup_progress <= 0.0 )"}]}}},zombie_attack_bare_hand:{initial_state:"default",states:{default:{transitions:[{is_bare_hand:"variable.is_holding_left != 1.0"}]},is_bare_hand:{animations:["zombie_attack_bare_hand"],transitions:[{default:"variable.is_holding_left == 1.0"}]}}},swimming:{initial_state:"default",states:{default:{transitions:[{is_swimming:"variable.swim_amount > 0.0"}]},is_swimming:{animations:["swimming"],transitions:[{default:"variable.swim_amount <= 0.0"}]}}}},render_controllers:["controller.render.zombie_villager"],enable_attachables:!0,spawn_egg:{texture:"spawn_egg",texture_index:42}}}});var fZ=qe((iGe,hZ)=>{ne();ae();re();var K5e=Gh(),uZ=(v4(),Zr(y4)),YC={};function Q5e(i,e){if(!YC[i]){let t=uZ.resolve(__dirname,"../../public/"+i);YC[i]=new K5e.TextureLoader().load(t)}e(YC[i])}l(Q5e,"loadTexture");function eRe(i,e){e($a(uZ.resolve(__dirname,"../../public/"+i)))}l(eRe,"loadJSON");hZ.exports={loadTexture:Q5e,loadJSON:eRe}});var tE=qe((oGe,mZ)=>{ne();ae();re();var tRe=cZ(),{loadTexture:iRe}=globalThis.isElectron?fZ():(D2(),Zr(h7)),nRe={up:{dir:[0,1,0],u0:[0,0,1],v0:[0,0,0],u1:[1,0,1],v1:[0,0,1],corners:[[0,1,1,0,0],[1,1,1,1,0],[0,1,0,0,1],[1,1,0,1,1]]},down:{dir:[0,-1,0],u0:[1,0,1],v0:[0,0,0],u1:[2,0,1],v1:[0,0,1],corners:[[1,0,1,0,0],[0,0,1,1,0],[1,0,0,0,1],[0,0,0,1,1]]},east:{dir:[1,0,0],u0:[0,0,0],v0:[0,0,1],u1:[0,0,1],v1:[0,1,1],corners:[[1,1,1,0,0],[1,0,1,0,1],[1,1,0,1,0],[1,0,0,1,1]]},west:{dir:[-1,0,0],u0:[1,0,1],v0:[0,0,1],u1:[1,0,2],v1:[0,1,1],corners:[[0,1,0,0,0],[0,0,0,0,1],[0,1,1,1,0],[0,0,1,1,1]]},north:{dir:[0,0,-1],u0:[0,0,1],v0:[0,0,1],u1:[1,0,1],v1:[0,1,1],corners:[[1,0,0,0,1],[0,0,0,1,1],[1,1,0,0,0],[0,1,0,1,0]]},south:{dir:[0,0,1],u0:[1,0,2],v0:[0,0,1],u1:[2,0,2],v1:[0,1,1],corners:[[0,0,1,0,1],[1,0,1,1,1],[0,1,1,0,0],[1,1,1,1,0]]}};function dZ(i,e){return i[0]*e[0]+i[1]*e[1]+i[2]*e[2]}l(dZ,"dot");function rRe(i,e,t,n,r=64,a=64){let s=new THREE.Euler(0,0,0);n.rotation&&(s.x=-n.rotation[0]*Math.PI/180,s.y=-n.rotation[1]*Math.PI/180,s.z=-n.rotation[2]*Math.PI/180);for(let{dir:o,corners:c,u0:u,v0:h,u1:f,v1:p}of Object.values(nRe)){let d=Math.floor(i.positions.length/3);for(let m of c){let y=(n.uv[0]+dZ(m[3]?f:u,n.size))/r,g=(n.uv[1]+dZ(m[4]?p:h,n.size))/a,b=n.inflate?n.inflate:0,x=new THREE.Vector3(n.origin[0]+m[0]*n.size[0]+(m[0]?b:-b),n.origin[1]+m[1]*n.size[1]+(m[1]?b:-b),n.origin[2]+m[2]*n.size[2]+(m[2]?b:-b));x=x.applyEuler(s),x=x.sub(t.position),x=x.applyEuler(t.rotation),x=x.add(t.position),i.positions.push(x.x,x.y,x.z),i.normals.push(...o),i.uvs.push(y,g),i.skinIndices.push(e,0,0,0),i.skinWeights.push(1,0,0,0)}i.indices.push(d,d+1,d+2,d+2,d+1,d+3)}}l(rRe,"addCube");function aRe(i,e,t={}){let n={},r={positions:[],normals:[],uvs:[],indices:[],skinIndices:[],skinWeights:[]},a=0;for(let f of e.bones){let p=new THREE.Bone;if(f.pivot&&(p.position.x=f.pivot[0],p.position.y=f.pivot[1],p.position.z=f.pivot[2]),f.bind_pose_rotation?(p.rotation.x=-f.bind_pose_rotation[0]*Math.PI/180,p.rotation.y=-f.bind_pose_rotation[1]*Math.PI/180,p.rotation.z=-f.bind_pose_rotation[2]*Math.PI/180):f.rotation&&(p.rotation.x=-f.rotation[0]*Math.PI/180,p.rotation.y=-f.rotation[1]*Math.PI/180,p.rotation.z=-f.rotation[2]*Math.PI/180),t.rotation?.[f.name]&&(p.rotation.x-=(t.rotation[f.name].x??0)*Math.PI/180,p.rotation.y-=(t.rotation[f.name].y??0)*Math.PI/180,p.rotation.z-=(t.rotation[f.name].z??0)*Math.PI/180),p.name=`bone_${f.name}`,n[f.name]=p,f.cubes)for(let d of f.cubes)rRe(r,a,p,d,e.texturewidth,e.textureheight);a++}let s=[];for(let f of e.bones)f.parent?n[f.parent].add(n[f.name]):s.push(n[f.name]);let o=new THREE.Skeleton(Object.values(n)),c=new THREE.BufferGeometry;c.setAttribute("position",new THREE.Float32BufferAttribute(r.positions,3)),c.setAttribute("normal",new THREE.Float32BufferAttribute(r.normals,3)),c.setAttribute("uv",new THREE.Float32BufferAttribute(r.uvs,2)),c.setAttribute("skinIndex",new THREE.Uint16BufferAttribute(r.skinIndices,4)),c.setAttribute("skinWeight",new THREE.Float32BufferAttribute(r.skinWeights,4)),c.setIndex(r.indices);let u=new THREE.MeshLambertMaterial({transparent:!0,alphaTest:.1}),h=new THREE.SkinnedMesh(c,u);return h.add(...s),h.bind(o),h.scale.set(1/16,1/16,1/16),iRe(i,f=>{u.map||(f.magFilter=THREE.NearestFilter,f.minFilter=THREE.NearestFilter,f.flipY=!1,f.wrapS=THREE.RepeatWrapping,f.wrapT=THREE.RepeatWrapping,u.map=f)}),h}l(aRe,"getMesh");var sRe={glow_squid:"squid"},pZ=l(i=>{let e=sRe[i];return e&&(i=e),tRe[i]},"getEntity"),ZC=class{static{l(this,"Entity")}constructor(e,t,n,r={}){let a=pZ(t);if(!a)throw new Error(`Unknown entity ${t}`);this.mesh=new THREE.Object3D;for(let[s,o]of Object.entries(a.geometry)){let c=r.textures?.[s]??a.textures[s];if(!c)continue;let u=aRe(c.replace("textures","textures/"+e)+".png",o,r);u.name=`geometry_${s}`,this.mesh.add(u);let h=new THREE.SkeletonHelper(u);h.material.linewidth=2,h.visible=!1,this.mesh.add(h)}}static getStaticData(e){let t=pZ(e);if(!t)throw new Error(`Unknown entity ${e}`);return{boneNames:Object.values(t.geometry).flatMap(n=>n.name)}}};mZ.exports=ZC});function cRe(i,{fontFamily:e="sans-serif"}){let t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("Could not get 2d context");let r=50,a=5;n.font=`${r}px ${e}`;let s=n.measureText(i).width+a*2;return t.width=s,t.height=r+a*2,n.fillStyle="rgba(0, 0, 0, 0.3)",n.fillRect(0,0,t.width,t.height),n.font=`${r}px ${e}`,n.fillStyle="white",n.fillText(i,a,r),t}function uRe(i,e,t,n){if(i.name)try{let o=i.name.toLowerCase(),c=new oRe("1.16.4",o,e,n);return bZ(i,t,c.mesh),c.mesh}catch(o){console.log(o)}let r=new Bi.BoxGeometry(i.width,i.height,i.width);r.translate(0,i.height/2,0);let a=new Bi.MeshBasicMaterial({color:16711935});return new Bi.Mesh(r,a)}var JC,Bi,_Z,oRe,gZ,lRe,iE,bZ,nE,KC=Gt(()=>{ne();ae();re();XC();WC();oZ();lZ();QS();IC();JC=Mn(FS()),Bi=Gh(),_Z=(p4(),Zr(d4)),oRe=tE(),{dispose3:gZ}=CS(),lRe=wl(),iE=50;l(cRe,"getUsernameTexture");bZ=l((i,e,t)=>{if(i.username!==void 0){if(t.children.find(o=>o.name==="nametag"))return;let n=cRe(i.username,e),r=new Bi.Texture(n);r.needsUpdate=!0;let a=new Bi.SpriteMaterial({map:r}),s=new Bi.Sprite(a);s.renderOrder=1e3,s.scale.set(n.width*.005,n.height*.005,1),s.position.y+=i.height+.6,s.name="nametag",t.add(s)}},"addNametag");l(uRe,"getEntityMesh");nE=class extends lRe{static{l(this,"Entities")}constructor(e){super(),this.scene=e,this.entities={},this.entitiesOptions={},this.debugMode="none",this.onSkinUpdate=()=>{},this.clock=new Bi.Clock,this.visible=!0,this.itemsTexture=null,this.getItemUv=void 0}clear(){for(let e of Object.values(this.entities))this.scene.remove(e),gZ(e);this.entities={}}setDebugMode(e,t=null){this.debugMode=e;for(let n of t?[t]:Object.values(this.entities)){let r=n.children.find(a=>a.name==="debug");r.visible=!1,this.debugMode==="basic"&&(r.visible=!0)}}setVisible(e,t=null){this.visible=e;for(let n of t?[t]:Object.values(this.entities))n.visible=e}render(){let e=this.clock.getDelta();for(let t of Object.keys(this.entities)){let n=this.getPlayerObject(t);n?.animation&&n.animation.update(n,e)}}getPlayerObject(e){return this.entities[e]?.playerObject}defaultSteveTexture;updatePlayerSkin(e,t,n,r=void 0){let a=this.getPlayerObject(e);if(!a||n===!0&&(n=`https://mulv.tycrek.dev/api/lookup?username=${t}&type=skin`,!t))return;ZS(n).then(o=>{if(a=this.getPlayerObject(e),!a)return;let c;if(n===eE&&this.defaultSteveTexture)c=this.defaultSteveTexture;else{let h=document.createElement("canvas");VC(h,o),c=new Bi.CanvasTexture(h),n===eE&&(this.defaultSteveTexture=c)}c.magFilter=Bi.NearestFilter,c.minFilter=Bi.NearestFilter,c.needsUpdate=!0,a.skin.map=c,a.skin.modelType=HC(c.image);let u=document.createElement("canvas");if(GC(u,o),s(u))a.ears.map=null,a.ears.visible=!1;else{let h=new Bi.CanvasTexture(u);h.magFilter=Bi.NearestFilter,h.minFilter=Bi.NearestFilter,h.needsUpdate=!0,a.ears.map=h,a.ears.visible=!0}this.onSkinUpdate?.(),r&&(r===!0&&(r=`https://mulv.tycrek.dev/api/lookup?username=${t}&type=cape`),ZS(r).then(h=>{if(a=this.getPlayerObject(e),!a)return;let f=document.createElement("canvas");qC(f,h);let p=new Bi.CanvasTexture(f);p.magFilter=Bi.NearestFilter,p.minFilter=Bi.NearestFilter,p.needsUpdate=!0,a.cape.map=p,a.cape.visible=!0,a.elytra.map=p,this.onSkinUpdate?.(),a.backEquipment||(a.backEquipment="cape")},()=>{}))},()=>{}),a.cape.visible=!1,r||(a.backEquipment=null,a.elytra.map=null,a.cape.map&&a.cape.map.dispose(),a.cape.map=null);function s(o){return!o.getContext("2d").getImageData(0,0,o.width,o.height).data.some(c=>c!==0)}l(s,"isCanvasBlank")}playAnimation(e,t){let n=this.getPlayerObject(e);if(n){if(t==="oneSwing"){if(!(n.animation instanceof wf))throw new Error("Expected WalkingGeneralSwing");n.animation.swingArm();return}n.animation instanceof wf&&(n.animation.switchAnimationCallback=()=>{if(!(n.animation instanceof wf))throw new Error("Expected WalkingGeneralSwing");n.animation.isMoving=t!=="idle",n.animation.isRunning=t==="running"})}}displaySimpleText(e){if(!e)return;let t=JC.default.simplify(JC.default.parse(e));return PC(t).map(r=>r.text).join("")}update(e,t){if(!this.entities[e.id]&&!e.delete){let s=new Bi.Group,o;if(e.name==="item"){let u=e.metadata?.find(h=>typeof h=="object"&&h!==null&&h.itemCount);if(u){let h=this.getItemUv?.(u.itemId??u.blockId);if(h){let{u:f,v:p,size:d,su:m,sv:y,texture:g}=h,b=g.clone();b.flipY=!0,b.offset.set(f,1-p-(y??d)),b.repeat.set(m??d,y??d),b.needsUpdate=!0,b.magFilter=Bi.NearestFilter,b.minFilter=Bi.NearestFilter;let x=b.clone();x.repeat.x*=-1,x.needsUpdate=!0,x.offset.set(f+(m??d),1-p-(y??d));let w=new Bi.MeshStandardMaterial({map:b,transparent:!0,alphaTest:.1}),E=new Bi.MeshStandardMaterial({map:x,transparent:!0,alphaTest:.1});o=new Bi.Mesh(new Bi.BoxGeometry(1,1,0),[new Bi.MeshBasicMaterial({color:0}),new Bi.MeshBasicMaterial({color:0}),new Bi.MeshBasicMaterial({color:0}),new Bi.MeshBasicMaterial({color:0}),w,E]),o.scale.set(.5,.5,.5),o.position.set(0,.2,0);let M=new Bi.Clock;o.onBeforeRender=()=>{let C=M.getDelta();o.rotation.y+=C},s.additionalCleanup=()=>{b.dispose(),x.dispose()}}}}else if(e.name==="player"){let u=new Bi.Group,h=new Wg;h.position.set(0,16,0),u.add(h);let f=1/16;if(u.scale.set(f,f,f),e.username){let p=new jg(GS(e.username).text,{font:`48px ${this.entitiesOptions.fontFamily}`});p.position.y=h.position.y+h.scale.y*16+3,p.renderOrder=1e3,u.add(p)}s.playerObject=h,u.rotation.set(0,Math.PI,0),o=u,h.animation=new wf,h.animation.isMoving=!1}else o=uRe(e,this.scene,this.entitiesOptions,t);if(!o)return;o.name="mesh",s.position.set(e.pos.x,e.pos.y,e.pos.z);let c=new Bi.BoxHelper(o,e.type==="hostile"?16711680:e.type==="mob"?65280:e.type==="player"?255:16753920);c.name="debug",s.add(o),s.add(c),c.visible=!1,this.scene.add(s),this.entities[e.id]=s,this.emit("add",e),e.name==="player"&&this.updatePlayerSkin(e.id,"",eE),this.setDebugMode(this.debugMode,s),this.setVisible(this.visible,s)}if(e.metadata?.[0]&32)for(let s of this.entities[e.id].children.find(o=>o.name==="mesh").children)s.name!=="nametag"&&(s.visible=!1);let r=e.metadata?.[3]&&this.displaySimpleText(e.metadata[2]);e.name!=="player"&&r&&bZ({...e,username:r},this.entitiesOptions,this.entities[e.id].children.find(s=>s.name==="mesh"));let a=this.entities[e.id];if(e.username&&(a.username=e.username),a?.playerObject&&t?.rotation?.head){let s=a.playerObject,o=t.rotation.head.y?t.rotation.head.y-e.yaw:0;s.skin.head.rotation.y=-o,s.skin.head.rotation.x=t.rotation.head.x?-t.rotation.head.x:0}if(e.delete&&a&&(a.additionalCleanup&&a.additionalCleanup(),this.emit("remove",e),this.scene.remove(a),gZ(a),delete this.entities[e.id]),e.pos&&new _Z.Tween(a.position).to({x:e.pos.x,y:e.pos.y,z:e.pos.z},iE).start(),e.yaw){let s=(e.yaw-a.rotation.y)%(Math.PI*2),o=2*s%(Math.PI*2)-s;new _Z.Tween(a.rotation).to({y:a.rotation.y+o},iE).start()}}}});var yZ=qe((xf,rE)=>{ne();ae();re();(function(){"use strict";var i=this,e=typeof $a<"u",t=i.THREE||e&&Gh();if(!t)throw new Error("MeshLine requires three.js");class n extends t.BufferGeometry{static{l(this,"MeshLine")}constructor(){super(),this.isMeshLine=!0,this.type="MeshLine",this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this._points=[],this._geom=null,this.widthCallback=null,this.matrixWorld=new t.Matrix4,Object.defineProperties(this,{geometry:{enumerable:!0,get:function(){return this}},geom:{enumerable:!0,get:function(){return this._geom},set:function(c){this.setGeometry(c,this.widthCallback)}},points:{enumerable:!0,get:function(){return this._points},set:function(c){this.setPoints(c,this.widthCallback)}}})}}n.prototype.setMatrixWorld=function(o){this.matrixWorld=o},n.prototype.setGeometry=function(o,c){this._geometry=o,this.setPoints(o.getAttribute("position").array,c)},n.prototype.setPoints=function(o,c){if(!(o instanceof Float32Array)&&!(o instanceof Array)){console.error("ERROR: The BufferArray of points is not instancied correctly.");return}if(this._points=o,this.widthCallback=c,this.positions=[],this.counters=[],o.length&&o[0]instanceof t.Vector3)for(var u=0;u<o.length;u++){var h=o[u],f=u/o.length;this.positions.push(h.x,h.y,h.z),this.positions.push(h.x,h.y,h.z),this.counters.push(f),this.counters.push(f)}else for(var u=0;u<o.length;u+=3){var f=u/o.length;this.positions.push(o[u],o[u+1],o[u+2]),this.positions.push(o[u],o[u+1],o[u+2]),this.counters.push(f),this.counters.push(f)}this.process()};function r(o,c){var u=new t.Matrix4,h=new t.Ray,f=new t.Sphere,p=new t.Vector3,d=this.geometry;if(d.boundingSphere||d.computeBoundingSphere(),f.copy(d.boundingSphere),f.applyMatrix4(this.matrixWorld),o.ray.intersectSphere(f,p)!==!1){u.copy(this.matrixWorld).invert(),h.copy(o.ray).applyMatrix4(u);var m=new t.Vector3,y=new t.Vector3,g=new t.Vector3,b=this instanceof t.LineSegments?2:1,x=d.index,w=d.attributes;if(x!==null)for(var E=x.array,M=w.position.array,C=w.width.array,I=0,F=E.length-1;I<F;I+=b){var A=E[I],T=E[I+1];m.fromArray(M,A*3),y.fromArray(M,T*3);var j=C[Math.floor(I/3)]!==void 0?C[Math.floor(I/3)]:1,R=o.params.Line.threshold+this.material.lineWidth*j/2,U=R*R,q=h.distanceSqToSegment(m,y,p,g);if(!(q>U)){p.applyMatrix4(this.matrixWorld);var X=o.ray.origin.distanceTo(p);X<o.near||X>o.far||(c.push({distance:X,point:g.clone().applyMatrix4(this.matrixWorld),index:I,face:null,faceIndex:null,object:this}),I=F)}}}}l(r,"MeshLineRaycast"),n.prototype.raycast=r,n.prototype.compareV3=function(o,c){var u=o*6,h=c*6;return this.positions[u]===this.positions[h]&&this.positions[u+1]===this.positions[h+1]&&this.positions[u+2]===this.positions[h+2]},n.prototype.copyV3=function(o){var c=o*6;return[this.positions[c],this.positions[c+1],this.positions[c+2]]},n.prototype.process=function(){var o=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];var c,u;this.compareV3(0,o-1)?u=this.copyV3(o-2):u=this.copyV3(0),this.previous.push(u[0],u[1],u[2]),this.previous.push(u[0],u[1],u[2]);for(var h=0;h<o;h++){if(this.side.push(1),this.side.push(-1),this.widthCallback?c=this.widthCallback(h/(o-1)):c=1,this.width.push(c),this.width.push(c),this.uvs.push(h/(o-1),0),this.uvs.push(h/(o-1),1),h<o-1){u=this.copyV3(h),this.previous.push(u[0],u[1],u[2]),this.previous.push(u[0],u[1],u[2]);var f=h*2;this.indices_array.push(f,f+1,f+2),this.indices_array.push(f+2,f+1,f+3)}h>0&&(u=this.copyV3(h),this.next.push(u[0],u[1],u[2]),this.next.push(u[0],u[1],u[2]))}this.compareV3(o-1,0)?u=this.copyV3(1):u=this.copyV3(o-1),this.next.push(u[0],u[1],u[2]),this.next.push(u[0],u[1],u[2]),!this._attributes||this._attributes.position.count!==this.positions.length?this._attributes={position:new t.BufferAttribute(new Float32Array(this.positions),3),previous:new t.BufferAttribute(new Float32Array(this.previous),3),next:new t.BufferAttribute(new Float32Array(this.next),3),side:new t.BufferAttribute(new Float32Array(this.side),1),width:new t.BufferAttribute(new Float32Array(this.width),1),uv:new t.BufferAttribute(new Float32Array(this.uvs),2),index:new t.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new t.BufferAttribute(new Float32Array(this.counters),1)}:(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()};function a(o,c,u,h,f){var p;if(o=o.subarray||o.slice?o:o.buffer,u=u.subarray||u.slice?u:u.buffer,o=c?o.subarray?o.subarray(c,f&&c+f):o.slice(c,f&&c+f):o,u.set)u.set(o,h);else for(p=0;p<o.length;p++)u[p+h]=o[p];return u}l(a,"memcpy"),n.prototype.advance=function(o){var c=this._attributes.position.array,u=this._attributes.previous.array,h=this._attributes.next.array,f=c.length;a(c,0,u,0,f),a(c,6,c,0,f-6),c[f-6]=o.x,c[f-5]=o.y,c[f-4]=o.z,c[f-3]=o.x,c[f-2]=o.y,c[f-1]=o.z,a(c,6,h,0,f-6),h[f-6]=o.x,h[f-5]=o.y,h[f-4]=o.z,h[f-3]=o.x,h[f-2]=o.y,h[f-1]=o.z,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0},t.ShaderChunk.meshline_vert=["",t.ShaderChunk.logdepthbuf_pars_vertex,t.ShaderChunk.fog_pars_vertex,"","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","	 vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float w = lineWidth * width;","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );","    normal.xy *= .5 * w;","    normal *= projectionMatrix;","    if( sizeAttenuation == 0. ) {","        normal.xy *= finalPosition.w;","        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;","    }","","    finalPosition.xy += normal.xy * side;","","    gl_Position = finalPosition;","",t.ShaderChunk.logdepthbuf_vertex,t.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",t.ShaderChunk.fog_vertex,"}"].join(`
`),t.ShaderChunk.meshline_frag=["",t.ShaderChunk.fog_pars_fragment,t.ShaderChunk.logdepthbuf_pars_fragment,"","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","",t.ShaderChunk.logdepthbuf_fragment,"","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","",t.ShaderChunk.fog_fragment,"}"].join(`
`);class s extends t.ShaderMaterial{static{l(this,"MeshLineMaterial")}constructor(c){super({uniforms:Object.assign({},t.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new t.Color(16777215)},opacity:{value:1},resolution:{value:new t.Vector2(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new t.Vector2(1,1)}}),vertexShader:t.ShaderChunk.meshline_vert,fragmentShader:t.ShaderChunk.meshline_frag}),this.isMeshLineMaterial=!0,this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(u){this.uniforms.lineWidth.value=u}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(u){this.uniforms.map.value=u}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(u){this.uniforms.useMap.value=u}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(u){this.uniforms.alphaMap.value=u}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(u){this.uniforms.useAlphaMap.value=u}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(u){this.uniforms.color.value=u}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(u){this.uniforms.opacity.value=u}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(u){this.uniforms.resolution.value.copy(u)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(u){this.uniforms.sizeAttenuation.value=u}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(u){this.uniforms.dashArray.value=u,this.useDash=u!==0?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(u){this.uniforms.dashOffset.value=u}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(u){this.uniforms.dashRatio.value=u}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(u){this.uniforms.useDash.value=u}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(u){this.uniforms.visibility.value=u}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(u){this.uniforms.alphaTest.value=u}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(u){this.uniforms.repeat.value.copy(u)}}}),this.setValues(c)}}s.prototype.copy=function(o){return t.ShaderMaterial.prototype.copy.call(this,o),this.lineWidth=o.lineWidth,this.map=o.map,this.useMap=o.useMap,this.alphaMap=o.alphaMap,this.useAlphaMap=o.useAlphaMap,this.color.copy(o.color),this.opacity=o.opacity,this.resolution.copy(o.resolution),this.sizeAttenuation=o.sizeAttenuation,this.dashArray.copy(o.dashArray),this.dashOffset.copy(o.dashOffset),this.dashRatio.copy(o.dashRatio),this.useDash=o.useDash,this.visibility=o.visibility,this.alphaTest=o.alphaTest,this.repeat.copy(o.repeat),this},typeof xf<"u"?(typeof rE<"u"&&rE.exports&&(xf=rE.exports={MeshLine:n,MeshLineMaterial:s,MeshLineRaycast:r}),xf.MeshLine=n,xf.MeshLineMaterial=s,xf.MeshLineRaycast=r):(i.MeshLine=n,i.MeshLineMaterial=s,i.MeshLineRaycast=r)}).call(xf)});var xZ=qe((kGe,wZ)=>{ne();ae();re();var zs=Gh(),{MeshLine:hRe,MeshLineMaterial:fRe}=yZ(),{dispose3:vZ}=CS();function dRe(i,e){if(i.type==="line"){let t=i.color?i.color:16711680,n=new zs.Vector2(window.innerWidth/e.zoom,window.innerHeight/e.zoom),r=new fRe({color:t,resolution:n,sizeAttenuation:!1,lineWidth:8}),a=[];for(let o of i.points)a.push(o.x,o.y,o.z);let s=new hRe;return s.setPoints(a),new zs.Mesh(s,r)}else if(i.type==="boxgrid"){let t=i.color?i.color:"aqua",n=i.end.x-i.start.x,r=i.end.y-i.start.y,a=i.end.z-i.start.z,s=new zs.BoxBufferGeometry(n,r,a,n,r,a);s.attributes.positionStart=s.attributes.position.clone();let o=pRe(s,!1),c=new zs.LineSegments(o,new zs.LineBasicMaterial({color:t}));return c.position.x=i.start.x+n/2,c.position.y=i.start.y+r/2,c.position.z=i.start.z+a/2,c}else if(i.type==="points"){let t=i.color?i.color:"aqua",n=i.size?i.size:5,r=[];for(let o of i.points)r.push(o.x,o.y,o.z);let a=new zs.BufferGeometry;a.setAttribute("position",new zs.Float32BufferAttribute(r,3));let s=new zs.PointsMaterial({color:t,size:n,sizeAttenuation:!1});return new zs.Points(a,s)}return null}l(dRe,"getMesh");var QC=class{static{l(this,"Primitives")}constructor(e,t){this.scene=e,this.camera=t,this.primitives={}}clear(){for(let e of Object.values(this.primitives))this.scene.remove(e),vZ(e);this.primitives={}}update(e){this.primitives[e.id]&&(this.scene.remove(this.primitives[e.id]),vZ(this.primitives[e.id]),delete this.primitives[e.id]);let t=dRe(e,this.camera);t&&(this.primitives[e.id]=t,this.scene.add(t))}};function pRe(i,e){if(!(i instanceof zs.BoxBufferGeometry))return console.log("GridBoxGeometry: the parameter 'geometry' has to be of the type THREE.BoxBufferGeometry"),i;e=e!==void 0?e:!1;let t=new zs.BoxBufferGeometry,n=i.attributes.position;t.attributes.position=e===!1?n:n.clone();let r=i.parameters.widthSegments||1,a=i.parameters.heightSegments||1,s=i.parameters.depthSegments||1,o=0,c=y(s,a,o);o+=(s+1)*(a+1);let u=y(s,a,o);o+=(s+1)*(a+1);let h=y(r,s,o);o+=(r+1)*(s+1);let f=y(r,s,o);o+=(r+1)*(s+1);let p=y(r,a,o);o+=(r+1)*(a+1);let d=y(r,a,o),m=[];m=m.concat(c),m=m.concat(u),m=m.concat(h),m=m.concat(f),m=m.concat(p),m=m.concat(d),t.setIndex(m);function y(g,b,x){let w=[];for(let E=0;E<b+1;E++){let M=0,C=0;for(let I=0;I<g;I++){M=(g+1)*E+I,C=M+1;let F=M,A=M+(g+1);w.push(x+M,x+C),A<(g+1)*(b+1)-1&&w.push(x+F,x+A)}C+g+1<=(g+1)*(b+1)-1&&w.push(x+C,x+C+g+1)}return w}return l(y,"indexSide"),t}l(pRe,"GridBoxGeometry");wZ.exports={Primitives:QC}});var mRe,_Re,Sf,zl,aE,sE=Gt(()=>{ne();ae();re();ns();mRe=Object.defineProperty,_Re=l((i,e,t)=>e in i?mRe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,"__defNormalProp"),Sf=l((i,e,t)=>(_Re(i,typeof e!="symbol"?e+"":e,t),t),"__publicField"),zl=class{static{l(this,"Pass")}constructor(){Sf(this,"enabled",!0),Sf(this,"needsSwap",!0),Sf(this,"clear",!1),Sf(this,"renderToScreen",!1)}setSize(e,t){}render(e,t,n,r,a){console.error("THREE.Pass: .render() must be implemented in derived pass.")}},aE=class{static{l(this,"FullScreenQuad")}constructor(e){Sf(this,"camera",new io(-1,1,1,-1,0,1)),Sf(this,"geometry",new Qo(2,2)),Sf(this,"mesh"),this.mesh=new ii(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}});var gRe,bRe,oE,su,eL=Gt(()=>{ne();ae();re();ns();sE();gRe=Object.defineProperty,bRe=l((i,e,t)=>e in i?gRe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,"__defNormalProp"),oE=l((i,e,t)=>(bRe(i,typeof e!="symbol"?e+"":e,t),t),"__publicField"),su=class extends zl{static{l(this,"ShaderPass")}constructor(e,t="tDiffuse"){super(),oE(this,"textureID"),oE(this,"uniforms"),oE(this,"material"),oE(this,"fsQuad"),this.textureID=t,e instanceof Fr?(this.uniforms=e.uniforms,this.material=e):(this.uniforms=xv.clone(e.uniforms),this.material=new Fr({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new aE(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}});var tL,SZ=Gt(()=>{ne();ae();re();tL={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)}});var yRe,vRe,iL,$g,lE,EZ=Gt(()=>{ne();ae();re();sE();yRe=Object.defineProperty,vRe=l((i,e,t)=>e in i?yRe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,"__defNormalProp"),iL=l((i,e,t)=>(vRe(i,typeof e!="symbol"?e+"":e,t),t),"__publicField"),$g=class extends zl{static{l(this,"MaskPass")}constructor(e,t){super(),iL(this,"scene"),iL(this,"camera"),iL(this,"inverse"),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){let r=e.getContext(),a=e.state;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0);let s,o;this.inverse?(s=0,o=1):(s=1,o=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),a.buffers.stencil.setFunc(r.ALWAYS,s,4294967295),a.buffers.stencil.setClear(o),a.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(r.EQUAL,1,4294967295),a.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),a.buffers.stencil.setLocked(!0)}},lE=class extends zl{static{l(this,"ClearMaskPass")}constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}});var wRe,xRe,_s,Xg,MZ=Gt(()=>{ne();ae();re();ns();SZ();eL();EZ();wRe=Object.defineProperty,xRe=l((i,e,t)=>e in i?wRe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,"__defNormalProp"),_s=l((i,e,t)=>(xRe(i,typeof e!="symbol"?e+"":e,t),t),"__publicField"),Xg=class{static{l(this,"EffectComposer")}constructor(e,t){if(_s(this,"renderer"),_s(this,"_pixelRatio"),_s(this,"_width"),_s(this,"_height"),_s(this,"renderTarget1"),_s(this,"renderTarget2"),_s(this,"writeBuffer"),_s(this,"readBuffer"),_s(this,"renderToScreen"),_s(this,"passes",[]),_s(this,"copyPass"),_s(this,"clock"),this.renderer=e,t===void 0){let n={minFilter:rn,magFilter:rn,format:Or},r=e.getSize(new ot);this._pixelRatio=e.getPixelRatio(),this._width=r.width,this._height=r.height,t=new cr(this._width*this._pixelRatio,this._height*this._pixelRatio,n),t.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,tL===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),su===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new su(tL),this.copyPass.material.blending=Ms,this.clock=new Kd}swapBuffers(){let e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){let t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());let t=this.renderer.getRenderTarget(),n=!1,r=this.passes.length;for(let a=0;a<r;a++){let s=this.passes[a];if(s.enabled!==!1){if(s.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(a),s.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),s.needsSwap){if(n){let o=this.renderer.getContext(),c=this.renderer.state.buffers.stencil;c.setFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),c.setFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}$g!==void 0&&(s instanceof $g?n=!0:s instanceof lE&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){let t=this.renderer.getSize(new ot);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;let n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(let a=0;a<this.passes.length;a++)this.passes[a].setSize(n,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}});var SRe,ERe,Ef,Yg,AZ=Gt(()=>{ne();ae();re();ns();sE();SRe=Object.defineProperty,ERe=l((i,e,t)=>e in i?SRe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,"__defNormalProp"),Ef=l((i,e,t)=>(ERe(i,typeof e!="symbol"?e+"":e,t),t),"__publicField"),Yg=class extends zl{static{l(this,"RenderPass")}constructor(e,t,n,r,a=0){super(),Ef(this,"scene"),Ef(this,"camera"),Ef(this,"overrideMaterial"),Ef(this,"clearColor"),Ef(this,"clearAlpha"),Ef(this,"clearDepth",!1),Ef(this,"_oldClearColor",new Ct),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=r,this.clearAlpha=a,this.clear=!0,this.needsSwap=!1}render(e,t,n){let r=e.autoClear;e.autoClear=!1;let a,s=null;this.overrideMaterial!==void 0&&(s=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),a=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,a),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=s),e.autoClear=r}}});var nL,TZ=Gt(()=>{ne();ae();re();ns();nL={uniforms:{tDiffuse:{value:null},resolution:{value:new ot(1/1024,1/512)}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["precision highp float;","","uniform sampler2D tDiffuse;","","uniform vec2 resolution;","","varying vec2 vUv;","","// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)","","//----------------------------------------------------------------------------------","// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag","// SDK Version: v3.00","// Email:       gameworks@nvidia.com","// Site:        http://developer.nvidia.com/","//","// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.","//","// Redistribution and use in source and binary forms, with or without","// modification, are permitted provided that the following conditions","// are met:","//  * Redistributions of source code must retain the above copyright","//    notice, this list of conditions and the following disclaimer.","//  * Redistributions in binary form must reproduce the above copyright","//    notice, this list of conditions and the following disclaimer in the","//    documentation and/or other materials provided with the distribution.","//  * Neither the name of NVIDIA CORPORATION nor the names of its","//    contributors may be used to endorse or promote products derived","//    from this software without specific prior written permission.","//","// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY","// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE","// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR","// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR","// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,","// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,","// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR","// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY","// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT","// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE","// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.","//","//----------------------------------------------------------------------------------","","#define FXAA_PC 1","#define FXAA_GLSL_100 1","#define FXAA_QUALITY_PRESET 12","","#define FXAA_GREEN_AS_LUMA 1","","/*--------------------------------------------------------------------------*/","#ifndef FXAA_PC_CONSOLE","    //","    // The console algorithm for PC is included","    // for developers targeting really low spec machines.","    // Likely better to just run FXAA_PC, and use a really low preset.","    //","    #define FXAA_PC_CONSOLE 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_120","    #define FXAA_GLSL_120 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_130","    #define FXAA_GLSL_130 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_3","    #define FXAA_HLSL_3 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_4","    #define FXAA_HLSL_4 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_5","    #define FXAA_HLSL_5 0","#endif","/*==========================================================================*/","#ifndef FXAA_GREEN_AS_LUMA","    //","    // For those using non-linear color,","    // and either not able to get luma in alpha, or not wanting to,","    // this enables FXAA to run using green as a proxy for luma.","    // So with this enabled, no need to pack luma in alpha.","    //","    // This will turn off AA on anything which lacks some amount of green.","    // Pure red and blue or combination of only R and B, will get no AA.","    //","    // Might want to lower the settings for both,","    //    fxaaConsoleEdgeThresholdMin","    //    fxaaQualityEdgeThresholdMin","    // In order to insure AA does not get turned off on colors","    // which contain a minor amount of green.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_GREEN_AS_LUMA 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_EARLY_EXIT","    //","    // Controls algorithm's early exit path.","    // On PS3 turning this ON adds 2 cycles to the shader.","    // On 360 turning this OFF adds 10ths of a millisecond to the shader.","    // Turning this off on console will result in a more blurry image.","    // So this defaults to on.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_EARLY_EXIT 1","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_DISCARD","    //","    // Only valid for PC OpenGL currently.","    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.","    //","    // 1 = Use discard on pixels which don't need AA.","    //     For APIs which enable concurrent TEX+ROP from same surface.","    // 0 = Return unchanged color on pixels which don't need AA.","    //","    #define FXAA_DISCARD 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_FAST_PIXEL_OFFSET","    //","    // Used for GLSL 120 only.","    //","    // 1 = GL API supports fast pixel offsets","    // 0 = do not use fast pixel offsets","    //","    #ifdef GL_EXT_gpu_shader4","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifndef FXAA_FAST_PIXEL_OFFSET","        #define FXAA_FAST_PIXEL_OFFSET 0","    #endif","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GATHER4_ALPHA","    //","    // 1 = API supports gather4 on alpha channel.","    // 0 = API does not support gather4 on alpha channel.","    //","    #if (FXAA_HLSL_5 == 1)","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifndef FXAA_GATHER4_ALPHA","        #define FXAA_GATHER4_ALPHA 0","    #endif","#endif","","","/*============================================================================","                        FXAA QUALITY - TUNING KNOBS","------------------------------------------------------------------------------","NOTE the other tuning knobs are now in the shader function inputs!","============================================================================*/","#ifndef FXAA_QUALITY_PRESET","    //","    // Choose the quality preset.","    // This needs to be compiled into the shader as it effects code.","    // Best option to include multiple presets is to","    // in each shader define the preset, then include this file.","    //","    // OPTIONS","    // -----------------------------------------------------------------------","    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)","    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)","    // 39       - no dither, very expensive","    //","    // NOTES","    // -----------------------------------------------------------------------","    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)","    // 13 = about same speed as FXAA 3.9 and better than 12","    // 23 = closest to FXAA 3.9 visually and performance wise","    //  _ = the lowest digit is directly related to performance","    // _  = the highest digit is directly related to style","    //","    #define FXAA_QUALITY_PRESET 12","#endif","","","/*============================================================================","","                           FXAA QUALITY - PRESETS","","============================================================================*/","","/*============================================================================","                     FXAA QUALITY - MEDIUM DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 10)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 3.0","    #define FXAA_QUALITY_P2 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 11)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 3.0","    #define FXAA_QUALITY_P3 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 12)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 4.0","    #define FXAA_QUALITY_P4 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 13)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 4.0","    #define FXAA_QUALITY_P5 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 14)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 4.0","    #define FXAA_QUALITY_P6 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 15)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 12.0","#endif","","/*============================================================================","                     FXAA QUALITY - LOW DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 20)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 2.0","    #define FXAA_QUALITY_P2 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 21)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 22)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 23)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 24)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 3.0","    #define FXAA_QUALITY_P6 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 25)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 26)","    #define FXAA_QUALITY_PS 9","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 4.0","    #define FXAA_QUALITY_P8 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 27)","    #define FXAA_QUALITY_PS 10","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 4.0","    #define FXAA_QUALITY_P9 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 28)","    #define FXAA_QUALITY_PS 11","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 4.0","    #define FXAA_QUALITY_P10 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 29)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","/*============================================================================","                     FXAA QUALITY - EXTREME QUALITY","============================================================================*/","#if (FXAA_QUALITY_PRESET == 39)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.0","    #define FXAA_QUALITY_P2 1.0","    #define FXAA_QUALITY_P3 1.0","    #define FXAA_QUALITY_P4 1.0","    #define FXAA_QUALITY_P5 1.5","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","","","/*============================================================================","","                                API PORTING","","============================================================================*/","#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)","    #define FxaaBool bool","    #define FxaaDiscard discard","    #define FxaaFloat float","    #define FxaaFloat2 vec2","    #define FxaaFloat3 vec3","    #define FxaaFloat4 vec4","    #define FxaaHalf float","    #define FxaaHalf2 vec2","    #define FxaaHalf3 vec3","    #define FxaaHalf4 vec4","    #define FxaaInt2 ivec2","    #define FxaaSat(x) clamp(x, 0.0, 1.0)","    #define FxaaTex sampler2D","#else","    #define FxaaBool bool","    #define FxaaDiscard clip(-1)","    #define FxaaFloat float","    #define FxaaFloat2 float2","    #define FxaaFloat3 float3","    #define FxaaFloat4 float4","    #define FxaaHalf half","    #define FxaaHalf2 half2","    #define FxaaHalf3 half3","    #define FxaaHalf4 half4","    #define FxaaSat(x) saturate(x)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_100 == 1)","  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)","  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_120 == 1)","    // Requires,","    //  #version 120","    // And at least,","    //  #extension GL_EXT_gpu_shader4 : enable","    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)","    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)","    #if (FXAA_FAST_PIXEL_OFFSET == 1)","        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)","    #else","        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)","    #endif","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_130 == 1)",'    // Requires "#version 130" or better',"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)","    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_3 == 1)","    #define FxaaInt2 float2","    #define FxaaTex sampler2D","    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))","    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_4 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_5 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)","    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)","    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)","    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)","#endif","","","/*============================================================================","                   GREEN AS LUMA OPTION SUPPORT FUNCTION","============================================================================*/","#if (FXAA_GREEN_AS_LUMA == 0)","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }","#else","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }","#endif","","","","","/*============================================================================","","                             FXAA3 QUALITY - PC","","============================================================================*/","#if (FXAA_PC == 1)","/*--------------------------------------------------------------------------*/","FxaaFloat4 FxaaPixelShader(","    //","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy} = center of pixel","    FxaaFloat2 pos,","    //","    // Used only for FXAA Console, and not used on the 360 version.","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy_} = upper left of pixel","    // {_zw} = lower right of pixel","    FxaaFloat4 fxaaConsolePosPos,","    //","    // Input color texture.","    // {rgb_} = color in linear or perceptual color space","    // if (FXAA_GREEN_AS_LUMA == 0)","    //     {__a} = luma in perceptual color space (not linear)","    FxaaTex tex,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 2nd sampler.","    // This sampler needs to have an exponent bias of -1.","    FxaaTex fxaaConsole360TexExpBiasNegOne,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 3nd sampler.","    // This sampler needs to have an exponent bias of -2.","    FxaaTex fxaaConsole360TexExpBiasNegTwo,","    //","    // Only used on FXAA Quality.","    // This must be from a constant/uniform.","    // {x_} = 1.0/screenWidthInPixels","    // {_y} = 1.0/screenHeightInPixels","    FxaaFloat2 fxaaQualityRcpFrame,","    //","    // Only used on FXAA Console.","    // This must be from a constant/uniform.","    // This effects sub-pixel AA quality and inversely sharpness.","    //   Where N ranges between,","    //     N = 0.50 (default)","    //     N = 0.33 (sharper)","    // {x__} = -N/screenWidthInPixels","    // {_y_} = -N/screenHeightInPixels","    // {_z_} =  N/screenWidthInPixels","    // {__w} =  N/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt,","    //","    // Only used on FXAA Console.","    // Not used on 360, but used on PS3 and PC.","    // This must be from a constant/uniform.","    // {x__} = -2.0/screenWidthInPixels","    // {_y_} = -2.0/screenHeightInPixels","    // {_z_} =  2.0/screenWidthInPixels","    // {__w} =  2.0/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt2,","    //","    // Only used on FXAA Console.","    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.","    // This must be from a constant/uniform.","    // {x__} =  8.0/screenWidthInPixels","    // {_y_} =  8.0/screenHeightInPixels","    // {_z_} = -4.0/screenWidthInPixels","    // {__w} = -4.0/screenHeightInPixels","    FxaaFloat4 fxaaConsole360RcpFrameOpt2,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_SUBPIX define.","    // It is here now to allow easier tuning.","    // Choose the amount of sub-pixel aliasing removal.","    // This can effect sharpness.","    //   1.00 - upper limit (softer)","    //   0.75 - default amount of filtering","    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)","    //   0.25 - almost off","    //   0.00 - completely off","    FxaaFloat fxaaQualitySubpix,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // The minimum amount of local contrast required to apply algorithm.","    //   0.333 - too little (faster)","    //   0.250 - low quality","    //   0.166 - default","    //   0.125 - high quality","    //   0.063 - overkill (slower)","    FxaaFloat fxaaQualityEdgeThreshold,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    //   0.0833 - upper limit (default, the start of visible unfiltered edges)","    //   0.0625 - high quality (faster)","    //   0.0312 - visible limit (slower)","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaQualityEdgeThresholdMin,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only three safe values here: 2 and 4 and 8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // For all other platforms can be a non-power of two.","    //   8.0 is sharper (default!!!)","    //   4.0 is softer","    //   2.0 is really soft (good only for vector graphics inputs)","    FxaaFloat fxaaConsoleEdgeSharpness,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only two safe values here: 1/4 and 1/8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // The console setting has a different mapping than the quality setting.","    // Other platforms can use other values.","    //   0.125 leaves less aliasing, but is softer (default!!!)","    //   0.25 leaves more aliasing, and is sharper","    FxaaFloat fxaaConsoleEdgeThreshold,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    // The console setting has a different mapping than the quality setting.","    // This only applies when FXAA_EARLY_EXIT is 1.","    // This does not apply to PS3,","    // PS3 was simplified to avoid more shader instructions.","    //   0.06 - faster but more aliasing in darks","    //   0.05 - default","    //   0.04 - slower and less aliasing in darks","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaConsoleEdgeThresholdMin,","    //","    // Extra constants for 360 FXAA Console only.","    // Use zeros or anything else for other platforms.","    // These must be in physical constant registers and NOT immediates.","    // Immediates will result in compiler un-optimizing.","    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)","    FxaaFloat4 fxaaConsole360ConstDir",") {","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posM;","    posM.x = pos.x;","    posM.y = pos.y;","    #if (FXAA_GATHER4_ALPHA == 1)","        #if (FXAA_DISCARD == 0)","            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","            #if (FXAA_GREEN_AS_LUMA == 0)","                #define lumaM rgbyM.w","            #else","                #define lumaM rgbyM.y","            #endif","        #endif","        #if (FXAA_GREEN_AS_LUMA == 0)","            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));","        #else","            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));","        #endif","        #if (FXAA_DISCARD == 1)","            #define lumaM luma4A.w","        #endif","        #define lumaE luma4A.z","        #define lumaS luma4A.x","        #define lumaSE luma4A.y","        #define lumaNW luma4B.w","        #define lumaN luma4B.z","        #define lumaW luma4B.x","    #else","        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","        #if (FXAA_GREEN_AS_LUMA == 0)","            #define lumaM rgbyM.w","        #else","            #define lumaM rgbyM.y","        #endif","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));","        #endif","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat maxSM = max(lumaS, lumaM);","    FxaaFloat minSM = min(lumaS, lumaM);","    FxaaFloat maxESM = max(lumaE, maxSM);","    FxaaFloat minESM = min(lumaE, minSM);","    FxaaFloat maxWN = max(lumaN, lumaW);","    FxaaFloat minWN = min(lumaN, lumaW);","    FxaaFloat rangeMax = max(maxWN, maxESM);","    FxaaFloat rangeMin = min(minWN, minESM);","    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;","    FxaaFloat range = rangeMax - rangeMin;","    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);","    FxaaBool earlyExit = range < rangeMaxClamped;","/*--------------------------------------------------------------------------*/","    if(earlyExit)","        #if (FXAA_DISCARD == 1)","            FxaaDiscard;","        #else","            return rgbyM;","        #endif","/*--------------------------------------------------------------------------*/","    #if (FXAA_GATHER4_ALPHA == 0)","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","        #endif","    #else","        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));","        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNS = lumaN + lumaS;","    FxaaFloat lumaWE = lumaW + lumaE;","    FxaaFloat subpixRcpRange = 1.0/range;","    FxaaFloat subpixNSWE = lumaNS + lumaWE;","    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;","    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNESE = lumaNE + lumaSE;","    FxaaFloat lumaNWNE = lumaNW + lumaNE;","    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;","    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNWSW = lumaNW + lumaSW;","    FxaaFloat lumaSWSE = lumaSW + lumaSE;","    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);","    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);","    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;","    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;","    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;","    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;","/*--------------------------------------------------------------------------*/","    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;","    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;","    FxaaBool horzSpan = edgeHorz >= edgeVert;","    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;","/*--------------------------------------------------------------------------*/","    if(!horzSpan) lumaN = lumaW;","    if(!horzSpan) lumaS = lumaE;","    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;","    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;","/*--------------------------------------------------------------------------*/","    FxaaFloat gradientN = lumaN - lumaM;","    FxaaFloat gradientS = lumaS - lumaM;","    FxaaFloat lumaNN = lumaN + lumaM;","    FxaaFloat lumaSS = lumaS + lumaM;","    FxaaBool pairN = abs(gradientN) >= abs(gradientS);","    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));","    if(pairN) lengthSign = -lengthSign;","    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posB;","    posB.x = posM.x;","    posB.y = posM.y;","    FxaaFloat2 offNP;","    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;","    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;","    if(!horzSpan) posB.x += lengthSign * 0.5;","    if( horzSpan) posB.y += lengthSign * 0.5;","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posN;","    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;","    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;","    FxaaFloat2 posP;","    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;","    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;","    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;","    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));","    FxaaFloat subpixE = subpixC * subpixC;","    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));","/*--------------------------------------------------------------------------*/","    if(!pairN) lumaNN = lumaSS;","    FxaaFloat gradientScaled = gradient * 1.0/4.0;","    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;","    FxaaFloat subpixF = subpixD * subpixE;","    FxaaBool lumaMLTZero = lumaMM < 0.0;","/*--------------------------------------------------------------------------*/","    lumaEndN -= lumaNN * 0.5;","    lumaEndP -= lumaNN * 0.5;","    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;","    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;","    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;","    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;","    FxaaBool doneNP = (!doneN) || (!doneP);","    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;","    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;","/*--------------------------------------------------------------------------*/","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 3)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 4)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 5)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 6)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;","/*--------------------------------------------------------------------------*/","                        #if (FXAA_QUALITY_PS > 7)","                        if(doneNP) {","                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                            doneN = abs(lumaEndN) >= gradientScaled;","                            doneP = abs(lumaEndP) >= gradientScaled;","                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;","                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;","                            doneNP = (!doneN) || (!doneP);","                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;","                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;","/*--------------------------------------------------------------------------*/","    #if (FXAA_QUALITY_PS > 8)","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 9)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 10)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 11)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 12)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","    #endif","/*--------------------------------------------------------------------------*/","                        }","                        #endif","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","/*--------------------------------------------------------------------------*/","    FxaaFloat dstN = posM.x - posN.x;","    FxaaFloat dstP = posP.x - posM.x;","    if(!horzSpan) dstN = posM.y - posN.y;","    if(!horzSpan) dstP = posP.y - posM.y;","/*--------------------------------------------------------------------------*/","    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;","    FxaaFloat spanLength = (dstP + dstN);","    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;","    FxaaFloat spanLengthRcp = 1.0/spanLength;","/*--------------------------------------------------------------------------*/","    FxaaBool directionN = dstN < dstP;","    FxaaFloat dst = min(dstN, dstP);","    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;","    FxaaFloat subpixG = subpixF * subpixF;","    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;","    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;","/*--------------------------------------------------------------------------*/","    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;","    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);","    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;","    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;","    #if (FXAA_DISCARD == 1)","        return FxaaTexTop(tex, posM);","    #else","        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);","    #endif","}","/*==========================================================================*/","#endif","","void main() {","  gl_FragColor = FxaaPixelShader(","    vUv,","    vec4(0.0),","    tDiffuse,","    tDiffuse,","    tDiffuse,","    resolution,","    vec4(0.0),","    vec4(0.0),","    vec4(0.0),","    0.75,","    0.166,","    0.0833,","    0.0,","    0.0,","    0.0,","    vec4(0.0)","  );","","  // TODO avoid querying texture twice for same texel","  gl_FragColor.a = texture2D(tDiffuse, vUv).a;","}"].join(`
`)}});var kZ=Gt(()=>{ne();ae();re();MZ();eL();AZ();TZ()});var IZ={};Xa(IZ,{Viewer:()=>rL});var RZ,PZ,rL,CZ=Gt(()=>{ne();ae();re();ns();p4();s0();JY();KC();RZ=Mn(xZ()),PZ=Mn(LS());kZ();rL=class{constructor(e,t,n=!1){this.renderer=e;this.enableFXAA=n;Qr.enabled=!1,e.outputColorSpace=ya,this.scene=new qd,this.scene.matrixAutoUpdate=!1,this.resetScene(),this.enableFXAA&&this.enableFxaaScene(),this.world=new $S(this.scene,t),this.entities=new nE(this.scene),this.primitives=new RZ.Primitives(this.scene,this.camera),this.domElement=e.domElement}static{l(this,"Viewer")}scene;ambientLight;directionalLight;camera;world;entities;primitives;domElement;playerHeight=1.62;isSneaking=!1;version;cameraObjectOverride;audioListener;renderingUntilNoUpdates=!1;processEntityOverrides=(e,t)=>t;composer;fxaaPass;renderPass;resetScene(){this.scene.background=new Ct("lightblue"),this.ambientLight&&this.scene.remove(this.ambientLight),this.ambientLight=new Zd(13421772),this.scene.add(this.ambientLight),this.directionalLight&&this.scene.remove(this.directionalLight),this.directionalLight=new Yd(16777215,.5),this.directionalLight.position.set(1,1,.5).normalize(),this.directionalLight.castShadow=!0,this.scene.add(this.directionalLight);let e=this.renderer.getSize(new ot);this.camera=new Tn(75,e.x/e.y,.1,1e3)}resetAll(){this.resetScene(),this.world.resetWorld(),this.entities.clear(),this.primitives.clear()}setVersion(e){let t=(0,PZ.getVersion)(e);console.log("[viewer] Using version:",e,"textures:",t),this.version=e,this.world.setVersion(e,t),this.entities.clear(),this.primitives.clear()}addColumn(e,t,n){this.world.addColumn(e,t,n)}removeColumn(e,t){this.world.removeColumn(e,t)}setBlockStateId(e,t){this.world.setBlockStateId(e,t)}updateEntity(e){this.entities.update(e,this.processEntityOverrides(e,{rotation:{head:{x:e.headPitch??e.pitch,y:e.headYaw,z:0}}}))}updatePrimitive(e){this.primitives.update(e)}setFirstPersonCamera(e,t,n,r=0){let a=this.cameraObjectOverride||this.camera;if(e){let s=e.y+this.playerHeight;this.isSneaking&&(s-=.3),new Av(a.position).to({x:e.x,y:s,z:e.z},50).start()}a.rotation.set(n,t,r,"ZYX")}playSound(e,t,n=1){this.audioListener||(this.audioListener=new e0,this.camera.add(this.audioListener));let r=new t0(this.audioListener),a=new Q_,s=Date.now();a.loadAsync(t).then(o=>{Date.now()-s>500||(r.setBuffer(o),r.setRefDistance(20),r.setVolume(n),this.scene.add(r),r.position.set(e.x,e.y,e.z),r.play(),r.onEnded=()=>{this.scene.remove(r),r.disconnect()})})}listen(e){e.on("entity",t=>{this.updateEntity(t)}),e.on("primitive",t=>{this.updatePrimitive(t)}),e.on("loadChunk",({x:t,z:n,chunk:r,worldConfig:a})=>{this.world.worldConfig=a,this.addColumn(t,n,r)}),e.on("blockEntities",t=>{this.world.blockEntities=t}),e.on("unloadChunk",({x:t,z:n})=>{this.removeColumn(t,n)}),e.on("blockUpdate",({pos:t,stateId:n})=>{this.setBlockStateId(new ir(t.x,t.y,t.z),n)}),e.on("chunkPosUpdate",({pos:t})=>{this.world.updateViewerPosition(t)}),e.emit("listening"),this.domElement.addEventListener?.("pointerdown",t=>{let n=new i0,r=new ot;r.x=t.clientX/this.domElement.clientWidth*2-1,r.y=-(t.clientY/this.domElement.clientHeight)*2+1,n.setFromCamera(r,this.camera);let{ray:a}=n;e.emit("mouseClick",{origin:a.origin,direction:a.direction,button:t.button})})}update(){Tv()}render(){this.composer?(this.renderPass.camera=this.camera,this.composer.render()):this.renderer.render(this.scene,this.camera),this.entities.render()}async waitForChunksToRender(){await this.world.waitForChunksToRender()}enableFxaaScene(){let e;this.renderer.capabilities.isWebGL2&&(e=new cr(0,0,{depthTexture:new Dd(0,0,Ka)})),this.composer=new Xg(this.renderer,e),this.renderPass=new Yg(this.scene,this.camera),this.composer.addPass(this.renderPass),this.fxaaPass=new su(nL),this.composer.addPass(this.fxaaPass),this.updateComposerSize(),this.enableFXAA=!0}updateComposerSize(){if(!this.composer)return;let{width:e,height:t}=this.renderer.getSize(new ot);this.composer.setSize(e,t);let n=this.renderer.getPixelRatio();this.composer.setPixelRatio(n),this.fxaaPass.material.uniforms.resolution.value.x=1/(e*n),this.fxaaPass.material.uniforms.resolution.value.y=1/(t*n)}}});var LZ=qe(cE=>{"use strict";ne();ae();re();Object.defineProperty(cE,"__esModule",{value:!0});cE.generateSpiralMatrix=void 0;function MRe(i){let e=i*2+1;if(e<=0)return[];let t=[],n=0,r=0,a=0,s=-1;for(let o=0;o<e*e;o++){if(Math.abs(n)<=e/2&&Math.abs(r)<=e/2&&t.push([n,r]),n===r||n<0&&n===-r||n>0&&n===1-r){let c=a;a=-s,s=c}n+=a,r+=s}return t}l(MRe,"generateSpiralMatrix");cE.generateSpiralMatrix=MRe});var NZ=qe(bm=>{"use strict";ne();ae();re();Object.defineProperty(bm,"__esModule",{value:!0});bm.ViewRect=bm.generateSpiralMatrix=void 0;var ARe=LZ();Object.defineProperty(bm,"generateSpiralMatrix",{enumerable:!0,get:function(){return ARe.generateSpiralMatrix}});var aL=class{static{l(this,"ViewRect")}x0;x1;z0;z1;constructor(e,t,n){this.x0=e-n,this.x1=e+n,this.z0=t-n,this.z1=t+n}contains(e,t){return this.x0<=e&&e<=this.x1&&this.z0<=t&&t<=this.z1}};bm.ViewRect=aL});var BZ={};Xa(BZ,{WorldDataEmitter:()=>sL});var Zg,OZ,sL,FZ=Gt(()=>{ne();ae();re();jS();Zg=Mn(NZ());s0();OZ=Mn(wl()),sL=class extends OZ.EventEmitter{constructor(t,n,r=new ir(0,0,0)){super();this.world=t;this.viewDistance=n;this.loadedChunks={},this.lastPos=new ir(0,0,0).update(r),this.emitter=this,this.emitter.on("mouseClick",async a=>{let s=new ir(a.origin.x,a.origin.y,a.origin.z),o=new ir(a.direction.x,a.direction.y,a.direction.z),c=this.world.raycast(s,o,256);c&&this.emit("blockClicked",c,c.face,a.button)})}static{l(this,"WorldDataEmitter")}loadedChunks;lastPos;eventListeners={};emitter;listenToBot(t){let n=l(r=>{!r||r===t.entity||this.emitter.emit("entity",{...r,pos:r.position,username:r.username})},"emitEntity");this.eventListeners[t.username]={entitySpawn:r=>{n(r)},entityUpdate:r=>{n(r)},entityMoved:r=>{n(r)},entityGone:r=>{this.emitter.emit("entity",{id:r.id,delete:!0})},chunkColumnLoad:r=>{this.loadChunk(r)},blockUpdate:(r,a)=>{let s=a.stateId?a.stateId:a.type<<4|a.metadata;this.emitter.emit("blockUpdate",{pos:r.position,stateId:s})}},this.emitter.on("listening",()=>{this.emitter.emit("blockEntities",new Proxy({},{get(r,a,s){if(typeof a!="string")return;let[o,c,u]=a.split(",").map(Number);return t.world.getBlock(new ir(o,c,u)).entity}}))}),this.emitter.listenerCount("blockEntities")&&this.emitter.emit("listening");for(let[r,a]of Object.entries(this.eventListeners[t.username]))t.on(r,a);for(let r in t.entities){let a=t.entities[r];n(a)}}removeListenersFromBot(t){for(let[n,r]of Object.entries(this.eventListeners[t.username]))t.removeListener(n,r);delete this.eventListeners[t.username]}async init(t){this.emitter.emit("chunkPosUpdate",{pos:t});let[n,r]=Fl(t),a=(0,Zg.generateSpiralMatrix)(this.viewDistance).map(([s,o])=>new ir((n+s)*16,0,(r+o)*16));this.lastPos.update(t),await this._loadChunks(a)}async _loadChunks(t,n=5,r=0){for(let a=0;a<t.length;a+=n)await new Promise(s=>setTimeout(s,r)),await Promise.all(t.slice(a,a+n).map(s=>this.loadChunk(s)))}async loadChunk(t){let[n,r]=Fl(this.lastPos),a=Math.abs(n-Math.floor(t.x/16)),s=Math.abs(r-Math.floor(t.z/16));if(a<=this.viewDistance&&s<=this.viewDistance){let o=await this.world.getColumnAt(t.y?t:new ir(t.x,0,t.z));if(o){let c=o.toJson(),u={minY:o.minY??0,worldHeight:o.worldHeight??256};this.emitter.emit("loadChunk",{x:t.x,z:t.z,chunk:c,blockEntities:o.blockEntities,worldConfig:u}),this.loadedChunks[`${t.x},${t.z}`]=!0}}}unloadChunk(t){this.emitter.emit("unloadChunk",{x:t.x,z:t.z}),delete this.loadedChunks[`${t.x},${t.z}`]}async updatePosition(t,n=!1){let[r,a]=Fl(this.lastPos),[s,o]=Fl(t);if(r!==s||a!==o||n){this.emitter.emit("chunkPosUpdate",{pos:t});let c=new Zg.ViewRect(s,o,this.viewDistance),u=[];for(let f of Object.keys(this.loadedChunks)){let p=parseInt(f.split(",")[0]),d=parseInt(f.split(",")[1]),m=new ir(p,0,d),[y,g]=Fl(m);c.contains(y,g)||u.push(m)}console.log("unloading",u.length,"total now",Object.keys(this.loadedChunks).length);for(let f of u)this.unloadChunk(f);let h=(0,Zg.generateSpiralMatrix)(this.viewDistance).map(([f,p])=>{let d=new ir((s+f)*16,0,(o+p)*16);if(!this.loadedChunks[`${d.x},${d.z}`])return d}).filter(Boolean);this.lastPos.update(t),await this._loadChunks(h)}else this.lastPos.update(t)}}});var zZ=qe((tje,UZ)=>{ne();ae();re();var Fi={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},oL=class{static{l(this,"MapControls")}constructor(e,t){this.enabled=!0,this.object=e,this.element=t,this.mouseButtons={LEFT:THREE.MOUSE.ROTATE,MIDDLE:THREE.MOUSE.DOLLY,RIGHT:THREE.MOUSE.PAN},this.touches={ONE:THREE.TOUCH.ROTATE,TWO:THREE.TOUCH.DOLLY_PAN},this.controlMap={MOVE_FORWARD:["KeyW","KeyZ"],MOVE_BACKWARD:"KeyS",MOVE_LEFT:["KeyA","KeyQ"],MOVE_RIGHT:"KeyD",MOVE_DOWN:"ShiftLeft",MOVE_UP:"Space"},this.target=new THREE.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.01,this.enableZoom=!0,this.enableTouchZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.enableTouchRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.enableTouchPan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanDistance=32,this.keyPanSpeed=10,this.verticalTranslationSpeed=.5,this.keyDowns=[],this.changeEvent={type:"change"},this.startEvent={type:"start"},this.endEvent={type:"end"},this.state=Fi.NONE,this.EPS=1e-6,this.spherical=new THREE.Spherical,this.sphericalDelta=new THREE.Spherical,this.scale=1,this.panOffset=new THREE.Vector3,this.zoomChanged=!1,this.rotateStart=new THREE.Vector2,this.rotateEnd=new THREE.Vector2,this.rotateDelta=new THREE.Vector2,this.panStart=new THREE.Vector2,this.panEnd=new THREE.Vector2,this.panDelta=new THREE.Vector2,this.dollyStart=new THREE.Vector2,this.dollyEnd=new THREE.Vector2,this.dollyDelta=new THREE.Vector2,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.ticks=0,this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.onMouseWheel=this.onMouseWheel.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onContextMenu=this.onContextMenu.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.registerHandlers()}setRotationOrigin(e){this.target=e.clone()}unsetRotationOrigin(){this.target=new THREE.Vector3}getPolarAngle(){return this.spherical.phi}getAzimuthalAngle(){return this.spherical.theta}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(this.changeEvent),this.update(!0),this.state=Fi.NONE}update(e){e||this.tickControls();var t=new THREE.Vector3,n=new THREE.Quaternion().setFromUnitVectors(this.object.up,new THREE.Vector3(0,1,0)),r=n.clone().invert(),a=new THREE.Vector3,s=new THREE.Quaternion,o=2*Math.PI,c=this.object.position;t.copy(c).sub(this.target),t.applyQuaternion(n),this.spherical.setFromVector3(t),this.autoRotate&&this.state===Fi.NONE&&this.rotateLeft(this.getAutoRotationAngle()),this.enableDamping?(this.spherical.theta+=this.sphericalDelta.theta*this.dampingFactor,this.spherical.phi+=this.sphericalDelta.phi*this.dampingFactor):(this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi);var u=this.minAzimuthAngle,h=this.maxAzimuthAngle;return isFinite(u)&&isFinite(h)&&(u<-Math.PI?u+=o:u>Math.PI&&(u-=o),h<-Math.PI?h+=o:h>Math.PI&&(h-=o),u<h?this.spherical.theta=Math.max(u,Math.min(h,this.spherical.theta)):this.spherical.theta=this.spherical.theta>(u+h)/2?Math.max(u,this.spherical.theta):Math.min(h,this.spherical.theta)),this.spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius)),this.enableDamping===!0?this.target.addScaledVector(this.panOffset,this.dampingFactor):this.target.add(this.panOffset),t.setFromSpherical(this.spherical),t.applyQuaternion(r),c.copy(this.target).add(t),this.object.lookAt(this.target),this.enableDamping===!0?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor,this.panOffset.multiplyScalar(1-this.dampingFactor)):(this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0)),this.scale=1,this.zoomChanged||a.distanceToSquared(this.object.position)>this.EPS||8*(1-s.dot(this.object.quaternion))>this.EPS?(this.dispatchEvent(this.changeEvent),a.copy(this.object.position),s.copy(this.object.quaternion),this.zoomChanged=!1,!0):!1}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(e){this.sphericalDelta.theta-=e}rotateUp(e){this.sphericalDelta.phi-=e}panLeft(e,t){let n=new THREE.Vector3;n.setFromMatrixColumn(t,0),n.multiplyScalar(-e),this.panOffset.add(n)}panUp(e,t){let n=new THREE.Vector3;this.screenSpacePanning===!0?n.setFromMatrixColumn(t,1):(n.setFromMatrixColumn(t,0),n.crossVectors(this.object.up,n)),n.multiplyScalar(e),this.panOffset.add(n)}translateY(e){this.panOffset.y+=e}pan(e,t,n){let r=new THREE.Vector3;if(this.object.isPerspectiveCamera){var a=this.object.position;r.copy(a).sub(this.target);var s=r.length();s*=Math.tan(this.object.fov/2*Math.PI/180),s=n||s,this.panLeft(2*e*s/this.element.clientHeight,this.object.matrix),this.panUp(2*t*s/this.element.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this.panLeft(e*(this.object.right-this.object.left)/this.object.zoom/this.element.clientWidth,this.object.matrix),this.panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/this.element.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}dollyOut(e){this.object.isPerspectiveCamera?this.scale/=e:this.object.isOrthographicCamera?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*e)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}dollyIn(e){this.object.isPerspectiveCamera?this.scale*=e:this.object.isOrthographicCamera?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/e)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}handleMouseDownRotate(e){this.rotateStart.set(e.clientX,e.clientY)}handleMouseDownDolly(e){this.dollyStart.set(e.clientX,e.clientY)}handleMouseDownPan(e){this.panStart.set(e.clientX,e.clientY)}handleMouseMoveRotate(e){this.rotateEnd.set(e.clientX,e.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed),this.rotateLeft(2*Math.PI*this.rotateDelta.x/this.element.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/this.element.clientHeight),this.rotateStart.copy(this.rotateEnd),this.update(!0)}handleMouseMoveDolly(e){this.dollyEnd.set(e.clientX,e.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyOut(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyIn(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update(!0)}handleMouseMovePan(e){this.panEnd.set(e.clientX,e.clientY),this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd),this.update(!0)}handleMouseUp(){}handleMouseWheel(e){e.deltaY<0?this.dollyIn(this.getZoomScale()):e.deltaY>0&&this.dollyOut(this.getZoomScale()),this.update(!0)}onPointerMove(e){if(!(!this.enabled||this.state==Fi.NONE))switch(e.pointerType){case"mouse":case"pen":this.onMouseMove(e);break}}onPointerUp(e){if(this.enabled)switch(e.pointerType){case"mouse":case"pen":this.onMouseUp(e);break}}onPointerDown(e){if(this.enabled)switch(e.pointerType){case"mouse":case"pen":this.onMouseDown(e);break}}onMouseDown(e){e.preventDefault(),this.element.focus?this.element.focus():window.focus();var t;switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case THREE.MOUSE.DOLLY:if(this.enableZoom===!1)return;this.handleMouseDownDolly(e),this.state=Fi.DOLLY;break;case THREE.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(this.enablePan===!1)return;this.handleMouseDownPan(e),this.state=Fi.PAN}else{if(this.enableRotate===!1)return;this.handleMouseDownRotate(e),this.state=Fi.ROTATE}break;case THREE.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(this.enableRotate===!1)return;this.handleMouseDownRotate(e),this.state=Fi.ROTATE}else{if(this.enablePan===!1)return;this.handleMouseDownPan(e),this.state=Fi.PAN}break;default:this.state=Fi.NONE}}onMouseMove(e){if(this.enabled!==!1)switch(e.preventDefault(),this.state){case Fi.ROTATE:if(this.enableRotate===!1)return;this.handleMouseMoveRotate(e);break;case Fi.DOLLY:if(this.enableZoom===!1)return;this.handleMouseMoveDolly(e);break;case Fi.PAN:if(this.enablePan===!1)return;this.handleMouseMovePan(e);break}}onMouseUp(e){this.state=Fi.NONE}onMouseWheel(e){this.enabled===!1||this.enableZoom===!1||this.state!==Fi.NONE&&this.state!==Fi.ROTATE||(e.preventDefault(),e.stopPropagation(),this.dispatchEvent(this.startEvent),this.handleMouseWheel(e),this.dispatchEvent(this.endEvent))}handleTouchStartRotate(e){if(e.touches.length==1)this.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);this.rotateStart.set(t,n)}}handleTouchStartPan(e){if(e.touches.length==1)this.panStart.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);this.panStart.set(t,n)}}handleTouchStartDolly(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);this.dollyStart.set(0,r)}handleTouchStartDollyPan(e){this.enableTouchZoom&&this.handleTouchStartDolly(e),this.enableTouchPan&&this.handleTouchStartPan(e)}handleTouchStartDollyRotate(e){this.enableTouchZoom&&this.handleTouchStartDolly(e),this.enableTouchRotate&&this.handleTouchStartRotate(e)}handleTouchMoveRotate(e){if(e.touches.length==1)this.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);this.rotateEnd.set(t,n)}this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed),this.rotateLeft(2*Math.PI*this.rotateDelta.x/this.element.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/this.element.clientHeight),this.rotateStart.copy(this.rotateEnd)}handleTouchMovePan(e){if(e.touches.length==1)this.panEnd.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);this.panEnd.set(t,n)}this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd)}handleTouchMoveDolly(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);this.dollyEnd.set(0,r),this.dollyDelta.set(0,Math.pow(this.dollyEnd.y/this.dollyStart.y,this.zoomSpeed)),this.dollyOut(this.dollyDelta.y),this.dollyStart.copy(this.dollyEnd)}handleTouchMoveDollyPan(e){this.enableTouchZoom&&this.handleTouchMoveDolly(e),this.enableTouchPan&&this.handleTouchMovePan(e)}handleTouchMoveDollyRotate(e){this.enableTouchZoom&&this.handleTouchMoveDolly(e),this.enableTouchRotate&&this.handleTouchMoveRotate(e)}handleTouchEnd(){}tickControls(){let e=this.controlMap;for(var t of this.keyDowns)e.MOVE_FORWARD.includes(t)?this.pan(0,this.keyPanSpeed,this.keyPanDistance):e.MOVE_BACKWARD.includes(t)?this.pan(0,-this.keyPanSpeed,this.keyPanDistance):e.MOVE_LEFT.includes(t)?this.pan(this.keyPanSpeed,0,this.keyPanDistance):e.MOVE_RIGHT.includes(t)?this.pan(-this.keyPanSpeed,0,this.keyPanDistance):e.MOVE_UP.includes(t)?this.translateY(+this.verticalTranslationSpeed):e.MOVE_DOWN.includes(t)&&this.translateY(-this.verticalTranslationSpeed)}onKeyDown(e){this.enabled&&e.code&&!this.keyDowns.includes(e.code)&&this.keyDowns.push(e.code)}onKeyUp(e){this.keyDowns=this.keyDowns.filter(t=>t!=e.code)}onTouchStart(e){if(this.enabled!==!1){switch(e.preventDefault(),e.touches.length){case 1:switch(this.touches.ONE){case THREE.TOUCH.ROTATE:if(this.enableTouchRotate===!1)return;this.handleTouchStartRotate(e),this.state=Fi.TOUCH_ROTATE;break;case THREE.TOUCH.PAN:if(this.enableTouchPan===!1)return;this.handleTouchStartPan(e),this.state=Fi.TOUCH_PAN;break;default:this.state=Fi.NONE}break;case 2:switch(this.touches.TWO){case THREE.TOUCH.DOLLY_PAN:if(this.enableTouchZoom===!1&&this.enableTouchPan===!1)return;this.handleTouchStartDollyPan(e),this.state=Fi.TOUCH_DOLLY_PAN;break;case THREE.TOUCH.DOLLY_ROTATE:if(this.enableTouchZoom===!1&&this.enableTouchRotate===!1)return;this.handleTouchStartDollyRotate(e),this.state=Fi.TOUCH_DOLLY_ROTATE;break;default:this.state=Fi.NONE}break;default:this.state=Fi.NONE}this.state!==Fi.NONE&&this.dispatchEvent(this.startEvent)}}onTouchMove(e){if(this.enabled!==!1)switch(e.preventDefault(),e.stopPropagation(),this.state){case Fi.TOUCH_ROTATE:if(this.enableTouchRotate===!1)return;this.handleTouchMoveRotate(e),this.update();break;case Fi.TOUCH_PAN:if(this.enableTouchPan===!1)return;this.handleTouchMovePan(e),this.update();break;case Fi.TOUCH_DOLLY_PAN:if(this.enableTouchZoom===!1&&this.enableTouchPan===!1)return;this.handleTouchMoveDollyPan(e),this.update();break;case Fi.TOUCH_DOLLY_ROTATE:if(this.enableTouchZoom===!1&&this.enableTouchRotate===!1)return;this.handleTouchMoveDollyRotate(e),this.update();break;default:this.state=Fi.NONE}}onTouchEnd(e){this.enabled!==!1&&(this.handleTouchEnd(e),this.dispatchEvent(this.endEvent),this.state=Fi.NONE)}onContextMenu(e){this.enabled&&e.preventDefault()}registerHandlers(){this.element.addEventListener("pointermove",this.onPointerMove,!1,{passive:!0}),this.element.addEventListener("pointerup",this.onPointerUp,!1,{passive:!0}),this.element.addEventListener("pointerdown",this.onPointerDown,!1,{passive:!0}),this.element.addEventListener("wheel",this.onMouseWheel,!0,{passive:!0}),this.element.addEventListener("touchstart",this.onTouchStart,!1,{passive:!0}),this.element.addEventListener("touchend",this.onTouchEnd,!1,{passive:!0}),this.element.addEventListener("touchmove",this.onTouchMove,!1,{passive:!0}),this.element.ownerDocument.addEventListener("contextmenu",this.onContextMenu,!1,{passive:!0}),this.element.ownerDocument.addEventListener("keydown",this.onKeyDown,!1,{passive:!0}),this.element.ownerDocument.addEventListener("keyup",this.onKeyUp,!1,{passive:!0}),console.log("[controls] registered handlers",this.element)}unregisterHandlers(){this.element.removeEventListener("pointermove",this.onPointerMove,!1,{passive:!0}),this.element.removeEventListener("pointerup",this.onPointerUp,!1,{passive:!0}),this.element.removeEventListener("pointerdown",this.onPointerDown,!1,{passive:!0}),this.element.removeEventListener("wheel",this.onMouseWheel,!0,{passive:!0}),this.element.removeEventListener("touchstart",this.onTouchStart,!1,{passive:!0}),this.element.removeEventListener("touchend",this.onTouchEnd,!1,{passive:!0}),this.element.removeEventListener("touchmove",this.onTouchMove,!1,{passive:!0}),this.element.ownerDocument.removeEventListener("contextmenu",this.onContextMenu,!1,{passive:!0}),this.element.ownerDocument.removeEventListener("keydown",this.onKeyDown,!1,{passive:!0}),this.element.ownerDocument.removeEventListener("keyup",this.onKeyUp,!1,{passive:!0}),console.log("[controls] unregistered handlers",this.element)}dispatchEvent(){}};UZ.exports={MapControls:oL}});var VZ=qe((sje,DZ)=>{ne();ae();re();DZ.exports={Viewer:(CZ(),Zr(IZ)).Viewer,WorldDataEmitter:(FZ(),Zr(BZ)).WorldDataEmitter,MapControls:zZ().MapControls,Entity:tE(),getBufferFromStream:(jS(),Zr(jY)).getBufferFromStream}});var qZ=qe((uje,TRe)=>{TRe.exports={void:"native",container:"native",i8:"native",switch:"native",compound:"native",i16:"native",u16:"native",i32:"native",i64:"native",f32:"native",f64:"native",pstring:"native",shortString:["pstring",{countType:"u16"}],byteArray:["array",{countType:"i32",type:"i8"}],list:["container",[{name:"type",type:"nbtMapper"},{name:"value",type:["array",{countType:"i32",type:["nbtSwitch",{type:"type"}]}]}]],intArray:["array",{countType:"i32",type:"i32"}],longArray:["array",{countType:"i32",type:"i64"}],nbtMapper:["mapper",{type:"i8",mappings:{"0":"end","1":"byte","2":"short","3":"int","4":"long","5":"float","6":"double","7":"byteArray","8":"string","9":"list","10":"compound","11":"intArray","12":"longArray"}}],nbtSwitch:["switch",{compareTo:"$type",fields:{end:"void",byte:"i8",short:"i16",int:"i32",long:"i64",float:"f32",double:"f64",byteArray:"byteArray",string:"shortString",list:"list",compound:"compound",intArray:"intArray",longArray:"longArray"}}],nbt:["container",[{name:"type",type:"nbtMapper"},{name:"name",type:"nbtTagName"},{name:"value",type:["nbtSwitch",{type:"type"}]}]]}});var HZ=qe((hje,kRe)=>{kRe.exports={void:"native",container:"native",i8:"native",switch:"native",compound:"native",zigzag32:"native",zigzag64:"native",i16:"native",i32:"native",i64:"native",f32:"native",f64:"native",pstring:"native",shortString:["pstring",{countType:"varint"}],byteArray:["array",{countType:"zigzag32",type:"i8"}],list:["container",[{name:"type",type:"nbtMapper"},{name:"value",type:["array",{countType:"zigzag32",type:["nbtSwitch",{type:"type"}]}]}]],intArray:["array",{countType:"zigzag32",type:"i32"}],longArray:["array",{countType:"zigzag32",type:"i64"}],nbtMapper:["mapper",{type:"i8",mappings:{"0":"end","1":"byte","2":"short","3":"int","4":"long","5":"float","6":"double","7":"byteArray","8":"string","9":"list","10":"compound","11":"intArray","12":"longArray"}}],nbtSwitch:["switch",{compareTo:"$type",fields:{end:"void",byte:"i8",short:"i16",int:"zigzag32",long:"zigzag64",float:"f32",double:"f64",byteArray:"byteArray",string:"shortString",list:"list",compound:"compound",intArray:"intArray",longArray:"longArray"}}],nbt:["container",[{name:"type",type:"nbtMapper"},{name:"name",type:"nbtTagName"},{name:"value",type:["nbtSwitch",{type:"type"}]}]]}});var WZ=qe((fje,GZ)=>{ne();ae();re();GZ.exports={Read:{compound:["context",(i,e)=>{let t={value:{},size:0};for(;e!==i.length;){let n=ctx.i8(i,e);if(n.value===0){t.size+=n.size;break}if(n.value>20)throw new Error(`Invalid tag: ${n.value} > 20`);let r=ctx.nbt(i,e);e+=r.size,t.size+=r.size,t.value[r.value.name]={type:r.value.type,value:r.value.value}}return t}]},Write:{compound:["context",(i,e,t)=>{for(let n in i)t=ctx.nbt({name:n,type:i[n].type,value:i[n].value},e,t);return t=ctx.i8(0,e,t),t}]},SizeOf:{compound:["context",i=>{let e=1;for(let t in i)e+=ctx.nbt({name:t,type:i[t].type,value:i[t].value});return e}]}}});var $Z=qe((_je,jZ)=>{ne();ae();re();function RRe(i,e){let{value:t,size:n}=ctx.shortString(i,e);for(let r of t)if(r==="\0")throw new Error("unexpected tag end");return{value:t,size:n}}l(RRe,"readPString");function PRe(...i){return ctx.shortString(...i)}l(PRe,"writePString");function IRe(...i){return ctx.shortString(...i)}l(IRe,"sizeOfPString");jZ.exports={Read:{nbtTagName:["context",RRe]},Write:{nbtTagName:["context",PRe]},SizeOf:{nbtTagName:["context",IRe]}}});var YZ=qe((wje,XZ)=>{ne();ae();re();function CRe(i){i=i<<1^i>>63;let e=0;for(;i&-128;)i>>>=7,e++;return e+1}l(CRe,"sizeOfVarInt");function LRe(i){typeof i.valueOf()=="object"?i=BigInt(i[0])<<32n|BigInt(i[1]):typeof i!="bigint"&&(i=BigInt(i)),i=i<<1n^i>>63n;let e=0;for(;i>127n;)i>>=7n,e++;return e+1}l(LRe,"sizeOfVarLong");function NRe(i,e){let t=BigInt(0),n=0n,r=e,a=0;for(;;){if(r+1>i.length)throw new Error("unexpected buffer end");let o=i.readUInt8(r);if(t|=(BigInt(o)&0x7fn)<<n,r++,!(o&128)){a=r-e;break}if(n+=7n,n>63n)throw new Error(`varint is too big: ${n}`)}return{value:t>>1n^-(t&1n),size:a}}l(NRe,"readSignedVarLong");function ORe(i,e,t){typeof i.valueOf()=="object"?i=BigInt.asIntN(64,BigInt(i[0])<<32n)|BigInt(i[1]):typeof i!="bigint"&&(i=BigInt(i)),i=i<<1n^i>>63n;let n=0;for(;i>127n;){let r=Number(i&0xFFn);e.writeUInt8(r|128,t+n),n++,i>>=7n}return e.writeUInt8(Number(i),t+n),t+n+1}l(ORe,"writeSignedVarLong");function BRe(i,e){let t=0,n=0,r=e,a=0;for(;;){if(r+1>i.length)throw new Error("unexpected buffer end");let o=i.readUInt8(r);if(t|=(o&127)<<n,r++,!(o&128)){a=r-e;break}if(n+=7,n>31)throw new Error(`varint is too big: ${n}`)}return{value:(t<<63>>63^t)>>1^t&1<<63,size:a}}l(BRe,"readSignedVarInt");function FRe(i,e,t){i=i<<1^i>>31;let n=0;for(;i&-128;){let r=Number(i&255|128);e.writeUInt8(r,t+n),n++,i>>>=7}return e.writeUInt8(i,t+n),t+n+1}l(FRe,"writeSignedVarInt");XZ.exports={Read:{zigzag64:["native",NRe],zigzag32:["native",BRe]},Write:{zigzag64:["native",ORe],zigzag32:["native",FRe]},SizeOf:{zigzag64:["native",LRe],zigzag32:["native",CRe]}}});var JZ=qe((Aje,ZZ)=>{ne();ae();re();var URe={Byte:"byte",Short:"short",Int:"int",Long:"long",Float:"float",Double:"double",ByteArray:"byteArray",String:"string",List:"list",Compound:"compound",IntArray:"intArray",LongArray:"longArray"};ZZ.exports=URe});var Mf=qe((Pje,nJ)=>{ne();ae();re();var zRe=(IP(),Zr(PP)),{ProtoDefCompiler:DRe}=_C().Compiler,KZ=JSON.stringify(qZ()),VRe=KZ.replace(/([iuf][0-7]+)/g,"l$1"),qRe=JSON.stringify(HZ()).replace(/([if][0-7]+)/g,"l$1");function lL(i){let e=new DRe;e.addTypes(WZ()),e.addTypes($Z());let t=KZ;return i==="littleVarint"?(e.addTypes(YZ()),t=qRe):i==="little"&&(t=VRe),e.addTypesToCompile(JSON.parse(t)),e.compileProtoDefSync()}l(lL,"createProto");var QZ=lL("big"),eJ=lL("little"),HRe=lL("littleVarint"),uE={big:QZ,little:eJ,littleVarint:HRe};function GRe(i,e="big"){return e===!0&&(e="little"),uE[e].createPacketBuffer("nbt",i)}l(GRe,"writeUncompressed");function WRe(i,e="big"){return e===!0&&(e="little"),uE[e].parsePacketBuffer("nbt",i,i.startOffset).data}l(WRe,"parseUncompressed");var jRe=l(function(i){let e=!0;return i[0]!==31&&(e=!1),i[1]!==139&&(e=!1),e},"hasGzipHeader"),tJ=l(i=>i[1]===0&&i[2]===0&&i[3]===0,"hasBedrockLevelHeader");async function Jg(i,e){jRe(i)&&(i=await new Promise((n,r)=>{zRe.gunzip(i,(a,s)=>{a?r(a):n(s)})}));let t=uE[e].parsePacketBuffer("nbt",i,i.startOffset);return t.metadata.buffer=i,t.type=e,t}l(Jg,"parseAs");async function $Re(i,e,t){let n=null;if(typeof e=="function")t=e;else if(e===!0||e==="little")n="little";else if(e==="big")n="big";else if(e==="littleVarint")n="littleVarint";else if(e)throw new Error("Unrecognized format: "+e);if(i.startOffset=i.startOffset||0,!n&&!i.startOffset&&tJ(i)&&(i.startOffset+=8,n="little"),n)try{let s=await Jg(i,n);return t&&t(null,s.data,s.type,s.metadata),{parsed:s.data,type:s.type,metadata:s.metadata}}catch(s){if(t)return t(s);throw s}let r=l(({buffer:s,size:o})=>{let c=o,u=s.length-s.startOffset,f=s[c+s.startOffset]===10;if(c<u&&!f)throw new Error(`Unexpected EOF at ${c}: still have ${u-c} bytes to read !`)},"verifyEOF"),a=null;try{a=await Jg(i,"big"),r(a.metadata)}catch(s){try{a=await Jg(i,"little"),r(a.metadata)}catch{try{a=await Jg(i,"littleVarint"),r(a.metadata)}catch{if(t)return t(s);throw s}}}return t&&t(null,a.data,a.type,a.metadata),{parsed:a.data,type:a.type,metadata:a.metadata}}l($Re,"parse");function iJ(i){function e(t,n){return n==="compound"?Object.keys(t).reduce(function(r,a){return r[a]=iJ(t[a]),r},{}):n==="list"?t.value.map(function(r){return e(r,t.type)}):t}return l(e,"transform"),e(i.value,i.type)}l(iJ,"simplify");var XRe={bool(i=!1){return{type:"bool",value:i}},short(i){return{type:"short",value:i}},byte(i){return{type:"byte",value:i}},string(i){return{type:"string",value:i}},comp(i,e=""){return{type:"compound",name:e,value:i}},int(i){return{type:"int",value:i}},float(i){return{type:"float",value:i}},double(i){return{type:"double",value:i}},long(i){return{type:"long",value:i}},list(i){return{type:"list",value:{type:i?.type??"end",value:i?.value??[]}}},byteArray(i=[]){return{type:"byteArray",value:i}},shortArray(i=[]){return{type:"shortArray",value:i}},intArray(i=[]){return{type:"intArray",value:i}},longArray(i=[]){return{type:"longArray",value:i}}};nJ.exports={writeUncompressed:GRe,parseUncompressed:WRe,simplify:iJ,hasBedrockLevelHeader:tJ,parse:$Re,parseAs:Jg,proto:QZ,protoLE:eJ,protos:uE,TagType:JZ(),...XRe}});var Kg=qe((Oje,rJ)=>{ne();ae();re();rJ.exports=ZRe;var YRe={color:0,height:null,name:"",rainfall:0,temperature:0};function ZRe(i){let t=(typeof i=="string"?qg()(i):i).biomes;return l(function(r){return t?.[r]||{...YRe,id:r}},"Biome")}l(ZRe,"loader")});var sJ=qe((Dje,aJ)=>{ne();ae();re();var dn=Mf();aJ.exports=i=>{if(i.version.type==="pc"){let c=function(m){let y=[];if(typeof m=="string")y.push(...m.split(`
`).map(g=>JSON.stringify({text:g})));else if(Array.isArray(m))for(let g of m)g.toJSON?y.push(JSON.stringify(g.toJSON())):typeof g=="object"?y.push(JSON.stringify(g)):y.push(JSON.stringify({text:g}));return y},u=function(m,y){for(let[g,b]of Object.entries(y)){if(!(g in m)){m[g]=b;continue}typeof b=="object"&&!Array.isArray(b)&&u(m[g],y[g])}},h=function(m,y,g){let b=c(g);m.entity||(m.entity=dn.comp({id:dn.string(i.version[">="]("1.11")?"minecraft:sign":"Sign")})),u(m.entity,dn.comp({isWaxed:dn.byte(0),back_text:dn.comp({has_glowing_text:dn.byte(0),color:dn.string("black"),messages:dn.list(dn.string(['{"text":""}']))}),front_text:dn.comp({has_glowing_text:dn.byte(0),color:dn.string("black"),messages:dn.list(dn.string(['{"text":""}']))})})),m.entity.value[y].value.messages.value.value=b},f=function(m,y){return m.entity?m.entity?.value?.[y]?.value?.messages?.value?.value?.map(g=>typeof JSON.parse(g)=="string"?JSON.parse(g):new o(JSON.parse(g)).toString()).join(`
`)??"":""},p=function(m,y){let g=c(y);m.entity||(m.entity=dn.comp({id:dn.string(i.version[">="]("1.11")?"minecraft:sign":"Sign")})),Object.assign(m.entity.value,{Text1:dn.string(g[0]||'""'),Text2:dn.string(g[1]||'""'),Text3:dn.string(g[2]||'""'),Text4:dn.string(g[3]||'""')})},d=function(m){return m.entity?[m.entity.value.Text1.value,m.entity.value.Text2.value,m.entity.value.Text3.value,m.entity.value.Text4.value].map(g=>g||'"').map(g=>typeof JSON.parse(g)=="string"?JSON.parse(g):new o(JSON.parse(g)).toString()).join(`
`).trimEnd():""};var e=c,t=u,n=h,r=f,a=p,s=d;l(c,"signValueToJSONArray"),l(u,"mergeNbt"),l(h,"setSignTextForMultiSideSign"),l(f,"getSignTextForMultiSideSign"),l(p,"setSignTextForLegacySign"),l(d,"getSignTextForLegacySign");let o=kC()(i.version.majorVersion);return{sign:{setSignText(m,y){if(i.supportFeature("multiSidedSigns"))m!==void 0&&h(this,"front_text",m),y!==void 0&&h(this,"back_text",y);else if(m!==void 0&&p(this,m),y!==void 0)throw new Error(`Cannot set the back text of a sign on a version before 1.20 : ${i.version.minecraftVersion}`)},getSignText(){return i.supportFeature("multiSidedSigns")?[f(this,"front_text"),f(this,"back_text")]:[d(this)]},get signText(){return this.getSignText()[0]},set signText(m){this.setSignText(m)}}}}if(i.version.type==="bedrock")return{sign:{getSignText(){return this.entity?[this.entity.Text.value]:[""]},setSignText(o){this.entity||(this.entity=dn.comp({id:dn.string("Sign")})),Object.assign(this.entity.value,{Text:dn.string(Array.isArray(o)?o.join(`
`):o)})},get signText(){return this.getSignText()[0]},set signText(o){this.setSignText(o)}}}}});var aa=qe((Wje,uL)=>{ne();ae();re();uL.exports=ePe;uL.exports.testedVersions=["1.8.8","1.9.4","1.10.2","1.11.2","1.12.2","1.13.2","1.14.4","1.15.2","1.16.4","1.17.1","1.18.1","bedrock_1.17.10","bedrock_1.18.0","1.20"];var JRe=Mf(),oJ=HS(),KRe=Object.entries(oJ.legacy.pc.blocks).reduce((i,[e,t])=>{let n=t.replace("minecraft:","").split("[")[0],r=t.split("[")[1]?.replace("]","")??"";return(i[n]=i[n]||{})[r]=e,i},{}),hE=Object.entries(oJ.legacy.pc.blocks).reduce((i,[e,t])=>{let n=t.split("[")[1]?.replace("]","");return i[e]=n?Object.fromEntries(n.split(",").map(r=>{let[a,s]=r.split("=");return isNaN(parseInt(s))||(s=parseInt(s)),[a,s]})):{},i},{});function QRe(i){if(typeof i=="object")return i;let e={};for(let t of i.split(",")){let[n,r]=t.split("=");e[n]=r}return e}l(QRe,"parseProperties");function cL(i,e){if(!e)return!0;e=QRe(e);let t=i.getProperties();if(e.OR)return e.OR.some(n=>cL(i,n));for(let n in t){if(e[n]===void 0)continue;if(!(typeof e[n]!="string"?String(e[n]):e[n]).split("|").some(a=>a===String(t[n])))return!1}return!0}l(cL,"matchProperties");function ePe(i){let e=typeof i=="string"?qg()(i):i,t=e.version;return iPe(e,{Biome:Kg()(t.minecraftVersion),version:t})}l(ePe,"loader");var tPe=[[0,0,0,1,1,1]];function iPe(i,{Biome:e,version:t}){let n=sJ()(i),r=t.type==="pc"&&i.supportFeature("blockStateId")||t.type==="bedrock",a=i.blockCollisionShapes;if(a)for(let p in i.blocks){let d=i.blocks[p],m=a.blocks[d.name];if(d.shapes=m instanceof Array?a.shapes[m[0]]:a.shapes[m],d.shapes||(console.error("No shape found for block "+d.name),d.shapes=[]),d.states||t.type==="bedrock"){if(m instanceof Array){d.stateShapes=[];for(let y in m)d.stateShapes.push(a.shapes[m[y]])}}else if("variations"in d)for(let y in d.variations){let g=d.variations[y].metadata;m instanceof Array?d.variations[y].shapes=a.shapes[m[g]]:d.variations[y].shapes=a.shapes[m]}!d.shapes&&t.type==="bedrock"&&(d.shapes=a.shapes[a.blocks.stone[0]],d.stateShapes=d.shapes)}function s(p,d){let m=i.effectsByName[p];if(!m)return 0;let y=d[m.id];return y?y.amplifier+1:0}l(s,"getEffectLevel");function o(p,d){let m=i.enchantmentsByName[p];if(!m)return 0;for(let y of d)if(typeof y.name=="string"){if(y.name.includes(p))return y.lvl}else if(y.name===m.name)return y.lvl;return 0}l(o,"getEnchantmentLevel");function c(p){switch(p){case 0:return 1;case 1:return .3;case 2:return .09;case 3:return .0027;default:return 81e-5}}return l(c,"getMiningFatigueMultiplier"),class ou{static{l(this,"Block")}get interactionShapes(){let m=l(()=>{let y=globalThis.interactionShapes?.[this.name];if(!y)return this.shapes?.length===0?tPe[0].map(g=>g*16):[];if(!Array.isArray(y)){if(y.combine){let b=[];return Object.entries(y.combine).forEach(([x,w])=>{cL(this,x)&&b.push(w)}),b}let g;for(let[b,x]of Object.entries(y))if(cL(this,b)){g=x;break}return g??[]}return y},"getShape")();return typeof m[0]=="number"?[m.map(y=>y/16)]:m.map(y=>y.map(g=>g/16))??[]}set interactionShapes(d){}constructor(d,m,y,g){if(this.type=d,this.metadata=y??0,this.light=0,this.skyLight=0,this.biome=new e(m),this.position=null,this.entity=void 0,this.stateId=g,this.computedStates={},g===void 0&&d!==void 0){let x=i.blocks[d];this.stateId=x===void 0?null:Math.min(x.minStateId+y,x.maxStateId)}let b=i.blocksByStateId[this.stateId];if(b){if(this.metadata=this.stateId-b.minStateId,this.type=b.id,this.name=b.name,this.hardness=b.hardness,this.displayName=b.displayName,this.shapes=b.shapes,this.interactionShapes=b.interactionShapes,b.stateShapes)b.stateShapes[this.metadata]!==void 0?this.shapes=b.stateShapes[this.metadata]:(this.shapes=b.stateShapes[0],this.missingStateShape=!0);else if(b.variations){let x=b.variations;for(let w in x)x[w].metadata===y&&(this.displayName=x[w].displayName,this.shapes=x[w].shapes)}this.boundingBox=b.boundingBox,this.transparent=b.transparent,this.diggable=b.diggable,this.material=b.material,this.harvestTools=b.harvestTools,this.drops=b.drops}else this.name="",this.displayName="",this.shapes=[],this.hardness=0,this.boundingBox="empty",this.transparent=!0,this.diggable=!1;if(this._properties={},t.type==="pc"){if(r){let x=i.blocksByStateId[this.stateId];if(x&&x.states){let w=this.metadata;for(let E=x.states.length-1;E>=0;E--){let M=x.states[E];this._properties[M.name]=f(M,w%M.num_values),w=Math.floor(w/M.num_values)}}}else if(this._properties=hE[this.type+":"+this.metadata]||hE[this.type+":0"]||{},!this._properties)for(let x=0;x<15&&(this._properties=hE[this.type+":"+x],!this._properties);x++);}else if(t.type==="bedrock"){let x=i.blockStates?.[this.stateId]?.states||{};for(let w in x)this._properties[w]=x[w].value}this.name.includes("sign")&&nPe(this,n.sign)}static fromStateId(d,m){return r?new ou(void 0,m,0,d):new ou(d>>4,m,d&15,d)}static fromProperties(d,m,y){let g=typeof d=="string"?i.blocksByName[d]:i.blocks[d];if(t.type==="pc")if(g.states){let b=0;for(let[x,w]of Object.entries(m))b+=h(g.states,x,w);return new ou(void 0,y,0,g.minStateId+b)}else{let b=KRe[g.name];for(let x in b){let w;for(let[E,M]of Object.entries(m)){let C=E+"="+M;if(!x.includes(C)){w=!0;break}}if(!w){let[E,M]=b[x].split(":").map(Number);return new ou(E,y,M)}}throw new Error("No matching block state found for "+g.name+" with properties "+JSON.stringify(m))}else if(t.type==="bedrock"){for(let b=g.minStateId;b<=g.maxStateId;b++){let x=i.blockStates[b].states;if(!Object.entries(m).find(([w,E])=>x[w]?.value!==E))return new ou(void 0,y,0,b)}return g}}static fromString(d,m){d.startsWith("minecraft:")&&(d=d.substring(10));let y=d.split("[",1)[0],g=d.slice(y.length+1,-1).split(",");if(t.type==="pc")return ou.fromProperties(y,Object.fromEntries(g.map(b=>b.split("="))),m);if(t.type==="bedrock")return ou.fromProperties(y,Object.fromEntries(g.map(b=>{let[x,w]=b.split(":");return[x.slice(1,-1),w.startsWith('"')?w.slice(1,-1):{true:1,false:0}[w]??parseInt(w)]})),m)}get blockEntity(){return this.entity?JRe.simplify(this.entity):void 0}getProperties(){return Object.assign(this._properties,this.computedStates)}changeProperties(d){if(r)throw new Error("Not implemented");{let m=Object.assign({},this._properties,Object.fromEntries(Object.entries(d).map(([w,E])=>typeof E=="boolean"?[w,`${E}`]:[w,E]))),y=l(w=>Object.entries(w).map(([E,M])=>E+"="+M).join(","),"propsToString"),g=y(m),b,x=Object.entries(hE).find(([w,E])=>{if(+w.split(":")[0]===this.type)b=E;else return!1;return y(E)===g});if(!x)throw new Error("No matching block state found for "+this.name+" with properties "+JSON.stringify(d)+" last found state: "+JSON.stringify(b));return+x[0].split(":")[1]}}canHarvest(d){return this.harvestTools?d&&this.harvestTools&&this.harvestTools[d]:!0}digTime(d,m,y,g,b=[],x={}){if(m)return 0;let w=i.materials[this.material],E=d&&w&&w[d],M=1;E&&(M=w[d]);let C=o("efficiency",b);C>0&&M>1&&(M+=C*C+1);let I=Math.max(s("Haste",x),s("ConduitPower",x));I>0&&(M*=1+.2*I);let F=s("MiningFatigue",x);F>0&&(M*=c(F));let A=o("aqua_affinity",b);y&&A===0&&(M/=5),g&&(M/=5);let T=this.hardness,j=this.canHarvest(d)?30:100,R=M/T/j;return T===-1&&(R=0),R===0?1/0:R>=1?0:Math.ceil(1/R)*50}};function u(p,d){if(d.type==="enum")return d.values.indexOf(p);if(d.type==="bool"){if(p===!0)return 0;if(p===!1)return 1}return d.type==="int"?p:d.values?.indexOf(p.toString())??0}l(u,"parseValue");function h(p,d,m){let y=1;for(let g=p.length-1;g>=0;g--){let b=p[g];if(b.name===d)return y*u(m,b);y*=b.num_values}return 0}l(h,"getStateValue");function f(p,d){return p.type==="enum"?p.values[d]:p.type==="bool"?!d:d}l(f,"propValue")}l(iPe,"provider");function nPe(i,e){Object.defineProperties(i,Object.getOwnPropertyDescriptors(e))}l(nPe,"mergeObject")});var Dl=qe((Zje,lJ)=>{ne();ae();re();var hL=l(i=>`${i.x},${i.y},${i.z}`,"posKey"),fL=class{static{l(this,"CommonChunkColumn")}constructor(e){this.registry=e,this.blockEntities={},this.minY=0}getSection(e){return this.sections[e.y-this.minY>>4]}getSectionAtIndex(e){let t=this.minY>>4;return this.sections[e-t]}getBiomeId(e){return this.getBiome(e)}setBiomeId(e,t){this.setBiome(e,t)}getBiomeData(e){let t=this.getBiome(e);return this.registry[t]}getBiomeColor(e){let{color:t}=this.getBiomeData(e),n=t>>16,r=t>>8&255,a=t&255;return{r:n,g:r,b:a}}setBiomeColor(){throw new Error("Cannot change biome color, update the biome instead")}getBlockEntity(e){return this.blockEntities[hL(e)]}setBlockEntity(e,t){this.blockEntities[hL(e)]=t}removeBlockEntity(e){delete this.blockEntities[hL(e)]}loadBlockEntities(e){for(let t of e)this.setBlockEntity({x:t.x.value>>4,y:t.y.value,z:t.z.value>>4},t)}};lJ.exports=fL});var ym=qe((t$e,Vl)=>{ne();ae();re();var Qg=l(function(i,e){return e%1?i.readUInt8(Math.floor(e))&15:i.readUInt8(e)>>4},"readUInt4BE"),pL=l(function(i,e,t){if(e>=16)throw new Error("value is out of bounds");var n=Math.floor(t);t%1?i.writeUInt8(Qg(i,n)<<4|e,n):i.writeUInt8(e<<4|Qg(i,t),n)},"writeUInt4BE"),dL=l(function(i,e){return e%1?i.readUInt8(Math.floor(e))>>4:i.readUInt8(e)&15},"readUInt4LE"),rPe=l(function(i,e,t){if(e>=16)throw new Error("value is out of bounds");var n=Math.floor(t);t%1?i.writeUInt8(e<<4|dL(i,Math.floor(t)),n):i.writeUInt8(dL(i,n)<<4|e,n)},"writeUInt4LE");Vl.exports.read=Qg;Vl.exports.readUInt4=Qg;Vl.exports.write=pL;Vl.exports.writeUInt4=pL;Vl.exports.readUInt4BE=Qg;Vl.exports.writeUInt4BE=pL;Vl.exports.readUInt4LE=dL;Vl.exports.writeUInt4LE=rPe});var dJ=qe((s$e,fJ)=>{ne();ae();re();var{readUInt4LE:cJ,writeUInt4LE:fE}=ym(),lu=16,cu=16,Af=16,mL=l(function(i){return i.x+lu*(i.z+cu*i.y)},"getArrayPosition"),vm=l(function(i){return mL(i)*2},"getBlockCursor"),uJ=l(function(i){return mL(i)*.5+lu*cu*Af*2},"getBlockLightCursor"),hJ=l(function(i){return mL(i)*.5+lu*cu*Af/2*5},"getSkyLightCursor"),wm=class i{static{l(this,"Section")}constructor(e=!0){let t=i.sectionSize(e);this.data=pe.Buffer.alloc(t),this.data.fill(0)}toJson(){return this.data.toJSON()}static fromJson(e){let t=new i;return t.data=pe.Buffer.from(e),t}static sectionSize(e=!0){return lu*cu*Af*(e?3:5/2)}initialize(e){let t=lu*cu*Af/2*5,n=lu*cu*Af*2,r=0;for(let a=0;a<Af;a++)for(let s=0;s<lu;s++)for(let o=0;o<cu;o++,r++){let c=e(o,a,s,r);c!=null&&(this.data.writeUInt16LE(c.type<<4|c.metadata,r*2),fE(this.data,c.light,r*.5+n),fE(this.data,c.skyLight,r*.5+t))}}getBiomeColor(e){return{r:0,g:0,b:0}}setBiomeColor(e,t,n,r){}getBlockStateId(e){let t=vm(e);return this.data.readUInt16LE(t)}getBlockType(e){let t=vm(e);return this.data.readUInt16LE(t)>>4}getBlockData(e){let t=vm(e);return this.data.readUInt16LE(t)&15}getBlockLight(e){let t=uJ(e);return cJ(this.data,t)}getSkyLight(e){let t=hJ(e);return cJ(this.data,t)}setBlockStateId(e,t){let n=vm(e);this.data.writeUInt16LE(t,n)}setBlockType(e,t){let n=vm(e),r=this.getBlockData(e);this.data.writeUInt16LE(t<<4|r,n)}setBlockData(e,t){let n=vm(e),r=this.getBlockType(e);this.data.writeUInt16LE(r<<4|t,n)}setBlockLight(e,t){let n=uJ(e);fE(this.data,t,n)}setSkyLight(e,t){let n=hJ(e);fE(this.data,t,n)}dump(){return this.data}load(e,t=!0){let n=i.sectionSize(t);if(!pe.Buffer.isBuffer(e))throw new Error("Data must be a buffer");if(e.length!==n)throw new Error(`Data buffer not correct size (was ${e.length}, expected ${n})`);this.data=e}};wm.w=lu;wm.l=cu;wm.sh=Af;fJ.exports=wm});var yJ=qe((h$e,bJ)=>{ne();ae();re();var aPe=Dl(),xm=dJ(),sPe=nl().Vec3,pJ=256,_L=256,{w:xn,l:Ln,sh:sa}=xm,oa=_L>>4;bJ.exports=i=>{let e=aa()(i);return class gJ extends aPe{static{l(this,"Chunk")}static get section(){return xm}static get w(){return xn}static get l(){return Ln}static get h(){return _L}static get version(){return i.version}constructor(){super(i),this.skyLightSent=!0,this.minY=0,this.worldHeight=_L,this.sections=new Array(oa);for(let n=0;n<oa;n++)this.sections[n]=new xm;this.biome=pe.Buffer.alloc(pJ)}toJson(){return JSON.stringify({skyLightSent:this.skyLightSent,biome:this.biome.toJSON(),blockEntities:this.blockEntities,sections:this.sections.map(n=>n.toJson())})}static fromJson(n){let r=JSON.parse(n),a=new gJ;return a.skyLightSent=r.skyLightSent,a.biome=pe.Buffer.from(r.biome),a.blockEntities=r.blockEntities,a.sections=r.sections.map(s=>xm.fromJson(s)),a}initialize(n){let r=0;for(let a=0;a<oa;a++)this.sections[a].initialize((s,o,c,u)=>{let h=n(s,o%sa,c,u);if(h!=null)return o===0&&oa===0&&(this.biome.writeUInt8(h.biome.id||0,r),r++),h})}getBlock(n){let r=new e(this.getBlockType(n),this.getBiome(n),this.getBlockData(n));return r.light=this.getBlockLight(n),r.skyLight=this.getSkyLight(n),r.entity=this.getBlockEntity(n),r}setBlock(n,r){e1(r.type)&&this.setBlockType(n,r.type),e1(r.metadata)&&this.setBlockData(n,r.metadata),e1(r.biome)&&this.setBiome(n,r.biome.id),e1(r.skyLight)&&this.skyLightSent&&this.setSkyLight(n,r.skyLight),e1(r.light)&&this.setBlockLight(n,r.light),r.entity?this.setBlockEntity(n,r.entity):this.removeBlockEntity(n)}_getSection(n){return this.sections[n.y>>4]}getBlockStateId(n){let r=this._getSection(n);return r?r.getBlockStateId(uu(n)):0}getBlockType(n){let r=this._getSection(n);return r?r.getBlockType(uu(n)):0}getBlockData(n){let r=this._getSection(n);return r?r.getBlockData(uu(n)):0}getBlockLight(n){let r=this._getSection(n);return r?r.getBlockLight(uu(n)):0}getSkyLight(n){if(!this.skyLightSent)return 0;let r=this._getSection(n);return r?r.getSkyLight(uu(n)):15}getBiome(n){let r=mJ(n);return this.biome.readUInt8(r)}setBlockStateId(n,r){let a=this._getSection(n);return a&&a.setBlockStateId(uu(n),r)}setBlockType(n,r){let a=this.getBlockData(n);this.setBlockStateId(n,r<<4|a)}setBlockData(n,r){let a=this.getBlockType(n);this.setBlockStateId(n,a<<4|r)}setBlockLight(n,r){let a=this._getSection(n);return a&&a.setBlockLight(uu(n),r)}setSkyLight(n,r){let a=this._getSection(n);return a&&a.setSkyLight(uu(n),r)}setBiome(n,r){let a=mJ(n);this.biome.writeUInt8(r,a)}dumpBiomes(){}dumpLight(){}loadLight(){}loadBiomes(){}dump(n=65535,r=!0){let a=xm.sectionSize(this.skyLightSent&&r),{chunkIncluded:s,chunkCount:o}=_J(n),c=o*a+pJ,u=pe.Buffer.alloc(c),h=0,f=xn*Ln*oa*o*2,p=this.skyLightSent&&r?xn*Ln*oa*o/2*5:void 0;for(let d=0;d<oa;d++)s[d]&&(h+=this.sections[d].dump().copy(u,h,0,xn*Ln*sa*2),f+=this.sections[d].dump().copy(u,f,xn*Ln*sa*2,xn*Ln*sa*2+xn*Ln*sa/2),this.skyLightSent&&r&&(p+=this.sections[d].dump().copy(u,p,xn*Ln*sa/2*5,xn*Ln*sa/2*5+xn*Ln*sa/2)));return this.biome.copy(u,xn*Ln*oa*o*(this.skyLightSent&&r?3:5/2)),u}load(n,r=65535,a=!0,s=!0){if(!pe.Buffer.isBuffer(n))throw new Error("Data must be a buffer");this.skyLightSent=a;let o=xm.sectionSize(a),{chunkIncluded:c,chunkCount:u}=_J(r),h=0,f=xn*Ln*oa*u*2,p=this.skyLightSent?xn*Ln*oa*u/2*5:void 0;for(let m=0;m<oa;m++)if(c[m]){let y=pe.Buffer.alloc(o);h+=n.copy(y,0,h,h+xn*Ln*sa*2),f+=n.copy(y,xn*Ln*sa*2,f,f+xn*Ln*sa/2),this.skyLightSent&&(p+=n.copy(y,xn*Ln*sa*5/2,p,p+xn*Ln*sa/2)),this.sections[m].load(y,a)}s&&n.copy(this.biome,0,xn*Ln*oa*u*(a?3:5/2));let d=o*u+(s?xn*Ln:0);if(n.length!==d)throw new Error(`Data buffer not correct size (was ${n.length}, expected ${d})`)}getMask(){return 65535}}};var e1=l(function(i){return i!==void 0},"exists"),mJ=l(function(i){return i.z*xn+i.x},"getBiomeCursor");function uu(i){return i.modulus(new sPe(xn,Ln,sa))}l(uu,"posInSection");function _J(i){let e=new Array(oa),t=0;for(let n=0;n<oa;++n)e[n]=i&1<<n,e[n]&&t++;return{chunkIncluded:e,chunkCount:t}}l(_J,"parseBitMap")});var Xn=qe((_$e,vJ)=>{ne();ae();re();vJ.exports={CHUNK_HEIGHT:256,CHUNK_WIDTH:16,SECTION_HEIGHT:16,SECTION_WIDTH:16,BLOCK_SECTION_VOLUME:4096,NUM_SECTIONS:16,MIN_BITS_PER_BLOCK:4,MAX_BITS_PER_BLOCK:8,GLOBAL_BITS_PER_BLOCK:16,BIOME_SECTION_VOLUME:64,MIN_BITS_PER_BIOME:1,MAX_BITS_PER_BIOME:3,GLOBAL_BITS_PER_BIOME:6}});var EJ=qe(ql=>{"use strict";ne();ae();re();Object.defineProperty(ql,"__esModule",{value:!0});var wJ=Fu(),Tf={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};ql.ERRORS=Tf;function oPe(i){if(!wJ.Buffer.isEncoding(i))throw new Error(Tf.INVALID_ENCODING)}l(oPe,"checkEncoding");ql.checkEncoding=oPe;function xJ(i){return typeof i=="number"&&isFinite(i)&&hPe(i)}l(xJ,"isFiniteInteger");ql.isFiniteInteger=xJ;function SJ(i,e){if(typeof i=="number"){if(!xJ(i)||i<0)throw new Error(e?Tf.INVALID_OFFSET:Tf.INVALID_LENGTH)}else throw new Error(e?Tf.INVALID_OFFSET_NON_NUMBER:Tf.INVALID_LENGTH_NON_NUMBER)}l(SJ,"checkOffsetOrLengthValue");function lPe(i){SJ(i,!1)}l(lPe,"checkLengthValue");ql.checkLengthValue=lPe;function cPe(i){SJ(i,!0)}l(cPe,"checkOffsetValue");ql.checkOffsetValue=cPe;function uPe(i,e){if(i<0||i>e.length)throw new Error(Tf.INVALID_TARGET_OFFSET)}l(uPe,"checkTargetOffset");ql.checkTargetOffset=uPe;function hPe(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i}l(hPe,"isInteger");function fPe(i){if(typeof BigInt>"u")throw new Error("Platform does not support JS BigInt type.");if(typeof wJ.Buffer.prototype[i]>"u")throw new Error(`Platform does not support Buffer.prototype.${i}.`)}l(fPe,"bigIntAndBufferInt64Check");ql.bigIntAndBufferInt64Check=fPe});var hu=qe(bL=>{"use strict";ne();ae();re();Object.defineProperty(bL,"__esModule",{value:!0});var _i=EJ(),MJ=4096,dPe="utf8",gL=class i{static{l(this,"SmartBuffer")}constructor(e){if(this.length=0,this._encoding=dPe,this._writeOffset=0,this._readOffset=0,i.isSmartBufferOptions(e))if(e.encoding&&(_i.checkEncoding(e.encoding),this._encoding=e.encoding),e.size)if(_i.isFiniteInteger(e.size)&&e.size>0)this._buff=pe.Buffer.allocUnsafe(e.size);else throw new Error(_i.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(e.buff)if(pe.Buffer.isBuffer(e.buff))this._buff=e.buff,this.length=e.buff.length;else throw new Error(_i.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=pe.Buffer.allocUnsafe(MJ);else{if(typeof e<"u")throw new Error(_i.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=pe.Buffer.allocUnsafe(MJ)}}static fromSize(e,t){return new this({size:e,encoding:t})}static fromBuffer(e,t){return new this({buff:e,encoding:t})}static fromOptions(e){return new this(e)}static isSmartBufferOptions(e){let t=e;return t&&(t.encoding!==void 0||t.size!==void 0||t.buff!==void 0)}readInt8(e){return this._readNumberValue(pe.Buffer.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(pe.Buffer.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(pe.Buffer.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(pe.Buffer.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(pe.Buffer.prototype.readInt32LE,4,e)}readBigInt64BE(e){return _i.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(pe.Buffer.prototype.readBigInt64BE,8,e)}readBigInt64LE(e){return _i.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(pe.Buffer.prototype.readBigInt64LE,8,e)}writeInt8(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeInt8,1,e,t),this}insertInt8(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeInt8,1,e,t)}writeInt16BE(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeInt16BE,2,e,t)}insertInt16BE(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeInt16BE,2,e,t)}writeInt16LE(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeInt16LE,2,e,t)}insertInt16LE(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeInt16LE,2,e,t)}writeInt32BE(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeInt32BE,4,e,t)}insertInt32BE(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeInt32BE,4,e,t)}writeInt32LE(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeInt32LE,4,e,t)}insertInt32LE(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeInt32LE,4,e,t)}writeBigInt64BE(e,t){return _i.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(pe.Buffer.prototype.writeBigInt64BE,8,e,t)}insertBigInt64BE(e,t){return _i.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(pe.Buffer.prototype.writeBigInt64BE,8,e,t)}writeBigInt64LE(e,t){return _i.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(pe.Buffer.prototype.writeBigInt64LE,8,e,t)}insertBigInt64LE(e,t){return _i.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(pe.Buffer.prototype.writeBigInt64LE,8,e,t)}readUInt8(e){return this._readNumberValue(pe.Buffer.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(pe.Buffer.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(pe.Buffer.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(pe.Buffer.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(pe.Buffer.prototype.readUInt32LE,4,e)}readBigUInt64BE(e){return _i.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(pe.Buffer.prototype.readBigUInt64BE,8,e)}readBigUInt64LE(e){return _i.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(pe.Buffer.prototype.readBigUInt64LE,8,e)}writeUInt8(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeUInt8,1,e,t)}insertUInt8(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeUInt8,1,e,t)}writeUInt16BE(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeUInt16BE,2,e,t)}insertUInt16BE(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeUInt16BE,2,e,t)}writeUInt16LE(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeUInt16LE,2,e,t)}insertUInt16LE(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeUInt16LE,2,e,t)}writeUInt32BE(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeUInt32BE,4,e,t)}insertUInt32BE(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeUInt32BE,4,e,t)}writeUInt32LE(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeUInt32LE,4,e,t)}insertUInt32LE(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeUInt32LE,4,e,t)}writeBigUInt64BE(e,t){return _i.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(pe.Buffer.prototype.writeBigUInt64BE,8,e,t)}insertBigUInt64BE(e,t){return _i.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(pe.Buffer.prototype.writeBigUInt64BE,8,e,t)}writeBigUInt64LE(e,t){return _i.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(pe.Buffer.prototype.writeBigUInt64LE,8,e,t)}insertBigUInt64LE(e,t){return _i.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(pe.Buffer.prototype.writeBigUInt64LE,8,e,t)}readFloatBE(e){return this._readNumberValue(pe.Buffer.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(pe.Buffer.prototype.readFloatLE,4,e)}writeFloatBE(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeFloatBE,4,e,t)}insertFloatBE(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeFloatBE,4,e,t)}writeFloatLE(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeFloatLE,4,e,t)}insertFloatLE(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeFloatLE,4,e,t)}readDoubleBE(e){return this._readNumberValue(pe.Buffer.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(pe.Buffer.prototype.readDoubleLE,8,e)}writeDoubleBE(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeDoubleBE,8,e,t)}insertDoubleBE(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeDoubleBE,8,e,t)}writeDoubleLE(e,t){return this._writeNumberValue(pe.Buffer.prototype.writeDoubleLE,8,e,t)}insertDoubleLE(e,t){return this._insertNumberValue(pe.Buffer.prototype.writeDoubleLE,8,e,t)}readString(e,t){let n;typeof e=="number"?(_i.checkLengthValue(e),n=Math.min(e,this.length-this._readOffset)):(t=e,n=this.length-this._readOffset),typeof t<"u"&&_i.checkEncoding(t);let r=this._buff.slice(this._readOffset,this._readOffset+n).toString(t||this._encoding);return this._readOffset+=n,r}insertString(e,t,n){return _i.checkOffsetValue(t),this._handleString(e,!0,t,n)}writeString(e,t,n){return this._handleString(e,!1,t,n)}readStringNT(e){typeof e<"u"&&_i.checkEncoding(e);let t=this.length;for(let r=this._readOffset;r<this.length;r++)if(this._buff[r]===0){t=r;break}let n=this._buff.slice(this._readOffset,t);return this._readOffset=t+1,n.toString(e||this._encoding)}insertStringNT(e,t,n){return _i.checkOffsetValue(t),this.insertString(e,t,n),this.insertUInt8(0,t+e.length),this}writeStringNT(e,t,n){return this.writeString(e,t,n),this.writeUInt8(0,typeof t=="number"?t+e.length:this.writeOffset),this}readBuffer(e){typeof e<"u"&&_i.checkLengthValue(e);let t=typeof e=="number"?e:this.length,n=Math.min(this.length,this._readOffset+t),r=this._buff.slice(this._readOffset,n);return this._readOffset=n,r}insertBuffer(e,t){return _i.checkOffsetValue(t),this._handleBuffer(e,!0,t)}writeBuffer(e,t){return this._handleBuffer(e,!1,t)}readBufferNT(){let e=this.length;for(let n=this._readOffset;n<this.length;n++)if(this._buff[n]===0){e=n;break}let t=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,t}insertBufferNT(e,t){return _i.checkOffsetValue(t),this.insertBuffer(e,t),this.insertUInt8(0,t+e.length),this}writeBufferNT(e,t){return typeof t<"u"&&_i.checkOffsetValue(t),this.writeBuffer(e,t),this.writeUInt8(0,typeof t=="number"?t+e.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(e){_i.checkOffsetValue(e),_i.checkTargetOffset(e,this),this._readOffset=e}get writeOffset(){return this._writeOffset}set writeOffset(e){_i.checkOffsetValue(e),_i.checkTargetOffset(e,this),this._writeOffset=e}get encoding(){return this._encoding}set encoding(e){_i.checkEncoding(e),this._encoding=e}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(e){let t=typeof e=="string"?e:this._encoding;return _i.checkEncoding(t),this._buff.toString(t,0,this.length)}destroy(){return this.clear(),this}_handleString(e,t,n,r){let a=this._writeOffset,s=this._encoding;typeof n=="number"?a=n:typeof n=="string"&&(_i.checkEncoding(n),s=n),typeof r=="string"&&(_i.checkEncoding(r),s=r);let o=pe.Buffer.byteLength(e,s);return t?this.ensureInsertable(o,a):this._ensureWriteable(o,a),this._buff.write(e,a,o,s),t?this._writeOffset+=o:typeof n=="number"?this._writeOffset=Math.max(this._writeOffset,a+o):this._writeOffset+=o,this}_handleBuffer(e,t,n){let r=typeof n=="number"?n:this._writeOffset;return t?this.ensureInsertable(e.length,r):this._ensureWriteable(e.length,r),e.copy(this._buff,r),t?this._writeOffset+=e.length:typeof n=="number"?this._writeOffset=Math.max(this._writeOffset,r+e.length):this._writeOffset+=e.length,this}ensureReadable(e,t){let n=this._readOffset;if(typeof t<"u"&&(_i.checkOffsetValue(t),n=t),n<0||n+e>this.length)throw new Error(_i.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(e,t){_i.checkOffsetValue(t),this._ensureCapacity(this.length+e),t<this.length&&this._buff.copy(this._buff,t+e,t,this._buff.length),t+e>this.length?this.length=t+e:this.length+=e}_ensureWriteable(e,t){let n=typeof t=="number"?t:this._writeOffset;this._ensureCapacity(n+e),n+e>this.length&&(this.length=n+e)}_ensureCapacity(e){let t=this._buff.length;if(e>t){let n=this._buff,r=t*3/2+1;r<e&&(r=e),this._buff=pe.Buffer.allocUnsafe(r),n.copy(this._buff,0,0,t)}}_readNumberValue(e,t,n){this.ensureReadable(t,n);let r=e.call(this._buff,typeof n=="number"?n:this._readOffset);return typeof n>"u"&&(this._readOffset+=t),r}_insertNumberValue(e,t,n,r){return _i.checkOffsetValue(r),this.ensureInsertable(t,r),e.call(this._buff,n,r),this._writeOffset+=t,this}_writeNumberValue(e,t,n,r){if(typeof r=="number"){if(r<0)throw new Error(_i.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);_i.checkOffsetValue(r)}let a=typeof r=="number"?r:this._writeOffset;return this._ensureWriteable(t,a),e.call(this._buff,n,a),typeof r=="number"?this._writeOffset=Math.max(this._writeOffset,a+t):this._writeOffset+=t,this}};bL.SmartBuffer=gL});var Ar=qe((P$e,AJ)=>{ne();ae();re();function pPe(i){return 32-Math.clz32(i)}l(pPe,"neededBits");AJ.exports=pPe});var kf=qe((O$e,TJ)=>{ne();ae();re();var mPe=Ar(),yL=class i{static{l(this,"BitArray")}constructor(e){if(e===null)return;e.data||(e.data=new Uint32Array(Math.ceil(e.capacity*e.bitsPerValue/64)*2));let t=(1<<e.bitsPerValue)-1;this.data=e.data.buffer?new Uint32Array(e.data.buffer):Uint32Array.from(e.data),this.capacity=e.capacity,this.bitsPerValue=e.bitsPerValue,this.valueMask=t}toJson(){return JSON.stringify({data:Array.from(this.data),capacity:this.capacity,bitsPerValue:this.bitsPerValue,valueMask:this.valueMask})}static fromJson(e){return new i(JSON.parse(e))}toArray(){let e=[];for(let t=0;t<this.capacity;t++)e.push(this.get(t));return e}static fromArray(e,t){let n=[],r=0,a=0,s=0;for(;r<e.length;)a|=e[r]<<s,s+=t,s>32&&(n.push(a&4294967295),s-=32,a=e[r]>>>t-s),r++;s>0&&n.push(a);let o=new i(null);return o.data=n,o.capacity=e.length,o.bitsPerValue=t,o.valueMask=(1<<t)-1,o}get(e){let t=e*this.bitsPerValue,n=t>>>5,r=this.data[n],a=t&31,s=r>>>a;if(a+this.bitsPerValue>32){let c=this.data[n+1];s|=c<<32-a}return s&this.valueMask}set(e,t){let n=e*this.bitsPerValue,r=n>>>5,a=n&31;this.data[r]=(this.data[r]&~(this.valueMask<<a)|(t&this.valueMask)<<a)>>>0;let s=a+this.bitsPerValue;s>32&&(this.data[r+1]=(this.data[r+1]&~((1<<s-32)-1)|t>>32-a)>>>0)}resizeTo(e){let t=new i({bitsPerValue:e,capacity:this.capacity});for(let n=0;n<this.capacity;++n){let r=this.get(n);if(mPe(r)>e)throw new Error("existing value in BitArray can't fit in new bits per value");t.set(n,r)}return t}length(){return this.data.length/2}readBuffer(e,t=this.data.length){if(t!==this.data.length){this.data=new Uint32Array(t),this.readOffset=t*4;return}for(let n=0;n<this.data.length;n+=2)this.data[n+1]=e.readUInt32BE(),this.data[n]=e.readUInt32BE();return this}writeBuffer(e){for(let t=0;t<this.data.length;t+=2)e.writeUInt32BE(this.data[t+1]),e.writeUInt32BE(this.data[t]);return this}getBitsPerValue(){return this.bitsPerValue}};TJ.exports=yL});var Ba=qe(vL=>{ne();ae();re();vL.write=(i,e)=>{do{let t=e&127;e>>>=7,e!==0&&(t|=128),i.writeUInt8(t)}while(e!==0)};vL.read=i=>{let e=0,t=0,n;do{n=i.readUInt8();let r=n&127;if(t|=r<<7*e,e++,e>5)throw new Error("varint is too big")}while(n&128);return t}});var RJ=qe((G$e,kJ)=>{ne();ae();re();var Rf=kf(),_Pe=Ar(),Pf=Xn(),dE=Ba(),gPe=13;function Sm(i){return i.y<<8|i.z<<4|i.x}l(Sm,"getBlockIndex");var wL=class i{static{l(this,"ChunkSection")}constructor(e={}){if(e!==null){if(typeof e.solidBlockCount>"u"&&(e.solidBlockCount=0,e.data))for(let t=0;t<Pf.BLOCK_SECTION_VOLUME;t++)e.data.get(t)!==0&&(e.solidBlockCount+=1);e.data||(e.data=new Rf({bitsPerValue:4,capacity:Pf.BLOCK_SECTION_VOLUME})),e.palette===void 0&&(e.palette=[0]),e.blockLight||(e.blockLight=new Rf({bitsPerValue:4,capacity:Pf.BLOCK_SECTION_VOLUME})),e.skyLight===void 0&&(e.skyLight=new Rf({bitsPerValue:4,capacity:Pf.BLOCK_SECTION_VOLUME})),this.data=e.data,this.palette=e.palette,this.isDirty=!1,this.blockLight=e.blockLight,this.skyLight=e.skyLight,this.solidBlockCount=e.solidBlockCount,this.maxBitsPerBlock=e.maxBitsPerBlock||gPe}}toJson(){return JSON.stringify({data:this.data.toJson(),palette:this.palette,isDirty:this.isDirty,blockLight:this.blockLight.toJson(),skyLight:this.skyLight?this.skyLight.toJson():this.skyLight,solidBlockCount:this.solidBlockCount})}static fromJson(e){let t=JSON.parse(e);return new i({data:Rf.fromJson(t.data),palette:t.palette,blockLight:Rf.fromJson(t.blockLight),skyLight:t.skyLight?Rf.fromJson(t.skyLight):t.skyLight,solidBlockCount:t.solidBlockCount})}getBlock(e){let t=this.data.get(Sm(e));return this.palette!==null&&(t=this.palette[t]),t}setBlock(e,t){let n=Sm(e),r;if(this.palette!==null){let s=this.palette.indexOf(t);if(s>=0)r=s;else{this.palette.push(t),r=this.palette.length-1;let o=_Pe(r);if(o>this.data.getBitsPerValue())if(o<=Pf.MAX_BITS_PER_BLOCK)this.data=this.data.resizeTo(o);else{let c=new Rf({bitsPerValue:this.maxBitsPerBlock,capacity:Pf.BLOCK_SECTION_VOLUME});for(let u=0;u<Pf.BLOCK_SECTION_VOLUME;u++){let h=this.palette[this.data.get(u)];c.set(u,h)}this.palette=null,r=t,this.data=c}}}else r=t;let a=this.getBlock(e);t===0&&a!==0?this.solidBlockCount-=1:t!==0&&a===0&&(this.solidBlockCount+=1),this.data.set(n,r)}getBlockLight(e){return this.blockLight.get(Sm(e))}getSkyLight(e){return this.skyLight?this.skyLight.get(Sm(e)):0}setBlockLight(e,t){return this.blockLight.set(Sm(e),t)}setSkyLight(e,t){return this.skyLight?this.skyLight.set(Sm(e),t):0}isEmpty(){return this.solidBlockCount===0}write(e){e.writeUInt8(this.data.getBitsPerValue()),this.palette!==null?(dE.write(e,this.palette.length),this.palette.forEach(t=>{dE.write(e,t)})):dE.write(e,0),dE.write(e,this.data.length()),this.data.writeBuffer(e),this.blockLight.writeBuffer(e),this.skyLight!==null&&this.skyLight.writeBuffer(e)}};kJ.exports=wL});var NJ=qe((Y$e,LJ)=>{ne();ae();re();var PJ=hu().SmartBuffer,pE=RJ(),Ds=Xn(),xL=kf(),mE=Ba(),bPe=Dl(),yPe=Ar(),t1=l(i=>i!==void 0,"exists");LJ.exports=(i,e)=>class CJ extends bPe{static{l(this,"ChunkColumn")}static get section(){return pE}constructor(){super(e),this.sectionMask=0,this.skyLightSent=!0,this.sections=Array(Ds.NUM_SECTIONS).fill(null),this.biomes=Array(Ds.SECTION_WIDTH*Ds.SECTION_WIDTH).fill(1),this.maxBitsPerBlock=yPe(Object.values(e.blocks).reduce((n,r)=>Math.max(n,r.maxStateId),0))}toJson(){return JSON.stringify({biomes:this.biomes,blockEntities:this.blockEntities,sectionMask:this.sectionMask,sections:this.sections.map(n=>n===null?null:n.toJson())})}static fromJson(n){let r=JSON.parse(n),a=new CJ;return a.biomes=r.biomes,a.blockEntities=r.blockEntities,a.sectionMask=r.sectionMask,a.sections=r.sections.map(s=>s===null?null:pE.fromJson(s)),a}initialize(n){let r={x:0,y:0,z:0};for(r.y=0;r.y<Ds.CHUNK_HEIGHT;r.y++)for(r.z=0;r.z<Ds.SECTION_WIDTH;r.z++)for(r.x=0;r.x<Ds.SECTION_WIDTH;r.x++){let a=n(r.x,r.y,r.z);a!==null&&this.setBlock(r,a)}}getBlock(n){let r=new i(this.getBlockType(n),this.getBiome(n),this.getBlockData(n));return r.light=this.getBlockLight(n),r.skyLight=this.getSkyLight(n),r.entity=this.getBlockEntity(n),r}setBlock(n,r){t1(r.type)&&this.setBlockType(n,r.type),t1(r.metadata)&&this.setBlockData(n,r.metadata),t1(r.biome)&&this.setBiome(n,r.biome.id),t1(r.skyLight)&&this.skyLightSent&&this.setSkyLight(n,r.skyLight),t1(r.light)&&this.setBlockLight(n,r.light),r.entity?this.setBlockEntity(n,r.entity):this.removeBlockEntity(n)}getBlockType(n){return this.getBlockStateId(n)>>4}getBlockData(n){return this.getBlockStateId(n)&15}getBlockStateId(n){let r=this.sections[n.y>>4];return r?r.getBlock(Em(n)):0}getBlockLight(n){let r=this.sections[n.y>>4];return r?r.getBlockLight(Em(n)):15}getSkyLight(n){let r=this.sections[n.y>>4];return r?r.getSkyLight(Em(n)):15}getBiome(n){return this.biomes[IJ(n)]}setBlockType(n,r){let a=this.getBlockData(n);this.setBlockStateId(n,r<<4|a)}setBlockData(n,r){let a=this.getBlockType(n);this.setBlockStateId(n,a<<4|r)}setBlockStateId(n,r){let a=n.y>>4;if(a<0||a>=16)return;let s=this.sections[a];if(!s){if(r===0)return;s=new pE({maxBitsPerBlock:this.maxBitsPerBlock}),this.sectionMask|=1<<a,this.sections[a]=s}s.setBlock(Em(n),r)}setBlockLight(n,r){let a=this.sections[n.y>>4];return a&&a.setBlockLight(Em(n),r)}setSkyLight(n,r){let a=this.sections[n.y>>4];return a&&a.setSkyLight(Em(n),r)}setBiome(n,r){this.biomes[IJ(n)]=r}getMask(){return this.sectionMask}dumpBiomes(){}dumpLight(){}loadLight(){}loadBiomes(){}dump(){let n=new PJ;return this.sections.forEach((r,a)=>{r!==null&&!r.isEmpty()&&r.write(n)}),this.biomes.forEach(r=>{n.writeUInt8(r)}),n.toBuffer()}load(n,r=65535,a=!0,s=!0){let o=PJ.fromBuffer(n);this.skyLightSent=a,this.sectionMask|=r;for(let c=0;c<Ds.NUM_SECTIONS;++c){if(!(r>>c&1))continue;let u,h,f=o.readUInt8();if(f<=Ds.MAX_BITS_PER_BLOCK){u=[];let y=mE.read(o);for(let g=0;g<y;++g)u.push(mE.read(o))}else mE.read(o),u=null;let p=new xL({bitsPerValue:f>Ds.MAX_BITS_PER_BLOCK?this.maxBitsPerBlock:f,capacity:4096}).readBuffer(o,mE.read(o)*2),d=new xL({bitsPerValue:4,capacity:4096}).readBuffer(o);a&&(h=new xL({bitsPerValue:4,capacity:4096}).readBuffer(o));let m=new pE({data:p,palette:u,blockLight:d,...a?{skyLight:h}:{skyLight:null},maxBitsPerBlock:this.maxBitsPerBlock});this.sections[c]=m}if(s){let c={x:0,y:0,z:0};for(c.z=0;c.z<Ds.SECTION_WIDTH;c.z++)for(c.x=0;c.x<Ds.SECTION_WIDTH;c.x++)this.setBiome(c,o.readUInt8())}}};function IJ(i){return i.z*16|i.x}l(IJ,"getBiomeIndex");function Em(i){return{x:i.x,y:i.y&15,z:i.z}}l(Em,"toSectionPos")});var i1=qe((eXe,OJ)=>{ne();ae();re();var vPe=Xn();function wPe(i){let e=aa()(i),t=NJ()(e,i);return t.h=vPe.CHUNK_HEIGHT,t.version=i.version,t}l(wPe,"loader");OJ.exports=wPe});var FJ=qe((aXe,BJ)=>{ne();ae();re();var If=kf(),xPe=Ar(),Cf=Xn(),SL=Ba(),SPe=13;function Mm(i){return i.y<<8|i.z<<4|i.x}l(Mm,"getBlockIndex");var EL=class i{static{l(this,"ChunkSection")}constructor(e={}){if(e!==null){if(typeof e.solidBlockCount>"u"&&(e.solidBlockCount=0,e.data))for(let t=0;t<Cf.BLOCK_SECTION_VOLUME;t++)e.data.get(t)!==0&&(e.solidBlockCount+=1);e.data||(e.data=new If({bitsPerValue:4,capacity:Cf.BLOCK_SECTION_VOLUME})),e.palette===void 0&&(e.palette=[0]),e.blockLight||(e.blockLight=new If({bitsPerValue:4,capacity:Cf.BLOCK_SECTION_VOLUME})),e.skyLight===void 0&&(e.skyLight=new If({bitsPerValue:4,capacity:Cf.BLOCK_SECTION_VOLUME})),this.data=e.data,this.palette=e.palette,this.isDirty=!1,this.blockLight=e.blockLight,this.skyLight=e.skyLight,this.solidBlockCount=e.solidBlockCount,this.maxBitsPerBlock=e.maxBitsPerBlock||SPe}}toJson(){return JSON.stringify({data:this.data.toJson(),palette:this.palette,isDirty:this.isDirty,blockLight:this.blockLight.toJson(),skyLight:this.skyLight?this.skyLight.toJson():this.skyLight,solidBlockCount:this.solidBlockCount})}static fromJson(e){let t=JSON.parse(e);return new i({data:If.fromJson(t.data),palette:t.palette,blockLight:If.fromJson(t.blockLight),skyLight:t.skyLight?If.fromJson(t.skyLight):t.skyLight,solidBlockCount:t.solidBlockCount})}getBlock(e){let t=this.data.get(Mm(e));return this.palette!==null&&(t=this.palette[t]),t}setBlock(e,t){let n=Mm(e),r;if(this.palette!==null){let s=this.palette.indexOf(t);if(s>=0)r=s;else{this.palette.push(t),r=this.palette.length-1;let o=xPe(r);if(o>this.data.getBitsPerValue())if(o<=Cf.MAX_BITS_PER_BLOCK)this.data=this.data.resizeTo(o);else{let c=new If({bitsPerValue:this.maxBitsPerBlock,capacity:Cf.BLOCK_SECTION_VOLUME});for(let u=0;u<Cf.BLOCK_SECTION_VOLUME;u++){let h=this.palette[this.data.get(u)];c.set(u,h)}this.palette=null,r=t,this.data=c}}}else r=t;let a=this.getBlock(e);t===0&&a!==0?this.solidBlockCount-=1:t!==0&&a===0&&(this.solidBlockCount+=1),this.data.set(n,r)}getBlockLight(e){return this.blockLight.get(Mm(e))}getSkyLight(e){return this.skyLight?this.skyLight.get(Mm(e)):0}setBlockLight(e,t){return this.blockLight.set(Mm(e),t)}setSkyLight(e,t){return this.skyLight?this.skyLight.set(Mm(e),t):0}isEmpty(){return this.solidBlockCount===0}write(e){e.writeUInt8(this.data.getBitsPerValue()),this.palette!==null&&(SL.write(e,this.palette.length),this.palette.forEach(t=>{SL.write(e,t)})),SL.write(e,this.data.length()),this.data.writeBuffer(e),this.blockLight.writeBuffer(e),this.skyLight!==null&&this.skyLight.writeBuffer(e)}};BJ.exports=EL});var qJ=qe((uXe,VJ)=>{ne();ae();re();var UJ=hu().SmartBuffer,_E=FJ(),Vs=Xn(),ML=kf(),AL=Ba(),EPe=Dl(),MPe=Ar();VJ.exports=(i,e)=>class DJ extends EPe{static{l(this,"ChunkColumn")}static get section(){return _E}constructor(){super(e),this.sectionMask=0,this.skyLightSent=!0,this.sections=Array(Vs.NUM_SECTIONS).fill(null),this.biomes=Array(Vs.SECTION_WIDTH*Vs.SECTION_WIDTH).fill(1),this.maxBitsPerBlock=MPe(Object.values(e.blocks).reduce((n,r)=>Math.max(n,r.maxStateId),0))}toJson(){return JSON.stringify({biomes:this.biomes,blockEntities:this.blockEntities,sectionMask:this.sectionMask,sections:this.sections.map(n=>n===null?null:n.toJson())})}static fromJson(n){let r=JSON.parse(n),a=new DJ;return a.biomes=r.biomes,a.blockEntities=r.blockEntities,a.sectionMask=r.sectionMask,a.sections=r.sections.map(s=>s===null?null:_E.fromJson(s)),a}initialize(n){let r={x:0,y:0,z:0};for(r.y=0;r.y<Vs.CHUNK_HEIGHT;r.y++)for(r.z=0;r.z<Vs.SECTION_WIDTH;r.z++)for(r.x=0;r.x<Vs.SECTION_WIDTH;r.x++){let a=n(r.x,r.y,r.z);a!==null&&this.setBlock(r,a)}}getBlock(n){let r=this.sections[n.y>>4],a=this.getBiome(n);if(!r)return i.fromStateId(0,a);let s=r.getBlock(Lf(n)),o=i.fromStateId(s,a);return o.light=this.getBlockLight(n),o.skyLight=this.getSkyLight(n),o.entity=this.getBlockEntity(n),o}setBlock(n,r){typeof r.stateId<"u"&&this.setBlockStateId(n,r.stateId),typeof r.biome<"u"&&this.setBiome(n,r.biome.id),typeof r.skyLight<"u"&&this.skyLightSent&&this.setSkyLight(n,r.skyLight),typeof r.light<"u"&&this.setBlockLight(n,r.light),r.entity?this.setBlockEntity(n,r.entity):this.removeBlockEntity(n)}getBlockType(n){let r=this.getBlockStateId(n);return e.blocksByStateId[r].id}getBlockData(n){let r=this.getBlockStateId(n);return e.blocksByStateId[r].metadata}getBlockStateId(n){let r=this.sections[n.y>>4];return r?r.getBlock(Lf(n)):0}getBlockLight(n){let r=this.sections[n.y>>4];return r?r.getBlockLight(Lf(n)):15}getSkyLight(n){let r=this.sections[n.y>>4];return r?r.getSkyLight(Lf(n)):15}getBiome(n){return this.biomes[zJ(n)]}getBiomeColor(n){return{r:0,g:0,b:0}}setBlockType(n,r){this.setBlockStateId(n,e.blocks[r].minStateId)}setBlockData(n,r){this.setBlockStateId(n,e.blocksByStateId[this.getBlockStateId(n)].minStateId+r)}setBlockStateId(n,r){let a=n.y>>4;if(a<0||a>=16)return;let s=this.sections[a];if(!s){if(r===0)return;s=new _E({maxBitsPerBlock:this.maxBitsPerBlock}),this.sectionMask|=1<<a,this.sections[a]=s}s.setBlock(Lf(n),r)}setBlockLight(n,r){let a=this.sections[n.y>>4];return a&&a.setBlockLight(Lf(n),r)}setSkyLight(n,r){let a=this.sections[n.y>>4];return a&&a.setSkyLight(Lf(n),r)}setBiome(n,r){this.biomes[zJ(n)]=r}getMask(){return this.sectionMask}dumpBiomes(){}dumpLight(){}loadLight(){}loadBiomes(){}dump(){let n=new UJ;return this.sections.forEach((r,a)=>{r!==null&&!r.isEmpty()&&r.write(n)}),this.biomes.forEach(r=>{n.writeInt32BE(r)}),n.toBuffer()}load(n,r=65535,a=!0,s=!0){let o=UJ.fromBuffer(n);this.skyLightSent=a,this.sectionMask|=r;for(let c=0;c<Vs.NUM_SECTIONS;++c){if(!(r>>c&1))continue;let u,h,f=o.readUInt8();if(f<=Vs.MAX_BITS_PER_BLOCK){u=[];let y=AL.read(o);for(let g=0;g<y;++g)u.push(AL.read(o))}else u=null;let p=new ML({bitsPerValue:f>Vs.MAX_BITS_PER_BLOCK?this.maxBitsPerBlock:f,capacity:4096}).readBuffer(o,AL.read(o)*2),d=new ML({bitsPerValue:4,capacity:4096}).readBuffer(o);a&&(h=new ML({bitsPerValue:4,capacity:4096}).readBuffer(o));let m=new _E({data:p,palette:u,blockLight:d,maxBitsPerBlock:this.maxBitsPerBlock,...a?{skyLight:h}:{skyLight:null}});this.sections[c]=m}if(s){let c={x:0,y:0,z:0};for(c.z=0;c.z<Vs.SECTION_WIDTH;c.z++)for(c.x=0;c.x<Vs.SECTION_WIDTH;c.x++)this.setBiome(c,o.readInt32BE())}}};function zJ(i){return i.z*16|i.x}l(zJ,"getBiomeIndex");function Lf(i){return{x:i.x,y:i.y&15,z:i.z}}l(Lf,"toSectionPos")});var GJ=qe((mXe,HJ)=>{ne();ae();re();var APe=Xn();function TPe(i){let e=aa()(i),t=qJ()(e,i);return t.h=APe.CHUNK_HEIGHT,t.version=i.version,t}l(TPe,"loader");HJ.exports=TPe});var n1=qe((vXe,jJ)=>{ne();ae();re();var kPe=Ar(),Am=Xn(),TL=Ba();function WJ(i){return i.y<<8|i.z<<4|i.x}l(WJ,"getBlockIndex");jJ.exports=i=>{class e{static{l(this,"ChunkSection")}constructor(n={}){if(n!==null){if(typeof n.solidBlockCount>"u"&&(n.solidBlockCount=0,n.data))for(let r=0;r<Am.BLOCK_SECTION_VOLUME;r++)n.data.get(r)!==0&&(n.solidBlockCount+=1);n.data||(n.data=new i({bitsPerValue:4,capacity:Am.BLOCK_SECTION_VOLUME})),n.palette===void 0&&(n.palette=[0]),this.data=n.data,this.palette=n.palette,this.isDirty=!1,this.solidBlockCount=n.solidBlockCount,this.maxBitsPerBlock=n.maxBitsPerBlock??Am.GLOBAL_BITS_PER_BLOCK}}toJson(){return JSON.stringify({data:this.data.toJson(),palette:this.palette,isDirty:this.isDirty,solidBlockCount:this.solidBlockCount})}static fromJson(n){let r=JSON.parse(n);return new e({data:i.fromJson(r.data),palette:r.palette,solidBlockCount:r.solidBlockCount})}getBlock(n){let r=this.data.get(WJ(n));return this.palette!==null&&(r=this.palette[r]),r}setBlock(n,r){let a=WJ(n),s;if(this.palette!==null){let c=this.palette.indexOf(r);if(c>=0)s=c;else{this.palette.push(r),s=this.palette.length-1;let u=kPe(s);if(u>this.data.getBitsPerValue())if(u<=Am.MAX_BITS_PER_BLOCK)this.data=this.data.resizeTo(u);else{let h=new i({bitsPerValue:this.maxBitsPerBlock,capacity:Am.BLOCK_SECTION_VOLUME});for(let f=0;f<Am.BLOCK_SECTION_VOLUME;f++){let p=this.palette[this.data.get(f)];h.set(f,p)}this.palette=null,s=r,this.data=h}}}else s=r;let o=this.getBlock(n);r===0&&o!==0?this.solidBlockCount-=1:r!==0&&o===0&&(this.solidBlockCount+=1),this.data.set(a,s)}isEmpty(){return this.solidBlockCount===0}write(n){n.writeInt16BE(this.solidBlockCount),n.writeUInt8(this.data.getBitsPerValue()),this.palette!==null&&(TL.write(n,this.palette.length),this.palette.forEach(r=>{TL.write(n,r)})),TL.write(n,this.data.length()),this.data.writeBuffer(n)}}return e}});var ZJ=qe((MXe,YJ)=>{ne();ae();re();var gE=hu().SmartBuffer,fu=kf(),bE=n1()(fu),RPe=Dl(),qr=Xn(),Nf=Ba(),PPe=Ar();YJ.exports=(i,e)=>class XJ extends RPe{static{l(this,"ChunkColumn")}static get section(){return bE}constructor(){super(e),this.sectionMask=0,this.sections=Array(qr.NUM_SECTIONS).fill(null),this.biomes=Array(qr.SECTION_WIDTH*qr.SECTION_WIDTH).fill(1),this.skyLightMask=0,this.blockLightMask=0,this.skyLightSections=Array(qr.NUM_SECTIONS+2).fill(null),this.blockLightSections=Array(qr.NUM_SECTIONS+2).fill(null),this.maxBitsPerBlock=PPe(Object.values(e.blocks).reduce((n,r)=>Math.max(n,r.maxStateId),0))}toJson(){return JSON.stringify({biomes:this.biomes,blockEntities:this.blockEntities,sectionMask:this.sectionMask,sections:this.sections.map(n=>n===null?null:n.toJson()),skyLightMask:this.skyLightMask,blockLightMask:this.blockLightMask,skyLightSections:this.skyLightSections.map(n=>n===null?null:n.toJson()),blockLightSections:this.blockLightSections.map(n=>n===null?null:n.toJson())})}static fromJson(n){let r=JSON.parse(n),a=new XJ;return a.biomes=r.biomes,a.blockEntities=r.blockEntities,a.sectionMask=r.sectionMask,a.sections=r.sections.map(s=>s===null?null:bE.fromJson(s)),a.skyLightMask=r.skyLightMask,a.blockLightMask=r.blockLightMask,a.skyLightSections=r.skyLightSections.map(s=>s===null?null:fu.fromJson(s)),a.blockLightSections=r.blockLightSections.map(s=>s===null?null:fu.fromJson(s)),a}initialize(n){let r={x:0,y:0,z:0};for(r.y=0;r.y<qr.CHUNK_HEIGHT;r.y++)for(r.z=0;r.z<qr.SECTION_WIDTH;r.z++)for(r.x=0;r.x<qr.SECTION_WIDTH;r.x++){let a=n(r.x,r.y,r.z);a!==null&&this.setBlock(r,a)}}getBlock(n){let r=this.sections[n.y>>4],a=this.getBiome(n);if(!r)return i.fromStateId(0,a);let s=r.getBlock(kL(n)),o=i.fromStateId(s,a);return o.light=this.getBlockLight(n),o.skyLight=this.getSkyLight(n),o.entity=this.getBlockEntity(n),o}setBlock(n,r){typeof r.stateId<"u"&&this.setBlockStateId(n,r.stateId),typeof r.biome<"u"&&this.setBiome(n,r.biome.id),typeof r.skyLight<"u"&&this.setSkyLight(n,r.skyLight),typeof r.light<"u"&&this.setBlockLight(n,r.light),r.entity?this.setBlockEntity(n,r.entity):this.removeBlockEntity(n)}getBlockType(n){let r=this.getBlockStateId(n);return e.blocksByStateId[r].id}getBlockData(n){let r=this.getBlockStateId(n);return e.blocksByStateId[r].metadata}getBlockStateId(n){let r=this.sections[n.y>>4];return r?r.getBlock(kL(n)):0}getBlockLight(n){let r=this.blockLightSections[yE(n)];return r?r.get(vE(n)):0}getSkyLight(n){let r=this.skyLightSections[yE(n)];return r?r.get(vE(n)):0}getBiome(n){return this.biomes[$J(n)]}getBiomeColor(n){return{r:0,g:0,b:0}}setBlockType(n,r){this.setBlockStateId(n,e.blocks[r].minStateId)}setBlockData(n,r){this.setBlockStateId(n,e.blocksByStateId[this.getBlockStateId(n)].minStateId+r)}setBlockStateId(n,r){let a=n.y>>4;if(a<0||a>=16)return;let s=this.sections[a];if(!s){if(r===0)return;s=new bE({maxBitsPerBlock:this.maxBitsPerBlock}),this.sectionMask|=1<<a,this.sections[a]=s}s.setBlock(kL(n),r)}setBlockLight(n,r){let a=yE(n),s=this.blockLightSections[a];if(s===null){if(r===0)return;s=new fu({bitsPerValue:4,capacity:4096}),this.blockLightMask|=1<<a,this.blockLightSections[a]=s}s.set(vE(n),r)}setSkyLight(n,r){let a=yE(n),s=this.skyLightSections[a];if(s===null){if(r===0)return;s=new fu({bitsPerValue:4,capacity:4096}),this.skyLightMask|=1<<a,this.skyLightSections[a]=s}s.set(vE(n),r)}setBiome(n,r){this.biomes[$J(n)]=r}getMask(){return this.sectionMask}dump(){let n=new gE;return this.sections.forEach((r,a)=>{r!==null&&!r.isEmpty()&&r.write(n)}),this.biomes.forEach(r=>{n.writeInt32BE(r)}),n.toBuffer()}load(n,r=65535,a=!0,s=!0){let o=gE.fromBuffer(n);this.sectionMask|=r;for(let c=0;c<qr.NUM_SECTIONS;++c){if(!(r>>c&1))continue;let u,h=o.readInt16BE(),f=o.readUInt8();if(f<=qr.MAX_BITS_PER_BLOCK){u=[];let m=Nf.read(o);for(let y=0;y<m;++y)u.push(Nf.read(o))}else u=null;let p=new fu({bitsPerValue:f>qr.MAX_BITS_PER_BLOCK?this.maxBitsPerBlock:f,capacity:4096}).readBuffer(o,Nf.read(o)*2),d=new bE({data:p,palette:u,solidBlockCount:h,maxBitsPerBlock:this.maxBitsPerBlock});this.sections[c]=d}if(s){let c={x:0,y:0,z:0};for(c.z=0;c.z<qr.SECTION_WIDTH;c.z++)for(c.x=0;c.x<qr.SECTION_WIDTH;c.x++)this.setBiome(c,o.readInt32BE())}}loadLight(n,r,a,s=0,o=0){let c=gE.fromBuffer(n);this.skyLightMask|=r;for(let u=0;u<qr.NUM_SECTIONS+2;u++)r>>u&1&&(Nf.read(c),this.skyLightSections[u]=new fu({bitsPerValue:4,capacity:4096}).readBuffer(c));this.blockLightMask|=a;for(let u=0;u<qr.NUM_SECTIONS+2;u++)a>>u&1&&(Nf.read(c),this.blockLightSections[u]=new fu({bitsPerValue:4,capacity:4096}).readBuffer(c))}dumpBiomes(){}loadBiomes(){}dumpLight(){let n=new gE;return this.skyLightSections.forEach((r,a)=>{r!==null&&(Nf.write(n,2048),r.writeBuffer(n))}),this.blockLightSections.forEach((r,a)=>{r!==null&&(Nf.write(n,2048),r.writeBuffer(n))}),n.toBuffer()}};function yE(i){return Math.floor(i.y/16)+1}l(yE,"getLightSectionIndex");function $J(i){return i.z*16|i.x}l($J,"getBiomeIndex");function kL(i){return{x:i.x,y:i.y&15,z:i.z}}l(kL,"toSectionPos");function vE(i){return(i.y&15)<<8|i.z<<4|i.x}l(vE,"getSectionBlockIndex")});var KJ=qe((PXe,JJ)=>{ne();ae();re();var IPe=Xn();function CPe(i){let e=aa()(i),t=ZJ()(e,i);return t.h=IPe.CHUNK_HEIGHT,t.version=i.version,t}l(CPe,"loader");JJ.exports=CPe});var iK=qe((OXe,tK)=>{ne();ae();re();var wE=hu().SmartBuffer,du=kf(),xE=n1()(du),LPe=Dl(),qs=Xn(),Of=Ba(),NPe=Ar();tK.exports=(i,e)=>class eK extends LPe{static{l(this,"ChunkColumn")}static get section(){return xE}constructor(){super(e),this.sectionMask=0,this.sections=Array(qs.NUM_SECTIONS).fill(null),this.biomes=Array(4*4*64).fill(127),this.skyLightMask=0,this.blockLightMask=0,this.skyLightSections=Array(qs.NUM_SECTIONS+2).fill(null),this.blockLightSections=Array(qs.NUM_SECTIONS+2).fill(null),this.maxBitsPerBlock=NPe(Object.values(e.blocks).reduce((n,r)=>Math.max(n,r.maxStateId),0))}toJson(){return JSON.stringify({biomes:this.biomes,blockEntities:this.blockEntities,sectionMask:this.sectionMask,sections:this.sections.map(n=>n===null?null:n.toJson()),skyLightMask:this.skyLightMask,blockLightMask:this.blockLightMask,skyLightSections:this.skyLightSections.map(n=>n===null?null:n.toJson()),blockLightSections:this.blockLightSections.map(n=>n===null?null:n.toJson())})}static fromJson(n){let r=JSON.parse(n),a=new eK;return a.biomes=r.biomes,a.blockEntities=r.blockEntities,a.sectionMask=r.sectionMask,a.sections=r.sections.map(s=>s===null?null:xE.fromJson(s)),a.skyLightMask=r.skyLightMask,a.blockLightMask=r.blockLightMask,a.skyLightSections=r.skyLightSections.map(s=>s===null?null:du.fromJson(s)),a.blockLightSections=r.blockLightSections.map(s=>s===null?null:du.fromJson(s)),a}initialize(n){let r={x:0,y:0,z:0};for(r.y=0;r.y<qs.CHUNK_HEIGHT;r.y++)for(r.z=0;r.z<qs.SECTION_WIDTH;r.z++)for(r.x=0;r.x<qs.SECTION_WIDTH;r.x++){let a=n(r.x,r.y,r.z);a!==null&&this.setBlock(r,a)}}getBlock(n){let r=this.sections[n.y>>4],a=this.getBiome(n);if(!r)return i.fromStateId(0,a);let s=r.getBlock(RL(n)),o=i.fromStateId(s,a);return o.light=this.getBlockLight(n),o.skyLight=this.getSkyLight(n),o.entity=this.getBlockEntity(n),o}setBlock(n,r){typeof r.stateId<"u"&&this.setBlockStateId(n,r.stateId),typeof r.biome<"u"&&this.setBiome(n,r.biome.id),typeof r.skyLight<"u"&&this.setSkyLight(n,r.skyLight),typeof r.light<"u"&&this.setBlockLight(n,r.light),r.entity?this.setBlockEntity(n,r.entity):this.removeBlockEntity(n)}getBlockType(n){let r=this.getBlockStateId(n);return e.blocksByStateId[r].id}getBlockData(n){let r=this.getBlockStateId(n);return e.blocksByStateId[r].metadata}getBlockStateId(n){let r=this.sections[n.y>>4];return r?r.getBlock(RL(n)):0}getBlockLight(n){let r=this.blockLightSections[SE(n)];return r?r.get(EE(n)):0}getSkyLight(n){let r=this.skyLightSections[SE(n)];return r?r.get(EE(n)):0}getBiome(n){return n.y<0||n.y>=256?0:this.biomes[QJ(n)]}setBlockType(n,r){this.setBlockStateId(n,e.blocks[r].minStateId)}setBlockData(n,r){this.setBlockStateId(n,e.blocksByStateId[this.getBlockStateId(n)].minStateId+r)}setBlockStateId(n,r){let a=n.y>>4;if(a<0||a>=16)return;let s=this.sections[a];if(!s){if(r===0)return;s=new xE({maxBitsPerBlock:this.maxBitsPerBlock}),this.sectionMask|=1<<a,this.sections[a]=s}s.setBlock(RL(n),r)}setBlockLight(n,r){let a=SE(n),s=this.blockLightSections[a];if(s===null){if(r===0)return;s=new du({bitsPerValue:4,capacity:4096}),this.blockLightMask|=1<<a,this.blockLightSections[a]=s}s.set(EE(n),r)}setSkyLight(n,r){let a=SE(n),s=this.skyLightSections[a];if(s===null){if(r===0)return;s=new du({bitsPerValue:4,capacity:4096}),this.skyLightMask|=1<<a,this.skyLightSections[a]=s}s.set(EE(n),r)}setBiome(n,r){n.y<0||n.y>=256||(this.biomes[QJ(n)]=r)}getMask(){return this.sectionMask}dump(){let n=new wE;return this.sections.forEach((r,a)=>{r!==null&&!r.isEmpty()&&r.write(n)}),n.toBuffer()}loadBiomes(n){this.biomes=n}dumpBiomes(n){return this.biomes}load(n,r=65535){let a=wE.fromBuffer(n);this.sectionMask|=r;for(let s=0;s<qs.NUM_SECTIONS;++s){if(!(r>>s&1))continue;let o,c=a.readInt16BE(),u=a.readUInt8();if(u<=qs.MAX_BITS_PER_BLOCK){o=[];let p=Of.read(a);for(let d=0;d<p;++d)o.push(Of.read(a))}else o=null;let h=new du({bitsPerValue:u>qs.MAX_BITS_PER_BLOCK?this.maxBitsPerBlock:u,capacity:4096}).readBuffer(a,Of.read(a)*2),f=new xE({data:h,palette:o,solidBlockCount:c,maxBitsPerBlock:this.maxBitsPerBlock});this.sections[s]=f}}loadLight(n,r,a,s=0,o=0){let c=wE.fromBuffer(n);this.skyLightMask|=r;for(let u=0;u<qs.NUM_SECTIONS+2;u++)r>>u&1&&(Of.read(c),this.skyLightSections[u]=new du({bitsPerValue:4,capacity:4096}).readBuffer(c));this.blockLightMask|=a;for(let u=0;u<qs.NUM_SECTIONS+2;u++)a>>u&1&&(Of.read(c),this.blockLightSections[u]=new du({bitsPerValue:4,capacity:4096}).readBuffer(c))}dumpLight(){let n=new wE;return this.skyLightSections.forEach((r,a)=>{r!==null&&(Of.write(n,2048),r.writeBuffer(n))}),this.blockLightSections.forEach((r,a)=>{r!==null&&(Of.write(n,2048),r.writeBuffer(n))}),n.toBuffer()}};function SE(i){return Math.floor(i.y/16)+1}l(SE,"getLightSectionIndex");function QJ(i){return(i.y>>2&63)<<4|(i.z>>2&3)<<2|i.x>>2&3}l(QJ,"getBiomeIndex");function RL(i){return{x:i.x,y:i.y&15,z:i.z}}l(RL,"toSectionPos");function EE(i){return(i.y&15)<<8|i.z<<4|i.x}l(EE,"getSectionBlockIndex")});var rK=qe((DXe,nK)=>{ne();ae();re();var OPe=Xn();function BPe(i){let e=aa()(i),t=iK()(e,i);return t.h=OPe.CHUNK_HEIGHT,t.version=i.version,t}l(BPe,"loader");nK.exports=BPe});var r1=qe((WXe,aK)=>{ne();ae();re();var FPe=Ar(),PL=class i{static{l(this,"BitArray")}constructor(e){if(e===null)return;let t=Math.floor(64/e.bitsPerValue),n=Math.ceil(e.capacity/t)*2,r=(1<<e.bitsPerValue)-1;this.data=new Uint32Array(e?.data??n),this.capacity=e.capacity,this.bitsPerValue=e.bitsPerValue,this.valuesPerLong=t,this.valueMask=r}toJson(){return JSON.stringify({data:Array.from(this.data),capacity:this.capacity,bitsPerValue:this.bitsPerValue,valuesPerLong:this.valuesPerLong,valueMask:this.valueMask})}static fromJson(e){return new i(JSON.parse(e))}toArray(){let e=[];for(let t=0;t<this.capacity;t++)e.push(this.get(t));return e}static fromArray(e,t){let n=new i({capacity:e.length,bitsPerValue:t});for(let r=0;r<e.length;r++)n.set(r,e[r]);return n}toLongArray(){let e=[];for(let t=0;t<this.data.length;t+=2)e.push([this.data[t+1]<<32>>32,this.data[t]<<32>>32]);return e}static fromLongArray(e,t){let n=new i({capacity:Math.floor(64/t)*e.length,bitsPerValue:t});for(let r=0;r<e.length;r++){let a=r*2;n.data[a+1]=e[r][0],n.data[a]=e[r][1]}return n}static or(e,t){let n=e.data.length>t.data.length?e.data:t.data,r=e.data.length>t.data.length?t.data:e.data,a=new Uint32Array(n.length);a.set(n);for(let s=0;s<r.length;s++)a[s]|=r[s];return new i({data:a.buffer,bitsPerValue:Math.max(e.bitsPerValue,t.bitsPerValue)})}get(e){let t=Math.floor(e/this.valuesPerLong),n=(e-t*this.valuesPerLong)*this.bitsPerValue;if(n>=32){let c=n-32;return this.data[t*2+1]>>>c&this.valueMask}let r=this.data[t*2],a=n,s=r>>>a;if(a+this.bitsPerValue>32){let c=this.data[t*2+1];s|=c<<32-a}return s&this.valueMask}set(e,t){let n=Math.floor(e/this.valuesPerLong),r=(e-n*this.valuesPerLong)*this.bitsPerValue;if(r>=32){let o=r-32;this.data[n*2+1]=(this.data[n*2+1]&~(this.valueMask<<o)|(t&this.valueMask)<<o)>>>0;return}let a=r;this.data[n*2]=(this.data[n*2]&~(this.valueMask<<a)|(t&this.valueMask)<<a)>>>0;let s=a+this.bitsPerValue;s>32&&(this.data[n*2+1]=(this.data[n*2+1]&~((1<<s-32)-1)|t>>32-a)>>>0)}resize(e){let t=new i({bitsPerValue:this.bitsPerValue,capacity:e});for(let n=0;n<Math.min(e,this.capacity);++n)t.set(n,this.get(n));return t}resizeTo(e){let t=new i({bitsPerValue:e,capacity:this.capacity});for(let n=0;n<this.capacity;++n){let r=this.get(n);if(FPe(r)>e)throw new Error("existing value in BitArray can't fit in new bits per value");t.set(n,r)}return t}length(){return this.data.length/2}readBuffer(e,t=this.data.length){if(t!==this.data.length){this.data=new Uint32Array(t),e.readOffset+=t*4;return}for(let n=0;n<this.data.length;n+=2)this.data[n+1]=e.readUInt32BE(),this.data[n]=e.readUInt32BE();return this}writeBuffer(e){for(let t=0;t<this.data.length;t+=2)e.writeUInt32BE(this.data[t+1]),e.writeUInt32BE(this.data[t]);return this}getBitsPerValue(){return this.bitsPerValue}};aK.exports=PL});var cK=qe((ZXe,lK)=>{ne();ae();re();var ME=hu().SmartBuffer,pu=r1(),AE=n1()(pu),UPe=Dl(),Hs=Xn(),Bf=Ba(),zPe=Ar();lK.exports=(i,e)=>class oK extends UPe{static{l(this,"ChunkColumn")}static get section(){return AE}constructor(){super(e),this.sectionMask=0,this.sections=Array(Hs.NUM_SECTIONS).fill(null),this.biomes=Array(4*4*64).fill(127),this.skyLightMask=0,this.blockLightMask=0,this.skyLightSections=Array(Hs.NUM_SECTIONS+2).fill(null),this.blockLightSections=Array(Hs.NUM_SECTIONS+2).fill(null),this.maxBitsPerBlock=zPe(Object.values(e.blocks).reduce((n,r)=>Math.max(n,r.maxStateId),0))}toJson(){return JSON.stringify({biomes:this.biomes,blockEntities:this.blockEntities,sectionMask:this.sectionMask,sections:this.sections.map(n=>n===null?null:n.toJson()),skyLightMask:this.skyLightMask,blockLightMask:this.blockLightMask,skyLightSections:this.skyLightSections.map(n=>n===null?null:n.toJson()),blockLightSections:this.blockLightSections.map(n=>n===null?null:n.toJson())})}static fromJson(n){let r=JSON.parse(n),a=new oK;return a.biomes=r.biomes,a.blockEntities=r.blockEntities,a.sectionMask=r.sectionMask,a.sections=r.sections.map(s=>s===null?null:AE.fromJson(s)),a.skyLightMask=r.skyLightMask,a.blockLightMask=r.blockLightMask,a.skyLightSections=r.skyLightSections.map(s=>s===null?null:pu.fromJson(s)),a.blockLightSections=r.blockLightSections.map(s=>s===null?null:pu.fromJson(s)),a}initialize(n){let r={x:0,y:0,z:0};for(r.y=0;r.y<Hs.CHUNK_HEIGHT;r.y++)for(r.z=0;r.z<Hs.SECTION_WIDTH;r.z++)for(r.x=0;r.x<Hs.SECTION_WIDTH;r.x++){let a=n(r.x,r.y,r.z);a!==null&&this.setBlock(r,a)}}getBlock(n){let r=this.sections[n.y>>4],a=this.getBiome(n);if(!r)return i.fromStateId(0,a);let s=r.getBlock(IL(n)),o=i.fromStateId(s,a);return o.light=this.getBlockLight(n),o.skyLight=this.getSkyLight(n),o.entity=this.getBlockEntity(n),o}setBlock(n,r){typeof r.stateId<"u"&&this.setBlockStateId(n,r.stateId),typeof r.biome<"u"&&this.setBiome(n,r.biome.id),typeof r.skyLight<"u"&&this.setSkyLight(n,r.skyLight),typeof r.light<"u"&&this.setBlockLight(n,r.light),r.entity?this.setBlockEntity(n,r.entity):this.removeBlockEntity(n)}getBlockType(n){let r=this.getBlockStateId(n);return e.blocksByStateId[r].id}getBlockData(n){let r=this.getBlockStateId(n);return e.blocksByStateId[r].metadata}getBlockStateId(n){let r=this.sections[n.y>>4];return r?r.getBlock(IL(n)):0}getBlockLight(n){let r=this.blockLightSections[TE(n)];return r?r.get(kE(n)):0}getSkyLight(n){let r=this.skyLightSections[TE(n)];return r?r.get(kE(n)):0}getBiome(n){return n.y<0||n.y>=256?0:this.biomes[sK(n)]}setBlockType(n,r){this.setBlockStateId(n,e.blocks[r].minStateId)}setBlockData(n,r){this.setBlockStateId(n,e.blocksByStateId[this.getBlockStateId(n)].minStateId+r)}setBlockStateId(n,r){let a=n.y>>4;if(a<0||a>=16)return;let s=this.sections[a];if(!s){if(r===0)return;s=new AE({maxBitsPerBlock:this.maxBitsPerBlock}),this.sectionMask|=1<<a,this.sections[a]=s}s.setBlock(IL(n),r)}setBlockLight(n,r){let a=TE(n),s=this.blockLightSections[a];if(s===null){if(r===0)return;s=new pu({bitsPerValue:4,capacity:4096}),this.blockLightMask|=1<<a,this.blockLightSections[a]=s}s.set(kE(n),r)}setSkyLight(n,r){let a=TE(n),s=this.skyLightSections[a];if(s===null){if(r===0)return;s=new pu({bitsPerValue:4,capacity:4096}),this.skyLightMask|=1<<a,this.skyLightSections[a]=s}s.set(kE(n),r)}setBiome(n,r){n.y<0||n.y>=256||(this.biomes[sK(n)]=r)}getMask(){return this.sectionMask}dump(){let n=new ME;return this.sections.forEach((r,a)=>{r!==null&&!r.isEmpty()&&r.write(n)}),n.toBuffer()}loadBiomes(n){this.biomes=n}dumpBiomes(n){return this.biomes}load(n,r=65535){let a=ME.fromBuffer(n);this.sectionMask|=r;for(let s=0;s<Hs.NUM_SECTIONS;++s){if(!(r>>s&1))continue;let o,c=a.readInt16BE(),u=a.readUInt8();if(u<=Hs.MAX_BITS_PER_BLOCK){o=[];let p=Bf.read(a);for(let d=0;d<p;++d)o.push(Bf.read(a))}else o=null;let h=new pu({bitsPerValue:u>Hs.MAX_BITS_PER_BLOCK?this.maxBitsPerBlock:u,capacity:4096}).readBuffer(a,Bf.read(a)*2),f=new AE({data:h,palette:o,solidBlockCount:c,maxBitsPerBlock:this.maxBitsPerBlock});this.sections[s]=f}}loadLight(n,r,a,s=0,o=0){let c=ME.fromBuffer(n);this.skyLightMask|=r;for(let u=0;u<Hs.NUM_SECTIONS+2;u++)r>>u&1&&(Bf.read(c),this.skyLightSections[u]=new pu({bitsPerValue:4,capacity:4096}).readBuffer(c));this.blockLightMask|=a;for(let u=0;u<Hs.NUM_SECTIONS+2;u++)a>>u&1&&(Bf.read(c),this.blockLightSections[u]=new pu({bitsPerValue:4,capacity:4096}).readBuffer(c))}dumpLight(){let n=new ME;return this.skyLightSections.forEach((r,a)=>{r!==null&&(Bf.write(n,2048),r.writeBuffer(n))}),this.blockLightSections.forEach((r,a)=>{r!==null&&(Bf.write(n,2048),r.writeBuffer(n))}),n.toBuffer()}};function TE(i){return Math.floor(i.y/16)+1}l(TE,"getLightSectionIndex");function sK(i){return(i.y>>2&63)<<4|(i.z>>2&3)<<2|i.x>>2&3}l(sK,"getBiomeIndex");function IL(i){return{x:i.x,y:i.y&15,z:i.z}}l(IL,"toSectionPos");function kE(i){return(i.y&15)<<8|i.z<<4|i.x}l(kE,"getSectionBlockIndex")});var hK=qe((tYe,uK)=>{ne();ae();re();var DPe=Xn();function VPe(i){let e=aa()(i),t=cK()(e,i);return t.h=DPe.CHUNK_HEIGHT,t.version=i.version,t}l(VPe,"loader");uK.exports=VPe});var mK=qe((sYe,pK)=>{ne();ae();re();var a1=hu().SmartBuffer,Nn=r1(),RE=n1()(Nn),qPe=Dl(),s1=Xn(),CL=Ba(),HPe=Ar();pK.exports=(i,e)=>class dK extends qPe{static{l(this,"ChunkColumn")}static get section(){return RE}constructor(n){super(e),this.minY=n?.minY??0,this.worldHeight=n?.worldHeight??s1.CHUNK_HEIGHT,this.numSections=this.worldHeight>>4,this.maxBitsPerBlock=HPe(Object.values(e.blocks).reduce((r,a)=>Math.max(r,a.maxStateId),0)),this.sectionMask=new Nn({bitsPerValue:1,capacity:this.numSections}),this.sections=Array(this.numSections).fill(null),this.biomes=Array(4*4*(this.worldHeight>>2)).fill(0),this.skyLightMask=new Nn({bitsPerValue:1,capacity:this.numSections+2}),this.emptySkyLightMask=new Nn({bitsPerValue:1,capacity:this.numSections+2}),this.skyLightSections=Array(this.numSections+2).fill(null),this.blockLightMask=new Nn({bitsPerValue:1,capacity:this.numSections+2}),this.emptyBlockLightMask=new Nn({bitsPerValue:1,capacity:this.numSections+2}),this.blockLightSections=Array(this.numSections+2).fill(null)}toJson(){return JSON.stringify({biomes:this.biomes,blockEntities:this.blockEntities,sectionMask:this.sectionMask.toLongArray(),sections:this.sections.map(n=>n===null?null:n.toJson()),skyLightMask:this.skyLightMask.toLongArray(),blockLightMask:this.blockLightMask.toLongArray(),skyLightSections:this.skyLightSections.map(n=>n===null?null:n.toJson()),blockLightSections:this.blockLightSections.map(n=>n===null?null:n.toJson()),emptyBlockLightMask:this.emptyBlockLightMask.toLongArray(),emptySkyLightMask:this.emptySkyLightMask.toLongArray()})}static fromJson(n){let r=JSON.parse(n),a=new dK;return a.biomes=r.biomes,a.blockEntities=r.blockEntities,a.sectionMask=Nn.fromLongArray(r.sectionMask,1),a.sections=r.sections.map(s=>s===null?null:RE.fromJson(s)),a.skyLightMask=Nn.fromLongArray(r.skyLightMask,1),a.blockLightMask=Nn.fromLongArray(r.blockLightMask,1),a.skyLightSections=r.skyLightSections.map(s=>s===null?null:Nn.fromJson(s)),a.blockLightSections=r.blockLightSections.map(s=>s===null?null:Nn.fromJson(s)),a.emptySkyLightMask=Nn.fromLongArray(r.emptyBlockLightMask,1),a.emptyBlockLightMask=Nn.fromLongArray(r.emptySkyLightMask,1),a}initialize(n){let r={x:0,y:0,z:0};for(r.y=0;r.y<this.worldHeight;r.y++)for(r.z=0;r.z<s1.SECTION_WIDTH;r.z++)for(r.x=0;r.x<s1.SECTION_WIDTH;r.x++){let a=n(r.x,r.y,r.z);a!==null&&this.setBlock(r,a)}}getBlock(n){let r=this.sections[n.y-this.minY>>4],a=this.getBiome(n);if(!r)return i.fromStateId(0,a);let s=r.getBlock(LL(n,this.minY)),o=i.fromStateId(s,a);return o.light=this.getBlockLight(n),o.skyLight=this.getSkyLight(n),o.entity=this.getBlockEntity(n),o}setBlock(n,r){typeof r.stateId<"u"&&this.setBlockStateId(n,r.stateId),typeof r.biome<"u"&&this.setBiome(n,r.biome.id),typeof r.skyLight<"u"&&this.setSkyLight(n,r.skyLight),typeof r.light<"u"&&this.setBlockLight(n,r.light),r.entity?this.setBlockEntity(n,r.entity):this.removeBlockEntity(n)}getBlockType(n){let r=this.getBlockStateId(n);return e.blocksByStateId[r].id}getBlockData(n){let r=this.getBlockStateId(n);return e.blocksByStateId[r].metadata}getBlockStateId(n){let r=this.sections[n.y-this.minY>>4];return r?r.getBlock(LL(n,this.minY)):0}getBlockLight(n){let r=this.blockLightSections[PE(n,this.minY)];return r?r.get(IE(n,this.minY)):0}getSkyLight(n){let r=this.skyLightSections[PE(n,this.minY)];return r?r.get(IE(n,this.minY)):0}getBiome(n){return n.y<this.minY||n.y>=this.minY+this.worldHeight?0:this.biomes[fK(n,this.minY)]}setBlockType(n,r){this.setBlockStateId(n,e.blocks[r].minStateId)}setBlockData(n,r){this.setBlockStateId(n,e.blocksByStateId[this.getBlockStateId(n)].minStateId+r)}setBlockStateId(n,r){let a=n.y-this.minY>>4;if(a<0||a>=this.numSections)return;let s=this.sections[a];if(!s){if(r===0)return;s=new RE({maxBitsPerBlock:this.maxBitsPerBlock}),a>this.sectionMask.capacity&&(this.sectionMask=this.sectionMask.resize(a)),this.sectionMask.set(a,1),this.sections[a]=s}s.setBlock(LL(n,this.minY),r)}setBlockLight(n,r){let a=PE(n,this.minY),s=this.blockLightSections[a];if(s===null){if(r===0)return;s=new Nn({bitsPerValue:4,capacity:4096}),a>this.blockLightMask.capacity&&(this.blockLightMask=this.blockLightMask.resize(a)),this.blockLightMask.set(a,1),this.blockLightSections[a]=s}s.set(IE(n,this.minY),r)}setSkyLight(n,r){let a=PE(n,this.minY),s=this.skyLightSections[a];if(s===null){if(r===0)return;s=new Nn({bitsPerValue:4,capacity:4096}),this.skyLightMask.set(a,1),this.skyLightSections[a]=s}s.set(IE(n,this.minY),r)}setBiome(n,r){n.y<this.minY||n.y>=this.minY+this.worldHeight||(this.biomes[fK(n,this.minY)]=r)}getMask(){return this.sectionMask.toLongArray()}dump(){let n=new a1;return this.sections.forEach(r=>{r!==null&&!r.isEmpty()&&r.write(n)}),n.toBuffer()}loadBiomes(n){this.biomes=n}dumpBiomes(n){return this.biomes}load(n,r=[[0,65535]]){let a=a1.fromBuffer(n);r=Nn.fromLongArray(r,1),this.sectionMask=Nn.or(this.sectionMask,r);for(let s=0;s<this.numSections;++s){if(!r.get(s))continue;let o,c=a.readInt16BE(),u=a.readUInt8();if(u<=s1.MAX_BITS_PER_BLOCK){o=[];let f=CL.read(a);for(let p=0;p<f;++p)o.push(CL.read(a))}else o=null;let h=new Nn({bitsPerValue:u>s1.MAX_BITS_PER_BLOCK?this.maxBitsPerBlock:u,capacity:4096}).readBuffer(a,CL.read(a)*2);this.sections[s]=new RE({data:h,palette:o,solidBlockCount:c,maxBitsPerBlock:this.maxBitsPerBlock})}}loadParsedLight(n,r,a,s,o,c){function u(h,f,p,d,m,y){let g=0,b=Nn.fromLongArray(d,1),x=Nn.fromLongArray(y,1);for(let w=0;w<h.length;w++){let E=x.get(w);if(!b.get(w)&&!E)continue;m.set(w,E),p.set(w,1-E);let M=new Nn({bitsPerValue:4,capacity:4096});if(h[w]=M,!E){let C=pe.Buffer.from(f[g++]);M.readBuffer(a1.fromBuffer(C))}}}l(u,"readSection"),u(this.skyLightSections,n,this.skyLightMask,a,this.emptySkyLightMask,o),u(this.blockLightSections,r,this.blockLightMask,s,this.emptyBlockLightMask,c)}dumpLight(){let n=[],r=[];return this.skyLightSections.forEach((a,s)=>{if(a!==null&&this.skyLightMask.get(s)){let o=new a1;a.writeBuffer(o),n.push(Uint8Array.from(o.toBuffer()))}}),this.blockLightSections.forEach((a,s)=>{if(a!==null&&this.blockLightMask.get(s)){let o=new a1;a.writeBuffer(o),r.push(Uint8Array.from(o.toBuffer()))}}),{skyLight:n,blockLight:r,skyLightMask:this.skyLightMask.toLongArray(),blockLightMask:this.blockLightMask.toLongArray(),emptySkyLightMask:this.emptySkyLightMask.toLongArray(),emptyBlockLightMask:this.emptyBlockLightMask.toLongArray()}}};function PE(i,e){return Math.floor((i.y-e)/16)+1}l(PE,"getLightSectionIndex");function fK(i,e){return(i.y-e>>2&63)<<4|(i.z>>2&3)<<2|i.x>>2&3}l(fK,"getBiomeIndex");function LL(i,e){return{x:i.x,y:i.y-e&15,z:i.z}}l(LL,"toSectionPos");function IE(i,e){return(i.y-e&15)<<8|i.z<<4|i.x}l(IE,"getSectionBlockIndex")});var gK=qe((hYe,_K)=>{ne();ae();re();function GPe(i){let e=aa()(i);return mK()(e,i)}l(GPe,"loader");_K.exports=GPe});var NL=qe((_Ye,bK)=>{ne();ae();re();var Uf=r1(),Gs=Xn(),WPe=Ar(),Ff=Ba(),o1=class i{static{l(this,"DirectPaletteContainer")}constructor(e){this.data=new Uf({bitsPerValue:e?.bitsPerValue??Gs.GLOBAL_BITS_PER_BLOCK,capacity:e?.capacity??Gs.BLOCK_SECTION_VOLUME})}get(e){return this.data.get(e)}set(e,t){return this.data.set(e,t),this}write(e){e.writeUInt8(this.data.bitsPerValue),Ff.write(e,this.data.length()),this.data.writeBuffer(e)}readBuffer(e){return this.data.readBuffer(e,Ff.read(e)*2),this}toJson(){return JSON.stringify({type:"direct",data:this.data.toJson()})}static fromJson(e){let t=JSON.parse(e);return new i({data:Uf.fromJson(t.data),bitsPerValue:t.bitsPerValue})}},l1=class i{static{l(this,"IndirectPaletteContainer")}constructor(e){this.data=e?.data??new Uf({bitsPerValue:e?.bitsPerValue??Gs.MIN_BITS_PER_BLOCK,capacity:e?.capacity??Gs.BLOCK_SECTION_VOLUME}),this.palette=e?.palette??[0],this.maxBits=e?.maxBits??Gs.MAX_BITS_PER_BLOCK,this.maxBitsPerBlock=e?.maxBitsPerBlock??Gs.MAX_BITS_PER_BLOCK}get(e){return this.palette[this.data.get(e)]}set(e,t){let n=this.palette.indexOf(t);if(n<0){n=this.palette.length,this.palette.push(t);let r=WPe(n);if(r>this.data.bitsPerValue)if(r<=this.maxBits)this.data=this.data.resizeTo(r);else return this.convertToDirect(this.maxBitsPerBlock).set(e,t)}return this.data.set(e,n),this}convertToDirect(e){let t=new o1({bitsPerValue:e??Gs.GLOBAL_BITS_PER_BLOCK,capacity:this.data.capacity});for(let n=0;n<this.data.capacity;++n)t.data.set(n,this.get(n));return t}write(e){e.writeUInt8(this.data.bitsPerValue),Ff.write(e,this.palette.length);for(let t of this.palette)Ff.write(e,t);Ff.write(e,this.data.length()),this.data.writeBuffer(e)}readBuffer(e){let t=Ff.read(e);return this.data.readBuffer(e,t*2),this}toJson(){return JSON.stringify({type:"indirect",palette:this.palette,maxBits:this.maxBits,data:this.data.toJson()})}static fromJson(e){let t=JSON.parse(e);return new i({palette:t.palette,maxBits:t.maxBits,data:Uf.fromJson(t.data)})}},CE=class i{static{l(this,"SingleValueContainer")}constructor(e){this.value=e?.value??0,this.bitsPerValue=e?.bitsPerValue??Gs.MIN_BITS_PER_BLOCK,this.capacity=e?.capacity??Gs.BLOCK_SECTION_VOLUME,this.maxBits=e?.maxBits??Gs.MAX_BITS_PER_BLOCK,this.maxBitsPerBlock=e?.maxBitsPerBlock??Gs.MAX_BITS_PER_BLOCK}get(e){return this.value}set(e,t){if(t===this.value)return this;let n=new Uf({bitsPerValue:this.bitsPerValue,capacity:this.capacity});return n.set(e,1),new l1({data:n,palette:[this.value,t],capacity:this.capacity,bitsPerValue:this.bitsPerValue,maxBits:this.maxBits,maxBitsPerBlock:this.maxBitsPerBlock})}write(e){e.writeUInt8(0),Ff.write(e,this.value),e.writeUInt8(0)}toJson(){return JSON.stringify({type:"single",value:this.value,bitsPerValue:this.bitsPerValue,capacity:this.capacity,maxBits:this.maxBits})}static fromJson(e){let t=JSON.parse(e);return new i({value:t.value,bitsPerValue:t.bitsPerValue,capacity:t.capacity,maxBits:t.maxBits})}};function jPe(i){let e=JSON.parse(i);if(e.type==="direct")return new o1({data:Uf.fromJson(e.data)});if(e.type==="indirect")return new l1({palette:e.palette,maxBits:e.maxBits,data:Uf.fromJson(e.data)});if(e.type==="single")return new CE({value:e.value,bitsPerValue:e.bitsPerValue,capacity:e.capacity,maxBits:e.maxBits})}l(jPe,"containerFromJson");bK.exports={SingleValueContainer:CE,IndirectPaletteContainer:l1,DirectPaletteContainer:o1,fromJson:jPe}});var SK=qe((wYe,xK)=>{ne();ae();re();var la=Xn(),LE=NL(),OL=Ba(),yK=LE.SingleValueContainer,vK=LE.IndirectPaletteContainer,$Pe=LE.DirectPaletteContainer;function wK(i){return i.y<<8|i.z<<4|i.x}l(wK,"getBlockIndex");var BL=class i{static{l(this,"ChunkSection")}constructor(e){if(this.data=e?.data,this.data){if(this.solidBlockCount=e?.solidBlockCount??0,e?.solidBlockCount==null)for(let t=0;t<la.BLOCK_SECTION_VOLUME;++t)this.data.get(t)&&this.solidBlockCount++}else{let t=e?.singleValue??0;this.data=new yK({value:t,bitsPerValue:la.MIN_BITS_PER_BLOCK,capacity:la.BLOCK_SECTION_VOLUME,maxBits:la.MAX_BITS_PER_BLOCK,maxBitsPerBlock:e?.maxBitsPerBlock??la.GLOBAL_BITS_PER_BLOCK}),this.solidBlockCount=t?la.BLOCK_SECTION_VOLUME:0}this.palette=this.data.palette}toJson(){return JSON.stringify({data:this.data.toJson(),solidBlockCount:this.solidBlockCount})}static fromJson(e){let t=JSON.parse(e);return new i({data:LE.fromJson(t.data),solidBlockCount:t.solidBlockCount})}get(e){return this.data.get(wK(e))}set(e,t){let n=wK(e),r=this.get(e);t===0&&r!==0?this.solidBlockCount-=1:t!==0&&r===0&&(this.solidBlockCount+=1),this.data=this.data.set(n,t),this.palette=this.data.palette}isEmpty(){return this.solidBlockCount===0}write(e){e.writeInt16BE(this.solidBlockCount),this.data.write(e)}static fromLocalPalette({data:e,palette:t}){return new i({data:t.length===1?new yK({value:t[0],bitsPerValue:la.MIN_BITS_PER_BLOCK,capacity:la.BIOME_SECTION_VOLUME,maxBits:la.MAX_BITS_PER_BLOCK}):new vK({data:e,palette:t})})}static read(e,t=la.GLOBAL_BITS_PER_BLOCK){let n=e.readInt16BE(),r=e.readUInt8();if(!r){let o=new i({solidBlockCount:n,singleValue:OL.read(e),maxBitsPerBlock:t});return e.readUInt8(),o}if(r>la.MAX_BITS_PER_BLOCK)return new i({solidBlockCount:n,data:new $Pe({bitsPerValue:t,capacity:la.BLOCK_SECTION_VOLUME}).readBuffer(e)});let a=[],s=OL.read(e);for(let o=0;o<s;++o)a.push(OL.read(e));return new i({solidBlockCount:n,data:new vK({bitsPerValue:r,capacity:la.BLOCK_SECTION_VOLUME,maxBits:la.MAX_BITS_PER_BLOCK,maxBitsPerBlock:t,palette:a}).readBuffer(e)})}};xK.exports=BL});var kK=qe((AYe,TK)=>{ne();ae();re();var Ws=Xn(),NE=NL(),FL=Ba(),EK=NE.SingleValueContainer,MK=NE.IndirectPaletteContainer,XPe=NE.DirectPaletteContainer;function AK(i){return i.y<<4|i.z<<2|i.x}l(AK,"getBiomeIndex");var UL=class i{static{l(this,"BiomeSection")}constructor(e){this.data=e?.data??new EK({value:e?.singleValue??0,bitsPerValue:Ws.MIN_BITS_PER_BIOME,capacity:Ws.BIOME_SECTION_VOLUME,maxBits:Ws.MAX_BITS_PER_BIOME})}toJson(){return this.data.toJson()}static fromJson(e){return new i({data:NE.fromJson(e)})}get(e){return this.data.get(AK(e))}set(e,t){this.data=this.data.set(AK(e),t)}static fromLocalPalette({palette:e,data:t}){return new i({data:e.length===1?new EK({value:e[0],bitsPerValue:Ws.MIN_BITS_PER_BIOME,capacity:Ws.BIOME_SECTION_VOLUME,maxBits:Ws.MAX_BITS_PER_BIOME}):new MK({palette:e,data:t})})}write(e){this.data.write(e)}static read(e,t=Ws.GLOBAL_BITS_PER_BIOME){let n=e.readUInt8();if(!n){let s=new i({singleValue:FL.read(e)});return e.readUInt8(),s}if(n>Ws.MAX_BITS_PER_BIOME)return new i({data:new XPe({bitsPerValue:t,capacity:Ws.BIOME_SECTION_VOLUME}).readBuffer(e)});let r=[],a=FL.read(e);for(let s=0;s<a;++s)r.push(FL.read(e));return new i({data:new MK({bitsPerValue:n,capacity:Ws.BIOME_SECTION_VOLUME,maxBits:Ws.MAX_BITS_PER_BIOME,palette:r}).readBuffer(e)})}};TK.exports=UL});var NK=qe((IYe,LK)=>{ne();ae();re();var c1=hu().SmartBuffer,Yn=r1(),u1=SK(),OE=kK(),YPe=Dl(),zL=Xn(),RK=Ar();LK.exports=(i,e)=>class CK extends YPe{static{l(this,"ChunkColumn")}static get section(){return u1}constructor(n){super(e),this.minY=n?.minY??0,this.worldHeight=n?.worldHeight??zL.CHUNK_HEIGHT,this.numSections=this.worldHeight>>4,this.maxBitsPerBlock=RK(Object.values(e.blocks).reduce((r,a)=>Math.max(r,a.maxStateId),0)),this.maxBitsPerBiome=RK(Object.values(e.biomes).length),this.sections=n?.sections??Array.from({length:this.numSections},r=>new u1({maxBitsPerBlock:this.maxBitsPerBlock})),this.biomes=n?.biomes??Array.from({length:this.numSections},r=>new OE),this.skyLightMask=n?.skyLightMask??new Yn({bitsPerValue:1,capacity:this.numSections+2}),this.emptySkyLightMask=n?.emptySkyLightMask??new Yn({bitsPerValue:1,capacity:this.numSections+2}),this.skyLightSections=n?.skyLightSections??Array(this.numSections+2).fill(null),this.blockLightMask=n?.blockLightMask??new Yn({bitsPerValue:1,capacity:this.numSections+2}),this.emptyBlockLightMask=n?.emptyBlockLightMask??new Yn({bitsPerValue:1,capacity:this.numSections+2}),this.blockLightSections=n?.blockLightSections??Array(this.numSections+2).fill(null),this.blockEntities=n?.blockEntities??{}}toJson(){return JSON.stringify({worldHeight:this.worldHeight,minY:this.minY,sections:this.sections.map(n=>n.toJson()),biomes:this.biomes.map(n=>n.toJson()),skyLightMask:this.skyLightMask.toLongArray(),emptySkyLightMask:this.emptySkyLightMask.toLongArray(),skyLightSections:this.skyLightSections.map(n=>n===null?null:n.toJson()),blockLightMask:this.blockLightMask.toLongArray(),emptyBlockLightMask:this.emptyBlockLightMask.toLongArray(),blockLightSections:this.blockLightSections.map(n=>n===null?null:n.toJson()),blockEntities:this.blockEntities})}static fromJson(n){let r=JSON.parse(n);return new CK({worldHeight:r.worldHeight,minY:r.minY,sections:r.sections.map(a=>u1.fromJson(a)),biomes:r.biomes.map(a=>OE.fromJson(a)),blockEntities:r.blockEntities,skyLightMask:Yn.fromLongArray(r.skyLightMask,1),emptySkyLightMask:Yn.fromLongArray(r.emptyBlockLightMask,1),skyLightSections:r.skyLightSections.map(a=>a===null?null:Yn.fromJson(a)),blockLightMask:Yn.fromLongArray(r.blockLightMask,1),emptyBlockLightMask:Yn.fromLongArray(r.emptySkyLightMask,1),blockLightSections:r.blockLightSections.map(a=>a===null?null:Yn.fromJson(a))})}initialize(n){let r={x:0,y:0,z:0};for(r.y=0;r.y<this.worldHeight;r.y++)for(r.z=0;r.z<zL.SECTION_WIDTH;r.z++)for(r.x=0;r.x<zL.SECTION_WIDTH;r.x++){let a=n(r.x,r.y,r.z);a!==null&&this.setBlock(r,a)}}getBlock(n){let r=this.getBlockStateId(n),a=this.getBiome(n),s=i.fromStateId(r,a);return s.light=this.getBlockLight(n),s.skyLight=this.getSkyLight(n),s.entity=this.getBlockEntity(n),s}setBlock(n,r){typeof r.stateId<"u"&&this.setBlockStateId(n,r.stateId),typeof r.biome<"u"&&this.setBiome(n,r.biome.id),typeof r.skyLight<"u"&&this.setSkyLight(n,r.skyLight),typeof r.light<"u"&&this.setBlockLight(n,r.light),r.entity?this.setBlockEntity(n,r.entity):this.removeBlockEntity(n)}getBlockType(n){let r=this.getBlockStateId(n);return e.blocksByStateId[r].id}getBlockData(n){let r=this.getBlockStateId(n);return e.blocksByStateId[r].metadata}getBlockStateId(n){let r=this.sections[n.y-this.minY>>4];return r?r.get(IK(n,this.minY)):0}getBlockLight(n){let r=this.blockLightSections[BE(n,this.minY)];return r?r.get(FE(n,this.minY)):0}getSkyLight(n){let r=this.skyLightSections[BE(n,this.minY)];return r?r.get(FE(n,this.minY)):0}getBiome(n){let r=this.biomes[n.y-this.minY>>4];return r?r.get(PK(n,this.minY)):0}setBlockType(n,r){this.setBlockStateId(n,e.blocks[r].minStateId)}setBlockData(n,r){this.setBlockStateId(n,e.blocksByStateId[this.getBlockStateId(n)].minStateId+r)}setBlockStateId(n,r){let a=this.sections[n.y-this.minY>>4];a&&a.set(IK(n,this.minY),r)}setBlockLight(n,r){let a=BE(n,this.minY),s=this.blockLightSections[a];if(s===null){if(r===0)return;s=new Yn({bitsPerValue:4,capacity:4096}),a>this.blockLightMask.capacity&&(this.blockLightMask=this.blockLightMask.resize(a)),this.blockLightMask.set(a,1),this.blockLightSections[a]=s}s.set(FE(n,this.minY),r)}setSkyLight(n,r){let a=BE(n,this.minY),s=this.skyLightSections[a];if(s===null){if(r===0)return;s=new Yn({bitsPerValue:4,capacity:4096}),this.skyLightMask.set(a,1),this.skyLightSections[a]=s}s.set(FE(n,this.minY),r)}setBiome(n,r){let a=this.biomes[n.y-this.minY>>4];a&&a.set(PK(n),r)}getMask(){}dump(){let n=new c1;for(let r=0;r<this.numSections;++r)this.sections[r].write(n),this.biomes[r].write(n);return n.toBuffer()}loadBiomes(n){}dumpBiomes(n){}load(n){let r=c1.fromBuffer(n);for(let a=0;a<this.numSections;++a)this.sections[a]=u1.read(r,this.maxBitsPerBlock),this.biomes[a]=OE.read(r,this.maxBitsPerBiome)}loadParsedLight(n,r,a,s,o,c){function u(h,f,p,d,m,y){let g=0,b=Yn.fromLongArray(d,1),x=Yn.fromLongArray(y,1);for(let w=0;w<h.length;w++){let E=x.get(w);if(!b.get(w)&&!E)continue;m.set(w,E),p.set(w,1-E);let M=new Yn({bitsPerValue:4,capacity:4096});if(h[w]=M,!E){let C=pe.Buffer.from(f[g++]);M.readBuffer(c1.fromBuffer(C))}}}l(u,"readSection"),u(this.skyLightSections,n,this.skyLightMask,a,this.emptySkyLightMask,o),u(this.blockLightSections,r,this.blockLightMask,s,this.emptyBlockLightMask,c)}_loadBlockLightNibbles(n,r){if(r.length!==2048)throw new Error("Invalid light nibble buffer length "+r.length);let a=this.minY>>4;this.blockLightMask.set(n+a+1,1),this.blockLightSections[n-(this.minY>>4)+1]=new Yn({bitsPerValue:4,capacity:4096,data:new Int8Array(r).buffer})}_loadSkyLightNibbles(n,r){if(r.length!==2048)throw new Error("Invalid light nibble buffer length: "+r.length);let a=this.minY>>4;this.skyLightMask.set(n+a+1,1),this.skyLightSections[n-a+1]=new Yn({bitsPerValue:4,capacity:4096,data:new Int8Array(r).buffer})}loadSection(n,r,a,s,o){let c=Math.abs(this.minY>>4),u=l(f=>{throw new Error(`Failed to map ${JSON.stringify(f)} to a block state ID`)},"raiseUnknownBlock"),h=l(f=>{throw new Error(`Failed to map ${JSON.stringify(f)} to a biome ID`)},"raiseUnknownBiome");this.sections[n+c]=u1.fromLocalPalette({data:Yn.fromLongArray(r.data||{},r.bitsPerBlock),palette:r.palette.map(f=>i.fromProperties(f.Name.replace("minecraft:",""),f.Properties||{})??u(f)).map(f=>f.stateId)}),this.biomes[n+c]=OE.fromLocalPalette({data:Yn.fromLongArray(a.data||{},a.bitsPerBiome),palette:a.palette.map(f=>e.biomesByName[f.replace("minecraft:","")]??h(f)).map(f=>f.id)}),s&&this._loadBlockLightNibbles(n,s),o&&this._loadSkyLightNibbles(n,o)}dumpLight(){let n=[],r=[];return this.skyLightSections.forEach((a,s)=>{if(a!==null&&this.skyLightMask.get(s)){let o=new c1;a.writeBuffer(o),n.push(Uint8Array.from(o.toBuffer()))}}),this.blockLightSections.forEach((a,s)=>{if(a!==null&&this.blockLightMask.get(s)){let o=new c1;a.writeBuffer(o),r.push(Uint8Array.from(o.toBuffer()))}}),{skyLight:n,blockLight:r,skyLightMask:this.skyLightMask.toLongArray(),blockLightMask:this.blockLightMask.toLongArray(),emptySkyLightMask:this.emptySkyLightMask.toLongArray(),emptyBlockLightMask:this.emptyBlockLightMask.toLongArray()}}};function BE(i,e){return Math.floor((i.y-e)/16)+1}l(BE,"getLightSectionIndex");function PK(i,e){return{x:i.x>>2,y:(i.y-e&15)>>2,z:i.z>>2}}l(PK,"toBiomePos");function IK(i,e){return{x:i.x,y:i.y-e&15,z:i.z}}l(IK,"toSectionPos");function FE(i,e){return(i.y-e&15)<<8|i.z<<4|i.x}l(FE,"getSectionBlockIndex")});var UE=qe((BYe,OK)=>{ne();ae();re();function ZPe(i){let e=aa()(i);return NK()(e,i)}l(ZPe,"loader");OK.exports=ZPe});var GK=qe((VYe,HK)=>{"use strict";ne();ae();re();var JPe=nl().Vec3,_u=16,km=16,qL=128,Hl=_u*km*qL,f1=Hl/2,DE=Hl/2,HL=Hl/2,VK=_u*km,KPe=_u*km*4,zE=Hl+f1+DE+HL+KPe+VK,DL=ym().readUInt4LE,VL=ym().writeUInt4LE;HK.exports=QPe;function QPe(i){return qK=aa()(i),mu.w=_u,mu.l=km,mu.h=qL,mu.BUFFER_SIZE=zE,mu.version=i.version,mu}l(QPe,"loader");var qK;function h1(i){return i!==void 0}l(h1,"exists");var VE=l(function(i){return i.x+_u*(i.z+km*i.y)},"getArrayPosition"),BK=l(function(i){return VE(i)},"getBlockCursor"),FK=l(function(i){return Hl+VE(i)*.5},"getBlockDataCursor"),UK=l(function(i){return Hl+f1+VE(i)*.5},"getBlockLightCursor"),zK=l(function(i){return Hl+f1+DE+VE(i)*.5},"getSkyLightCursor"),DK=l(function(i){return Hl+f1+DE+HL+i.z*_u+i.x},"getHeightMapCursor"),Tm=l(function(i){return Hl+f1+DE+HL+VK+(i.z*_u+i.x)*4},"getBiomeCursor"),mu=class i{static{l(this,"Chunk")}constructor(){this.data=pe.Buffer.alloc(zE),this.data.fill(0)}toJson(){return JSON.stringify({data:this.data.toJSON()})}static fromJson(e){let t=JSON.parse(e),n=new i;return n.data=pe.Buffer.from(t.data),n}initialize(e){let t=new JPe(0,0,0);for(t.y=0;t.y<qL;t.y++)for(t.z=0;t.z<_u;t.z++)for(t.x=0;t.x<km;t.x++){let n=e(t.x,t.y,t.z);n!==null&&this.setBlock(t,n)}}getBlock(e){let t=new qK(this.getBlockType(e),this.getBiome(e),this.getBlockData(e));return t.light=this.getBlockLight(e),t.skyLight=this.getSkyLight(e),t}setBlock(e,t){h1(t.type)&&this.setBlockType(e,t.type),h1(t.metadata)&&this.setBlockData(e,t.metadata),h1(t.biome)&&this.setBiome(e,t.biome.id),h1(t.skyLight)&&this.setSkyLight(e,t.skyLight),h1(t.light)&&this.setBlockLight(e,t.light)}getBlockType(e){return e.y<0||e.y>=256?0:this.data.readUInt8(BK(e))}setBlockType(e,t){e.y<0||e.y>=256||this.data.writeUInt8(t,BK(e))}getBlockData(e){return e.y<0||e.y>=256?0:DL(this.data,FK(e))}setBlockData(e,t){e.y<0||e.y>=256||VL(this.data,t,FK(e))}getBlockLight(e){return e.y<0||e.y>=256?0:DL(this.data,UK(e))}setBlockLight(e,t){e.y<0||e.y>=256||VL(this.data,t,UK(e))}getSkyLight(e){return e.y<0||e.y>=256?0:DL(this.data,zK(e))}setSkyLight(e,t){e.y<0||e.y>=256||VL(this.data,t,zK(e))}getBiomeColor(e){let t=this.data.readInt32BE(Tm(e))&16777215;return{r:t>>16,g:t>>8&255,b:t&255}}setBiomeColor(e,t,n,r){this.data.writeInt32BE(this.data.readInt32BE(Tm(e))&4278190080|(t&255)<<16|(n&255)<<8|r&255,Tm(e))}getBiome(e){return(this.data.readInt32BE(Tm(e))&4278190080)>>24}setBiome(e,t){this.data.writeInt32BE(this.data.readInt32BE(Tm(e))&16777215|t<<24,Tm(e))}getHeight(e){return this.data.readUInt8(DK(e))}setHeight(e,t){this.data.writeUInt8(t,DK(e))}load(e){if(!pe.Buffer.isBuffer(e))throw new Error("Data must be a buffer");if(e.length!==zE)throw new Error(`Data buffer not correct size (was ${e.length}, expected ${zE})`);this.data=e}dumpBiomes(){}dumpLight(){}loadLight(){}loadBiomes(){}dump(){return this.data}getMask(){return 65535}}});var jK=qe((jYe,WK)=>{"use strict";ne();ae();re();var GL=ym().readUInt4LE,WL=ym().writeUInt4LE,zf=16*16*16,d1=16*16*16/2,$L=16*16*16/2,eIe=16*16*16/2,jL=1+(zf+d1+eIe+$L);function gu(i){return 1+(i.x*256+i.z*16+i.y)}l(gu,"getIndex");var XL=class i{static{l(this,"SubChunk")}constructor(){this.data=pe.Buffer.alloc(jL),this.data.fill(0)}toJson(){return JSON.stringify({data:this.data.toJSON()})}static fromJson(e){let t=JSON.parse(e),n=new i;return n.data=pe.Buffer.from(t.data),n}getBlockType(e){return this.data.readUInt8(gu(e))}setBlockType(e,t){this.data.writeUInt8(t,gu(e))}getBlockLight(e){return GL(this.data,zf+d1+$L+gu(e)/2)}setBlockLight(e,t){WL(this.data,t,zf+d1+$L+gu(e)/2)}getSkyLight(e){return GL(this.data,zf+d1+gu(e)/2)}setSkyLight(e,t){WL(this.data,t,zf+d1+gu(e)/2)}getBlockData(e){return GL(this.data,zf+gu(e)/2)}setBlockData(e,t){WL(this.data,t,zf+gu(e)/2)}load(e){if(!pe.Buffer.isBuffer(e))throw new Error("Data must be a buffer");if(e.length!==jL)throw new Error(`Data buffer not correct size (was ${e.length}, expected ${jL})`);this.data=e}dump(){return this.data}};WK.exports=XL});var KK=qe((JYe,JK)=>{"use strict";ne();ae();re();var $K=jK(),Gl=nl(),XK=256,YK=256*2,tIe=XK+YK;JK.exports=iIe;function iIe(i){return ZK=aa()(i),bu.w=16,bu.l=16,bu.h=256,bu.BUFFER_SIZE=3+256+512+16*10241,bu.version=i.version,bu}l(iIe,"loader");var ZK;function p1(i){return i!==void 0}l(p1,"exists");var bu=class i{static{l(this,"Chunk")}constructor(){this.chunks=new Array(16);for(let e=0;e<this.chunks.length;e++)this.chunks[e]=new $K;this.data=pe.Buffer.alloc(tIe),this.data.fill(0);for(let e=0;e<256;e++)this.data[e]=1}toJson(){return JSON.stringify({data:this.data,sections:this.chunks.map(e=>e.toJson())})}static fromJson(e){let t=JSON.parse(e),n=new i;return n.data=t.data,n.chunks=t.sections.map(r=>$K.fromJson(r)),n}initialize(e){let t=new Gl(0,0,0);for(t.y=0;t.y<i.h;t.y++)for(t.z=0;t.z<i.w;t.z++)for(t.x=0;t.x<i.l;t.x++){let n=e(t.x,t.y,t.z);n!==null&&this.setBlock(t,n)}}getBlock(e){let t=new ZK(this.getBlockType(e),this.getBiome(e),this.getBlockData(e));return t.light=this.getBlockLight(e),t.skyLight=this.getSkyLight(e),t}setBlock(e,t){p1(t.type)&&this.setBlockType(e,t.type),p1(t.metadata)&&this.setBlockData(e,t.metadata),p1(t.biome)&&this.setBiome(e,t.biome.id),p1(t.skyLight)&&this.setSkyLight(e,t.skyLight),p1(t.light)&&this.setBlockLight(e,t.light)}getBlockType(e){let t=this.chunks[e.y>>4];return t?t.getBlockType(new Gl(e.x,e.y-16*(e.y>>4),e.z)):0}setBlockType(e,t){let n=this.chunks[e.y>>4];return n&&n.setBlockType(new Gl(e.x,e.y-16*(e.y>>4),e.z),t)}getBlockData(e){let t=this.chunks[e.y>>4];return t?t.getBlockData(new Gl(e.x,e.y-16*(e.y>>4),e.z)):0}setBlockData(e,t){let n=this.chunks[e.y>>4];return n&&n.setBlockData(new Gl(e.x,e.y-16*(e.y>>4),e.z),t)}getBlockLight(e){let t=this.chunks[e.y>>4];return t?t.getBlockLight(new Gl(e.x,e.y-16*(e.y>>4),e.z)):0}setBlockLight(e,t){let n=this.chunks[e.y>>4];return n&&n.setBlockLight(new Gl(e.x,e.y-16*(e.y>>4),e.z),t)}getSkyLight(e){let t=this.chunks[e.y>>4];return t?t.getSkyLight(new Gl(e.x,e.y-16*(e.y>>4),e.z)):15}setSkyLight(e,t){let n=this.chunks[e.y>>4];return n&&n.setSkyLight(new Gl(e.x,e.y-16*(e.y>>4),e.z),t)}getBiomeColor(e){return{x:0,y:0,z:0}}setBiomeColor(e,t,n,r){}getBiome(e){return this.data.readUInt8((e.z<<4)+e.x)}setBiome(e,t){this.data.writeUInt8(t,(e.z<<4)+e.x)}getHeight(e){return this.data.readUInt8((e.z<<4)+e.x)}setHeight(e,t){this.data.writeUInt8(t,(e.z<<4)+e.x)}load(e){if(!pe.Buffer.isBuffer(e))throw new Error("Data must be a buffer");let t=0,n=e.readUInt8(t);if(t+=1,n*10241+1>e.length)throw new Error(`Data buffer not correct size (was ${e.length}, expected ${3+256+512+16*10241})`);for(let r=0;r<n;r++)this.chunks[r].load(e.slice(t,t+10241)),t+=10241}size(){let e=1;return e+=this.chunks.length*10241,e+=YK,e+=XK,e+=1,e+=1,e}dumpBiomes(){}dumpLight(){}loadLight(){}loadBiomes(){}dump(){let e=0,t=pe.Buffer.alloc(this.size());t.fill(0),t.writeUInt8(this.chunks.length,e),e+=1;for(let n=0;n<this.chunks.length;n++){let r=this.chunks[n].dump();r.copy(t,e),e+=r.length}return this.data.copy(t,e),e+=this.data.length,t.writeUInt8(0,e),e+=1,t.writeUInt8(0,e),e+=1,t}getMask(){return 65535}}});var yu=qe((iZe,QK)=>{ne();ae();re();QK.exports={StorageType:{LocalPersistence:0,NetworkPersistence:1,Runtime:2},ChunkVersion:{v0_9_00:0,v0_9_02:1,v0_9_05:2,v0_17_0:3,v0_18_0:4,vConsole1_to_v0_18_0:5,v1_2_0:6,v1_2_0_bis:7,v1_4_0:8,v1_8_0:9,v1_9_0:10,v1_10_0:11,v1_11_0:12,v1_11_1:13,v1_11_2:14,v1_12_0:15,v1_15_0:16,v1_15_1:17,v1_16_0:18,v1_16_1:19,v1_16_100:20,v1_16_200:21,v1_16_210:22,v1_17_0:25,v1_17_30:29,v1_17_40:31,v1_18_0:39,v1_18_11:39}}});var m1=qe((sZe,eQ)=>{ne();ae();re();var YL=class{static{l(this,"ByteStream")}constructor(e){this.buffer=e||pe.Buffer.allocUnsafe(1e4),this.readOffset=0,this.writeOffset=0,this.size=this.buffer.length}resizeForWriteIfNeeded(e){if(this.writeOffset+e>this.size){this.size*=2;let t=this.size-this.writeOffset;this.buffer=pe.Buffer.concat([this.buffer,pe.Buffer.allocUnsafe(t)])}if(this.size>2097152)throw new Error("Buffer size exceeded guard limit")}readByte(){return this.buffer[this.readOffset++]}writeUInt8(e){this.resizeForWriteIfNeeded(1),this.buffer.writeUInt8(e,this.writeOffset),this.writeOffset+=1}writeUInt16LE(e){this.resizeForWriteIfNeeded(2),this.buffer.writeUInt16LE(e,this.writeOffset),this.writeOffset+=2}writeUInt32LE(e){this.resizeForWriteIfNeeded(4),this.buffer.writeUInt32LE(e,this.writeOffset),this.writeOffset+=4}writeUInt64LE(e){switch(this.resizeForWriteIfNeeded(8),typeof e){case"bigint":this.buffer.writeBigUInt64LE(e,this.writeOffset);break;case"number":this.buffer.writeUInt32LE(e&4294967295,this.writeOffset),this.buffer.writeUInt32LE(e>>>32,this.writeOffset+4);break;default:throw new Error("Invalid value type")}this.writeOffset+=8}writeFloatLE(e){this.resizeForWriteIfNeeded(4),this.buffer.writeFloatLE(e,this.writeOffset),this.writeOffset+=4}writeDoubleLE(e){this.resizeForWriteIfNeeded(8),this.buffer.writeDoubleLE(e,this.writeOffset),this.writeOffset+=8}writeUInt16BE(e){this.resizeForWriteIfNeeded(2),this.buffer.writeUInt16BE(e,this.writeOffset),this.writeOffset+=2}writeUInt32BE(e){this.resizeForWriteIfNeeded(4),this.buffer.writeUInt32BE(e,this.writeOffset),this.writeOffset+=4}writeUInt64BE(e){switch(this.resizeForWriteIfNeeded(8),typeof e){case"bigint":this.buffer.writeBigUInt64BE(e,this.writeOffset);break;case"number":this.buffer.writeUInt32BE(e>>>32,this.writeOffset),this.buffer.writeUInt32BE(e&4294967295,this.writeOffset+4);break;default:throw new Error("Invalid value type")}this.writeOffset+=8}writeInt8(e){this.resizeForWriteIfNeeded(1),this.buffer.writeInt8(e,this.writeOffset),this.writeOffset+=1}writeInt16LE(e){this.resizeForWriteIfNeeded(2),this.buffer.writeInt16LE(e,this.writeOffset),this.writeOffset+=2}writeInt32LE(e){this.resizeForWriteIfNeeded(4),this.buffer.writeInt32LE(e,this.writeOffset),this.writeOffset+=4}writeInt64LE(e){switch(this.resizeForWriteIfNeeded(8),typeof e){case"bigint":this.buffer.writeBigInt64LE(e,this.writeOffset);break;case"number":this.buffer.writeInt32LE(e&4294967295,this.writeOffset),this.buffer.writeInt32LE(e>>>32,this.writeOffset+4);break;default:throw new Error("Invalid value type")}this.writeOffset+=8}writeInt16BE(e){this.resizeForWriteIfNeeded(2),this.buffer.writeInt16BE(e,this.writeOffset),this.writeOffset+=2}writeInt32BE(e){this.resizeForWriteIfNeeded(4),this.buffer.writeInt32BE(e,this.writeOffset),this.writeOffset+=4}writeInt64BE(e){switch(this.resizeForWriteIfNeeded(8),typeof e){case"bigint":this.buffer.writeBigInt64BE(e,this.writeOffset);break;case"number":this.buffer.writeInt32BE(e>>>32,this.writeOffset),this.buffer.writeInt32BE(e&4294967295,this.writeOffset+4);break;default:throw new Error("Invalid value type")}this.writeOffset+=8}writeFloatBE(e){this.resizeForWriteIfNeeded(4),this.buffer.writeFloatBE(e,this.writeOffset),this.writeOffset+=4}writeDoubleBE(e){this.resizeForWriteIfNeeded(8),this.buffer.writeDoubleBE(e,this.writeOffset),this.writeOffset+=8}readUInt8(){let e=this.buffer.readUInt8(this.readOffset);return this.readOffset+=1,e}readUInt16LE(){let e=this.buffer.readUInt16LE(this.readOffset);return this.readOffset+=2,e}readUInt32LE(){let e=this.buffer.readUInt32LE(this.readOffset);return this.readOffset+=4,e}readUInt64LE(){let e=this.buffer.readBigUInt64LE(this.readOffset);return this.readOffset+=8,e}readUInt16BE(){let e=this.buffer.readUInt16BE(this.readOffset);return this.readOffset+=2,e}readUInt32BE(){let e=this.buffer.readUInt32BE(this.readOffset);return this.readOffset+=4,e}readUInt64BE(){let e=this.buffer.readBigUInt64BE(this.readOffset);return this.readOffset+=8,e}readInt8(){let e=this.buffer.readInt8(this.readOffset);return this.readOffset+=1,e}readInt16LE(){let e=this.buffer.readInt16LE(this.readOffset);return this.readOffset+=2,e}readInt32LE(){let e=this.buffer.readInt32LE(this.readOffset);return this.readOffset+=4,e}readInt64LE(){let e=this.buffer.readBigInt64LE(this.readOffset);return this.readOffset+=8,e}writeStringNT(e,t="utf8"){this.resizeForWriteIfNeeded(e.length+1),this.buffer.write(e,this.writeOffset,e.length,t),this.buffer[this.writeOffset+e.length]=0,this.writeOffset+=e.length+1}writeStringRaw(e,t="utf8"){this.resizeForWriteIfNeeded(e.length),this.buffer.write(e,this.writeOffset,e.length,t),this.writeOffset+=e.length}writeBuffer(e){this.resizeForWriteIfNeeded(e.length),e.copy(this.buffer,this.writeOffset),this.writeOffset+=e.length}readBuffer(e){let t=this.buffer.slice(this.readOffset,this.readOffset+e);return this.readOffset+=e,t}writeVarInt(e){this.resizeForWriteIfNeeded(9);let t=0;for(;e>=128;)this.buffer[this.writeOffset+t]=e&127|128,e=e>>>7,t+=1;this.buffer[this.writeOffset+t]=e,this.writeOffset+=t+1}readVarInt(){let e=0,t=0,n;do n=this.buffer[this.readOffset+t],e|=(n&127)<<7*t,t+=1;while(n&128);return this.readOffset+=t,e}writeVarLong(e){this.resizeForWriteIfNeeded(9);let t=0;for(;e>=0x80n;)this.buffer[this.writeOffset+t]=e&0x7fn|0x80n,e=e>>>7n,t+=1;this.buffer[this.writeOffset+t]=e,this.writeOffset+=t+1}readVarLong(){let e=0n,t=0n,n;do n=this.buffer[this.readOffset+t],e|=(n&0x7fn)<<7n*t,t+=1n;while(n&0x80n);return this.readOffset+=Number(t),e}writeZigZagVarInt(e){let t=e<<1^e>>31;this.writeVarInt(t)}readZigZagVarInt(){let e=this.readVarInt();return e>>>1^-(e&1)}writeZigZagVarlong(e){let t=e<<1n^e>>63n;this.writeVarlong(t)}readZigZagVarlong(){let e=this.readVarInt();return e>>>1n^-(e&1n)}peekUInt8(){return this.buffer[this.readOffset]}peek(){return this.buffer[this.readOffset]}getBuffer(){return this.buffer.slice(0,this.writeOffset)}};eQ.exports=YL});var nQ=qe((hZe,iQ)=>{ne();ae();re();var{Vec3:nIe}=nl(),tQ=m1(),qE=Mf(),_1=l(i=>`${i.x},${i.y},${i.z}`,"keyFromLocalPos"),rIe=l((i,e,t)=>`${i&15},${e},${t&15}`,"keyFromGlobalPos"),ZL=class{static{l(this,"CommonChunkColumn")}constructor(e,t){this.x=e.x||0,this.z=e.z||0,this.registry=t,this.chunkVersion=e.chunkVersion,this.blockEntities=e.blockEntities||{},this.sections=[],this.entities={},this.compactOnSave=!1,this.setBounds(0,16)}setBounds(e,t){this.minCY=e,this.maxCY=t,this.maxY=this.maxCY*16,this.minY=this.minCY*16,this.worldHeight=this.maxY+Math.abs(this.minY),this.co=Math.abs(this.minCY)}initialize(e){let t=new nIe;for(t.y=0;t.y<this.worldHeight;t.y++)for(t.z=0;t.z<16;t.z++)for(t.x=0;t.x<16;t.x++){let n=e(t.x,t.y,t.z);n&&this.setBlock(t,n)}}getBlock(e,t=!0){let n=e.y>>4,r=this.sections[this.co+n];if(!r)return this.Block.fromStateId(this.registry.blocksByName.air.defaultState,0);let a=r.getBlock(e.l,e.x,e.y&15,e.z,this.getBiomeId(e));return t&&(a.light=r.blockLight.get(e.x,e.y&15,e.z),a.skyLight=r.skyLight.get(e.x,e.y&15,e.z),a.entity=this.getBlockEntity(e)),a}setBlock(e,t){let n=e.y>>4,r=this.sections[this.co+n];r||(r=new this.Section(this.registry,this.Block,{y:n,subChunkVersion:this.subChunkVersion}),this.sections[this.co+n]=r),r.setBlock(e.l,e.x,e.y&15,e.z,t),t.light!==void 0&&r.blockLight.set(e.x,e.y&15,e.z,t.light),t.skyLight!==void 0&&r.skyLight.set(e.x,e.y&15,e.z,t.skyLight),t.entity&&this.setBlockEntity(e,t.entity)}getBlockStateId(e){let t=e.y>>4,n=this.sections[this.co+t];if(n)return n.getBlockStateId(e.l,e.x,e.y&15,e.z)}setBlockStateId(e,t){let n=e.y>>4,r=this.sections[this.co+n];r||(r=new this.Section(this.registry,this.Block,{y:n,subChunkVersion:this.subChunkVersion}),this.sections[this.co+n]=r),r.setBlockStateId(e.l,e.x,e.y&15,e.z,t)}getBiomeId(e){return 0}setBiomeId(e,t){}getBlocks(){let e=this.sections.map(n=>n.getPalette()).flat(2);return Object.values(e.reduce((n,r)=>(n[r.stateId]||(n[r.stateId]=r),n[r.stateId]=r,n),{}))}setBlockLight(e,t){this.sections[this.co+(e.y>>4)].blockLight.set(e.x,e.y&15,e.z,t)}setSkyLight(e,t){this.sections[this.co+(e.y>>4)].skyLight.set(e.x,e.y&15,e.z,t)}getSkyLight(e){return this.sections[this.co+(e.y>>4)].skyLight.get(e.x,e.y&15,e.z)}getBlockLight(e){return this.sections[this.co+(e.y>>4)].blockLight.get(e.x,e.y&15,e.z)}setBlockEntity(e,t){this.blockEntities[_1(e)]=t}getBlockEntity(e){return this.blockEntities[_1(e)]}addBlockEntity(e){let t=rIe(e.value.x.value,e.value.y.value,e.value.z.value);this.blockEntities[t]=e}removeBlockEntity(e){delete this.blockEntities[_1(e)]}moveBlockEntity(e,t){let n=_1(e),r=_1(t),a=this.blockEntities[n];delete this.blockEntities[n],this.blockEntities[r]=a}addEntity(e){let t=e.value.UniqueID.value.toString();this.entities[t]=e}removeEntity(e){delete this.entities[e]}getSection({y:e}){return this.sections[this.co+(e>>4)]}getSectionAtIndex(e){return this.sections[this.co+e]}setSection(e,t){this.sections[this.co+e]=t}newSection(e,t,n){if(t===void 0){let r=this.Section.create(this.registry,this.Block,{y:e,subChunkVersion:this.subChunkVersion});return this.setSection(e,r),r}else{let r=new this.Section(this.registry,this.Block,{y:e,subChunkVersion:this.subChunkVersion});return r.decode(t,n),this.setSection(e,r),r}}getSectionBlockEntities(e){let t=[];for(let n in this.blockEntities)parseInt(n.split(",")[1])>>4===e&&t.push(this.blockEntities[n]);return t}getSections(){return this.sections}getEntities(){return this.entities}loadEntities(e){this.entities=e}diskEncodeBlockEntities(){let e=[];for(let t in this.blockEntities){let n=this.blockEntities[t];e.push(qE.writeUncompressed(n,"little"))}return pe.Buffer.concat(e)}diskEncodeEntities(){let e=[];for(let t in this.entities){let n=this.entities[t];e.push(qE.writeUncompressed(n,"little"))}return pe.Buffer.concat(e)}diskDecodeBlockEntities(e){if(!e)return;let t=e instanceof pe.Buffer?new tQ(e):e,n=t.readOffset;for(;t.peek()===10;){let{data:r,metadata:a}=qE.protos.little.parsePacketBuffer("nbt",e,n);t.readOffset+=a.size,n+=a.size,this.addBlockEntity(r)}}diskDecodeEntities(e){if(!e)return;let t=e instanceof pe.Buffer?new tQ(e):e,n=t.readOffset;for(;t.peek()===10;){let{data:r,metadata:a}=qE.protos.little.parsePacketBuffer("nbt",e,n);t.readOffset+=a.size,n+=a.size,this.addEntity(r)}}toObject(){let e=this.sections.map(s=>s?.toObject()),{x:t,z:n,chunkVersion:r,blockEntities:a}=this;return{x:t,z:n,chunkVersion:r,blockEntities:a,sections:e}}};iQ.exports=ZL});var HE=qe((_Ze,rQ)=>{ne();ae();re();var Rm=class extends Uint32Array{static{l(this,"BetterUint32Array")}toJSON(){return Array.from(this)}[Symbol.for("nodejs.util.inspect.custom")](){return`[Uint32Array of ${this.length} items { ${this.slice(0,10).toString()} ${this.length>10?", ...":""} }]`}},JL=class i{static{l(this,"PalettedStorage")}constructor(e){this.bitsPerBlock=e,this.blocksPerWord=Math.floor(32/e),this.wordsCount=Math.ceil(4096/this.blocksPerWord),this.mask=(1<<e)-1,this.array=new Rm(this.wordsCount)}read(e){let t=e.readBuffer(this.wordsCount*4);this.array=new Rm(new Uint8Array(t).buffer)}write(e){e.writeBuffer(pe.Buffer.from(this.array.buffer))}static copyFrom(e){let t=new i(e.bitsPerBlock);return Object.assign(t,e),e instanceof Uint32Array?t.array=new Rm(e.array.slice()):t.array=new Rm(e.array),t}getBuffer(){return pe.Buffer.from(this.array.buffer)}readBits(e,t){return this.array[e]>>t&this.mask}writeBits(e,t,n){this.array[e]&=~(this.mask<<t),this.array[e]|=(n&this.mask)<<t}getIndex(e,t,n){e&=15,t&=15,n&=15;let r=Math.floor((e<<8|n<<4|t)/this.blocksPerWord),a=(e<<8|n<<4|t)%this.blocksPerWord*this.bitsPerBlock;return[r,a]}get(e,t,n){let[r,a]=this.getIndex(e,t,n);return this.readBits(r,a)}set(e,t,n,r){let[a,s]=this.getIndex(e,t,n);this.writeBits(a,s,r)}resize(e){let t=new i(e);for(let n=0;n<16;n++)for(let r=0;r<16;r++)for(let a=0;a<16;a++)t.set(n,r,a,this.get(n,r,a));return t}forEach(e){for(let t=0;t<4096;t++){let n=Math.floor(t/this.blocksPerWord),r=t%this.blocksPerWord*this.bitsPerBlock;e(this.readBits(n,r))}}incrementPalette(e){for(let t=0;t<4096;t++){let n=Math.floor(t/this.blocksPerWord),r=t%this.blocksPerWord*this.bitsPerBlock,a=this.readBits(n,r);e[a].count++}}};rQ.exports=JL});var oQ={};Xa(oQ,{default:()=>sQ});function aQ(i,e,t){if(e.buffer.byteLength<i.byteLength+t){let n=Math.ceil((i.byteLength+t-e.buffer.byteLength)/65536);e.grow(n)}new Uint8Array(e.buffer,t).set(i)}async function sQ(){let{instance:{exports:{mem:i,xxh32:e,xxh64:t}}}=await WebAssembly.instantiate(aIe);function n(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return aQ(a,i,0),e(0,a.byteLength,s)>>>0}l(n,"h");function r(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;aQ(a,i,8);let c=new DataView(i.buffer);return c.setUint32(0,s,!0),c.setUint32(4,o,!0),t(0,a.byteLength),c}return l(r,"c"),{h32:function(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Pm||(Pm=new TextEncoder);let o=Pm.encode(a);return n(o,s).toString(16)},h32Raw:n,h64:function(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;Pm||(Pm=new TextEncoder);let c=Pm.encode(a),u=r(c,s,o);return u.getUint32(0,!0).toString(16)+u.getUint32(4,!0).toString(16)},h64Raw:function(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return new Uint8Array(r(a,s,o).buffer,0,8)}}}var aIe,Pm,lQ=Gt(()=>{ne();ae();re();aIe=new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,2,127,127,0,96,3,127,127,127,1,127,3,3,2,1,0,5,3,1,0,1,7,23,3,3,109,101,109,2,0,5,120,120,104,51,50,0,0,5,120,120,104,54,52,0,1,10,152,9,2,242,2,1,4,127,32,0,32,1,106,33,3,32,1,32,1,65,16,79,4,127,32,3,65,16,107,33,6,32,2,65,168,136,141,161,2,106,33,1,32,2,65,137,235,208,208,7,107,33,4,32,2,65,207,140,162,142,6,106,33,5,3,64,32,1,32,0,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,1,32,4,32,0,65,4,106,34,0,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,4,32,2,32,0,65,4,106,34,0,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,2,32,5,32,0,65,4,106,34,0,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,5,32,6,32,0,65,4,106,34,0,79,13,0,11,32,2,65,12,119,32,5,65,18,119,106,32,4,65,7,119,106,32,1,65,1,119,106,5,32,2,65,177,207,217,178,1,106,11,106,33,2,3,64,32,3,32,0,65,4,106,79,4,64,32,2,32,0,40,2,0,65,189,220,202,149,124,108,106,65,17,119,65,175,214,211,190,2,108,33,2,32,0,65,4,106,33,0,12,1,11,11,3,64,32,0,32,3,73,4,64,32,2,32,0,45,0,0,65,177,207,217,178,1,108,106,65,11,119,65,177,243,221,241,121,108,33,2,32,0,65,1,106,33,0,12,1,11,11,32,2,32,2,65,15,118,115,65,247,148,175,175,120,108,34,0,65,13,118,32,0,115,65,189,220,202,149,124,108,34,0,65,16,118,32,0,115,11,161,6,2,4,126,3,127,32,0,65,4,106,53,2,0,32,0,53,2,0,66,32,134,132,33,2,32,1,32,0,65,8,106,34,6,106,33,7,32,1,65,32,79,4,126,32,7,65,32,107,33,8,32,2,66,214,235,130,238,234,253,137,245,224,0,124,33,3,32,2,66,177,169,172,193,173,184,212,166,61,125,33,4,32,2,66,249,234,208,208,231,201,161,228,225,0,124,33,5,3,64,32,3,32,6,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,3,32,4,32,6,65,8,106,34,6,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,4,32,2,32,6,65,8,106,34,6,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,2,32,5,32,6,65,8,106,34,6,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,5,32,8,32,6,65,8,106,34,6,79,13,0,11,32,2,66,12,137,32,5,66,18,137,124,32,4,66,7,137,124,32,3,66,1,137,124,32,3,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,32,4,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,32,2,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,32,5,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,5,32,2,66,197,207,217,178,241,229,186,234,39,124,11,32,1,173,124,33,2,3,64,32,7,32,6,65,8,106,79,4,64,32,2,32,6,41,3,0,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,27,137,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,33,2,32,6,65,8,106,33,6,12,1,11,11,32,6,65,4,106,32,7,77,4,64,32,2,32,6,53,2,0,66,135,149,175,175,152,182,222,155,158,127,126,133,66,23,137,66,207,214,211,190,210,199,171,217,66,126,66,249,243,221,241,153,246,153,171,22,124,33,2,32,6,65,4,106,33,6,11,3,64,32,6,32,7,73,4,64,32,2,32,6,49,0,0,66,197,207,217,178,241,229,186,234,39,126,133,66,11,137,66,135,149,175,175,152,182,222,155,158,127,126,33,2,32,6,65,1,106,33,6,12,1,11,11,32,0,32,2,32,2,66,33,136,133,66,207,214,211,190,210,199,171,217,66,126,34,2,66,29,136,32,2,133,66,249,243,221,241,153,246,153,171,22,126,34,2,66,32,136,32,2,133,34,2,66,32,136,62,2,0,32,0,65,4,106,32,2,62,2,0,11]);l(aQ,"n");l(sQ,"default")});var QL=qe((MZe,cQ)=>{ne();ae();re();var sIe=(lQ(),Zr(oQ)),KL;cQ.exports={async getChecksum(i){KL||(KL=await sIe());let e=KL.h64Raw(i),t=BigInt(e[0]|e[1]<<8|e[2]<<16|e[3]<<24),n=BigInt(e[4]|e[5]<<8|e[6]<<16|e[7]<<24);return BigInt.asUintN(32,t)<<32n|BigInt.asUintN(32,n)}}});var t6=qe((RZe,fQ)=>{ne();ae();re();var Wl=HE(),{StorageType:vu}=yu(),{getChecksum:oIe}=QL(),uQ=Ar(),hQ=m1(),Df=Mf(),e6=class{static{l(this,"SubChunk")}constructor(e,t,n={}){if(this.registry=e,!e)throw new Error("registry is required");if(this.Block=t,this.y=n.y,this.palette=n.palette||[],this.blocks=[],n.blocks)for(let r of n.blocks)this.blocks.push(Wl.copyFrom(r));this.subChunkVersion=n.subChunkVersion||8,this.hash=n.hash||null,this.updated=n.updated||!0,this.blockLight=n.blockLight?Wl.copyFrom(n.blockLight):new Wl(4),this.skyLight=n.skyLight?Wl.copyFrom(n.skyLight):new Wl(4)}static create(e,t,n){let r=new this(e,t,{y:n});return r.blocks.push(new Wl(1)),r.palette.push([]),r.addToPalette(0,r.registry.blocksByName.air.defaultState,4096),r}decode(e,t){t instanceof pe.Buffer&&(t=new hQ(t)),this.subChunkVersion=t.readByte();let n=1;switch(this.subChunkVersion){case 1:this.subChunkVersion=8;break;case 8:case 9:if(n=t.readByte(),this.subChunkVersion>=9&&(this.y=t.readByte()),n>2)throw new Error("Expected storage count to be 1 or 2, got "+n);break;default:throw new Error("Unsupported sub chunk version: "+this.subChunkVersion)}for(let r=0;r<n;r++){let a=t.readByte();if(!(a&1)&&e===vu.Runtime)throw new Error(`Expected network encoding while decoding SubChunk at y=${this.y}`);let o=a>>1;this.loadPalettedBlocks(r,t,o,e)}}loadPalettedBlocks(e,t,n,r){let a=new Wl(n);a.read(t),this.blocks[e]=a;let s=r===vu.LocalPersistence?t.readUInt32LE():t.readZigZagVarInt();if(s>t.buffer.length||s<1)throw new Error(`Invalid palette size: ${s}`);r===vu.Runtime?this.loadRuntimePalette(e,t,s):this.loadLocalPalette(e,t,s,r===vu.NetworkPersistence),this.blocks[e].incrementPalette(this.palette[e])}loadRuntimePalette(e,t,n){this.palette[e]=[];for(let r=0;r<n;r++){let a=t.readZigZagVarInt(),s=this.registry.blockStates[a];this.palette[e][r]={stateId:a,...s,count:0}}}loadLocalPalette(e,t,n,r){this.palette[e]=[];let a=t.buffer,s=t.readOffset,o;for(o=0;o<n;o++){let{metadata:c,data:u}=Df.protos[r?"littleVarint":"little"].parsePacketBuffer("nbt",a,s);t.readOffset+=c.size,s+=c.size;let{name:h,states:f,version:p}=Df.simplify(u),d=this.Block.fromProperties(h.replace("minecraft:",""),f??{},0);if(!d){debugger;d=this.Block.fromProperties("air",{},0)}this.palette[e][o]={stateId:d.stateId,name:h,states:u.value.states.value,version:p,count:0}}if(o!==n)throw new Error(`Expected ${n} blocks, got ${o}`)}async encode(e,t=!1,n=!0){let r=new hQ;if(this.subChunkVersion>=8)this.encodeV8(r,e,n);else throw new Error("Unsupported sub chunk version");let a=r.getBuffer();return t&&(this.hash=await oIe(a),this.updated=!1),a}encodeV8(e,t,n){e.writeUInt8(this.subChunkVersion),e.writeUInt8(this.blocks.length),this.subChunkVersion>=9&&e.writeUInt8(this.y);for(let r=0;r<this.blocks.length;r++)n&&this.compact(r),this.writeStorage(e,r,t)}writeStorage(e,t,n){let r=this.blocks[t],a=r.bitsPerBlock<<1;if(n===vu.Runtime&&(a|=1),e.writeUInt8(a),r.write(e),n===vu.LocalPersistence?e.writeUInt32LE(this.palette[t].length):e.writeZigZagVarInt(this.palette[t].length),n===vu.Runtime)for(let s of this.palette[t])e.writeZigZagVarInt(s.stateId);else for(let s of this.palette[t]){let{name:o,states:c,version:u}=s,h=Df.comp({name:Df.string(o),states:Df.comp(c),version:Df.int(u)}),f=Df.writeUncompressed(h,n===vu.LocalPersistence?"little":"littleVarint");e.writeBuffer(f)}}getBlock(e,t,n,r,a){if(e!==void 0){let s=this.getBlockStateId(e,t,n,r);return this.Block.fromStateId(s,a)}else{let s=this.getBlockStateId(0,t,n,r),o=this.getBlockStateId(1,t,n,r),c=this.Block.fromStateId(s,a);return o&&(c.superimposed=this.Block.fromStateId(o,a),c.superimposed.name.includes("water")&&(c.computedStates.waterlogged=!0)),c}}setBlock(e,t,n,r,a){e!==void 0?this.setBlockStateId(e,t,n,r,a.stateId):(this.setBlockStateId(0,t,n,r,a.stateId),a.superimposed&&this.setBlockStateId(1,t,n,r,a.superimposed.stateId)),this.updated=!0}getBlockStateId(e=0,t,n,r){let a=this.blocks[e];return a?this.palette[e][a.get(t,n,r)].stateId:this.registry.blocksByName.air.defaultState}setBlockStateId(e=0,t,n,r,a){if(!this.palette[e])this.palette[e]=[],this.blocks[e]=new Wl(4),this.addToPalette(e,this.registry.blocksByName.air.defaultState,4096-1),this.addToPalette(e,a,1),this.blocks[e].set(t,n,r,this.palette[e].length-1);else{let s=this.blocks[e].get(t,n,r),o=this.palette[e][s];if(o.stateId===a)return;o.count--;for(let c=0;c<this.palette[e].length;c++){let u=this.palette[e][c];if(u.stateId===a){u.count=Math.max(u.count,0)+1,this.blocks[e].set(t,n,r,c);return}}this.addToPalette(e,a,1),this.blocks[e].set(t,n,r,this.palette[e].length-1)}this.updated=!0}addToPalette(e,t,n=0){let r=this.registry.blockStates[t];this.palette[e].push({stateId:t,name:r.name,states:r.states,count:n});let a=uQ(this.palette[e].length-1);a>this.blocks[e].bitsPerBlock&&(this.blocks[e]=this.blocks[e].resize(a))}isCompactable(e){let t=0;for(let n of this.palette[e])n.count>0&&t++;return t<this.palette[e].length}compact(e){let t=[],n=[];for(let a of this.palette[e])a.count>0&&t.push(a),n.push(t.length-1);if(t.length===this.palette[e].length)return;let r=new Wl(uQ(t.length-1));for(let a=0;a<16;a++)for(let s=0;s<16;s++)for(let o=0;o<16;o++){let c=this.blocks[e].get(a,s,o);r.set(a,s,o,n[c])}this.blocks[e]=r,this.palette[e]=t}getPaletteEntry(e,t,n,r){return this.palette[e][this.blocks[e].get(t,n,r)]}getPalette(e=0){return this.palette[e].filter(t=>t.count>0)}getBlockLight(e,t,n){return this.blockLight.get(e,t,n)}setBlockLight(e,t,n,r){this.blockLight.set(e,t,n,r)}getSkyLight(e,t,n){return this.skyLight.get(e,t,n)}setSkyLight(e,t,n,r){this.skyLight.set(e,t,n,r)}toObject(){return{y:this.y,palette:this.palette,blocks:this.blocks,subChunkVersion:this.subChunkVersion,hash:this.hash,updated:this.updated,blockLight:this.blockLight,skyLight:this.skyLight}}};fQ.exports=e6});var WE=qe((NZe,dQ)=>{ne();ae();re();var{StorageType:g1}=yu(),GE=HE(),lIe=Ar(),i6=class{static{l(this,"BiomeSection")}constructor(e,t,n={}){this.Biome=Kg()(e),this.y=t,this.biomes=n.biomes?GE.copyFrom(n.biomes):new GE(1),this.palette=n.palette||[0]}readLegacy2D(e){for(let t=0;t<16;t++)for(let n=0;n<16;n++)this.setBiomeId(t,0,n,e.readByte())}copy(e){this.biomes=GE.copyFrom(e.biomes),this.palette=JSON.parse(JSON.stringify(e.palette)),this.y=e.y}read(e,t,n){this.palette=[];let r=t.readByte();if((r&1)!==1)throw new Error("Biome palette type must be set to use runtime IDs");let s=r>>1;if(s===0){this.palette.push(e===g1.LocalPersistence?t.readInt32LE():t.readVarInt()>>1);return}if(this.biomes=new GE(s),this.biomes.read(t),e===g1.Runtime){let o=t.readVarInt()>>1;for(let c=0;c<o;c++)this.palette.push(t.readVarInt()>>1)}else{let o=t.readInt32LE();for(let c=0;c<o;c++)this.palette.push(t.readInt32LE())}}setBiomeId(e,t,n,r){this.palette.includes(r)||this.palette.push(r);let a=lIe(this.palette.length-1);a>this.biomes.bitsPerBlock&&(this.biomes=this.biomes.resize(a)),this.biomes.set(e,t,n,this.palette.indexOf(r))}getBiomeId(e,t,n){return this.palette[this.biomes.get(e,t,n)]}getBiome(e){return new this.Biome(this.getBiomeId(e.x,e.y,e.z))}setBiome(e,t){this.setBiomeId(e.x,e.y,e.z,t.id)}export(e,t){let n=Math.ceil(Math.log2(this.palette.length)),r=n<<1|e===g1.Runtime;if(t.writeUInt8(r),n===0){e===g1.LocalPersistence?t.writeInt32LE(this.palette[0]):t.writeVarInt(this.palette[0]<<1);return}if(this.biomes.write(t),e===g1.Runtime){t.writeVarInt(this.palette.length<<1);for(let a of this.palette)t.writeVarInt(a<<1)}else{t.writeUInt32LE(this.palette.length);for(let a of this.palette)t.writeUInt32LE(a)}}exportLegacy2D(e){for(let t=0;t<16;t++)for(let n=0;n<16;n++){let a=this.getBiomeId(t,0,n);e.writeUInt8(a)}}toObject(){return{y:this.y,biomes:this.biomes,palette:this.palette}}};dQ.exports=i6});var jE=qe((zZe,pQ)=>{ne();ae();re();var cIe={ChunkSection:0,Biomes:1},n6=class{static{l(this,"BlobEntry")}created=Date.now();type;constructor(e){Object.assign(this,e)}};pQ.exports={BlobType:cIe,BlobEntry:n6}});var s6=qe((GZe,_Q)=>{ne();ae();re();var uIe=nQ(),r6=t6(),$E=WE(),{StorageType:XE}=yu(),b1=m1(),{BlobType:YE,BlobEntry:mQ}=jE(),ZE=Mf(),{getChecksum:hIe}=QL(),a6=class extends uIe{static{l(this,"ChunkColumn13")}Section=r6;constructor(e={},t,n,r){if(super(e,t),this.Block=n,this.Biome=r,this.biomes=[],this.sections=[],this.biomesUpdated=!0,e.sections?.length)for(let a of e.sections)a?this.sections.push(new this.Section(t,n,a)):this.sections.push(null);if(e.biomes?.length)for(let a of e.biomes)this.biomes.push(a?new $E(t,a.y,a):null);else this.biomes.push(new $E(t,0))}getBiome(e){return new this.Biome(this.biomes[0].getBiomeId(e.x,0,e.z))}setBiome(e,t){this.biomes[0].setBiomeId(e.x,0,e.z,t.id),this.biomesUpdated=!0}getBiomeId(e){return this.biomes[0].getBiomeId(e.x,0,e.z)}setBiomeId(e,t){this.biomes[0].setBiomeId(e.x,0,e.z,t),this.biomesUpdated=!0}loadLegacyBiomes(e){e instanceof pe.Buffer&&(e=new b1(e));let t=new $E(this.registry,0);t.readLegacy2D(e),this.biomes=[t]}loadHeights(e){this.heights=e}getHeights(){return this.heights}writeLegacyBiomes(e){this.biomes[0].exportLegacy2D(e)}writeHeightMap(e){this.heights||(this.heights=new Uint16Array(256));for(let t=0;t<256;t++)e.writeUInt16LE(this.heights[t])}async updateBiomeHash(e){return this.biomesUpdated=!1,this.biomesHash=await hIe(e),this.biomesHash}async networkEncodeNoCache(){let e=[];for(let a in this.blockEntities){let s=this.blockEntities[a];e.push(ZE.writeUncompressed(s,"littleVarint"))}let t,n=new b1(pe.Buffer.alloc(256));if(this.biomes[0])this.biomes[0].exportLegacy2D(n),t=n.buffer;else throw Error("No biome section");let r=[];for(let a of this.sections)r.push(await a.encode(XE.Runtime,!1,this.compactOnSave));return pe.Buffer.concat([...r,t,pe.Buffer.from([0]),...e])}async networkEncodeBlobs(e){let t=[];for(let n of this.sections){if(n.updated||!e.get(n.hash)){let r=await n.encode(XE.NetworkPersistence,!0,this.compactOnSave),a=new mQ({x:this.x,y:n.y,z:this.z,type:YE.ChunkSection,buffer:r});e.set(n.hash,a)}t.push({hash:n.hash,type:YE.ChunkSection})}if(this.biomesUpdated||!this.biomesHash||!e.get(this.biomesHash)){if(this.biomes[0]){let n=new b1;this.biomes[0].exportLegacy2D(n),await this.updateBiomeHash(n.getBuffer())}else await this.updateBiomeHash(pe.Buffer.alloc(256));this.biomesUpdated=!1,e.set(this.biomesHash,new mQ({x:this.x,z:this.z,type:YE.Biomes,buffer:this.biomes}))}return t.push({hash:this.biomesHash,type:YE.Biomes}),t}async networkEncode(e){let t=await this.networkEncodeBlobs(e),n=[];for(let r in this.blockEntities){let a=this.blockEntities[r];n.push(ZE.writeUncompressed(a,"littleVarint"))}return{blobs:t,payload:pe.Buffer.concat([pe.Buffer.from([0]),...n])}}networkDecodeNoCache(e,t){let n=e instanceof pe.Buffer?new b1(e):e;if(t===-1)throw new RangeError("-1 section count not supported below 1.18");this.sections=[];for(let c=0;c<t;c++){let u=new r6(this.registry,this.Block,{y:c,subChunkVersion:this.subChunkVersion});u.decode(XE.Runtime,n),this.setSection(c,u)}let r=new $E(this.registry,0);r.readLegacy2D(n),this.biomes=[r];let a=n.readZigZagVarInt();if(n.readBuffer(a).length)throw Error(`Read ${a} border blocks, expected 0`);let o=n.readOffset;for(;n.peek()===10;){let{data:c,metadata:u}=ZE.protos.littleVarint.parsePacketBuffer("nbt",n.buffer,o);n.readOffset+=u.size,o+=u.size,this.addBlockEntity(c)}}async networkDecode(e,t,n){if(e=[...e],!e.length)throw new Error("No blobs to decode");if(n){let o=new b1(n),c=o.readBuffer(o.readByte());if(c.length)throw new Error("cannot handle border blocks (read length: "+c.length+")");let u=o.readOffset;for(;o.peek()===10;){let{metadata:h,data:f}=ZE.protos.littleVarint.parsePacketBuffer("nbt",n,u);o.readOffset+=h.size,u+=h.size,this.addBlockEntity(f)}}let r=[];for(let o of e)t.has(o)||r.push(o);if(r.length>0)return r;this.sections=[],this.sectionsLen=0;let a=e.pop();for(let o=0;o<e.length;o++){let c=t.get(e[o]),u=new r6(this.registry,this.Block,{y:o,subChunkVersion:this.subChunkVersion});u.decode(XE.NetworkPersistence,c.buffer),this.setSection(o,u)}let s=t.get(a);return this.loadLegacyBiomes(s.buffer),r}toObject(){let e=this.biomes.map(t=>t?.toObject());return{...super.toObject(),biomes:e,biomesUpdated:this.biomesUpdated,version:this.registry.version.minecraftVersion}}toJson(){return JSON.stringify(this.toObject())}};_Q.exports=a6});var JE=qe((ZZe,gQ)=>{ne();ae();re();var{ChunkVersion:fIe}=yu(),dIe=s6();gQ.exports=i=>{let e=i.blockRegistry||i,t=aa()(e),n=Kg()(e);return class extends dIe{static{l(this,"Chunk")}constructor(a){super(a,e,t,n),this.chunkVersion=this.chunkVersion||fIe.v1_16_0,this.subChunkVersion=8}static fromJson(a){return new this(JSON.parse(a))}}}});var vQ=qe((tJe,yQ)=>{ne();ae();re();var pIe=t6(),{StorageType:bQ}=yu(),mIe=HE(),o6=class extends pIe{static{l(this,"SubChunk118")}loadPalettedBlocks(e,t,n,r){if(r===bQ.Runtime&&n===0){this.palette[e]=[],this.blocks[e]=new mIe(1);let a=t.readVarInt()>>1;this.addToPalette(e,a);return}return super.loadPalettedBlocks(...arguments)}writeStorage(e,t,n){if(n===bQ.Runtime&&this.palette[t].length===1){e.writeUInt8(1),e.writeZigZagVarInt(this.palette[t][0].stateId);return}return super.writeStorage(...arguments)}};yQ.exports=o6});var xQ=qe((sJe,wQ)=>{ne();ae();re();var _Ie=WE(),l6=class{static{l(this,"ProxyBiomeSection")}constructor(e,t){this.registry=e,this.target=t}getBiome(e){return this.target.getBiome(e)}getBiomeId(e){return this.target.getBiomeId(e)}copy(e){return this.target.copy(e)}promote(e){let t=new _Ie(this.registry,e);return t.copy(this.target),t}export(e,t){t.writeUInt8(255)}};wQ.exports=l6});var AQ=qe((hJe,MQ)=>{ne();ae();re();var gIe=s6(),KE=vQ(),c6=WE(),SQ=xQ(),{BlobType:y1,BlobEntry:EQ}=jE(),{StorageType:So}=yu(),jl=m1(),v1=Mf(),u6=class extends gIe{static{l(this,"ChunkColumn180")}Section=KE;bounds=this.setBounds(-4,20);getBiome(e){return new this.Biome(this.getBiomeId(e))}setBiome(e,t){this.setBiomeId(e,t.id)}getBiomeId(e){let t=e.y>>4;return this.biomes[this.co+t]?.getBiomeId(e.x,e.y&15,e.z)??0}setBiomeId(e,t){let n=e.y>>4,r=this.biomes[this.co+n];r?r.setBiomeId||(this.biomes[this.co+n]=r=r.promote(n)):this.biomes[this.co+n]=r=new c6(this.registry,n),r.setBiomeId(e.x,e.y&15,e.z,t),this.biomesUpdated=!0}loadBiomes(e,t){e instanceof pe.Buffer&&(e=new jl(e)),this.biomes=[];let n;for(let r=this.minCY;e.peek();r++)if(e.peek()===255){if(!n)throw new Error("No last biome");let a=new SQ(this.registry,n);this.biomes.push(a),e.readByte()}else{let a=new c6(this.registry,r);a.read(t,e),n=a,this.biomes.push(a)}}writeBiomes(e){for(let t=0;t<this.worldHeight>>4;t++){let n=this.biomes[t];n||(this.biomes[t-1]?this.biomes[t]=n=new SQ(this.registry,this.biomes[t-1]):this.biomes[t]=n=new c6(this.registry,t)),n.export(So.Runtime,e)}}async networkEncodeNoCache(){let e=new jl;for(let n of this.biomes)n.export(So.Runtime,e);let t=e.getBuffer();return pe.Buffer.concat([t,pe.Buffer.from([0])])}async networkEncodeBlobs(e,t){let n=[];if(t){if(this.biomesUpdated||!this.biomesHash||!e.get(this.biomesHash.toString())){let r=new jl;for(let s of this.biomes)s.export(So.Runtime,r);let a=r.getBuffer();await this.updateBiomeHash(a),this.biomesUpdated=!1,e.set(this.biomesHash.toString(),new EQ({x:this.x,z:this.z,type:y1.Biomes,buffer:this.biomes}))}n.push({hash:this.biomesHash,type:y1.Biomes})}return n}async networkEncode(e){return{blobs:await this.networkEncodeBlobs(e,!0,!1),payload:pe.Buffer.concat([pe.Buffer.from([0])])}}networkDecodeNoCache(e,t){let n=e instanceof pe.Buffer?new jl(e):e;if(t!==-1&&t!==-2){this.sections=[];for(let s=0;s<t;s++){let o=new KE(this.registry,this.Block,{y:s,subChunkVersion:this.subChunkVersion});o.decode(So.Runtime,n),this.setSection(s,o)}}this.loadBiomes(n,So.Runtime);let r=n.readBuffer(n.readZigZagVarInt());if(r.length)throw new Error(`Can't handle border blocks (length: ${r.length})`);let a=n.readOffset;for(;n.peek()===10;){let{data:s,metadata:o}=v1.protos.littleVarint.parsePacketBuffer("nbt",n.buffer,a);n.readOffset+=o.size,a+=o.size,this.addBlockEntity(s)}}async networkDecode(e,t,n){if(n){let a=new jl(n),s=a.readBuffer(a.readZigZagVarInt());if(s.length)throw new Error(`Can't handle border blocks (length: ${s.length})`)}let r=[];for(let a of e)t.has(a.toString())||r.push(a);if(r.length>0)return r;this.sections=[];for(let a of e){let s=t.get(a.toString());if(s.type===y1.Biomes){let o=new jl(s.buffer);this.loadBiomes(o,So.NetworkPersistence,a)}else throw s.type===y1.ChunkSection?new Error("Can't accept chunk sections in networkDecode, these Blobs should be sent as individual sections"):Error("Unknown blob type: "+s.type)}return r}async networkDecodeSubChunkNoCache(e,t){let n=new jl(t),r=new KE(this.registry,this.Block,{y:e,subChunkVersion:this.subChunkVersion});r.decode(So.Runtime,n),this.setSection(e,r);let a=n.readOffset;for(;n.peek()===10;){let{data:s,metadata:o}=v1.protos.littleVarint.parsePacketBuffer("nbt",t,a);n.readOffset+=o.size,a+=o.size,this.addBlockEntity(s)}}async networkEncodeSubChunkNoCache(e){let t=this.getSectionBlockEntities(e),r=await this.getSectionAtIndex(e).encode(So.Runtime,!1,this.compactOnSave),a=[];for(let s of t)a.push(v1.writeUncompressed(s,"littleVarint"));return pe.Buffer.concat([r,...a])}async networkDecodeSubChunk(e,t,n){if(n){let a=new jl(n),s=0;for(;a.peekUInt8()===10;){let{data:o,metadata:c}=v1.protos.littleVarint.parsePacketBuffer("nbt",n,s);a.readOffset+=c.size,s+=c.size,this.addBlockEntity(o)}}let r=[];for(let a of e)t.has(a.toString())||r.push(a);if(r.length>0)return r;this.sections=[],this.sectionsLen=0;for(let a of e){let s=t.get(a.toString()),o=new jl(s.buffer),c=new KE(this.registry,this.Block,{y:a.y,subChunkVersion:this.subChunkVersion});await c.decode(So.Runtime,o),this.setSection(c.y,c)}return r}async networkEncodeSubChunk(e,t){let n=this.getSectionBlockEntities(e),r=this.getSectionAtIndex(e);if(r.updated){let s=await r.encode(So.Runtime,!0,this.compactOnSave),o=new EQ({x:this.x,y:r.y,z:this.z,type:y1.ChunkSection,buffer:s});t.set(r.hash.toString(),o)}let a=[];for(let s of n)a.push(v1.writeUncompressed(s,"littleVarint"));return[r.hash,pe.Buffer.concat(a)]}toObject(){return{...super.toObject(),version:this.registry.version.minecraftVersion}}};MQ.exports=u6});var QE=qe((gJe,TQ)=>{ne();ae();re();var{ChunkVersion:bIe}=yu(),yIe=AQ();TQ.exports=i=>{let e=i.blockRegistry||i,t=aa()(e),n=Kg()(e);return class extends yIe{static{l(this,"Chunk")}constructor(a){super(a,e,t,n),this.chunkVersion=this.chunkVersion||bIe.v1_18_0,this.subChunkVersion=9}static fromJson(a){return new this(JSON.parse(a))}}}});var RQ=qe((xJe,eM)=>{ne();ae();re();var vIe={pc:{1.8:yJ(),1.9:i1(),"1.10":i1(),1.11:i1(),1.12:i1(),1.13:GJ(),1.14:KJ(),1.15:rK(),1.16:hK(),1.17:gK(),1.18:UE(),1.19:UE(),"1.20":UE()},bedrock:{.14:GK(),"1.0":KK(),1.3:JE(),1.16:JE(),1.17:JE(),1.18:QE(),1.19:QE(),"1.20":QE()}};eM.exports=wIe;var kQ=jE();eM.exports.BlobEntry=kQ.BlobEntry;eM.exports.BlobType=kQ.BlobType;function wIe(i){let e=typeof i=="string"?qg()(i):i,t=e.version;if(!t)throw new Error("Specified version does not exist");try{return vIe[t.type][t.majorVersion](e)}catch(n){throw n instanceof TypeError?(console.error(n),new Error(`[Prismarine-chunk] No chunk implementation for ${t?.type} ${t?.majorVersion} found`)):(console.log(`Error while loading ${t.type} - ${t.majorVersion}`),n)}}l(wIe,"loader")});var IQ=qe((TJe,PQ)=>{ne();ae();re();PQ.exports=RQ()});var iM=qe((IJe,LQ)=>{ne();ae();re();var{Vec3:CQ}=nl(),fr={UNKNOWN:-999,BOTTOM:0,TOP:1,NORTH:2,SOUTH:3,WEST:4,EAST:5},tM=class{static{l(this,"ManhattanIterator")}constructor(e,t,n){this.maxDistance=Math.floor(n),this.startx=e,this.starty=t,this.x=2,this.y=-1,this.layer=1,this.leg=-1}next(){if(this.leg===-1)return this.leg=0,new CQ(this.startx,0,this.starty);if(this.leg===0){if(this.maxDistance===1)return null;this.x--,this.y++,this.x===0&&(this.leg=1)}else if(this.leg===1)this.x--,this.y--,this.y===0&&(this.leg=2);else if(this.leg===2)this.x++,this.y--,this.x===0&&(this.leg=3);else if(this.leg===3&&(this.x++,this.y++,this.y===0&&(this.x++,this.leg=0,this.layer++,this.layer===this.maxDistance)))return null;return new CQ(this.startx+this.x,0,this.starty+this.y)}},h6=class{static{l(this,"OctahedronIterator")}constructor(e,t){this.start=e.floored(),this.maxDistance=t,this.apothem=1,this.x=-1,this.y=-1,this.z=-1,this.L=this.apothem,this.R=this.L+1}next(){if(this.apothem>this.maxDistance)return null;this.R-=1,this.R<0&&(this.L-=1,this.L<0&&(this.z+=2,this.z>1&&(this.y+=2,this.y>1&&(this.x+=2,this.x>1&&(this.apothem+=1,this.x=-1),this.y=-1),this.z=-1),this.L=this.apothem),this.R=this.L);let e=this.x*this.R,t=this.y*(this.apothem-this.L),n=this.z*(this.apothem-(Math.abs(e)+Math.abs(t)));return this.start.offset(e,t,n)}},f6=class{static{l(this,"RaycastIterator")}constructor(e,t,n){this.block={x:Math.floor(e.x),y:Math.floor(e.y),z:Math.floor(e.z),face:fr.UNKNOWN},this.pos=e,this.dir=t,this.invDirX=t.x===0?Number.MAX_VALUE:1/t.x,this.invDirY=t.y===0?Number.MAX_VALUE:1/t.y,this.invDirZ=t.z===0?Number.MAX_VALUE:1/t.z,this.stepX=Math.sign(t.x),this.stepY=Math.sign(t.y),this.stepZ=Math.sign(t.z),this.tDeltaX=t.x===0?Number.MAX_VALUE:Math.abs(1/t.x),this.tDeltaY=t.y===0?Number.MAX_VALUE:Math.abs(1/t.y),this.tDeltaZ=t.z===0?Number.MAX_VALUE:Math.abs(1/t.z),this.tMaxX=t.x===0?Number.MAX_VALUE:Math.abs((this.block.x+(t.x>0?1:0)-e.x)/t.x),this.tMaxY=t.y===0?Number.MAX_VALUE:Math.abs((this.block.y+(t.y>0?1:0)-e.y)/t.y),this.tMaxZ=t.z===0?Number.MAX_VALUE:Math.abs((this.block.z+(t.z>0?1:0)-e.z)/t.z),this.maxDistance=n}intersect(e,t){let n=Number.MAX_VALUE,r=fr.UNKNOWN,a=this.pos.minus(t);for(let s of e){let o=(s[this.invDirX>0?0:3]-a.x)*this.invDirX,c=(s[this.invDirX>0?3:0]-a.x)*this.invDirX,u=(s[this.invDirY>0?1:4]-a.y)*this.invDirY,h=(s[this.invDirY>0?4:1]-a.y)*this.invDirY,f=this.stepX>0?fr.WEST:fr.EAST;if(o>h||u>c)continue;u>o&&(o=u,f=this.stepY>0?fr.BOTTOM:fr.TOP),h<c&&(c=h);let p=(s[this.invDirZ>0?2:5]-a.z)*this.invDirZ,d=(s[this.invDirZ>0?5:2]-a.z)*this.invDirZ;o>d||p>c||(p>o&&(o=p,f=this.stepZ>0?fr.NORTH:fr.SOUTH),d<c&&(c=d),o<n&&(n=o,r=f))}return n===Number.MAX_VALUE?null:{pos:this.pos.plus(this.dir.scaled(n)),face:r}}next(){return Math.min(Math.min(this.tMaxX,this.tMaxY),this.tMaxZ)>this.maxDistance?null:(this.tMaxX<this.tMaxY?this.tMaxX<this.tMaxZ?(this.block.x+=this.stepX,this.tMaxX+=this.tDeltaX,this.block.face=this.stepX>0?fr.WEST:fr.EAST):(this.block.z+=this.stepZ,this.tMaxZ+=this.tDeltaZ,this.block.face=this.stepZ>0?fr.NORTH:fr.SOUTH):this.tMaxY<this.tMaxZ?(this.block.y+=this.stepY,this.tMaxY+=this.tDeltaY,this.block.face=this.stepY>0?fr.BOTTOM:fr.TOP):(this.block.z+=this.stepZ,this.tMaxZ+=this.tDeltaZ,this.block.face=this.stepZ>0?fr.NORTH:fr.SOUTH),this.block)}},d6=class{static{l(this,"SpiralIterator2d")}constructor(e,t){this.start=e,this.maxDistance=t,this.NUMBER_OF_POINTS=Math.floor(Math.pow((Math.floor(t)-.5)*2,2)),this.di=1,this.dj=0,this.segment_length=1,this.i=0,this.j=0,this.segment_passed=0,this.k=0}next(){if(this.k>=this.NUMBER_OF_POINTS)return null;let e=this.start.offset(this.i,0,this.j);if(this.i+=this.di,this.j+=this.dj,this.segment_passed+=1,this.segment_passed===this.segment_length){this.segment_passed=0;let t=this.di;this.di=-this.dj,this.dj=t,this.dj===0&&(this.segment_length+=1)}return this.k+=1,e}};LQ.exports={ManhattanIterator:tM,ManathanIterator:tM,OctahedronIterator:h6,RaycastIterator:f6,SpiralIterator2d:d6,BlockFace:fr}});var OQ=qe((BJe,NQ)=>{ne();ae();re();var{Vec3:w1}=nl(),{EventEmitter:xIe}=wl(),{RaycastIterator:SIe}=iM();function Hr(i){return new w1(Math.floor(i.x)&15,Math.floor(i.y),Math.floor(i.z)&15)}l(Hr,"posInChunk");var p6=class extends xIe{static{l(this,"WorldSync")}constructor(e){super(),this.async=e}initialize(e,t,n,r=256,a=new w1(0,0,0)){function s(h,f,p){return!(h>=n||h<0||p>=t||p<0||f>=r||f<0)}l(s,"inZone");let o=Hr(a),c=Math.ceil((t+o.z)/16),u=Math.ceil((n+o.x)/16);for(let h=0;h<c;h++){let f=h+Math.floor(a.z/16);for(let p=0;p<u;p++){let d=p+Math.floor(a.x/16),m=this.getColumn(d,f),y=p*16-o.x,g=h*16-o.z;m.initialize((b,x,w)=>s(b+y,x-a.y,w+g)?e(b+y,x-a.y,w+g):null),this.setColumn(d,f,m)}}}raycast(e,t,n,r=null){let a=new SIe(e,t,n),s=a.next();for(;s;){let o=new w1(s.x,s.y,s.z),c=this.getBlock(o);if(c)if(r){if(r(c,a))return c}else{let u=a.intersect([...c.shapes,...c.interactionShapes??[]],o);if(u)return c.face=u.face,c.intersect=u.pos,c}s=a.next()}return null}_emitBlockUpdate(e,t,n){e.position=n.floored(),t.position=e.position,this.emit("blockUpdate",e,t),this.emit(`blockUpdate:${n}`,e,t)}unloadColumn(e,t){this.async.unloadColumn(e,t);let n=new w1(e*16,0,t*16);this.emit("chunkColumnUnload",n)}getColumns(){return this.async.getColumns()}getColumn(e,t){return this.async.getLoadedColumn(e,t)}getColumnAt(e){return this.async.getLoadedColumnAt(e)}setColumn(e,t,n,r=!0){this.async.setLoadedColumn(e,t,n,r);let a=new w1(e*16,0,t*16);this.emit("chunkColumnLoad",a)}getBlock(e){let t=this.getColumnAt(e);if(!t)return null;let n=t.getBlock(Hr(e));return n.position=e.floored(),n}getBlockStateId(e){let t=this.getColumnAt(e);return t?t.getBlockStateId(Hr(e)):0}getBlockType(e){let t=this.getColumnAt(e);return t?t.getBlockType(Hr(e)):0}getBlockData(e){let t=this.getColumnAt(e);return t?t.getBlockData(Hr(e)):0}getBlockLight(e){let t=this.getColumnAt(e);return t?t.getBlockLight(Hr(e)):0}getSkyLight(e){let t=this.getColumnAt(e);return t?t.getSkyLight(Hr(e)):0}getBiome(e){let t=this.getColumnAt(e);return t?t.getBiome(Hr(e)):0}setBlock(e,t){let n=this.getColumnAt(e);if(!n)return;let r=Hr(e),a=n.getBlock(r);n.setBlock(r,t),this.async.saveAt(e),this._emitBlockUpdate(a,t,e)}setBlockStateId(e,t){let n=this.getColumnAt(e);if(!n)return;let r=Hr(e),a=n.getBlock(r);n.setBlockStateId(r,t),this.async.saveAt(e),this._emitBlockUpdate(a,n.getBlock(r),e)}setBlockType(e,t){let n=this.getColumnAt(e);if(!n)return;let r=Hr(e),a=n.getBlock(r);n.setBlockType(r,t),this.async.saveAt(e),this._emitBlockUpdate(a,n.getBlock(r),e)}setBlockData(e,t){let n=this.getColumnAt(e);if(!n)return;let r=Hr(e),a=n.getBlock(r);n.setBlockData(r,t),this.async.saveAt(e),this._emitBlockUpdate(a,n.getBlock(r),e)}setBlockLight(e,t){let n=this.getColumnAt(e);if(!n)return;let r=Hr(e),a=n.getBlock(r);n.setBlockLight(r,t),this.async.saveAt(e),this._emitBlockUpdate(a,n.getBlock(r),e)}setSkyLight(e,t){let n=this.getColumnAt(e);if(!n)return;let r=Hr(e),a=n.getBlock(r);n.setSkyLight(r,t),this.async.saveAt(e),this._emitBlockUpdate(a,n.getBlock(r),e)}setBiome(e,t){let n=this.getColumnAt(e);if(!n)return;let r=Hr(e),a=n.getBlock(r);n.setBiome(r,t),this.async.saveAt(e),this._emitBlockUpdate(a,n.getBlock(r),e)}};NQ.exports=p6});var FQ=qe((VJe,BQ)=>{ne();ae();re();var{Vec3:S1}=nl(),{EventEmitter:EIe}=wl(),{RaycastIterator:MIe}=iM(),AIe=OQ(),{once:TIe}=wl();function x1(i,e){return i+","+e}l(x1,"columnKeyXZ");function Gr(i){return new S1(Math.floor(i.x)&15,Math.floor(i.y),Math.floor(i.z)&15)}l(Gr,"posInChunk");var m6=class extends EIe{static{l(this,"World")}constructor(e,t=null,n=1e3){super(),this.savingQueue=new Map,this.unloadQueue=new Map,this.finishedSaving=Promise.resolve(),this.currentlySaving=!1,this.columns={},this.chunkGenerator=e,this.storageProvider=t,this.savingInterval=n,this.sync=new AIe(this),t&&n!==0&&this.startSaving()}initialize(e,t,n,r=256,a=new S1(0,0,0)){function s(f,p,d){return!(f>=n||f<0||d>=t||d<0||p>=r||p<0)}l(s,"inZone");let o=[],c=Gr(a),u=Math.ceil((t+c.z)/16),h=Math.ceil((n+c.x)/16);for(let f=0;f<u;f++){let p=f+Math.floor(a.z/16);for(let d=0;d<h;d++){let m=d+Math.floor(a.x/16);o.push(this.getColumn(m,p).then(y=>{let g=d*16-c.x,b=f*16-c.z;return y.initialize((x,w,E)=>s(x+g,w-a.y,E+b)?e(x+g,w-a.y,E+b):null),this.setColumn(m,p,y)}).then(()=>({chunkX:m,chunkZ:p})))}}return Promise.all(o)}async raycast(e,t,n,r=null){let a=new MIe(e,t,n),s=a.next();for(;s;){let o=new S1(s.x,s.y,s.z),c=await this.getBlock(o);if(c&&(!r||r(c))){let u=a.intersect([...c.shapes,...c.interactionShapes??[]],o);if(u)return c.face=u.face,c.intersect=u.pos,c}s=a.next()}return null}getLoadedColumn(e,t){let n=x1(e,t);return this.columns[n]}async getColumn(e,t){await Promise.resolve();let n=x1(e,t);if(!this.columns[n]){let r=null;if(this.storageProvider!=null){let s=await this.storageProvider.load(e,t);s!=null&&(r=s)}let a=r!=null;!a&&this.chunkGenerator&&(r=this.chunkGenerator(e,t)),r!=null&&await this.setColumn(e,t,r,!a)}return this.columns[n]}_emitBlockUpdate(e,t,n){e.position=n.floored(),t.position=e.position,this.emit("blockUpdate",e,t),this.emit(`blockUpdate:${n}`,e,t)}setLoadedColumn(e,t,n,r=!0){let a=x1(e,t);this.columns[a]=n;let s=new S1(e*16,0,t*16);this.emit("chunkColumnLoad",s),this.storageProvider&&r&&this.queueSaving(e,t)}async setColumn(e,t,n,r=!0){await Promise.resolve(),this.setLoadedColumn(e,t,n,r)}unloadColumn(e,t){let n=x1(e,t);this.storageProvider&&this.savingQueue.has(n)?this.unloadQueue.set(n,{chunkX:e,chunkZ:t}):this.forceUnloadColumn(n,e,t)}forceUnloadColumn(e,t,n){this.unloadQueue.has(e)&&this.unloadQueue.delete(e),delete this.columns[e];let r=new S1(t*16,0,n*16);this.emit("chunkColumnUnload",r)}async saveNow(){if(this.savingQueue.size!==0){for(let[e,{chunkX:t,chunkZ:n}]of this.savingQueue.entries())this.finishedSaving=Promise.all([this.finishedSaving,this.storageProvider.save(t,n,this.columns[e])]);await this.finishedSaving,this.savingQueue.clear();for(let[e,{chunkX:t,chunkZ:n}]of this.unloadQueue.entries())this.forceUnloadColumn(e,t,n);this.emit("doneSaving")}}startSaving(){this.savingInt=setInterval(async()=>{this.currentlySaving===!1&&(this.currentlySaving=!0,await this.saveNow(),this.currentlySaving=!1)},this.savingInterval)}async waitSaving(){await this.saveNow(),this.savingQueue.size>0&&await TIe(this,"doneSaving"),await this.finishedSaving}stopSaving(){clearInterval(this.savingInt)}queueSaving(e,t){this.savingQueue.set(x1(e,t),{chunkX:e,chunkZ:t})}saveAt(e){let t=Math.floor(e.x/16),n=Math.floor(e.z/16);this.storageProvider&&this.queueSaving(t,n)}getColumns(){return Object.entries(this.columns).map(([e,t])=>{let n=e.split(",");return{chunkX:n[0],chunkZ:n[1],column:t}})}getLoadedColumnAt(e){let t=Math.floor(e.x/16),n=Math.floor(e.z/16);return this.getLoadedColumn(t,n)}async getColumnAt(e){let t=Math.floor(e.x/16),n=Math.floor(e.z/16);return this.getColumn(t,n)}async setBlock(e,t){let n=await this.getColumnAt(e),r=Gr(e),a=n.getBlock(r);n.setBlock(r,t),this.saveAt(e),this._emitBlockUpdate(a,t,e)}async getBlock(e){let t=(await this.getColumnAt(e)).getBlock(Gr(e));return t.position=e.floored(),t}async getBlockStateId(e){return(await this.getColumnAt(e)).getBlockStateId(Gr(e))}async getBlockType(e){return(await this.getColumnAt(e)).getBlockType(Gr(e))}async getBlockData(e){return(await this.getColumnAt(e)).getBlockData(Gr(e))}async getBlockLight(e){return(await this.getColumnAt(e)).getBlockLight(Gr(e))}async getSkyLight(e){return(await this.getColumnAt(e)).getSkyLight(Gr(e))}async getBiome(e){return(await this.getColumnAt(e)).getBiome(Gr(e))}async setBlockStateId(e,t){let n=await this.getColumnAt(e),r=Gr(e),a=n.getBlock(r);n.setBlockStateId(r,t),this.saveAt(e),this._emitBlockUpdate(a,n.getBlock(r),e)}async setBlockType(e,t){let n=await this.getColumnAt(e),r=Gr(e),a=n.getBlock(r);n.setBlockType(r,t),this.saveAt(e),this._emitBlockUpdate(a,n.getBlock(r),e)}async setBlockData(e,t){let n=await this.getColumnAt(e),r=Gr(e),a=n.getBlock(r);n.setBlockData(r,t),this.saveAt(e),this._emitBlockUpdate(a,n.getBlock(r),e)}async setBlockLight(e,t){let n=await this.getColumnAt(e),r=Gr(e),a=n.getBlock(r);n.setBlockLight(r,t),this.saveAt(e),this._emitBlockUpdate(a,n.getBlock(r),e)}async setSkyLight(e,t){let n=await this.getColumnAt(e),r=Gr(e),a=n.getBlock(r);n.setSkyLight(r,t),this.saveAt(e),this._emitBlockUpdate(a,n.getBlock(r),e)}async setBiome(e,t){let n=await this.getColumnAt(e),r=Gr(e),a=n.getBlock(r);n.setBiome(r,t),this.saveAt(e),this._emitBlockUpdate(a,n.getBlock(r),e)}};function kIe(i){return m6}l(kIe,"loader");BQ.exports=kIe});var UQ=qe((jJe,_6)=>{ne();ae();re();_6.exports=FQ();_6.exports.iterators=iM()});var VQ=qe((DQ,S6)=>{ne();ae();re();(function(i){typeof DQ=="object"&&typeof S6<"u"?S6.exports=i():typeof define=="function"&&define.amd?define([],i):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=i()})(function(){return l(function i(e,t,n){function r(o,c){if(!t[o]){if(!e[o]){var u=typeof $a=="function"&&$a;if(!c&&u)return u(o,!0);if(a)return a(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var f=t[o]={exports:{}};e[o][0].call(f.exports,function(p){var d=e[o][1][p];return r(d||p)},f,f.exports,i,e,t,n)}return t[o].exports}l(r,"u");for(var a=typeof $a=="function"&&$a,s=0;s<n.length;s++)r(n[s]);return r},"s")({1:[function(i,e,t){"use strict";var n=i("./utils"),r=i("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(s){for(var o,c,u,h,f,p,d,m=[],y=0,g=s.length,b=g,x=n.getTypeOf(s)!=="string";y<s.length;)b=g-y,u=x?(o=s[y++],c=y<g?s[y++]:0,y<g?s[y++]:0):(o=s.charCodeAt(y++),c=y<g?s.charCodeAt(y++):0,y<g?s.charCodeAt(y++):0),h=o>>2,f=(3&o)<<4|c>>4,p=1<b?(15&c)<<2|u>>6:64,d=2<b?63&u:64,m.push(a.charAt(h)+a.charAt(f)+a.charAt(p)+a.charAt(d));return m.join("")},t.decode=function(s){var o,c,u,h,f,p,d=0,m=0,y="data:";if(s.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var g,b=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===a.charAt(64)&&b--,s.charAt(s.length-2)===a.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=r.uint8array?new Uint8Array(0|b):new Array(0|b);d<s.length;)o=a.indexOf(s.charAt(d++))<<2|(h=a.indexOf(s.charAt(d++)))>>4,c=(15&h)<<4|(f=a.indexOf(s.charAt(d++)))>>2,u=(3&f)<<6|(p=a.indexOf(s.charAt(d++))),g[m++]=o,f!==64&&(g[m++]=c),p!==64&&(g[m++]=u);return g}},{"./support":30,"./utils":32}],2:[function(i,e,t){"use strict";var n=i("./external"),r=i("./stream/DataWorker"),a=i("./stream/Crc32Probe"),s=i("./stream/DataLengthProbe");function o(c,u,h,f,p){this.compressedSize=c,this.uncompressedSize=u,this.crc32=h,this.compression=f,this.compressedContent=p}l(o,"o"),o.prototype={getContentWorker:function(){var c=new r(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),u=this;return c.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new r(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(c,u,h){return c.pipe(new a).pipe(new s("uncompressedSize")).pipe(u.compressWorker(h)).pipe(new s("compressedSize")).withStreamInfo("compression",u)},e.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,e,t){"use strict";var n=i("./stream/GenericWorker");t.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},t.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,e,t){"use strict";var n=i("./utils"),r=function(){for(var a,s=[],o=0;o<256;o++){a=o;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;s[o]=a}return s}();e.exports=function(a,s){return a!==void 0&&a.length?n.getTypeOf(a)!=="string"?function(o,c,u,h){var f=r,p=h+u;o^=-1;for(var d=h;d<p;d++)o=o>>>8^f[255&(o^c[d])];return-1^o}(0|s,a,a.length,0):function(o,c,u,h){var f=r,p=h+u;o^=-1;for(var d=h;d<p;d++)o=o>>>8^f[255&(o^c.charCodeAt(d))];return-1^o}(0|s,a,a.length,0):0}},{"./utils":32}],5:[function(i,e,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},{}],6:[function(i,e,t){"use strict";var n=null;n=typeof Promise<"u"?Promise:i("lie"),e.exports={Promise:n}},{lie:37}],7:[function(i,e,t){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",r=i("pako"),a=i("./utils"),s=i("./stream/GenericWorker"),o=n?"uint8array":"array";function c(u,h){s.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=h,this.meta={}}l(c,"h"),t.magic="\b\0",a.inherits(c,s),c.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(o,u.data),!1)},c.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(h){u.push({data:h,meta:u.meta})}},t.compressWorker=function(u){return new c("Deflate",u)},t.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,e,t){"use strict";function n(f,p){var d,m="";for(d=0;d<p;d++)m+=String.fromCharCode(255&f),f>>>=8;return m}l(n,"A");function r(f,p,d,m,y,g){var b,x,w=f.file,E=f.compression,M=g!==o.utf8encode,C=a.transformTo("string",g(w.name)),I=a.transformTo("string",o.utf8encode(w.name)),F=w.comment,A=a.transformTo("string",g(F)),T=a.transformTo("string",o.utf8encode(F)),j=I.length!==w.name.length,R=T.length!==F.length,U="",q="",X="",fe=w.dir,H=w.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};p&&!d||(Y.crc32=f.crc32,Y.compressedSize=f.compressedSize,Y.uncompressedSize=f.uncompressedSize);var $=0;p&&($|=8),M||!j&&!R||($|=2048);var Z=0,ie=0;fe&&(Z|=16),y==="UNIX"?(ie=798,Z|=function(Me,Fe){var De=Me;return Me||(De=Fe?16893:33204),(65535&De)<<16}(w.unixPermissions,fe)):(ie=20,Z|=function(Me){return 63&(Me||0)}(w.dosPermissions)),b=H.getUTCHours(),b<<=6,b|=H.getUTCMinutes(),b<<=5,b|=H.getUTCSeconds()/2,x=H.getUTCFullYear()-1980,x<<=4,x|=H.getUTCMonth()+1,x<<=5,x|=H.getUTCDate(),j&&(q=n(1,1)+n(c(C),4)+I,U+="up"+n(q.length,2)+q),R&&(X=n(1,1)+n(c(A),4)+T,U+="uc"+n(X.length,2)+X);var ue="";return ue+=`
\0`,ue+=n($,2),ue+=E.magic,ue+=n(b,2),ue+=n(x,2),ue+=n(Y.crc32,4),ue+=n(Y.compressedSize,4),ue+=n(Y.uncompressedSize,4),ue+=n(C.length,2),ue+=n(U.length,2),{fileRecord:u.LOCAL_FILE_HEADER+ue+C+U,dirRecord:u.CENTRAL_FILE_HEADER+n(ie,2)+ue+n(A.length,2)+"\0\0\0\0"+n(Z,4)+n(m,4)+C+U+A}}l(r,"n");var a=i("../utils"),s=i("../stream/GenericWorker"),o=i("../utf8"),c=i("../crc32"),u=i("../signature");function h(f,p,d,m){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=d,this.encodeFileName=m,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l(h,"s"),a.inherits(h,s),h.prototype.push=function(f){var p=f.meta.percent||0,d=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,s.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:d?(p+100*(d-m-1))/d:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var p=this.streamFiles&&!f.file.dir;if(p){var d=r(f,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var p=this.streamFiles&&!f.file.dir,d=r(f,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),p)this.push({data:function(m){return u.DATA_DESCRIPTOR+n(m.crc32,4)+n(m.compressedSize,4)+n(m.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var d=this.bytesWritten-f,m=function(y,g,b,x,w){var E=a.transformTo("string",w(x));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(y,2)+n(y,2)+n(g,4)+n(b,4)+n(E.length,2)+E}(this.dirRecords.length,d,f,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var p=this;return f.on("data",function(d){p.processChunk(d)}),f.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),f.on("error",function(d){p.error(d)}),this},h.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var p=this._sources;if(!s.prototype.error.call(this,f))return!1;for(var d=0;d<p.length;d++)try{p[d].error(f)}catch{}return!0},h.prototype.lock=function(){s.prototype.lock.call(this);for(var f=this._sources,p=0;p<f.length;p++)f[p].lock()},e.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,e,t){"use strict";var n=i("../compressions"),r=i("./ZipFileWorker");t.generateWorker=function(a,s,o){var c=new r(s.streamFiles,o,s.platform,s.encodeFileName),u=0;try{a.forEach(function(h,f){u++;var p=function(g,b){var x=g||b,w=n[x];if(!w)throw new Error(x+" is not a valid compression method !");return w}(f.options.compression,s.compression),d=f.options.compressionOptions||s.compressionOptions||{},m=f.dir,y=f.date;f._compressWorker(p,d).withStreamInfo("file",{name:h,dir:m,date:y,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=u}catch(h){c.error(h)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,e,t){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var r=new n;for(var a in this)typeof this[a]!="function"&&(r[a]=this[a]);return r}}l(n,"n"),(n.prototype=i("./object")).loadAsync=i("./load"),n.support=i("./support"),n.defaults=i("./defaults"),n.version="3.10.1",n.loadAsync=function(r,a){return new n().loadAsync(r,a)},n.external=i("./external"),e.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,e,t){"use strict";var n=i("./utils"),r=i("./external"),a=i("./utf8"),s=i("./zipEntries"),o=i("./stream/Crc32Probe"),c=i("./nodejsUtils");function u(h){return new r.Promise(function(f,p){var d=h.decompressed.getContentWorker().pipe(new o);d.on("error",function(m){p(m)}).on("end",function(){d.streamInfo.crc32!==h.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}l(u,"f"),e.exports=function(h,f){var p=this;return f=n.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(h)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(d){var m=new s(f);return m.load(d),m}).then(function(d){var m=[r.Promise.resolve(d)],y=d.files;if(f.checkCRC32)for(var g=0;g<y.length;g++)m.push(u(y[g]));return r.Promise.all(m)}).then(function(d){for(var m=d.shift(),y=m.files,g=0;g<y.length;g++){var b=y[g],x=b.fileNameStr,w=n.resolve(b.fileNameStr);p.file(w,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:f.createFolders}),b.dir||(p.file(w).unsafeOriginalName=x)}return m.zipComment.length&&(p.comment=m.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,e,t){"use strict";var n=i("../utils"),r=i("../stream/GenericWorker");function a(s,o){r.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(o)}l(a,"s"),n.inherits(a,r),a.prototype._bindStream=function(s){var o=this;(this._stream=s).pause(),s.on("data",function(c){o.push({data:c,meta:{percent:0}})}).on("error",function(c){o.isPaused?this.generatedError=c:o.error(c)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},a.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,e,t){"use strict";var n=i("readable-stream").Readable;function r(a,s,o){n.call(this,s),this._helper=a;var c=this;a.on("data",function(u,h){c.push(u)||c._helper.pause(),o&&o(h)}).on("error",function(u){c.emit("error",u)}).on("end",function(){c.push(null)})}l(r,"n"),i("../utils").inherits(r,n),r.prototype._read=function(){this._helper.resume()},e.exports=r},{"../utils":32,"readable-stream":16}],14:[function(i,e,t){"use strict";e.exports={isNode:typeof pe.Buffer<"u",newBufferFrom:function(n,r){if(pe.Buffer.from&&pe.Buffer.from!==Uint8Array.from)return pe.Buffer.from(n,r);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new pe.Buffer(n,r)},allocBuffer:function(n){if(pe.Buffer.alloc)return pe.Buffer.alloc(n);var r=new pe.Buffer(n);return r.fill(0),r},isBuffer:function(n){return pe.Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(i,e,t){"use strict";function n(w,E,M){var C,I=a.getTypeOf(E),F=a.extend(M||{},c);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(w=y(w)),F.createFolders&&(C=m(w))&&g.call(this,C,!0);var A=I==="string"&&F.binary===!1&&F.base64===!1;M&&M.binary!==void 0||(F.binary=!A),(E instanceof u&&E.uncompressedSize===0||F.dir||!E||E.length===0)&&(F.base64=!1,F.binary=!0,E="",F.compression="STORE",I="string");var T=null;T=E instanceof u||E instanceof s?E:p.isNode&&p.isStream(E)?new d(w,E):a.prepareContent(w,E,F.binary,F.optimizedBinaryString,F.base64);var j=new h(w,T,F);this.files[w]=j}l(n,"s");var r=i("./utf8"),a=i("./utils"),s=i("./stream/GenericWorker"),o=i("./stream/StreamHelper"),c=i("./defaults"),u=i("./compressedObject"),h=i("./zipObject"),f=i("./generate"),p=i("./nodejsUtils"),d=i("./nodejs/NodejsStreamInputAdapter"),m=l(function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var E=w.lastIndexOf("/");return 0<E?w.substring(0,E):""},"_"),y=l(function(w){return w.slice(-1)!=="/"&&(w+="/"),w},"g"),g=l(function(w,E){return E=E!==void 0?E:c.createFolders,w=y(w),this.files[w]||n.call(this,w,null,{dir:!0,createFolders:E}),this.files[w]},"b");function b(w){return Object.prototype.toString.call(w)==="[object RegExp]"}l(b,"h");var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var E,M,C;for(E in this.files)C=this.files[E],(M=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&w(M,C)},filter:function(w){var E=[];return this.forEach(function(M,C){w(M,C)&&E.push(C)}),E},file:function(w,E,M){if(arguments.length!==1)return w=this.root+w,n.call(this,w,E,M),this;if(b(w)){var C=w;return this.filter(function(F,A){return!A.dir&&C.test(F)})}var I=this.files[this.root+w];return I&&!I.dir?I:null},folder:function(w){if(!w)return this;if(b(w))return this.filter(function(I,F){return F.dir&&w.test(I)});var E=this.root+w,M=g.call(this,E),C=this.clone();return C.root=M.name,C},remove:function(w){w=this.root+w;var E=this.files[w];if(E||(w.slice(-1)!=="/"&&(w+="/"),E=this.files[w]),E&&!E.dir)delete this.files[w];else for(var M=this.filter(function(I,F){return F.name.slice(0,w.length)===w}),C=0;C<M.length;C++)delete this.files[M[C].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var E,M={};try{if((M=a.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");a.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var C=M.comment||this.comment||"";E=f.generateWorker(this,M,C)}catch(I){(E=new s("error")).error(I)}return new o(E,M.type||"string",M.mimeType)},generateAsync:function(w,E){return this.generateInternalStream(w).accumulate(E)},generateNodeStream:function(w,E){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(E)}};e.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,e,t){"use strict";e.exports=i("stream")},{stream:void 0}],17:[function(i,e,t){"use strict";var n=i("./DataReader");function r(a){n.call(this,a);for(var s=0;s<this.data.length;s++)a[s]=255&a[s]}l(r,"i"),i("../utils").inherits(r,n),r.prototype.byteAt=function(a){return this.data[this.zero+a]},r.prototype.lastIndexOfSignature=function(a){for(var s=a.charCodeAt(0),o=a.charCodeAt(1),c=a.charCodeAt(2),u=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===s&&this.data[h+1]===o&&this.data[h+2]===c&&this.data[h+3]===u)return h-this.zero;return-1},r.prototype.readAndCheckSignature=function(a){var s=a.charCodeAt(0),o=a.charCodeAt(1),c=a.charCodeAt(2),u=a.charCodeAt(3),h=this.readData(4);return s===h[0]&&o===h[1]&&c===h[2]&&u===h[3]},r.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,s},e.exports=r},{"../utils":32,"./DataReader":18}],18:[function(i,e,t){"use strict";var n=i("../utils");function r(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}l(r,"i"),r.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var s,o=0;for(this.checkOffset(a),s=this.index+a-1;s>=this.index;s--)o=(o<<8)+this.byteAt(s);return this.index+=a,o},readString:function(a){return n.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},e.exports=r},{"../utils":32}],19:[function(i,e,t){"use strict";var n=i("./Uint8ArrayReader");function r(a){n.call(this,a)}l(r,"i"),i("../utils").inherits(r,n),r.prototype.readData=function(a){this.checkOffset(a);var s=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,s},e.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,e,t){"use strict";var n=i("./DataReader");function r(a){n.call(this,a)}l(r,"i"),i("../utils").inherits(r,n),r.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},r.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},r.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},r.prototype.readData=function(a){this.checkOffset(a);var s=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,s},e.exports=r},{"../utils":32,"./DataReader":18}],21:[function(i,e,t){"use strict";var n=i("./ArrayReader");function r(a){n.call(this,a)}l(r,"i"),i("../utils").inherits(r,n),r.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,s},e.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(i,e,t){"use strict";var n=i("../utils"),r=i("../support"),a=i("./ArrayReader"),s=i("./StringReader"),o=i("./NodeBufferReader"),c=i("./Uint8ArrayReader");e.exports=function(u){var h=n.getTypeOf(u);return n.checkSupport(h),h!=="string"||r.uint8array?h==="nodebuffer"?new o(u):r.uint8array?new c(n.transformTo("uint8array",u)):new a(n.transformTo("array",u)):new s(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,e,t){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,e,t){"use strict";var n=i("./GenericWorker"),r=i("../utils");function a(s){n.call(this,"ConvertWorker to "+s),this.destType=s}l(a,"s"),r.inherits(a,n),a.prototype.processChunk=function(s){this.push({data:r.transformTo(this.destType,s.data),meta:s.meta})},e.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(i,e,t){"use strict";var n=i("./GenericWorker"),r=i("../crc32");function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l(a,"s"),i("../utils").inherits(a,n),a.prototype.processChunk=function(s){this.streamInfo.crc32=r(s.data,this.streamInfo.crc32||0),this.push(s)},e.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,e,t){"use strict";var n=i("../utils"),r=i("./GenericWorker");function a(s){r.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}l(a,"s"),n.inherits(a,r),a.prototype.processChunk=function(s){if(s){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+s.data.length}r.prototype.processChunk.call(this,s)},e.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(i,e,t){"use strict";var n=i("../utils"),r=i("./GenericWorker");function a(s){r.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(c){o.dataIsReady=!0,o.data=c,o.max=c&&c.length||0,o.type=n.getTypeOf(c),o.isPaused||o._tickAndRepeat()},function(c){o.error(c)})}l(a,"s"),n.inherits(a,r),a.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,o);break;case"uint8array":s=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":s=this.data.slice(this.index,o)}return this.index=o,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(i,e,t){"use strict";function n(r){this.name=r||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l(n,"n"),n.prototype={push:function(r){this.emit("data",r)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(r){this.emit("error",r)}return!0},error:function(r){return!this.isFinished&&(this.isPaused?this.generatedError=r:(this.isFinished=!0,this.emit("error",r),this.previous&&this.previous.error(r),this.cleanUp()),!0)},on:function(r,a){return this._listeners[r].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(r,a){if(this._listeners[r])for(var s=0;s<this._listeners[r].length;s++)this._listeners[r][s].call(this,a)},pipe:function(r){return r.registerPrevious(this)},registerPrevious:function(r){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=r.streamInfo,this.mergeStreamInfo(),this.previous=r;var a=this;return r.on("data",function(s){a.processChunk(s)}),r.on("end",function(){a.end()}),r.on("error",function(s){a.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var r=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),r=!0),this.previous&&this.previous.resume(),!r},flush:function(){},processChunk:function(r){this.push(r)},withStreamInfo:function(r,a){return this.extraStreamInfo[r]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var r in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,r)&&(this.streamInfo[r]=this.extraStreamInfo[r])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var r="Worker "+this.name;return this.previous?this.previous+" -> "+r:r}},e.exports=n},{}],29:[function(i,e,t){"use strict";var n=i("../utils"),r=i("./ConvertWorker"),a=i("./GenericWorker"),s=i("../base64"),o=i("../support"),c=i("../external"),u=null;if(o.nodestream)try{u=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(p,d){return new c.Promise(function(m,y){var g=[],b=p._internalType,x=p._outputType,w=p._mimeType;p.on("data",function(E,M){g.push(E),d&&d(M)}).on("error",function(E){g=[],y(E)}).on("end",function(){try{var E=function(M,C,I){switch(M){case"blob":return n.newBlob(n.transformTo("arraybuffer",C),I);case"base64":return s.encode(C);default:return n.transformTo(M,C)}}(x,function(M,C){var I,F=0,A=null,T=0;for(I=0;I<C.length;I++)T+=C[I].length;switch(M){case"string":return C.join("");case"array":return Array.prototype.concat.apply([],C);case"uint8array":for(A=new Uint8Array(T),I=0;I<C.length;I++)A.set(C[I],F),F+=C[I].length;return A;case"nodebuffer":return pe.Buffer.concat(C);default:throw new Error("concat : unsupported type '"+M+"'")}}(b,g),w);m(E)}catch(M){y(M)}g=[]}).resume()})}l(h,"l");function f(p,d,m){var y=d;switch(d){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=d,this._mimeType=m,n.checkSupport(y),this._worker=p.pipe(new r(y)),p.lock()}catch(g){this._worker=new a("error"),this._worker.error(g)}}l(f,"f"),f.prototype={accumulate:function(p){return h(this,p)},on:function(p,d){var m=this;return p==="data"?this._worker.on(p,function(y){d.call(m,y.data,y.meta)}):this._worker.on(p,function(){n.delay(d,arguments,m)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},p)}},e.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,e,t){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",t.nodebuffer=typeof pe.Buffer<"u",t.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")t.blob=!1;else{var n=new ArrayBuffer(0);try{t.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(n),t.blob=r.getBlob("application/zip").size===0}catch{t.blob=!1}}}try{t.nodestream=!!i("readable-stream").Readable}catch{t.nodestream=!1}},{"readable-stream":16}],31:[function(i,e,t){"use strict";for(var n=i("./utils"),r=i("./support"),a=i("./nodejsUtils"),s=i("./stream/GenericWorker"),o=new Array(256),c=0;c<256;c++)o[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;o[254]=o[254]=1;function u(){s.call(this,"utf-8 decode"),this.leftOver=null}l(u,"a");function h(){s.call(this,"utf-8 encode")}l(h,"l"),t.utf8encode=function(f){return r.nodebuffer?a.newBufferFrom(f,"utf-8"):function(p){var d,m,y,g,b,x=p.length,w=0;for(g=0;g<x;g++)(64512&(m=p.charCodeAt(g)))==55296&&g+1<x&&(64512&(y=p.charCodeAt(g+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),g++),w+=m<128?1:m<2048?2:m<65536?3:4;for(d=r.uint8array?new Uint8Array(w):new Array(w),g=b=0;b<w;g++)(64512&(m=p.charCodeAt(g)))==55296&&g+1<x&&(64512&(y=p.charCodeAt(g+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),g++),m<128?d[b++]=m:(m<2048?d[b++]=192|m>>>6:(m<65536?d[b++]=224|m>>>12:(d[b++]=240|m>>>18,d[b++]=128|m>>>12&63),d[b++]=128|m>>>6&63),d[b++]=128|63&m);return d}(f)},t.utf8decode=function(f){return r.nodebuffer?n.transformTo("nodebuffer",f).toString("utf-8"):function(p){var d,m,y,g,b=p.length,x=new Array(2*b);for(d=m=0;d<b;)if((y=p[d++])<128)x[m++]=y;else if(4<(g=o[y]))x[m++]=65533,d+=g-1;else{for(y&=g===2?31:g===3?15:7;1<g&&d<b;)y=y<<6|63&p[d++],g--;1<g?x[m++]=65533:y<65536?x[m++]=y:(y-=65536,x[m++]=55296|y>>10&1023,x[m++]=56320|1023&y)}return x.length!==m&&(x.subarray?x=x.subarray(0,m):x.length=m),n.applyFromCharCode(x)}(f=n.transformTo(r.uint8array?"uint8array":"array",f))},n.inherits(u,s),u.prototype.processChunk=function(f){var p=n.transformTo(r.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var d=p;(p=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),p.set(d,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var m=function(g,b){var x;for((b=b||g.length)>g.length&&(b=g.length),x=b-1;0<=x&&(192&g[x])==128;)x--;return x<0||x===0?b:x+o[g[x]]>b?x:b}(p),y=p;m!==p.length&&(r.uint8array?(y=p.subarray(0,m),this.leftOver=p.subarray(m,p.length)):(y=p.slice(0,m),this.leftOver=p.slice(m,p.length))),this.push({data:t.utf8decode(y),meta:f.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=u,n.inherits(h,s),h.prototype.processChunk=function(f){this.push({data:t.utf8encode(f.data),meta:f.meta})},t.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,e,t){"use strict";var n=i("./support"),r=i("./base64"),a=i("./nodejsUtils"),s=i("./external");function o(d){return d}l(o,"n");function c(d,m){for(var y=0;y<d.length;++y)m[y]=255&d.charCodeAt(y);return m}l(c,"l"),i("setimmediate"),t.newBlob=function(d,m){t.checkSupport("blob");try{return new Blob([d],{type:m})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(d),y.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(d,m,y){var g=[],b=0,x=d.length;if(x<=y)return String.fromCharCode.apply(null,d);for(;b<x;)m==="array"||m==="nodebuffer"?g.push(String.fromCharCode.apply(null,d.slice(b,Math.min(b+y,x)))):g.push(String.fromCharCode.apply(null,d.subarray(b,Math.min(b+y,x)))),b+=y;return g.join("")},stringifyByChar:function(d){for(var m="",y=0;y<d.length;y++)m+=String.fromCharCode(d[y]);return m},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function h(d){var m=65536,y=t.getTypeOf(d),g=!0;if(y==="uint8array"?g=u.applyCanBeUsed.uint8array:y==="nodebuffer"&&(g=u.applyCanBeUsed.nodebuffer),g)for(;1<m;)try{return u.stringifyByChunk(d,y,m)}catch{m=Math.floor(m/2)}return u.stringifyByChar(d)}l(h,"s");function f(d,m){for(var y=0;y<d.length;y++)m[y]=d[y];return m}l(f,"f"),t.applyFromCharCode=h;var p={};p.string={string:o,array:function(d){return c(d,new Array(d.length))},arraybuffer:function(d){return p.string.uint8array(d).buffer},uint8array:function(d){return c(d,new Uint8Array(d.length))},nodebuffer:function(d){return c(d,a.allocBuffer(d.length))}},p.array={string:h,array:o,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return a.newBufferFrom(d)}},p.arraybuffer={string:function(d){return h(new Uint8Array(d))},array:function(d){return f(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:o,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return a.newBufferFrom(new Uint8Array(d))}},p.uint8array={string:h,array:function(d){return f(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:o,nodebuffer:function(d){return a.newBufferFrom(d)}},p.nodebuffer={string:h,array:function(d){return f(d,new Array(d.length))},arraybuffer:function(d){return p.nodebuffer.uint8array(d).buffer},uint8array:function(d){return f(d,new Uint8Array(d.length))},nodebuffer:o},t.transformTo=function(d,m){if(m=m||"",!d)return m;t.checkSupport(d);var y=t.getTypeOf(m);return p[y][d](m)},t.resolve=function(d){for(var m=d.split("/"),y=[],g=0;g<m.length;g++){var b=m[g];b==="."||b===""&&g!==0&&g!==m.length-1||(b===".."?y.pop():y.push(b))}return y.join("/")},t.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":n.nodebuffer&&a.isBuffer(d)?"nodebuffer":n.uint8array&&d instanceof Uint8Array?"uint8array":n.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(d){if(!n[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(d){var m,y,g="";for(y=0;y<(d||"").length;y++)g+="\\x"+((m=d.charCodeAt(y))<16?"0":"")+m.toString(16).toUpperCase();return g},t.delay=function(d,m,y){setImmediate(function(){d.apply(y||null,m||[])})},t.inherits=function(d,m){function y(){}l(y,"r"),y.prototype=m.prototype,d.prototype=new y},t.extend=function(){var d,m,y={};for(d=0;d<arguments.length;d++)for(m in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],m)&&y[m]===void 0&&(y[m]=arguments[d][m]);return y},t.prepareContent=function(d,m,y,g,b){return s.Promise.resolve(m).then(function(x){return n.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new s.Promise(function(w,E){var M=new FileReader;M.onload=function(C){w(C.target.result)},M.onerror=function(C){E(C.target.error)},M.readAsArrayBuffer(x)}):x}).then(function(x){var w=t.getTypeOf(x);return w?(w==="arraybuffer"?x=t.transformTo("uint8array",x):w==="string"&&(b?x=r.decode(x):y&&g!==!0&&(x=function(E){return c(E,n.uint8array?new Uint8Array(E.length):new Array(E.length))}(x))),x):s.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,e,t){"use strict";var n=i("./reader/readerFor"),r=i("./utils"),a=i("./signature"),s=i("./zipEntry"),o=i("./support");function c(u){this.files=[],this.loadOptions=u}l(c,"h"),c.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(h)+", expected "+r.pretty(u)+")")}},isSignature:function(u,h){var f=this.reader.index;this.reader.setIndex(u);var p=this.reader.readString(4)===h;return this.reader.setIndex(f),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),h=o.uint8array?"uint8array":"array",f=r.transformTo(h,u);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,h,f,p=this.zip64EndOfCentralSize-44;0<p;)u=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[u]={id:u,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,h;for(u=0;u<this.files.length;u++)h=this.files[u],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(u=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var h=u;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var p=h-f;if(0<p)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(u){this.reader=n(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,e,t){"use strict";var n=i("./reader/readerFor"),r=i("./utils"),a=i("./compressedObject"),s=i("./crc32"),o=i("./utf8"),c=i("./compressions"),u=i("./support");function h(f,p){this.options=f,this.loadOptions=p}l(h,"l"),h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var p,d;if(f.skip(22),this.fileNameLength=f.readInt(2),d=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(m){for(var y in c)if(Object.prototype.hasOwnProperty.call(c,y)&&c[y].magic===m)return c[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var p=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(p),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=n(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var p,d,m,y=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<y;)p=f.readInt(2),d=f.readInt(2),m=f.readData(d),this.extraFields[p]={id:p,length:d,value:m};f.setIndex(y)},handleUTF8:function(){var f=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var d=r.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var y=r.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var p=n(f.value);return p.readInt(1)!==1||s(this.fileName)!==p.readInt(4)?null:o.utf8decode(p.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var p=n(f.value);return p.readInt(1)!==1||s(this.fileComment)!==p.readInt(4)?null:o.utf8decode(p.readData(f.length-5))}return null}},e.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,e,t){"use strict";function n(p,d,m){this.name=p,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=d,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}l(n,"n");var r=i("./stream/StreamHelper"),a=i("./stream/DataWorker"),s=i("./utf8"),o=i("./compressedObject"),c=i("./stream/GenericWorker");n.prototype={internalStream:function(p){var d=null,m="string";try{if(!p)throw new Error("No output type specified.");var y=(m=p.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),d=this._decompressWorker();var g=!this._dataBinary;g&&!y&&(d=d.pipe(new s.Utf8EncodeWorker)),!g&&y&&(d=d.pipe(new s.Utf8DecodeWorker))}catch(b){(d=new c("error")).error(b)}return new r(d,m,"")},async:function(p,d){return this.internalStream(p).accumulate(d)},nodeStream:function(p,d){return this.internalStream(p||"nodebuffer").toNodejsStream(d)},_compressWorker:function(p,d){if(this._data instanceof o&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new s.Utf8EncodeWorker)),o.createWorkerFrom(m,p,d)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)n.prototype[u[f]]=h;e.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,e,t){(function(n){"use strict";var r,a,s=n.MutationObserver||n.WebKitMutationObserver;if(s){var o=0,c=new s(p),u=n.document.createTextNode("");c.observe(u,{characterData:!0}),r=l(function(){u.data=o=++o%2},"r")}else if(n.setImmediate||n.MessageChannel===void 0)r="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var d=n.document.createElement("script");d.onreadystatechange=function(){p(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},n.document.documentElement.appendChild(d)}:function(){setTimeout(p,0)};else{var h=new n.MessageChannel;h.port1.onmessage=p,r=l(function(){h.port2.postMessage(0)},"r")}var f=[];function p(){var d,m;a=!0;for(var y=f.length;y;){for(m=f,f=[],d=-1;++d<y;)m[d]();y=f.length}a=!1}l(p,"u"),e.exports=function(d){f.push(d)!==1||a||r()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,e,t){"use strict";var n=i("immediate");function r(){}l(r,"u");var a={},s=["REJECTED"],o=["FULFILLED"],c=["PENDING"];function u(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,y!==r&&d(this,y)}l(u,"o");function h(y,g,b){this.promise=y,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}l(h,"h");function f(y,g,b){n(function(){var x;try{x=g(b)}catch(w){return a.reject(y,w)}x===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,x)})}l(f,"f");function p(y){var g=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof g=="function")return function(){g.apply(y,arguments)}}l(p,"c");function d(y,g){var b=!1;function x(M){b||(b=!0,a.reject(y,M))}l(x,"n");function w(M){b||(b=!0,a.resolve(y,M))}l(w,"i");var E=m(function(){g(w,x)});E.status==="error"&&x(E.value)}l(d,"d");function m(y,g){var b={};try{b.value=y(g),b.status="success"}catch(x){b.status="error",b.value=x}return b}l(m,"p"),(e.exports=u).prototype.finally=function(y){if(typeof y!="function")return this;var g=this.constructor;return this.then(function(b){return g.resolve(y()).then(function(){return b})},function(b){return g.resolve(y()).then(function(){throw b})})},u.prototype.catch=function(y){return this.then(null,y)},u.prototype.then=function(y,g){if(typeof y!="function"&&this.state===o||typeof g!="function"&&this.state===s)return this;var b=new this.constructor(r);return this.state!==c?f(b,this.state===o?y:g,this.outcome):this.queue.push(new h(b,y,g)),b},h.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},h.prototype.otherCallFulfilled=function(y){f(this.promise,this.onFulfilled,y)},h.prototype.callRejected=function(y){a.reject(this.promise,y)},h.prototype.otherCallRejected=function(y){f(this.promise,this.onRejected,y)},a.resolve=function(y,g){var b=m(p,g);if(b.status==="error")return a.reject(y,b.value);var x=b.value;if(x)d(y,x);else{y.state=o,y.outcome=g;for(var w=-1,E=y.queue.length;++w<E;)y.queue[w].callFulfilled(g)}return y},a.reject=function(y,g){y.state=s,y.outcome=g;for(var b=-1,x=y.queue.length;++b<x;)y.queue[b].callRejected(g);return y},u.resolve=function(y){return y instanceof this?y:a.resolve(new this(r),y)},u.reject=function(y){var g=new this(r);return a.reject(g,y)},u.all=function(y){var g=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=y.length,x=!1;if(!b)return this.resolve([]);for(var w=new Array(b),E=0,M=-1,C=new this(r);++M<b;)I(y[M],M);return C;function I(F,A){g.resolve(F).then(function(T){w[A]=T,++E!==b||x||(x=!0,a.resolve(C,w))},function(T){x||(x=!0,a.reject(C,T))})}},u.race=function(y){var g=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=y.length,x=!1;if(!b)return this.resolve([]);for(var w=-1,E=new this(r);++w<b;)M=y[w],g.resolve(M).then(function(C){x||(x=!0,a.resolve(E,C))},function(C){x||(x=!0,a.reject(E,C))});var M;return E}},{immediate:36}],38:[function(i,e,t){"use strict";var n={};(0,i("./lib/utils/common").assign)(n,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,e,t){"use strict";var n=i("./zlib/deflate"),r=i("./utils/common"),a=i("./utils/strings"),s=i("./zlib/messages"),o=i("./zlib/zstream"),c=Object.prototype.toString,u=0,h=-1,f=0,p=8;function d(y){if(!(this instanceof d))return new d(y);this.options=r.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},y||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var b=n.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(b!==u)throw new Error(s[b]);if(g.header&&n.deflateSetHeader(this.strm,g.header),g.dictionary){var x;if(x=typeof g.dictionary=="string"?a.string2buf(g.dictionary):c.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(b=n.deflateSetDictionary(this.strm,x))!==u)throw new Error(s[b]);this._dict_set=!0}}l(d,"p");function m(y,g){var b=new d(g);if(b.push(y,!0),b.err)throw b.msg||s[b.err];return b.result}l(m,"n"),d.prototype.push=function(y,g){var b,x,w=this.strm,E=this.options.chunkSize;if(this.ended)return!1;x=g===~~g?g:g===!0?4:0,typeof y=="string"?w.input=a.string2buf(y):c.call(y)==="[object ArrayBuffer]"?w.input=new Uint8Array(y):w.input=y,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new r.Buf8(E),w.next_out=0,w.avail_out=E),(b=n.deflate(w,x))!==1&&b!==u)return this.onEnd(b),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(r.shrinkBuf(w.output,w.next_out))):this.onData(r.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&b!==1);return x===4?(b=n.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===u):x!==2||(this.onEnd(u),!(w.avail_out=0))},d.prototype.onData=function(y){this.chunks.push(y)},d.prototype.onEnd=function(y){y===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},t.Deflate=d,t.deflate=m,t.deflateRaw=function(y,g){return(g=g||{}).raw=!0,m(y,g)},t.gzip=function(y,g){return(g=g||{}).gzip=!0,m(y,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,e,t){"use strict";var n=i("./zlib/inflate"),r=i("./utils/common"),a=i("./utils/strings"),s=i("./zlib/constants"),o=i("./zlib/messages"),c=i("./zlib/zstream"),u=i("./zlib/gzheader"),h=Object.prototype.toString;function f(d){if(!(this instanceof f))return new f(d);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},d||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||d&&d.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=n.inflateInit2(this.strm,m.windowBits);if(y!==s.Z_OK)throw new Error(o[y]);this.header=new u,n.inflateGetHeader(this.strm,this.header)}l(f,"a");function p(d,m){var y=new f(m);if(y.push(d,!0),y.err)throw y.msg||o[y.err];return y.result}l(p,"o"),f.prototype.push=function(d,m){var y,g,b,x,w,E,M=this.strm,C=this.options.chunkSize,I=this.options.dictionary,F=!1;if(this.ended)return!1;g=m===~~m?m:m===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof d=="string"?M.input=a.binstring2buf(d):h.call(d)==="[object ArrayBuffer]"?M.input=new Uint8Array(d):M.input=d,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new r.Buf8(C),M.next_out=0,M.avail_out=C),(y=n.inflate(M,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&I&&(E=typeof I=="string"?a.string2buf(I):h.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,y=n.inflateSetDictionary(this.strm,E)),y===s.Z_BUF_ERROR&&F===!0&&(y=s.Z_OK,F=!1),y!==s.Z_STREAM_END&&y!==s.Z_OK)return this.onEnd(y),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&y!==s.Z_STREAM_END&&(M.avail_in!==0||g!==s.Z_FINISH&&g!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=a.utf8border(M.output,M.next_out),x=M.next_out-b,w=a.buf2string(M.output,b),M.next_out=x,M.avail_out=C-x,x&&r.arraySet(M.output,M.output,b,x,0),this.onData(w)):this.onData(r.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(F=!0)}while((0<M.avail_in||M.avail_out===0)&&y!==s.Z_STREAM_END);return y===s.Z_STREAM_END&&(g=s.Z_FINISH),g===s.Z_FINISH?(y=n.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===s.Z_OK):g!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(M.avail_out=0))},f.prototype.onData=function(d){this.chunks.push(d)},f.prototype.onEnd=function(d){d===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},t.Inflate=f,t.inflate=p,t.inflateRaw=function(d,m){return(m=m||{}).raw=!0,p(d,m)},t.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,e,t){"use strict";var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";t.assign=function(s){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var c=o.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var u in c)c.hasOwnProperty(u)&&(s[u]=c[u])}}return s},t.shrinkBuf=function(s,o){return s.length===o?s:s.subarray?s.subarray(0,o):(s.length=o,s)};var r={arraySet:function(s,o,c,u,h){if(o.subarray&&s.subarray)s.set(o.subarray(c,c+u),h);else for(var f=0;f<u;f++)s[h+f]=o[c+f]},flattenChunks:function(s){var o,c,u,h,f,p;for(o=u=0,c=s.length;o<c;o++)u+=s[o].length;for(p=new Uint8Array(u),o=h=0,c=s.length;o<c;o++)f=s[o],p.set(f,h),h+=f.length;return p}},a={arraySet:function(s,o,c,u,h){for(var f=0;f<u;f++)s[h+f]=o[c+f]},flattenChunks:function(s){return[].concat.apply([],s)}};t.setTyped=function(s){s?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(n)},{}],42:[function(i,e,t){"use strict";var n=i("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var s=new n.Buf8(256),o=0;o<256;o++)s[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function c(u,h){if(h<65537&&(u.subarray&&a||!u.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(u,h));for(var f="",p=0;p<h;p++)f+=String.fromCharCode(u[p]);return f}l(c,"l"),s[254]=s[254]=1,t.string2buf=function(u){var h,f,p,d,m,y=u.length,g=0;for(d=0;d<y;d++)(64512&(f=u.charCodeAt(d)))==55296&&d+1<y&&(64512&(p=u.charCodeAt(d+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),d++),g+=f<128?1:f<2048?2:f<65536?3:4;for(h=new n.Buf8(g),d=m=0;m<g;d++)(64512&(f=u.charCodeAt(d)))==55296&&d+1<y&&(64512&(p=u.charCodeAt(d+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),d++),f<128?h[m++]=f:(f<2048?h[m++]=192|f>>>6:(f<65536?h[m++]=224|f>>>12:(h[m++]=240|f>>>18,h[m++]=128|f>>>12&63),h[m++]=128|f>>>6&63),h[m++]=128|63&f);return h},t.buf2binstring=function(u){return c(u,u.length)},t.binstring2buf=function(u){for(var h=new n.Buf8(u.length),f=0,p=h.length;f<p;f++)h[f]=u.charCodeAt(f);return h},t.buf2string=function(u,h){var f,p,d,m,y=h||u.length,g=new Array(2*y);for(f=p=0;f<y;)if((d=u[f++])<128)g[p++]=d;else if(4<(m=s[d]))g[p++]=65533,f+=m-1;else{for(d&=m===2?31:m===3?15:7;1<m&&f<y;)d=d<<6|63&u[f++],m--;1<m?g[p++]=65533:d<65536?g[p++]=d:(d-=65536,g[p++]=55296|d>>10&1023,g[p++]=56320|1023&d)}return c(g,p)},t.utf8border=function(u,h){var f;for((h=h||u.length)>u.length&&(h=u.length),f=h-1;0<=f&&(192&u[f])==128;)f--;return f<0||f===0?h:f+s[u[f]]>h?f:h}},{"./common":41}],43:[function(i,e,t){"use strict";e.exports=function(n,r,a,s){for(var o=65535&n|0,c=n>>>16&65535|0,u=0;a!==0;){for(a-=u=2e3<a?2e3:a;c=c+(o=o+r[s++]|0)|0,--u;);o%=65521,c%=65521}return o|c<<16|0}},{}],44:[function(i,e,t){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,e,t){"use strict";var n=function(){for(var r,a=[],s=0;s<256;s++){r=s;for(var o=0;o<8;o++)r=1&r?3988292384^r>>>1:r>>>1;a[s]=r}return a}();e.exports=function(r,a,s,o){var c=n,u=o+s;r^=-1;for(var h=o;h<u;h++)r=r>>>8^c[255&(r^a[h])];return-1^r}},{}],46:[function(i,e,t){"use strict";var n,r=i("../utils/common"),a=i("./trees"),s=i("./adler32"),o=i("./crc32"),c=i("./messages"),u=0,h=4,f=0,p=-2,d=-1,m=4,y=2,g=8,b=9,x=286,w=30,E=19,M=2*x+1,C=15,I=3,F=258,A=F+I+1,T=42,j=113,R=1,U=2,q=3,X=4;function fe(S,G){return S.msg=c[G],G}l(fe,"R");function H(S){return(S<<1)-(4<S?9:0)}l(H,"T");function Y(S){for(var G=S.length;0<=--G;)S[G]=0}l(Y,"D");function $(S){var G=S.state,Q=G.pending;Q>S.avail_out&&(Q=S.avail_out),Q!==0&&(r.arraySet(S.output,G.pending_buf,G.pending_out,Q,S.next_out),S.next_out+=Q,G.pending_out+=Q,S.total_out+=Q,S.avail_out-=Q,G.pending-=Q,G.pending===0&&(G.pending_out=0))}l($,"F");function Z(S,G){a._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,G),S.block_start=S.strstart,$(S.strm)}l(Z,"N");function ie(S,G){S.pending_buf[S.pending++]=G}l(ie,"U");function ue(S,G){S.pending_buf[S.pending++]=G>>>8&255,S.pending_buf[S.pending++]=255&G}l(ue,"P");function Me(S,G){var Q,K,J=S.max_chain_length,me=S.strstart,Se=S.prev_length,Ie=S.nice_match,Ce=S.strstart>S.w_size-A?S.strstart-(S.w_size-A):0,Xe=S.window,nt=S.w_mask,z=S.prev,B=S.strstart+F,Ae=Xe[me+Se-1],W=Xe[me+Se];S.prev_length>=S.good_match&&(J>>=2),Ie>S.lookahead&&(Ie=S.lookahead);do if(Xe[(Q=G)+Se]===W&&Xe[Q+Se-1]===Ae&&Xe[Q]===Xe[me]&&Xe[++Q]===Xe[me+1]){me+=2,Q++;do;while(Xe[++me]===Xe[++Q]&&Xe[++me]===Xe[++Q]&&Xe[++me]===Xe[++Q]&&Xe[++me]===Xe[++Q]&&Xe[++me]===Xe[++Q]&&Xe[++me]===Xe[++Q]&&Xe[++me]===Xe[++Q]&&Xe[++me]===Xe[++Q]&&me<B);if(K=F-(B-me),me=B-F,Se<K){if(S.match_start=G,Ie<=(Se=K))break;Ae=Xe[me+Se-1],W=Xe[me+Se]}}while((G=z[G&nt])>Ce&&--J!=0);return Se<=S.lookahead?Se:S.lookahead}l(Me,"L");function Fe(S){var G,Q,K,J,me,Se,Ie,Ce,Xe,nt,z=S.w_size;do{if(J=S.window_size-S.lookahead-S.strstart,S.strstart>=z+(z-A)){for(r.arraySet(S.window,S.window,z,z,0),S.match_start-=z,S.strstart-=z,S.block_start-=z,G=Q=S.hash_size;K=S.head[--G],S.head[G]=z<=K?K-z:0,--Q;);for(G=Q=z;K=S.prev[--G],S.prev[G]=z<=K?K-z:0,--Q;);J+=z}if(S.strm.avail_in===0)break;if(Se=S.strm,Ie=S.window,Ce=S.strstart+S.lookahead,Xe=J,nt=void 0,nt=Se.avail_in,Xe<nt&&(nt=Xe),Q=nt===0?0:(Se.avail_in-=nt,r.arraySet(Ie,Se.input,Se.next_in,nt,Ce),Se.state.wrap===1?Se.adler=s(Se.adler,Ie,nt,Ce):Se.state.wrap===2&&(Se.adler=o(Se.adler,Ie,nt,Ce)),Se.next_in+=nt,Se.total_in+=nt,nt),S.lookahead+=Q,S.lookahead+S.insert>=I)for(me=S.strstart-S.insert,S.ins_h=S.window[me],S.ins_h=(S.ins_h<<S.hash_shift^S.window[me+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[me+I-1])&S.hash_mask,S.prev[me&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=me,me++,S.insert--,!(S.lookahead+S.insert<I)););}while(S.lookahead<A&&S.strm.avail_in!==0)}l(Fe,"j");function De(S,G){for(var Q,K;;){if(S.lookahead<A){if(Fe(S),S.lookahead<A&&G===u)return R;if(S.lookahead===0)break}if(Q=0,S.lookahead>=I&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+I-1])&S.hash_mask,Q=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),Q!==0&&S.strstart-Q<=S.w_size-A&&(S.match_length=Me(S,Q)),S.match_length>=I)if(K=a._tr_tally(S,S.strstart-S.match_start,S.match_length-I),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=I){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+I-1])&S.hash_mask,Q=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else K=a._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(K&&(Z(S,!1),S.strm.avail_out===0))return R}return S.insert=S.strstart<I-1?S.strstart:I-1,G===h?(Z(S,!0),S.strm.avail_out===0?q:X):S.last_lit&&(Z(S,!1),S.strm.avail_out===0)?R:U}l(De,"Z");function Ge(S,G){for(var Q,K,J;;){if(S.lookahead<A){if(Fe(S),S.lookahead<A&&G===u)return R;if(S.lookahead===0)break}if(Q=0,S.lookahead>=I&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+I-1])&S.hash_mask,Q=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=I-1,Q!==0&&S.prev_length<S.max_lazy_match&&S.strstart-Q<=S.w_size-A&&(S.match_length=Me(S,Q),S.match_length<=5&&(S.strategy===1||S.match_length===I&&4096<S.strstart-S.match_start)&&(S.match_length=I-1)),S.prev_length>=I&&S.match_length<=S.prev_length){for(J=S.strstart+S.lookahead-I,K=a._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-I),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=J&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+I-1])&S.hash_mask,Q=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=I-1,S.strstart++,K&&(Z(S,!1),S.strm.avail_out===0))return R}else if(S.match_available){if((K=a._tr_tally(S,0,S.window[S.strstart-1]))&&Z(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return R}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(K=a._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<I-1?S.strstart:I-1,G===h?(Z(S,!0),S.strm.avail_out===0?q:X):S.last_lit&&(Z(S,!1),S.strm.avail_out===0)?R:U}l(Ge,"W");function ve(S,G,Q,K,J){this.good_length=S,this.max_lazy=G,this.nice_length=Q,this.max_chain=K,this.func=J}l(ve,"M");function we(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*M),this.dyn_dtree=new r.Buf16(2*(2*w+1)),this.bl_tree=new r.Buf16(2*(2*E+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(C+1),this.heap=new r.Buf16(2*x+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*x+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}l(we,"H");function He(S){var G;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=y,(G=S.state).pending=0,G.pending_out=0,G.wrap<0&&(G.wrap=-G.wrap),G.status=G.wrap?T:j,S.adler=G.wrap===2?0:1,G.last_flush=u,a._tr_init(G),f):fe(S,p)}l(He,"G");function Ke(S){var G=He(S);return G===f&&function(Q){Q.window_size=2*Q.w_size,Y(Q.head),Q.max_lazy_match=n[Q.level].max_lazy,Q.good_match=n[Q.level].good_length,Q.nice_match=n[Q.level].nice_length,Q.max_chain_length=n[Q.level].max_chain,Q.strstart=0,Q.block_start=0,Q.lookahead=0,Q.insert=0,Q.match_length=Q.prev_length=I-1,Q.match_available=0,Q.ins_h=0}(S.state),G}l(Ke,"K");function Ze(S,G,Q,K,J,me){if(!S)return p;var Se=1;if(G===d&&(G=6),K<0?(Se=0,K=-K):15<K&&(Se=2,K-=16),J<1||b<J||Q!==g||K<8||15<K||G<0||9<G||me<0||m<me)return fe(S,p);K===8&&(K=9);var Ie=new we;return(S.state=Ie).strm=S,Ie.wrap=Se,Ie.gzhead=null,Ie.w_bits=K,Ie.w_size=1<<Ie.w_bits,Ie.w_mask=Ie.w_size-1,Ie.hash_bits=J+7,Ie.hash_size=1<<Ie.hash_bits,Ie.hash_mask=Ie.hash_size-1,Ie.hash_shift=~~((Ie.hash_bits+I-1)/I),Ie.window=new r.Buf8(2*Ie.w_size),Ie.head=new r.Buf16(Ie.hash_size),Ie.prev=new r.Buf16(Ie.w_size),Ie.lit_bufsize=1<<J+6,Ie.pending_buf_size=4*Ie.lit_bufsize,Ie.pending_buf=new r.Buf8(Ie.pending_buf_size),Ie.d_buf=1*Ie.lit_bufsize,Ie.l_buf=3*Ie.lit_bufsize,Ie.level=G,Ie.strategy=me,Ie.method=Q,Ke(S)}l(Ze,"Y"),n=[new ve(0,0,0,0,function(S,G){var Q=65535;for(Q>S.pending_buf_size-5&&(Q=S.pending_buf_size-5);;){if(S.lookahead<=1){if(Fe(S),S.lookahead===0&&G===u)return R;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var K=S.block_start+Q;if((S.strstart===0||S.strstart>=K)&&(S.lookahead=S.strstart-K,S.strstart=K,Z(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-A&&(Z(S,!1),S.strm.avail_out===0))return R}return S.insert=0,G===h?(Z(S,!0),S.strm.avail_out===0?q:X):(S.strstart>S.block_start&&(Z(S,!1),S.strm.avail_out),R)}),new ve(4,4,8,4,De),new ve(4,5,16,8,De),new ve(4,6,32,32,De),new ve(4,4,16,16,Ge),new ve(8,16,32,32,Ge),new ve(8,16,128,128,Ge),new ve(8,32,128,256,Ge),new ve(32,128,258,1024,Ge),new ve(32,258,258,4096,Ge)],t.deflateInit=function(S,G){return Ze(S,G,g,15,8,0)},t.deflateInit2=Ze,t.deflateReset=Ke,t.deflateResetKeep=He,t.deflateSetHeader=function(S,G){return S&&S.state?S.state.wrap!==2?p:(S.state.gzhead=G,f):p},t.deflate=function(S,G){var Q,K,J,me;if(!S||!S.state||5<G||G<0)return S?fe(S,p):p;if(K=S.state,!S.output||!S.input&&S.avail_in!==0||K.status===666&&G!==h)return fe(S,S.avail_out===0?-5:p);if(K.strm=S,Q=K.last_flush,K.last_flush=G,K.status===T)if(K.wrap===2)S.adler=0,ie(K,31),ie(K,139),ie(K,8),K.gzhead?(ie(K,(K.gzhead.text?1:0)+(K.gzhead.hcrc?2:0)+(K.gzhead.extra?4:0)+(K.gzhead.name?8:0)+(K.gzhead.comment?16:0)),ie(K,255&K.gzhead.time),ie(K,K.gzhead.time>>8&255),ie(K,K.gzhead.time>>16&255),ie(K,K.gzhead.time>>24&255),ie(K,K.level===9?2:2<=K.strategy||K.level<2?4:0),ie(K,255&K.gzhead.os),K.gzhead.extra&&K.gzhead.extra.length&&(ie(K,255&K.gzhead.extra.length),ie(K,K.gzhead.extra.length>>8&255)),K.gzhead.hcrc&&(S.adler=o(S.adler,K.pending_buf,K.pending,0)),K.gzindex=0,K.status=69):(ie(K,0),ie(K,0),ie(K,0),ie(K,0),ie(K,0),ie(K,K.level===9?2:2<=K.strategy||K.level<2?4:0),ie(K,3),K.status=j);else{var Se=g+(K.w_bits-8<<4)<<8;Se|=(2<=K.strategy||K.level<2?0:K.level<6?1:K.level===6?2:3)<<6,K.strstart!==0&&(Se|=32),Se+=31-Se%31,K.status=j,ue(K,Se),K.strstart!==0&&(ue(K,S.adler>>>16),ue(K,65535&S.adler)),S.adler=1}if(K.status===69)if(K.gzhead.extra){for(J=K.pending;K.gzindex<(65535&K.gzhead.extra.length)&&(K.pending!==K.pending_buf_size||(K.gzhead.hcrc&&K.pending>J&&(S.adler=o(S.adler,K.pending_buf,K.pending-J,J)),$(S),J=K.pending,K.pending!==K.pending_buf_size));)ie(K,255&K.gzhead.extra[K.gzindex]),K.gzindex++;K.gzhead.hcrc&&K.pending>J&&(S.adler=o(S.adler,K.pending_buf,K.pending-J,J)),K.gzindex===K.gzhead.extra.length&&(K.gzindex=0,K.status=73)}else K.status=73;if(K.status===73)if(K.gzhead.name){J=K.pending;do{if(K.pending===K.pending_buf_size&&(K.gzhead.hcrc&&K.pending>J&&(S.adler=o(S.adler,K.pending_buf,K.pending-J,J)),$(S),J=K.pending,K.pending===K.pending_buf_size)){me=1;break}me=K.gzindex<K.gzhead.name.length?255&K.gzhead.name.charCodeAt(K.gzindex++):0,ie(K,me)}while(me!==0);K.gzhead.hcrc&&K.pending>J&&(S.adler=o(S.adler,K.pending_buf,K.pending-J,J)),me===0&&(K.gzindex=0,K.status=91)}else K.status=91;if(K.status===91)if(K.gzhead.comment){J=K.pending;do{if(K.pending===K.pending_buf_size&&(K.gzhead.hcrc&&K.pending>J&&(S.adler=o(S.adler,K.pending_buf,K.pending-J,J)),$(S),J=K.pending,K.pending===K.pending_buf_size)){me=1;break}me=K.gzindex<K.gzhead.comment.length?255&K.gzhead.comment.charCodeAt(K.gzindex++):0,ie(K,me)}while(me!==0);K.gzhead.hcrc&&K.pending>J&&(S.adler=o(S.adler,K.pending_buf,K.pending-J,J)),me===0&&(K.status=103)}else K.status=103;if(K.status===103&&(K.gzhead.hcrc?(K.pending+2>K.pending_buf_size&&$(S),K.pending+2<=K.pending_buf_size&&(ie(K,255&S.adler),ie(K,S.adler>>8&255),S.adler=0,K.status=j)):K.status=j),K.pending!==0){if($(S),S.avail_out===0)return K.last_flush=-1,f}else if(S.avail_in===0&&H(G)<=H(Q)&&G!==h)return fe(S,-5);if(K.status===666&&S.avail_in!==0)return fe(S,-5);if(S.avail_in!==0||K.lookahead!==0||G!==u&&K.status!==666){var Ie=K.strategy===2?function(Ce,Xe){for(var nt;;){if(Ce.lookahead===0&&(Fe(Ce),Ce.lookahead===0)){if(Xe===u)return R;break}if(Ce.match_length=0,nt=a._tr_tally(Ce,0,Ce.window[Ce.strstart]),Ce.lookahead--,Ce.strstart++,nt&&(Z(Ce,!1),Ce.strm.avail_out===0))return R}return Ce.insert=0,Xe===h?(Z(Ce,!0),Ce.strm.avail_out===0?q:X):Ce.last_lit&&(Z(Ce,!1),Ce.strm.avail_out===0)?R:U}(K,G):K.strategy===3?function(Ce,Xe){for(var nt,z,B,Ae,W=Ce.window;;){if(Ce.lookahead<=F){if(Fe(Ce),Ce.lookahead<=F&&Xe===u)return R;if(Ce.lookahead===0)break}if(Ce.match_length=0,Ce.lookahead>=I&&0<Ce.strstart&&(z=W[B=Ce.strstart-1])===W[++B]&&z===W[++B]&&z===W[++B]){Ae=Ce.strstart+F;do;while(z===W[++B]&&z===W[++B]&&z===W[++B]&&z===W[++B]&&z===W[++B]&&z===W[++B]&&z===W[++B]&&z===W[++B]&&B<Ae);Ce.match_length=F-(Ae-B),Ce.match_length>Ce.lookahead&&(Ce.match_length=Ce.lookahead)}if(Ce.match_length>=I?(nt=a._tr_tally(Ce,1,Ce.match_length-I),Ce.lookahead-=Ce.match_length,Ce.strstart+=Ce.match_length,Ce.match_length=0):(nt=a._tr_tally(Ce,0,Ce.window[Ce.strstart]),Ce.lookahead--,Ce.strstart++),nt&&(Z(Ce,!1),Ce.strm.avail_out===0))return R}return Ce.insert=0,Xe===h?(Z(Ce,!0),Ce.strm.avail_out===0?q:X):Ce.last_lit&&(Z(Ce,!1),Ce.strm.avail_out===0)?R:U}(K,G):n[K.level].func(K,G);if(Ie!==q&&Ie!==X||(K.status=666),Ie===R||Ie===q)return S.avail_out===0&&(K.last_flush=-1),f;if(Ie===U&&(G===1?a._tr_align(K):G!==5&&(a._tr_stored_block(K,0,0,!1),G===3&&(Y(K.head),K.lookahead===0&&(K.strstart=0,K.block_start=0,K.insert=0))),$(S),S.avail_out===0))return K.last_flush=-1,f}return G!==h?f:K.wrap<=0?1:(K.wrap===2?(ie(K,255&S.adler),ie(K,S.adler>>8&255),ie(K,S.adler>>16&255),ie(K,S.adler>>24&255),ie(K,255&S.total_in),ie(K,S.total_in>>8&255),ie(K,S.total_in>>16&255),ie(K,S.total_in>>24&255)):(ue(K,S.adler>>>16),ue(K,65535&S.adler)),$(S),0<K.wrap&&(K.wrap=-K.wrap),K.pending!==0?f:1)},t.deflateEnd=function(S){var G;return S&&S.state?(G=S.state.status)!==T&&G!==69&&G!==73&&G!==91&&G!==103&&G!==j&&G!==666?fe(S,p):(S.state=null,G===j?fe(S,-3):f):p},t.deflateSetDictionary=function(S,G){var Q,K,J,me,Se,Ie,Ce,Xe,nt=G.length;if(!S||!S.state||(me=(Q=S.state).wrap)===2||me===1&&Q.status!==T||Q.lookahead)return p;for(me===1&&(S.adler=s(S.adler,G,nt,0)),Q.wrap=0,nt>=Q.w_size&&(me===0&&(Y(Q.head),Q.strstart=0,Q.block_start=0,Q.insert=0),Xe=new r.Buf8(Q.w_size),r.arraySet(Xe,G,nt-Q.w_size,Q.w_size,0),G=Xe,nt=Q.w_size),Se=S.avail_in,Ie=S.next_in,Ce=S.input,S.avail_in=nt,S.next_in=0,S.input=G,Fe(Q);Q.lookahead>=I;){for(K=Q.strstart,J=Q.lookahead-(I-1);Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[K+I-1])&Q.hash_mask,Q.prev[K&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=K,K++,--J;);Q.strstart=K,Q.lookahead=I-1,Fe(Q)}return Q.strstart+=Q.lookahead,Q.block_start=Q.strstart,Q.insert=Q.lookahead,Q.lookahead=0,Q.match_length=Q.prev_length=I-1,Q.match_available=0,S.next_in=Ie,S.input=Ce,S.avail_in=Se,Q.wrap=me,f},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,e,t){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,e,t){"use strict";e.exports=function(n,r){var a,s,o,c,u,h,f,p,d,m,y,g,b,x,w,E,M,C,I,F,A,T,j,R,U;a=n.state,s=n.next_in,R=n.input,o=s+(n.avail_in-5),c=n.next_out,U=n.output,u=c-(r-n.avail_out),h=c+(n.avail_out-257),f=a.dmax,p=a.wsize,d=a.whave,m=a.wnext,y=a.window,g=a.hold,b=a.bits,x=a.lencode,w=a.distcode,E=(1<<a.lenbits)-1,M=(1<<a.distbits)-1;e:do{b<15&&(g+=R[s++]<<b,b+=8,g+=R[s++]<<b,b+=8),C=x[g&E];t:for(;;){if(g>>>=I=C>>>24,b-=I,(I=C>>>16&255)===0)U[c++]=65535&C;else{if(!(16&I)){if(!(64&I)){C=x[(65535&C)+(g&(1<<I)-1)];continue t}if(32&I){a.mode=12;break e}n.msg="invalid literal/length code",a.mode=30;break e}F=65535&C,(I&=15)&&(b<I&&(g+=R[s++]<<b,b+=8),F+=g&(1<<I)-1,g>>>=I,b-=I),b<15&&(g+=R[s++]<<b,b+=8,g+=R[s++]<<b,b+=8),C=w[g&M];i:for(;;){if(g>>>=I=C>>>24,b-=I,!(16&(I=C>>>16&255))){if(!(64&I)){C=w[(65535&C)+(g&(1<<I)-1)];continue i}n.msg="invalid distance code",a.mode=30;break e}if(A=65535&C,b<(I&=15)&&(g+=R[s++]<<b,(b+=8)<I&&(g+=R[s++]<<b,b+=8)),f<(A+=g&(1<<I)-1)){n.msg="invalid distance too far back",a.mode=30;break e}if(g>>>=I,b-=I,(I=c-u)<A){if(d<(I=A-I)&&a.sane){n.msg="invalid distance too far back",a.mode=30;break e}if(j=y,(T=0)===m){if(T+=p-I,I<F){for(F-=I;U[c++]=y[T++],--I;);T=c-A,j=U}}else if(m<I){if(T+=p+m-I,(I-=m)<F){for(F-=I;U[c++]=y[T++],--I;);if(T=0,m<F){for(F-=I=m;U[c++]=y[T++],--I;);T=c-A,j=U}}}else if(T+=m-I,I<F){for(F-=I;U[c++]=y[T++],--I;);T=c-A,j=U}for(;2<F;)U[c++]=j[T++],U[c++]=j[T++],U[c++]=j[T++],F-=3;F&&(U[c++]=j[T++],1<F&&(U[c++]=j[T++]))}else{for(T=c-A;U[c++]=U[T++],U[c++]=U[T++],U[c++]=U[T++],2<(F-=3););F&&(U[c++]=U[T++],1<F&&(U[c++]=U[T++]))}break}}break}}while(s<o&&c<h);s-=F=b>>3,g&=(1<<(b-=F<<3))-1,n.next_in=s,n.next_out=c,n.avail_in=s<o?o-s+5:5-(s-o),n.avail_out=c<h?h-c+257:257-(c-h),a.hold=g,a.bits=b}},{}],49:[function(i,e,t){"use strict";var n=i("../utils/common"),r=i("./adler32"),a=i("./crc32"),s=i("./inffast"),o=i("./inftrees"),c=1,u=2,h=0,f=-2,p=1,d=852,m=592;function y(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}l(y,"L");function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}l(g,"s");function b(T){var j;return T&&T.state?(j=T.state,T.total_in=T.total_out=j.total=0,T.msg="",j.wrap&&(T.adler=1&j.wrap),j.mode=p,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new n.Buf32(d),j.distcode=j.distdyn=new n.Buf32(m),j.sane=1,j.back=-1,h):f}l(b,"a");function x(T){var j;return T&&T.state?((j=T.state).wsize=0,j.whave=0,j.wnext=0,b(T)):f}l(x,"o");function w(T,j){var R,U;return T&&T.state?(U=T.state,j<0?(R=0,j=-j):(R=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?f:(U.window!==null&&U.wbits!==j&&(U.window=null),U.wrap=R,U.wbits=j,x(T))):f}l(w,"h");function E(T,j){var R,U;return T?(U=new g,(T.state=U).window=null,(R=w(T,j))!==h&&(T.state=null),R):f}l(E,"u");var M,C,I=!0;function F(T){if(I){var j;for(M=new n.Buf32(512),C=new n.Buf32(32),j=0;j<144;)T.lens[j++]=8;for(;j<256;)T.lens[j++]=9;for(;j<280;)T.lens[j++]=7;for(;j<288;)T.lens[j++]=8;for(o(c,T.lens,0,288,M,0,T.work,{bits:9}),j=0;j<32;)T.lens[j++]=5;o(u,T.lens,0,32,C,0,T.work,{bits:5}),I=!1}T.lencode=M,T.lenbits=9,T.distcode=C,T.distbits=5}l(F,"j");function A(T,j,R,U){var q,X=T.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new n.Buf8(X.wsize)),U>=X.wsize?(n.arraySet(X.window,j,R-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(U<(q=X.wsize-X.wnext)&&(q=U),n.arraySet(X.window,j,R-U,q,X.wnext),(U-=q)?(n.arraySet(X.window,j,R-U,U,0),X.wnext=U,X.whave=X.wsize):(X.wnext+=q,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=q))),0}l(A,"Z"),t.inflateReset=x,t.inflateReset2=w,t.inflateResetKeep=b,t.inflateInit=function(T){return E(T,15)},t.inflateInit2=E,t.inflate=function(T,j){var R,U,q,X,fe,H,Y,$,Z,ie,ue,Me,Fe,De,Ge,ve,we,He,Ke,Ze,S,G,Q,K,J=0,me=new n.Buf8(4),Se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return f;(R=T.state).mode===12&&(R.mode=13),fe=T.next_out,q=T.output,Y=T.avail_out,X=T.next_in,U=T.input,H=T.avail_in,$=R.hold,Z=R.bits,ie=H,ue=Y,G=h;e:for(;;)switch(R.mode){case p:if(R.wrap===0){R.mode=13;break}for(;Z<16;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}if(2&R.wrap&&$===35615){me[R.check=0]=255&$,me[1]=$>>>8&255,R.check=a(R.check,me,2,0),Z=$=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&$)<<8)+($>>8))%31){T.msg="incorrect header check",R.mode=30;break}if((15&$)!=8){T.msg="unknown compression method",R.mode=30;break}if(Z-=4,S=8+(15&($>>>=4)),R.wbits===0)R.wbits=S;else if(S>R.wbits){T.msg="invalid window size",R.mode=30;break}R.dmax=1<<S,T.adler=R.check=1,R.mode=512&$?10:12,Z=$=0;break;case 2:for(;Z<16;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}if(R.flags=$,(255&R.flags)!=8){T.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){T.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=$>>8&1),512&R.flags&&(me[0]=255&$,me[1]=$>>>8&255,R.check=a(R.check,me,2,0)),Z=$=0,R.mode=3;case 3:for(;Z<32;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}R.head&&(R.head.time=$),512&R.flags&&(me[0]=255&$,me[1]=$>>>8&255,me[2]=$>>>16&255,me[3]=$>>>24&255,R.check=a(R.check,me,4,0)),Z=$=0,R.mode=4;case 4:for(;Z<16;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}R.head&&(R.head.xflags=255&$,R.head.os=$>>8),512&R.flags&&(me[0]=255&$,me[1]=$>>>8&255,R.check=a(R.check,me,2,0)),Z=$=0,R.mode=5;case 5:if(1024&R.flags){for(;Z<16;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}R.length=$,R.head&&(R.head.extra_len=$),512&R.flags&&(me[0]=255&$,me[1]=$>>>8&255,R.check=a(R.check,me,2,0)),Z=$=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(H<(Me=R.length)&&(Me=H),Me&&(R.head&&(S=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),n.arraySet(R.head.extra,U,X,Me,S)),512&R.flags&&(R.check=a(R.check,U,Me,X)),H-=Me,X+=Me,R.length-=Me),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(H===0)break e;for(Me=0;S=U[X+Me++],R.head&&S&&R.length<65536&&(R.head.name+=String.fromCharCode(S)),S&&Me<H;);if(512&R.flags&&(R.check=a(R.check,U,Me,X)),H-=Me,X+=Me,S)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(H===0)break e;for(Me=0;S=U[X+Me++],R.head&&S&&R.length<65536&&(R.head.comment+=String.fromCharCode(S)),S&&Me<H;);if(512&R.flags&&(R.check=a(R.check,U,Me,X)),H-=Me,X+=Me,S)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;Z<16;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}if($!==(65535&R.check)){T.msg="header crc mismatch",R.mode=30;break}Z=$=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),T.adler=R.check=0,R.mode=12;break;case 10:for(;Z<32;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}T.adler=R.check=y($),Z=$=0,R.mode=11;case 11:if(R.havedict===0)return T.next_out=fe,T.avail_out=Y,T.next_in=X,T.avail_in=H,R.hold=$,R.bits=Z,2;T.adler=R.check=1,R.mode=12;case 12:if(j===5||j===6)break e;case 13:if(R.last){$>>>=7&Z,Z-=7&Z,R.mode=27;break}for(;Z<3;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}switch(R.last=1&$,Z-=1,3&($>>>=1)){case 0:R.mode=14;break;case 1:if(F(R),R.mode=20,j!==6)break;$>>>=2,Z-=2;break e;case 2:R.mode=17;break;case 3:T.msg="invalid block type",R.mode=30}$>>>=2,Z-=2;break;case 14:for($>>>=7&Z,Z-=7&Z;Z<32;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}if((65535&$)!=($>>>16^65535)){T.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&$,Z=$=0,R.mode=15,j===6)break e;case 15:R.mode=16;case 16:if(Me=R.length){if(H<Me&&(Me=H),Y<Me&&(Me=Y),Me===0)break e;n.arraySet(q,U,X,Me,fe),H-=Me,X+=Me,Y-=Me,fe+=Me,R.length-=Me;break}R.mode=12;break;case 17:for(;Z<14;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}if(R.nlen=257+(31&$),$>>>=5,Z-=5,R.ndist=1+(31&$),$>>>=5,Z-=5,R.ncode=4+(15&$),$>>>=4,Z-=4,286<R.nlen||30<R.ndist){T.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;Z<3;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}R.lens[Se[R.have++]]=7&$,$>>>=3,Z-=3}for(;R.have<19;)R.lens[Se[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,Q={bits:R.lenbits},G=o(0,R.lens,0,19,R.lencode,0,R.work,Q),R.lenbits=Q.bits,G){T.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;ve=(J=R.lencode[$&(1<<R.lenbits)-1])>>>16&255,we=65535&J,!((Ge=J>>>24)<=Z);){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}if(we<16)$>>>=Ge,Z-=Ge,R.lens[R.have++]=we;else{if(we===16){for(K=Ge+2;Z<K;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}if($>>>=Ge,Z-=Ge,R.have===0){T.msg="invalid bit length repeat",R.mode=30;break}S=R.lens[R.have-1],Me=3+(3&$),$>>>=2,Z-=2}else if(we===17){for(K=Ge+3;Z<K;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}Z-=Ge,S=0,Me=3+(7&($>>>=Ge)),$>>>=3,Z-=3}else{for(K=Ge+7;Z<K;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}Z-=Ge,S=0,Me=11+(127&($>>>=Ge)),$>>>=7,Z-=7}if(R.have+Me>R.nlen+R.ndist){T.msg="invalid bit length repeat",R.mode=30;break}for(;Me--;)R.lens[R.have++]=S}}if(R.mode===30)break;if(R.lens[256]===0){T.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,Q={bits:R.lenbits},G=o(c,R.lens,0,R.nlen,R.lencode,0,R.work,Q),R.lenbits=Q.bits,G){T.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,Q={bits:R.distbits},G=o(u,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,Q),R.distbits=Q.bits,G){T.msg="invalid distances set",R.mode=30;break}if(R.mode=20,j===6)break e;case 20:R.mode=21;case 21:if(6<=H&&258<=Y){T.next_out=fe,T.avail_out=Y,T.next_in=X,T.avail_in=H,R.hold=$,R.bits=Z,s(T,ue),fe=T.next_out,q=T.output,Y=T.avail_out,X=T.next_in,U=T.input,H=T.avail_in,$=R.hold,Z=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;ve=(J=R.lencode[$&(1<<R.lenbits)-1])>>>16&255,we=65535&J,!((Ge=J>>>24)<=Z);){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}if(ve&&!(240&ve)){for(He=Ge,Ke=ve,Ze=we;ve=(J=R.lencode[Ze+(($&(1<<He+Ke)-1)>>He)])>>>16&255,we=65535&J,!(He+(Ge=J>>>24)<=Z);){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}$>>>=He,Z-=He,R.back+=He}if($>>>=Ge,Z-=Ge,R.back+=Ge,R.length=we,ve===0){R.mode=26;break}if(32&ve){R.back=-1,R.mode=12;break}if(64&ve){T.msg="invalid literal/length code",R.mode=30;break}R.extra=15&ve,R.mode=22;case 22:if(R.extra){for(K=R.extra;Z<K;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}R.length+=$&(1<<R.extra)-1,$>>>=R.extra,Z-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;ve=(J=R.distcode[$&(1<<R.distbits)-1])>>>16&255,we=65535&J,!((Ge=J>>>24)<=Z);){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}if(!(240&ve)){for(He=Ge,Ke=ve,Ze=we;ve=(J=R.distcode[Ze+(($&(1<<He+Ke)-1)>>He)])>>>16&255,we=65535&J,!(He+(Ge=J>>>24)<=Z);){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}$>>>=He,Z-=He,R.back+=He}if($>>>=Ge,Z-=Ge,R.back+=Ge,64&ve){T.msg="invalid distance code",R.mode=30;break}R.offset=we,R.extra=15&ve,R.mode=24;case 24:if(R.extra){for(K=R.extra;Z<K;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}R.offset+=$&(1<<R.extra)-1,$>>>=R.extra,Z-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){T.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(Y===0)break e;if(Me=ue-Y,R.offset>Me){if((Me=R.offset-Me)>R.whave&&R.sane){T.msg="invalid distance too far back",R.mode=30;break}Fe=Me>R.wnext?(Me-=R.wnext,R.wsize-Me):R.wnext-Me,Me>R.length&&(Me=R.length),De=R.window}else De=q,Fe=fe-R.offset,Me=R.length;for(Y<Me&&(Me=Y),Y-=Me,R.length-=Me;q[fe++]=De[Fe++],--Me;);R.length===0&&(R.mode=21);break;case 26:if(Y===0)break e;q[fe++]=R.length,Y--,R.mode=21;break;case 27:if(R.wrap){for(;Z<32;){if(H===0)break e;H--,$|=U[X++]<<Z,Z+=8}if(ue-=Y,T.total_out+=ue,R.total+=ue,ue&&(T.adler=R.check=R.flags?a(R.check,q,ue,fe-ue):r(R.check,q,ue,fe-ue)),ue=Y,(R.flags?$:y($))!==R.check){T.msg="incorrect data check",R.mode=30;break}Z=$=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;Z<32;){if(H===0)break e;H--,$+=U[X++]<<Z,Z+=8}if($!==(4294967295&R.total)){T.msg="incorrect length check",R.mode=30;break}Z=$=0}R.mode=29;case 29:G=1;break e;case 30:G=-3;break e;case 31:return-4;case 32:default:return f}return T.next_out=fe,T.avail_out=Y,T.next_in=X,T.avail_in=H,R.hold=$,R.bits=Z,(R.wsize||ue!==T.avail_out&&R.mode<30&&(R.mode<27||j!==4))&&A(T,T.output,T.next_out,ue-T.avail_out)?(R.mode=31,-4):(ie-=T.avail_in,ue-=T.avail_out,T.total_in+=ie,T.total_out+=ue,R.total+=ue,R.wrap&&ue&&(T.adler=R.check=R.flags?a(R.check,q,ue,T.next_out-ue):r(R.check,q,ue,T.next_out-ue)),T.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(ie==0&&ue===0||j===4)&&G===h&&(G=-5),G)},t.inflateEnd=function(T){if(!T||!T.state)return f;var j=T.state;return j.window&&(j.window=null),T.state=null,h},t.inflateGetHeader=function(T,j){var R;return T&&T.state&&2&(R=T.state).wrap?((R.head=j).done=!1,h):f},t.inflateSetDictionary=function(T,j){var R,U=j.length;return T&&T.state?(R=T.state).wrap!==0&&R.mode!==11?f:R.mode===11&&r(1,j,U,0)!==R.check?-3:A(T,j,U,U)?(R.mode=31,-4):(R.havedict=1,h):f},t.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,e,t){"use strict";var n=i("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(c,u,h,f,p,d,m,y){var g,b,x,w,E,M,C,I,F,A=y.bits,T=0,j=0,R=0,U=0,q=0,X=0,fe=0,H=0,Y=0,$=0,Z=null,ie=0,ue=new n.Buf16(16),Me=new n.Buf16(16),Fe=null,De=0;for(T=0;T<=15;T++)ue[T]=0;for(j=0;j<f;j++)ue[u[h+j]]++;for(q=A,U=15;1<=U&&ue[U]===0;U--);if(U<q&&(q=U),U===0)return p[d++]=20971520,p[d++]=20971520,y.bits=1,0;for(R=1;R<U&&ue[R]===0;R++);for(q<R&&(q=R),T=H=1;T<=15;T++)if(H<<=1,(H-=ue[T])<0)return-1;if(0<H&&(c===0||U!==1))return-1;for(Me[1]=0,T=1;T<15;T++)Me[T+1]=Me[T]+ue[T];for(j=0;j<f;j++)u[h+j]!==0&&(m[Me[u[h+j]]++]=j);if(M=c===0?(Z=Fe=m,19):c===1?(Z=r,ie-=257,Fe=a,De-=257,256):(Z=s,Fe=o,-1),T=R,E=d,fe=j=$=0,x=-1,w=(Y=1<<(X=q))-1,c===1&&852<Y||c===2&&592<Y)return 1;for(;;){for(C=T-fe,F=m[j]<M?(I=0,m[j]):m[j]>M?(I=Fe[De+m[j]],Z[ie+m[j]]):(I=96,0),g=1<<T-fe,R=b=1<<X;p[E+($>>fe)+(b-=g)]=C<<24|I<<16|F|0,b!==0;);for(g=1<<T-1;$&g;)g>>=1;if(g!==0?($&=g-1,$+=g):$=0,j++,--ue[T]==0){if(T===U)break;T=u[h+m[j]]}if(q<T&&($&w)!==x){for(fe===0&&(fe=q),E+=R,H=1<<(X=T-fe);X+fe<U&&!((H-=ue[X+fe])<=0);)X++,H<<=1;if(Y+=1<<X,c===1&&852<Y||c===2&&592<Y)return 1;p[x=$&w]=q<<24|X<<16|E-d|0}}return $!==0&&(p[E+$]=T-fe<<24|64<<16|0),y.bits=q,0}},{"../utils/common":41}],51:[function(i,e,t){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,e,t){"use strict";var n=i("../utils/common"),r=0,a=1;function s(J){for(var me=J.length;0<=--me;)J[me]=0}l(s,"n");var o=0,c=29,u=256,h=u+1+c,f=30,p=19,d=2*h+1,m=15,y=16,g=7,b=256,x=16,w=17,E=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=new Array(2*(h+2));s(A);var T=new Array(2*f);s(T);var j=new Array(512);s(j);var R=new Array(256);s(R);var U=new Array(c);s(U);var q,X,fe,H=new Array(f);function Y(J,me,Se,Ie,Ce){this.static_tree=J,this.extra_bits=me,this.extra_base=Se,this.elems=Ie,this.max_length=Ce,this.has_stree=J&&J.length}l(Y,"D");function $(J,me){this.dyn_tree=J,this.max_code=0,this.stat_desc=me}l($,"F");function Z(J){return J<256?j[J]:j[256+(J>>>7)]}l(Z,"N");function ie(J,me){J.pending_buf[J.pending++]=255&me,J.pending_buf[J.pending++]=me>>>8&255}l(ie,"U");function ue(J,me,Se){J.bi_valid>y-Se?(J.bi_buf|=me<<J.bi_valid&65535,ie(J,J.bi_buf),J.bi_buf=me>>y-J.bi_valid,J.bi_valid+=Se-y):(J.bi_buf|=me<<J.bi_valid&65535,J.bi_valid+=Se)}l(ue,"P");function Me(J,me,Se){ue(J,Se[2*me],Se[2*me+1])}l(Me,"L");function Fe(J,me){for(var Se=0;Se|=1&J,J>>>=1,Se<<=1,0<--me;);return Se>>>1}l(Fe,"j");function De(J,me,Se){var Ie,Ce,Xe=new Array(m+1),nt=0;for(Ie=1;Ie<=m;Ie++)Xe[Ie]=nt=nt+Se[Ie-1]<<1;for(Ce=0;Ce<=me;Ce++){var z=J[2*Ce+1];z!==0&&(J[2*Ce]=Fe(Xe[z]++,z))}}l(De,"Z");function Ge(J){var me;for(me=0;me<h;me++)J.dyn_ltree[2*me]=0;for(me=0;me<f;me++)J.dyn_dtree[2*me]=0;for(me=0;me<p;me++)J.bl_tree[2*me]=0;J.dyn_ltree[2*b]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}l(Ge,"W");function ve(J){8<J.bi_valid?ie(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}l(ve,"M");function we(J,me,Se,Ie){var Ce=2*me,Xe=2*Se;return J[Ce]<J[Xe]||J[Ce]===J[Xe]&&Ie[me]<=Ie[Se]}l(we,"H");function He(J,me,Se){for(var Ie=J.heap[Se],Ce=Se<<1;Ce<=J.heap_len&&(Ce<J.heap_len&&we(me,J.heap[Ce+1],J.heap[Ce],J.depth)&&Ce++,!we(me,Ie,J.heap[Ce],J.depth));)J.heap[Se]=J.heap[Ce],Se=Ce,Ce<<=1;J.heap[Se]=Ie}l(He,"G");function Ke(J,me,Se){var Ie,Ce,Xe,nt,z=0;if(J.last_lit!==0)for(;Ie=J.pending_buf[J.d_buf+2*z]<<8|J.pending_buf[J.d_buf+2*z+1],Ce=J.pending_buf[J.l_buf+z],z++,Ie===0?Me(J,Ce,me):(Me(J,(Xe=R[Ce])+u+1,me),(nt=M[Xe])!==0&&ue(J,Ce-=U[Xe],nt),Me(J,Xe=Z(--Ie),Se),(nt=C[Xe])!==0&&ue(J,Ie-=H[Xe],nt)),z<J.last_lit;);Me(J,b,me)}l(Ke,"K");function Ze(J,me){var Se,Ie,Ce,Xe=me.dyn_tree,nt=me.stat_desc.static_tree,z=me.stat_desc.has_stree,B=me.stat_desc.elems,Ae=-1;for(J.heap_len=0,J.heap_max=d,Se=0;Se<B;Se++)Xe[2*Se]!==0?(J.heap[++J.heap_len]=Ae=Se,J.depth[Se]=0):Xe[2*Se+1]=0;for(;J.heap_len<2;)Xe[2*(Ce=J.heap[++J.heap_len]=Ae<2?++Ae:0)]=1,J.depth[Ce]=0,J.opt_len--,z&&(J.static_len-=nt[2*Ce+1]);for(me.max_code=Ae,Se=J.heap_len>>1;1<=Se;Se--)He(J,Xe,Se);for(Ce=B;Se=J.heap[1],J.heap[1]=J.heap[J.heap_len--],He(J,Xe,1),Ie=J.heap[1],J.heap[--J.heap_max]=Se,J.heap[--J.heap_max]=Ie,Xe[2*Ce]=Xe[2*Se]+Xe[2*Ie],J.depth[Ce]=(J.depth[Se]>=J.depth[Ie]?J.depth[Se]:J.depth[Ie])+1,Xe[2*Se+1]=Xe[2*Ie+1]=Ce,J.heap[1]=Ce++,He(J,Xe,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],function(W,L){var P,se,de,O,be,Ue,We=L.dyn_tree,_e=L.max_code,Re=L.stat_desc.static_tree,te=L.stat_desc.has_stree,et=L.stat_desc.extra_bits,oe=L.stat_desc.extra_base,N=L.stat_desc.max_length,le=0;for(O=0;O<=m;O++)W.bl_count[O]=0;for(We[2*W.heap[W.heap_max]+1]=0,P=W.heap_max+1;P<d;P++)N<(O=We[2*We[2*(se=W.heap[P])+1]+1]+1)&&(O=N,le++),We[2*se+1]=O,_e<se||(W.bl_count[O]++,be=0,oe<=se&&(be=et[se-oe]),Ue=We[2*se],W.opt_len+=Ue*(O+be),te&&(W.static_len+=Ue*(Re[2*se+1]+be)));if(le!==0){do{for(O=N-1;W.bl_count[O]===0;)O--;W.bl_count[O]--,W.bl_count[O+1]+=2,W.bl_count[N]--,le-=2}while(0<le);for(O=N;O!==0;O--)for(se=W.bl_count[O];se!==0;)_e<(de=W.heap[--P])||(We[2*de+1]!==O&&(W.opt_len+=(O-We[2*de+1])*We[2*de],We[2*de+1]=O),se--)}}(J,me),De(Xe,Ae,J.bl_count)}l(Ze,"Y");function S(J,me,Se){var Ie,Ce,Xe=-1,nt=me[1],z=0,B=7,Ae=4;for(nt===0&&(B=138,Ae=3),me[2*(Se+1)+1]=65535,Ie=0;Ie<=Se;Ie++)Ce=nt,nt=me[2*(Ie+1)+1],++z<B&&Ce===nt||(z<Ae?J.bl_tree[2*Ce]+=z:Ce!==0?(Ce!==Xe&&J.bl_tree[2*Ce]++,J.bl_tree[2*x]++):z<=10?J.bl_tree[2*w]++:J.bl_tree[2*E]++,Xe=Ce,Ae=(z=0)===nt?(B=138,3):Ce===nt?(B=6,3):(B=7,4))}l(S,"X");function G(J,me,Se){var Ie,Ce,Xe=-1,nt=me[1],z=0,B=7,Ae=4;for(nt===0&&(B=138,Ae=3),Ie=0;Ie<=Se;Ie++)if(Ce=nt,nt=me[2*(Ie+1)+1],!(++z<B&&Ce===nt)){if(z<Ae)for(;Me(J,Ce,J.bl_tree),--z!=0;);else Ce!==0?(Ce!==Xe&&(Me(J,Ce,J.bl_tree),z--),Me(J,x,J.bl_tree),ue(J,z-3,2)):z<=10?(Me(J,w,J.bl_tree),ue(J,z-3,3)):(Me(J,E,J.bl_tree),ue(J,z-11,7));Xe=Ce,Ae=(z=0)===nt?(B=138,3):Ce===nt?(B=6,3):(B=7,4)}}l(G,"V"),s(H);var Q=!1;function K(J,me,Se,Ie){ue(J,(o<<1)+(Ie?1:0),3),function(Ce,Xe,nt,z){ve(Ce),z&&(ie(Ce,nt),ie(Ce,~nt)),n.arraySet(Ce.pending_buf,Ce.window,Xe,nt,Ce.pending),Ce.pending+=nt}(J,me,Se,!0)}l(K,"J"),t._tr_init=function(J){Q||(function(){var me,Se,Ie,Ce,Xe,nt=new Array(m+1);for(Ce=Ie=0;Ce<c-1;Ce++)for(U[Ce]=Ie,me=0;me<1<<M[Ce];me++)R[Ie++]=Ce;for(R[Ie-1]=Ce,Ce=Xe=0;Ce<16;Ce++)for(H[Ce]=Xe,me=0;me<1<<C[Ce];me++)j[Xe++]=Ce;for(Xe>>=7;Ce<f;Ce++)for(H[Ce]=Xe<<7,me=0;me<1<<C[Ce]-7;me++)j[256+Xe++]=Ce;for(Se=0;Se<=m;Se++)nt[Se]=0;for(me=0;me<=143;)A[2*me+1]=8,me++,nt[8]++;for(;me<=255;)A[2*me+1]=9,me++,nt[9]++;for(;me<=279;)A[2*me+1]=7,me++,nt[7]++;for(;me<=287;)A[2*me+1]=8,me++,nt[8]++;for(De(A,h+1,nt),me=0;me<f;me++)T[2*me+1]=5,T[2*me]=Fe(me,5);q=new Y(A,M,u+1,h,m),X=new Y(T,C,0,f,m),fe=new Y(new Array(0),I,0,p,g)}(),Q=!0),J.l_desc=new $(J.dyn_ltree,q),J.d_desc=new $(J.dyn_dtree,X),J.bl_desc=new $(J.bl_tree,fe),J.bi_buf=0,J.bi_valid=0,Ge(J)},t._tr_stored_block=K,t._tr_flush_block=function(J,me,Se,Ie){var Ce,Xe,nt=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=function(z){var B,Ae=4093624447;for(B=0;B<=31;B++,Ae>>>=1)if(1&Ae&&z.dyn_ltree[2*B]!==0)return r;if(z.dyn_ltree[18]!==0||z.dyn_ltree[20]!==0||z.dyn_ltree[26]!==0)return a;for(B=32;B<u;B++)if(z.dyn_ltree[2*B]!==0)return a;return r}(J)),Ze(J,J.l_desc),Ze(J,J.d_desc),nt=function(z){var B;for(S(z,z.dyn_ltree,z.l_desc.max_code),S(z,z.dyn_dtree,z.d_desc.max_code),Ze(z,z.bl_desc),B=p-1;3<=B&&z.bl_tree[2*F[B]+1]===0;B--);return z.opt_len+=3*(B+1)+5+5+4,B}(J),Ce=J.opt_len+3+7>>>3,(Xe=J.static_len+3+7>>>3)<=Ce&&(Ce=Xe)):Ce=Xe=Se+5,Se+4<=Ce&&me!==-1?K(J,me,Se,Ie):J.strategy===4||Xe===Ce?(ue(J,2+(Ie?1:0),3),Ke(J,A,T)):(ue(J,4+(Ie?1:0),3),function(z,B,Ae,W){var L;for(ue(z,B-257,5),ue(z,Ae-1,5),ue(z,W-4,4),L=0;L<W;L++)ue(z,z.bl_tree[2*F[L]+1],3);G(z,z.dyn_ltree,B-1),G(z,z.dyn_dtree,Ae-1)}(J,J.l_desc.max_code+1,J.d_desc.max_code+1,nt+1),Ke(J,J.dyn_ltree,J.dyn_dtree)),Ge(J),Ie&&ve(J)},t._tr_tally=function(J,me,Se){return J.pending_buf[J.d_buf+2*J.last_lit]=me>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&me,J.pending_buf[J.l_buf+J.last_lit]=255&Se,J.last_lit++,me===0?J.dyn_ltree[2*Se]++:(J.matches++,me--,J.dyn_ltree[2*(R[Se]+u+1)]++,J.dyn_dtree[2*Z(me)]++),J.last_lit===J.lit_bufsize-1},t._tr_align=function(J){ue(J,2,3),Me(J,b,A),function(me){me.bi_valid===16?(ie(me,me.bi_buf),me.bi_buf=0,me.bi_valid=0):8<=me.bi_valid&&(me.pending_buf[me.pending++]=255&me.bi_buf,me.bi_buf>>=8,me.bi_valid-=8)}(J)}},{"../utils/common":41}],53:[function(i,e,t){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,e,t){(function(n){(function(r,a){"use strict";if(!r.setImmediate){var s,o,c,u,h=1,f={},p=!1,d=r.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(r);m=m&&m.setTimeout?m:r,s={}.toString.call(r.process)==="[object process]"?function(x){process.nextTick(function(){g(x)})}:function(){if(r.postMessage&&!r.importScripts){var x=!0,w=r.onmessage;return r.onmessage=function(){x=!1},r.postMessage("","*"),r.onmessage=w,x}}()?(u="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",b,!1):r.attachEvent("onmessage",b),function(x){r.postMessage(u+x,"*")}):r.MessageChannel?((c=new MessageChannel).port1.onmessage=function(x){g(x.data)},function(x){c.port2.postMessage(x)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,function(x){var w=d.createElement("script");w.onreadystatechange=function(){g(x),w.onreadystatechange=null,o.removeChild(w),w=null},o.appendChild(w)}):function(x){setTimeout(g,0,x)},m.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var w=new Array(arguments.length-1),E=0;E<w.length;E++)w[E]=arguments[E+1];var M={callback:x,args:w};return f[h]=M,s(h),h++},m.clearImmediate=y}function y(x){delete f[x]}l(y,"f");function g(x){if(p)setTimeout(g,0,x);else{var w=f[x];if(w){p=!0;try{(function(E){var M=E.callback,C=E.args;switch(C.length){case 0:M();break;case 1:M(C[0]);break;case 2:M(C[0],C[1]);break;case 3:M(C[0],C[1],C[2]);break;default:M.apply(a,C)}})(w)}finally{y(x),p=!1}}}}l(g,"c");function b(x){x.source===r&&typeof x.data=="string"&&x.data.indexOf(u)===0&&g(+x.data.slice(u.length))}l(b,"d")})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});ne();ae();re();var GQ=Mn(vB()),rM=Mn(VZ());s0();var WQ=Mn(aa()),jQ=Mn(IQ()),$Q=Mn(UQ());ns();ne();ae();re();var wu=class i{static{l(this,"Controller")}constructor(e,t,n,r,a="div"){this.parent=e,this.object=t,this.property=n,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(r),this.$name=document.createElement("div"),this.$name.classList.add("name"),i.nextNameID=i.nextNameID||0,this.$name.id=`lil-gui-name-${++i.nextNameID}`,this.$widget=document.createElement(a),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.domElement.addEventListener("keydown",s=>s.stopPropagation()),this.domElement.addEventListener("keyup",s=>s.stopPropagation()),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(n)}name(e){return this._name=e,this.$name.innerHTML=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled?this:(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e),this)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(e){let t=this.parent.add(this.object,this.property,e);return t.name(this._name),this.destroy(),t}min(e){return this}max(e){return this}step(e){return this}decimals(e){return this}listen(e=!0){return this._listening=e,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);let e=this.save();e!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=e}getValue(){return this.object[this.property]}setValue(e){return this.object[this.property]=e,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}},g6=class extends wu{static{l(this,"BooleanController")}constructor(e,t,n){super(e,t,n,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}};function b6(i){let e,t;return(e=i.match(/(#|0x)?([a-f0-9]{6})/i))?t=e[2]:(e=i.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?t=parseInt(e[1]).toString(16).padStart(2,0)+parseInt(e[2]).toString(16).padStart(2,0)+parseInt(e[3]).toString(16).padStart(2,0):(e=i.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(t=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),t?"#"+t:!1}l(b6,"normalizeColorString");var RIe={isPrimitive:!0,match:i=>typeof i=="string",fromHexString:b6,toHexString:b6},M1={isPrimitive:!0,match:i=>typeof i=="number",fromHexString:i=>parseInt(i.substring(1),16),toHexString:i=>"#"+i.toString(16).padStart(6,0)},PIe={isPrimitive:!1,match:i=>Array.isArray(i),fromHexString(i,e,t=1){let n=M1.fromHexString(i);e[0]=(n>>16&255)/255*t,e[1]=(n>>8&255)/255*t,e[2]=(n&255)/255*t},toHexString([i,e,t],n=1){n=255/n;let r=i*n<<16^e*n<<8^t*n<<0;return M1.toHexString(r)}},IIe={isPrimitive:!1,match:i=>Object(i)===i,fromHexString(i,e,t=1){let n=M1.fromHexString(i);e.r=(n>>16&255)/255*t,e.g=(n>>8&255)/255*t,e.b=(n&255)/255*t},toHexString({r:i,g:e,b:t},n=1){n=255/n;let r=i*n<<16^e*n<<8^t*n<<0;return M1.toHexString(r)}},CIe=[RIe,M1,PIe,IIe];function LIe(i){return CIe.find(e=>e.match(i))}l(LIe,"getColorFormat");var y6=class extends wu{static{l(this,"ColorController")}constructor(e,t,n,r){super(e,t,n,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=LIe(this.initialValue),this._rgbScale=r,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{let a=b6(this.$text.value);a&&this._setValueFromHexString(a)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(e){if(this._format.isPrimitive){let t=this._format.fromHexString(e);this.setValue(t)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}},E1=class extends wu{static{l(this,"FunctionController")}constructor(e,t,n){super(e,t,n,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",r=>{r.preventDefault(),this.getValue().call(this.object),this._callOnChange()}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}},v6=class extends wu{static{l(this,"NumberController")}constructor(e,t,n,r,a,s){super(e,t,n,"number"),this._initInput(),this.min(r),this.max(a);let o=s!==void 0;this.step(o?s:this._getImplicitStep(),o),this.updateDisplay()}decimals(e){return this._decimals=e,this.updateDisplay(),this}min(e){return this._min=e,this._onUpdateMinMax(),this}max(e){return this._max=e,this._onUpdateMinMax(),this}step(e,t=!0){return this._step=e,this._stepExplicit=t,this}updateDisplay(){let e=this.getValue();if(this._hasSlider){let t=(e-this._min)/(this._max-this._min);t=Math.max(0,Math.min(t,1)),this.$fill.style.width=t*100+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?e:e.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),window.matchMedia("(pointer: coarse)").matches&&(this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any")),this.$widget.appendChild(this.$input),this.$disable=this.$input;let t=l(()=>{let x=parseFloat(this.$input.value);isNaN(x)||(this._stepExplicit&&(x=this._snap(x)),this.setValue(this._clamp(x)))},"onInput"),n=l(x=>{let w=parseFloat(this.$input.value);isNaN(w)||(this._snapClampSetValue(w+x),this.$input.value=this.getValue())},"increment"),r=l(x=>{x.key==="Enter"&&this.$input.blur(),x.code==="ArrowUp"&&(x.preventDefault(),n(this._step*this._arrowKeyMultiplier(x))),x.code==="ArrowDown"&&(x.preventDefault(),n(this._step*this._arrowKeyMultiplier(x)*-1))},"onKeyDown"),a=l(x=>{this._inputFocused&&(x.preventDefault(),n(this._step*this._normalizeMouseWheel(x)))},"onWheel"),s=!1,o,c,u,h,f,p=5,d=l(x=>{o=x.clientX,c=u=x.clientY,s=!0,h=this.getValue(),f=0,window.addEventListener("mousemove",m),window.addEventListener("mouseup",y)},"onMouseDown"),m=l(x=>{if(s){let w=x.clientX-o,E=x.clientY-c;Math.abs(E)>p?(x.preventDefault(),this.$input.blur(),s=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(w)>p&&y()}if(!s){let w=x.clientY-u;f-=w*this._step*this._arrowKeyMultiplier(x),h+f>this._max?f=this._max-h:h+f<this._min&&(f=this._min-h),this._snapClampSetValue(h+f)}u=x.clientY},"onMouseMove"),y=l(()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",y)},"onMouseUp"),g=l(()=>{this._inputFocused=!0},"onFocus"),b=l(()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()},"onBlur");this.$input.addEventListener("input",t),this.$input.addEventListener("keydown",r),this.$input.addEventListener("wheel",a,{passive:!1}),this.$input.addEventListener("mousedown",d),this.$input.addEventListener("focus",g),this.$input.addEventListener("blur",b)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");let e=l((b,x,w,E,M)=>(b-x)/(w-x)*(M-E)+E,"map"),t=l(b=>{let x=this.$slider.getBoundingClientRect(),w=e(b,x.left,x.right,this._min,this._max);this._snapClampSetValue(w)},"setValueFromX"),n=l(b=>{this._setDraggingStyle(!0),t(b.clientX),window.addEventListener("mousemove",r),window.addEventListener("mouseup",a)},"mouseDown"),r=l(b=>{t(b.clientX)},"mouseMove"),a=l(()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",a)},"mouseUp"),s=!1,o,c,u=l(b=>{b.preventDefault(),this._setDraggingStyle(!0),t(b.touches[0].clientX),s=!1},"beginTouchDrag"),h=l(b=>{b.touches.length>1||(this._hasScrollBar?(o=b.touches[0].clientX,c=b.touches[0].clientY,s=!0):u(b),window.addEventListener("touchmove",f,{passive:!1}),window.addEventListener("touchend",p))},"onTouchStart"),f=l(b=>{if(s){let x=b.touches[0].clientX-o,w=b.touches[0].clientY-c;Math.abs(x)>Math.abs(w)?u(b):(window.removeEventListener("touchmove",f),window.removeEventListener("touchend",p))}else b.preventDefault(),t(b.touches[0].clientX)},"onTouchMove"),p=l(()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",f),window.removeEventListener("touchend",p)},"onTouchEnd"),d=this._callOnFinishChange.bind(this),m=400,y,g=l(b=>{if(Math.abs(b.deltaX)<Math.abs(b.deltaY)&&this._hasScrollBar)return;b.preventDefault();let w=this._normalizeMouseWheel(b)*this._step;this._snapClampSetValue(this.getValue()+w),this.$input.value=this.getValue(),clearTimeout(y),y=setTimeout(d,m)},"onWheel");this.$slider.addEventListener("mousedown",n),this.$slider.addEventListener("touchstart",h,{passive:!1}),this.$slider.addEventListener("wheel",g,{passive:!1})}_setDraggingStyle(e,t="horizontal"){this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle(`lil-gui-${t}`,e)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(e){let{deltaX:t,deltaY:n}=e;return Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(t=0,n=-e.wheelDelta/120,n*=this._stepExplicit?1:10),t+-n}_arrowKeyMultiplier(e){let t=this._stepExplicit?1:10;return e.shiftKey?t*=10:e.altKey&&(t/=10),t}_snap(e){let t=Math.round(e/this._step)*this._step;return parseFloat(t.toPrecision(15))}_clamp(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}_snapClampSetValue(e){this.setValue(this._clamp(this._snap(e)))}get _hasScrollBar(){let e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}},w6=class extends wu{static{l(this,"OptionController")}constructor(e,t,n,r){super(e,t,n,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(r)?r:Object.values(r),this._names=Array.isArray(r)?r:Object.keys(r),this._names.forEach(a=>{let s=document.createElement("option");s.innerHTML=a,this.$select.appendChild(s)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){let e=this.getValue(),t=this._values.indexOf(e);return this.$select.selectedIndex=t,this.$display.innerHTML=t===-1?e:this._names[t],this}},x6=class extends wu{static{l(this,"StringController")}constructor(e,t,n){super(e,t,n,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",r=>{r.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}},NIe=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  background-color: var(--background-color);
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean .widget {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "\u2195";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background-color: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background-color: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background-color: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  height: var(--title-height);
  line-height: calc(var(--title-height) - 4px);
  font-weight: 600;
  padding: 0 var(--padding);
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;
  outline: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "\u25BE";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "\u25B8";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui input {
  -webkit-tap-highlight-color: transparent;
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input::-webkit-outer-spin-button,
.lil-gui input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.lil-gui input[type=number] {
  -moz-appearance: textfield;
}
.lil-gui input[type=checkbox] {
  appearance: none;
  -webkit-appearance: none;
  height: var(--checkbox-size);
  width: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "\u2713";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  -webkit-tap-highlight-color: transparent;
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  border: 1px solid var(--widget-color);
  text-align: center;
  line-height: calc(var(--widget-height) - 4px);
}
@media (hover: hover) {
  .lil-gui button:hover {
    background: var(--hover-color);
    border-color: var(--hover-color);
  }
  .lil-gui button:focus {
    border-color: var(--focus-color);
  }
}
.lil-gui button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function OIe(i){let e=document.createElement("style");e.innerHTML=i;let t=document.querySelector("head link[rel=stylesheet], head style");t?document.head.insertBefore(e,t):document.head.appendChild(e)}l(OIe,"_injectStyles");var zQ=!1,nM=class i{static{l(this,"GUI")}constructor({parent:e,autoPlace:t=e===void 0,container:n,width:r,title:a="Controls",closeFolders:s=!1,injectStyles:o=!0,touchStyles:c=!0}={}){if(this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",u=>{(u.code==="Enter"||u.code==="Space")&&(u.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(a),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),c&&this.domElement.classList.add("allow-touch-styles"),!zQ&&o&&(OIe(NIe),zQ=!0),n?n.appendChild(this.domElement):t&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),r&&this.domElement.style.setProperty("--width",r+"px"),this._closeFolders=s}add(e,t,n,r,a){if(Object(n)===n)return new w6(this,e,t,n);let s=e[t];switch(typeof s){case"number":return new v6(this,e,t,n,r,a);case"boolean":return new g6(this,e,t);case"string":return new x6(this,e,t);case"function":return new E1(this,e,t)}console.error(`gui.add failed
	property:`,t,`
	object:`,e,`
	value:`,s)}addColor(e,t,n=1){return new y6(this,e,t,n)}addFolder(e){let t=new i({parent:this,title:e});return this.root._closeFolders&&t.close(),t}load(e,t=!0){return e.controllers&&this.controllers.forEach(n=>{n instanceof E1||n._name in e.controllers&&n.load(e.controllers[n._name])}),t&&e.folders&&this.folders.forEach(n=>{n._title in e.folders&&n.load(e.folders[n._title])}),this}save(e=!0){let t={controllers:{},folders:{}};return this.controllers.forEach(n=>{if(!(n instanceof E1)){if(n._name in t.controllers)throw new Error(`Cannot save GUI with duplicate property "${n._name}"`);t.controllers[n._name]=n.save()}}),e&&this.folders.forEach(n=>{if(n._title in t.folders)throw new Error(`Cannot save GUI with duplicate folder "${n._title}"`);t.folders[n._title]=n.save()}),t}open(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}_setClosed(e){this._closed!==e&&(this._closed=e,this._callOnOpenClose(this))}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{let t=this.$children.clientHeight;this.$children.style.height=t+"px",this.domElement.classList.add("transition");let n=l(a=>{a.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",n))},"onTransitionEnd");this.$children.addEventListener("transitionend",n);let r=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame(()=>{this.$children.style.height=r+"px"})}),this}title(e){return this._title=e,this.$title.innerHTML=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach(n=>n.reset()),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),this._onChange!==void 0&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onOpenClose(e){return this._onOpenClose=e,this}_callOnOpenClose(e){this.parent&&this.parent._callOnOpenClose(e),this._onOpenClose!==void 0&&this._onOpenClose.call(this,e)}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(e=>e.destroy())}controllersRecursive(){let e=Array.from(this.controllers);return this.folders.forEach(t=>{e=e.concat(t.controllersRecursive())}),e}foldersRecursive(){let e=Array.from(this.folders);return this.folders.forEach(t=>{e=e.concat(t.foldersRecursive())}),e}};var XQ=Mn(LS());D2();var YQ=Mn(VQ());KC();var ZQ=Mn(tE());aZ();globalThis.THREE=a0;var Wr=new nM,Pi={skip:"",version:globalThis.includedVersions.sort((i,e)=>{let t=l(n=>{let r=n.split(".");return+r[0]+ +r[1]},"s");return t(i)-t(e)}).at(-1),block:"",metadata:0,supportBlock:!1,entity:"",removeEntity(){this.entity=""},entityRotate:!1,camera:"",playSound(){},blockIsomorphicRenderBundle(){}},BIe=new URLSearchParams(window.location.search);BIe.forEach((i,e)=>{let t=i.match(/^-?\d+$/)?parseInt(i):i==="true"?!0:i==="false"?!1:i;Pi[e]=t});var qQ=l(()=>{let i=new URLSearchParams;for(let[e,t]of Object.entries(Pi))!t||typeof t=="function"||Pi.skip.includes(e)||i.set(e,t);window.history.replaceState({},"",`${window.location.pathname}?${i}`)},"setQs"),HQ=!1;async function FIe(){let i=!1,{version:e}=Pi,t=window.mcData;if(!t.version){let q=(0,XQ.toMajor)(e),X=`mcData-${q}`;if(sessionStorage[X])Object.assign(t,JSON.parse(sessionStorage[X]));else{sessionStorage.length>1&&sessionStorage.clear(),await gR(`./mc-data/${q}.js`);try{sessionStorage[X]=JSON.stringify(Object.fromEntries(Object.entries(t).filter(([fe])=>fe.startsWith(q))))}catch{}}}let n=HS()(e);window.loadedData=n,Wr.add(Pi,"version",globalThis.includedVersions),Wr.add(Pi,"block",n.blocksArray.map(q=>q.name).sort((q,X)=>q.localeCompare(X)));let r=Wr.add(Pi,"metadata");Wr.add(Pi,"supportBlock"),Wr.add(Pi,"entity",n.entitiesArray.map(q=>q.name).sort((q,X)=>q.localeCompare(X))).listen(),Wr.add(Pi,"removeEntity"),Wr.add(Pi,"entityRotate"),Wr.add(Pi,"skip"),Wr.add(Pi,"playSound"),Wr.add(Pi,"blockIsomorphicRenderBundle"),Wr.open(!1);let a=Wr.addFolder("metadata"),s=(0,jQ.default)(e),o=(0,WQ.default)(e),c=0,u=new ir(2,90,2),h=(0,$Q.default)(e),f=new s,p=new s;f.setBlockStateId(u,34),p.setBlockStateId(u.offset(1,0,0),34);let d=new h((q,X)=>new s),m=new rM.WorldDataEmitter(d,c,u),y=new Vd({alpha:!0,...localStorage.renderer});y.setPixelRatio(window.devicePixelRatio||1),y.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(y.domElement);let g=new rM.Viewer(y,1);g.entities.setDebugMode("basic"),g.setVersion(e),g.entities.onSkinUpdate=()=>{g.update(),g.render()},g.listen(m),await m.init(u),window.worldView=m,window.viewer=g,Pi.blockIsomorphicRenderBundle=()=>{let q=y.domElement,X=!confirm("Ok - render all blocks, Cancel - render only current one"),fe=prompt("Size","512");if(!fe)return;let H=parseInt(fe);HQ=!0,q.width=H,q.height=H,y.setSize(H,H),g.camera=new io(-1,1,1,-1,0,10),g.scene.background=null;let Y=il.degToRad(-120);g.directionalLight.position.set(Math.cos(Y),Math.sin(Y),.2).normalize(),g.directionalLight.intensity=1;let $=u.offset(2,2,2),Z=il.degToRad(-30),ie=il.degToRad(45);g.camera.rotation.set(Z,ie,0,"ZYX"),g.camera.position.set($.x+1,$.y+.5,$.z+1);let ue=n.blocksArray.map(Ke=>Ke.name),Me=1,Fe=ue[0],De=l(()=>{Pi.block=Fe,A.block(),T(!1,!0)},"updateBlock");g.waitForChunksToRender().then(async()=>{await new Promise(Ke=>{setTimeout(Ke,0)}),X?(g.render(),we()):(g.world.renderUpdateEmitter.addListener("update",we),De())});let Ge=new YQ.default;Ge.file("description.txt","Generated with prismarine-viewer");let ve=l(async()=>{let Ke=document.createElement("a"),Ze=await Ge.generateAsync({type:"blob"}),S=URL.createObjectURL(Ze);Ke.href=S,Ke.download="blocks_render.zip",Ke.click(),URL.revokeObjectURL(S),console.log("end"),g.world.renderUpdateEmitter.removeListener("update",we)},"end");async function we(){let Ke=q.toDataURL("image/png");Ge.file(`${Fe}.png`,Ke.split(",")[1],{base64:!0}),X?ve():He()}l(we,"onWorldUpdate");let He=l(async()=>{Fe=ue[Me++],console.log(ue.length,"/",Me,Fe),Me%5===0&&await new Promise(Ke=>{setTimeout(Ke,100)}),Fe?De():ve()},"nextBlock")};let b=new JS(g.camera,y.domElement);b.target.set(u.x+.5,u.y+.5,u.z+.5);let x=u.offset(2,2,2),w=il.degToRad(-45),E=il.degToRad(45);g.camera.rotation.set(w,E,0,"ZYX"),g.camera.lookAt(u.x+.5,u.y+.5,u.z+.5),g.camera.position.set(x.x+.5,x.y+.5,x.z+.5),b.update();let M={},C={},I=l(()=>n.blocksByName[Pi.block||"air"],"getBlock"),F=l(()=>{if(g.entities.clear(),!Pi.entity)return;m.emit("entity",{id:"id",name:Pi.entity,pos:u.offset(.5,1,.5),width:1,height:1,username:localStorage.testUsername,yaw:Math.PI,pitch:0});let q=l(X=>{let{children:fe,isSkeletonHelper:H}=X;if(Array.isArray(fe)){if(H){X.visible=!0;return}for(let Y of fe)typeof Y=="object"&&q(Y)}},"enableSkeletonDebug");q(g.entities.entities.id),setTimeout(()=>{g.update(),g.render()},iE)},"entityUpdateShared"),A={block(){a.destroy();let q=n.blocksByName[Pi.block];if(!q)return;let X=new o(q.id,0,0).getProperties(),{states:fe}=n.blocksByStateId[I()?.minStateId]??{};if(a=Wr.addFolder("metadata"),fe)for(let H of fe){let Y;switch(H.type){case"enum":Y=H.values[0];break;case"bool":Y=!1;break;case"int":Y=0;break;case"direction":Y="north";break;default:continue}M[H.name]=Y,H.type==="enum"?a.add(M,H.name,H.values):a.add(M,H.name)}else for(let[H,Y]of Object.entries(X))M[H]=Y,a.add(M,H);a.open()},entity(){i=Pi.entity==="player",F(),Pi.entity&&(Pi.entity==="player"&&(g.entities.updatePlayerSkin("id",g.entities.entities.id.username,!0,!0),g.entities.playAnimation("id","running")),ZQ.default.getStaticData(Pi.entity))},supportBlock(){g.setBlockStateId(u.offset(0,-1,0),Pi.supportBlock?1:0)}},T=l((q=!1,X=!1)=>{let fe=I()?.id,H;if(q){H=new o(fe,0,Pi.metadata),Object.assign(M,H.getProperties());for(let Y of a.children)Y.updateDisplay()}else try{H=o.fromProperties(fe??-1,M,0)}catch(Y){console.error(Y),H=o.fromStateId(0,0)}g.setBlockStateId(u,H.stateId),console.log("up stateId",H.stateId),Pi.metadata=H.metadata,r.updateDisplay(),X||qQ()},"applyChanges");Wr.onChange(({property:q,object:X})=>{if(X===Pi){if(q==="camera")return;A[q]?.(),T(q==="metadata")}else T()}),g.waitForChunksToRender().then(async()=>{await new Promise(q=>{setTimeout(q,0)});for(let q of Object.values(A))q();T(!0),Wr.openAnimated()});let j=l(()=>{g.update(),g.render()},"animate");if(g.world.renderUpdateEmitter.addListener("update",()=>{j()}),j(),Pi.camera){let[q,X]=Pi.camera.split(",");g.camera.rotation.set(parseFloat(q),parseFloat(X),0,"ZYX"),b.update(),console.log(g.camera.rotation.x,parseFloat(q))}let R=GQ.default.throttle(()=>{let{camera:q}=g;qQ()},200);b.addEventListener("change",()=>{R(),j()});let U=l(()=>{i&&j(),requestAnimationFrame(U)},"continuousUpdate");U(),window.onresize=()=>{if(HQ)return;let{camera:q}=g;g.camera.aspect=window.innerWidth/window.innerHeight,g.camera.updateProjectionMatrix(),y.setSize(window.innerWidth,window.innerHeight),j()},window.dispatchEvent(new Event("resize")),Pi.playSound=()=>{g.playSound(u,"button_click.mp3")},addEventListener("keydown",q=>{q.code==="KeyE"&&Pi.playSound()},{capture:!0})}l(FIe,"main");FIe();})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

three/build/three.module.js:
  (**
   * @license
   * Copyright 2010-2023 Three.js Authors
   * SPDX-License-Identifier: MIT
   *)

three/build/three.cjs:
  (**
   * @license
   * Copyright 2010-2023 Three.js Authors
   * SPDX-License-Identifier: MIT
   *)

@jspm/core/nodelibs/browser/chunk-44e51b61.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/assert.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)

lil-gui/dist/lil-gui.esm.js:
  (**
   * lil-gui
   * https://lil-gui.georgealways.com
   * @version 0.18.2
   * @author George Michael Brower
   * @license MIT
   *)
*/
